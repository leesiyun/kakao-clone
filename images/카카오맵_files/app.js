var main=function(A){function ac(a,b,c,d,e,f,g,j,l,m,k,v,o,r,x,q,s,u,w,C,h,I,R,n,G,E,K,Z,na,Da,xa,aa,t,z,y,ua,N,T,B,$,F,D){if(!(this instanceof arguments.callee))return new arguments.callee;Application=this;this.fixTitleBug();this.layerProfileController=z;this.layerProfileEditController=B;this.authController=f;this.windowController=l;this.airMapTileController=aa;this.historyController=t;this.profileController=y;y.loadInfo();l.onClickAdBanner.add(function(){});this.issueMapController=R;this.relatedAddressController=
Da;this.whatsHereController=xa;this.shareController=N;this.logHistory=K;this.walkthroughController=$;this.coachmarkController=F;this.mapControlView=D;this.coachmarkController.regist();this.walkthroughController.show(a.isMapUser,a.isLogin);if(A.t_address)jQuery(".reportError .tit_addr, #info\\.location\\.approxAddr, .MapControlView .accessLocation").on("click",function(a){a.preventDefault();p.click("control","move_access_position");this.map.setCenter(new daum.maps.Coords(String.base92(A.t_mapx),String.base92(A.t_mapy)))}.bind(this));
var W=A.t_regionid||"I10230700";require("server").weatherDetail({lcode:W},function(a){var b=a.object("result.delegateRegionWeather");if(b){var a=jQuery("#info\\.location\\.weather"),c=b.text("region.regionName2")+" "+b.text("region.regionName3"),d=b.text("shortTermForecast.weatherDescription"),e=b.text("shortTermForecast.temperature"),f=b.number("shortTermForecast.temperatureComparedToYesterday").toFixed(0),b=b.number("airPollution.fineDust.now.code"),g=" \uc88b\uc74c \ubcf4\ud1b5  \ub098\uc068 \ub9e4\uc6b0\ub098\uc068".split(" "),
j="\uc5b4\uc81c\uc640 \uac19\uc544\uc694";0<f?j="\uc5b4\uc81c\ubcf4\ub2e4 "+f+"\u2103 \ub192\uc544\uc694":0>f&&(j="\uc5b4\uc81c\ubcf4\ub2e4 "+-1*f+"\u2103 \ub0ae\uc544\uc694");b=5<b?0:b;a.find(".txt_air").text(d).end().find(".temper").text(Number(e).toFixed(0)+"\u02da").end().find(".txt_change").text(j).end().find(".txt_state").text(g[b]).addClass(" density1 density2  density3 density4".split(" ")[b]);jQuery("#info\\.location\\.approxAddr").text(c);g[b]||a.find(".txt_dust").hide().prev().hide();a.show()}});
var Ga=jQuery(".dimmed_snb");jQuery("#header .btn_menu").on("click",function(){p.click("snb","open");Ga.addClass("snb-ACTIVE").find(".options").removeClass("option-OPEN");require("log/Tiara").log("/fake/snb")});var Oa=function(){p.click("snb","close");Ga.removeClass("snb-ACTIVE")};Ga.on("click",function(a){jQuery.contains(Ga.get(0),a.target)||Oa()}).find(".btn_close").on("click",Oa);this.weatherWindowController=d;this.infoWindowManager=e;W=ac.fetchMapOption_(j);this.mainMapController=g;this.map=I;
c.onMapResize.add(function(){I.relayout()});this.localInfoController=m;this.busLineController=k;this.flagSearchController=v;this.keywordSearchController=o;this.carRouteSearchController=C;this.transitRouteSearchController=h;this.subwaySearchController=r;this.busSearchController=x;this.aoiManager=Z;this.flagController=n;this.flagController.onChange.add(function(){this.flagSearchController.setActive(!0)},this);this.flagController.onAdd.add(function(){this.flagSearchController.setActive(!0)},this);this.flagController.setCollapseToggleEvent();
this.localPlatformAdController_=E;this.roadviewController=q;o.onActive.add(function(){o.getActive()&&(v.setActive(!1),r.setActive(!1),w.setActive(!1),w.closeOtherPage(),x.setActive(!1),k.setActive(!1),Z.getController(Z.KEY.FLAG).hide(),Z.getController(Z.KEY.SEARCH).show(),q.close(),q.removeLastMarker(),n.show(!1),ua.hide(),E.show())});v.onActive.add(function(a){v.getActive()&&(o.setActive(!1),r.setActive(!1),w.setActive(!1),w.closeOtherPage(),x.setActive(!1),k.setActive(!1),Z.getController(Z.KEY.SEARCH).hide(),
Z.getController(Z.KEY.FLAG).show(),a||q.close(),e.close(),q.removeLastMarker(),n.show(!l.getCollapse()),E.hide())});x.onActive.add(function(){x.getActive()&&(o.setActive(!1),v.setActive(!1),r.setActive(!1),w.setActive(!1),w.closeOtherPage(),k.setActive(!1),Z.hideAll(),q.close(),q.removeLastMarker(),e.close(),n.show(!1),ua.hide(),E.hide(),setTimeout("document.body.className=document.body.className",0))});r.onActive.add(function(){r.getActive()&&(o.setActive(!1),v.setActive(!1),w.setActive(!1),w.closeOtherPage(),
x.setActive(!1),k.setActive(!1),n.hide(),E.hide(),ua.hide())});w.onActive.add(function(){w.getActive()&&(o.setActive(!1),v.setActive(!1),x.setActive(!1),r.setActive(!1),k.setActive(!1),Z.hideAll(),q.close(),q.removeLastMarker(),e.close(),n.show(!1),E.hide(),ua.hide())});o.setActive(!0);this.homeInfoController=s;this.fiyFrameController=u;this.favoriteController=w;this.readRestParams_(j,W.center);this.prefixKeyword="";A.QUERY&&o.setKeyword(QUERY);setTimeout('document.body.className+=" FIXIE"',0);"ontouchstart"in
document||jQuery("body").addClass("NOTOUCH")}function Ub(a,b){if(!a)return[];if("string"==typeof a)return a.split(RegExp());try{return Array.prototype.slice.call(a,b||0)}catch(c){}for(var d=[],e=a.length,f=b||0;f<e;++f)d[f]=a[f];return d}function La(a){var b=Ub(arguments,1);return function(){return a.apply(this,b.concat(Ub(arguments)))}}function fa(a,b){var c=b.prototype;Object.keys(c).forEach(function(b){b in a||(a[b]=c[b])});b.apply(a,Ub(arguments,2))}function H(a){function b(b){return a.apply(this,
b)}b.prototype=a.prototype;return function(){return new b(arguments)}}function Pb(a){this.map_=a;this.onTimestamp=new n}function Hc(a,b,c,d,e,f,g){function j(a){c.set("air",!1);g.getState()&&g.turnOff();if(a){var b=a;"wea"==b&&(b="temp");require("log/Tiara").log("/fake/weather_"+b);k=a;"wea"==a?(g.setRegionCode(e.getCode()),g.click(),d.getLegend("air")&&d.setLegend("air",!1)):(a=Hc.AIRTYPE.indexOf(a)+1||1,(m=Hc.AIRTILES[a-1]+"/T"+l)&&c.set("air",!0),d.setAirCate(a),d.setairdate(),d.setLegend("air",
!0))}else d.getLegend("air")&&d.setLegend("air",!1)}var l=1<A.devicePixelRatio&&"https:"!=A.location.protocol?",H":"";g.setLocalInfoCont(e);g.onCode.add(f.request,f);g.off.add(f.closeWindow,f);var m="";daum.maps.MapTypeId.AIR||daum.maps.Tileset.add("AIR",new daum.maps.Tileset(256,256,function(a,b,c){return require("url").TILE_AIR_INFO+"/mapserver/file/"+m+"/L"+c+"/"+b+"/"+a+".png"},[],!0));c.setId("air",daum.maps.MapTypeId.AIR);new daum.maps.Coords(685487,813958);var k="wea";this.setActive=function(a){a&&
k?j(k):j("")};this.setAirType=function(a){j(a)};this.getAirType=function(){return k};this.setNoJump=function(){};this.getAirTileName=function(){return m}}function ka(a,b,c,d,e){this.map_=a;this.roadviewController_=b;this.Aoi_=c;this.aoiManager_=d;this.miniTooltipManager_=e;this.isBounds_=!1;this.delayAfterLoad=xb(500,function(){this.doAfterLoad_&&(this.doAfterLoad_(),this.doAfterLoad_=null)}.bind(this));this.selectedItem_=null;this.initModel_();this.HIGHLIGHT_LINE_OPTION={strokeWeight:10,strokeColor:"#F267B2",
strokeOpacity:1,highlight:!0};this.DIMMED_LINE_OPTION={strokeColor:"#F267B2",strokeWeight:10,strokeOpacity:0.5,highlight:!1};this.mousedownSearchResult=null;this.onIdle=function(){this.redrawLines();this.setAllMarker()}.bind(this);this.onAoiMousedown=new n;this.onClear=new n;this.onFind=new n}function Kd(a){function b(a){a=a.coords;l[l.length-1]=a;d();k.setPosition(a)}function c(b){j.$("info").addClass("HIDDEN");j.$("hider").on("click",function(){j.remove()});k=new daum.maps.Billboard({position:b,
xAnchor:0,yAnchor:0,zIndex:4,content:j.get(0),map:a});m.push(k)}function d(){v.setPath(l);var a=v.getArea(),b=1E6<=a;b&&(a*=1.0E-6);j.$("area").text(e(a));j.$("unit").html((b?"k":"")+"m<sup>2</sup>")}function e(a){var b,a=a.toFixed(2);b=Math.round(100*(a%1))/100;b=1E4>a&&b?b.toString().substr(1):"";return String.formatNumber(parseInt(a))+b}function f(b){var c=jQuery("<a class=AreaToolCloser href=# />");c.on("mousedown click",function(a){"click"==a.type&&r();a.stopPropagation()});m.push(new daum.maps.Billboard({position:b,
xAnchor:0,zIndex:4,content:c.get(0),map:a}))}var g=this.onClose=new n,j=F("AreaToolDetail"),l=[],m=[],k=null,v=null,o=function(){l.pop();if(2<l.length){d();var c=l[l.length-1];f(c);k.setPosition(c);jQuery(k.getContent()).on("mousedown",function(a){a.stopPropagation()}).addClass("freeze");j.$("help").addClass("HIDDEN")}else r();daum.maps.event.removeListener(a,"mousemove",b);a.setCursor(null)},r=function(){m.forEach(function(a){a.setMap(null)});m.length=0;a.setCursor(null);g.notify()};this.handleClick=
function(e){0==l.length?(c(e),l.push(e,e),v=new daum.maps.Polygon({strokeWeight:3,strokeColor:"#1833e5",strokeOpacity:0.6,fillColor:"#1833e5",fillOpacity:0.2,path:l,map:a}),m.push(v),daum.maps.event.addListener(a,"mousemove",b)):(2===l.length&&j.$("info").removeClass("HIDDEN"),l.push(e),d());var f=jQuery("<span class=AreaToolDot />");m.push(new daum.maps.Billboard({position:e,zIndex:1,content:f.get(0),map:a}));return!0};this.activate=function(){a.setCursor("url(//i1.daumcdn.net/dmaps/apis/cursor/area.cur.ico), crosshair")};
this.deactivate=function(){a.setCursor(null)};this.undo=function(){if(2<l.length){var a=l.pop();m.pop().setMap(null);l[l.length-1]=a;d();k.setPosition(a)}};this.freeze=function(a){o(a)};this.close=function(){r()};this.isAlive=function(){return 0<m.length}}function Vb(a,b){this.id_=a;this.view_=b;b.onClick.add(this.click_,this);this.busLine_=null;this.overlays_=new oa(Application.map)}function Sa(a){fa(this,Cb);this.view_=a;a.closeBtnClick.add(this.closeLayer,this);a.onViewport.add(function(){this.totalPath();
this.onViewPort.notify()},this);a.refreshBtnClick.add(this.update_,this);a.onBusLineItemClick.add(this.busLineItemViewClick_,this);this.onActive.add(this.changeActive_,this);this.onViewPort=new n}function ba(a,b,c,d,e,f){fa(this,Cb);this.onFlagClick=new n;var g=e.hcodeList;this.regionList.forEach(function(a){var b=g.filter(function(b){return b.id!=a.id&&b.id.substring(0,2)==a.id});0<b.length&&(a.subregion=b)});this._viewLayout=b;this.map_=a;this.buttonFactory_=c;this.onActive.add(this.changeActive_,
this);this.regionName_=this.result_=null;this.regionInfo_={};this.typeInfo_={};this.qaTypeForBusStop_=this.qaTypeForBusNumber_=null;this.guideSelected_=!1;this.dssBusObj=null;this.dssSearchInType="";this.itemTotalLength=0;this.createMap_();this.createElements_();this.panel_=h.$("info.bus.search");this.introView_=h.$("info.busIntro");jQuery("#info\\.route\\.searchBox\\.number\\.name").on("keyup",function(a){jQuery("#info\\.bus\\.searchBox\\.number\\.submit").toggleClass("active",!!a.currentTarget.value)}.bind(this));
jQuery("#info\\.route\\.searchBox\\.stop\\.name").on("keyup",function(a){jQuery("#info\\.bus\\.searchBox\\.stop\\.submit").toggleClass("active",!!a.currentTarget.value)}.bind(this));this.landmarkMarkers_=new oa(a);a=this.busMessageView_=new od;a.onBusClick.add(function(a){var b=this.regionInfo_.id,c=this.typeInfo_.id;this.dssBusObj={pg:1,regionid:b,typeid:c,qatype:a.qaType,mkey:this.createMKey()};z.log("search_q_type",this.busNumber_,{typeid:"message",tab:"number"==this.mode_?"busname_realbus":"busstop_realbus",
qatype:a.qaType});this.dssSearchInType="";"number"==this.mode_?(this.qaTypeForBusNumber_=a.qaType,U.findAll(this.busNumber_,1,{regionId:b,typeId:c,qaType:a.qaType},this.loadNumberData,this)):"stop"==this.mode_&&(this.qaTypeForBusStop_=a.qaType,ga.findAllByName(this.busNumber_,1,{regionId:b,typeId:c,qaType:a.qaType},this.loadStopData_,this));this.paginationView_.setPage(1)},this);a.onBusSelect.add(function(a){z.log("search_q_type",this.busNumber_,{typeid:"region",tab:"number"==this.mode_?"busname_realbus":
"busstop_realbus",qatype:a.qaType,sq:a.keyword});this.dssSearchInType="";this.guideSelected_=!0;"number"==this.mode_?(this.qaTypeForBusNumber_=a.qaType,h.$("info.route.searchBox.number.name").setValue(a.keyword)):"stop"==this.mode_&&(this.qaTypeForBusStop_=a.qaType,h.$("info.route.searchBox.stop.name").setValue(a.keyword));this.submit_()},this);h.$("info.bus.guide").addChild(a.getPane());h.$("info.bus.searchBoxNumber").onSubmit.add(this.submit_,this);h.$("info.bus.searchBoxStop").onSubmit.add(this.submit_,
this);h.$("info.bus.region.local").onClick.add(this.showBusLocalBox_,this);h.$("info.bus.region.subLocal").onClick.add(this.showBusSubLocalBox_,this);ca.$("search.busLocal").onHide.add(function(){h.$("info.bus.region.local.button").removeClass("buslocal-ACTIVE")},this);ca.$("search.busLocal").onShow.add(function(){var a=jQuery("#search\\.busLocal").scrollTop();h.$("search.busLocal").scrollTo(a-1);h.$("search.busLocal").scrollTo(0)});"kyonggi kangwon chungbook chungnam jeonbuk jeonnam kyungbook kyungnam".split(" ").forEach(function(a){var b=
"search."+a+"Local";document.getElementById(b)&&(ca.$(b).onHide.add(function(){h.$("info.bus.region.subLocal.button").removeClass("busSublocal-ACTIVE")},this),ca.$(b).onShow.add(function(){var c=jQuery("#search\\."+a+"Local").scrollTop();h.$(b).scrollTo(c-1);h.$(b).scrollTo(0)},this))},this);a=this.noBusView_=uc.createBus();b=this.noBusNameView_=uc.createBusName();h.$("info.noBus").addChild(a);h.$("info.noBus").addChild(b);h.$("info.bus.removeAll").onClick.add(function(){p.click("businfo","delete");
Application.mainMapController.tool.clear()},this);a=this.busTab_=new tb;a.add(h.$("search.busMethodtype.number"),h.$("info.bus.searchBox.number"));a.add(h.$("search.busMethodtype.stop"),h.$("info.bus.searchBox.stop"));a.add(h.$("search.busMethodtype.region"),h.$("info.bus.region"));a.onChange.add(this.changeTab_,this);h.$("info.route.searchBox.number.name").setPlaceholder("\ubc84\uc2a4\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694");h.$("info.route.searchBox.number.name").onFocus.add(function(){h.$("info.route.searchBox.number.name").addClass("BUSSEARCH-ACTIVE")},
this);jQuery("#info\\.bus\\.searchBoxNumber").blurout(function(){h.$("info.route.searchBox.number.name").removeClass("BUSSEARCH-ACTIVE");this.preNumber_&&h.$("info.route.searchBox.number.name").setValue(this.preNumber_)}.bind(this));h.$("info.route.searchBox.stop.name").setPlaceholder("\ubc84\uc2a4\uc815\ub958\uc7a5\uc744 \uc785\ub825\ud558\uc138\uc694");h.$("info.route.searchBox.stop.name").onFocus.add(function(){h.$("info.route.searchBox.stop.name").addClass("BUSSEARCH-ACTIVE")},this);jQuery("#info\\.bus\\.searchBoxStop").blurout(function(){h.$("info.route.searchBox.stop.name").removeClass("BUSSEARCH-ACTIVE");
this.preStop_&&h.$("info.route.searchBox.stop.name").setValue(this.preStop_)}.bind(this));var j=this.busLocal=new Qb;j.onChange.add(this.busLocalChanged_,this);this.regionList.forEach(function(a){var b=h.$("search.busLocal."+a.code);b.addClass("INACTIVE");j.add(b,a.id,a.label)});this.selectBox={};for(var l in this.regionMap)if(this.regionMap[l].subregion){var m=this.selectBox[l]=new Qb;m.onChange.add(this.subLocalChanged_,this);this.regionMap[l].subregion.forEach(function(a){var b=h.$("search.busLocal."+
a.id);b.addClass("INACTIVE");m.add(b,a.id,a.name)},this)}this.busSubLocal=new Qb;this.hcode="11";this.scode="0";a=this.paginationView_=new Qa("info.bus.page");a.onPage.add(this.setPage,this);var k="11",v=A.t_address?decodeURIComponent(A.t_address):"";this.regionList.some(function(a){if(v&&0<=v.indexOf(a.name))return k=a.id,!0});l=require("url");a=new d({id:"info.route.searchBox.number.name",url:l.SUGGEST_PUBTRAN+(/\?/.test(l.SUGGEST_PUBTRAN)?"&":"?")+"cate=BUSN-"+k+"&appkey="+l.API_KEY,onSubmit:this.submit_.bind(this),
onSubmitHistory:function(a){a.trigger("click")},itemParser:ba.onSuggestParseItem,logKey:"bussuggest"});new vc(f,f.TYPE_LIST.BUS_LINE,a);d=new d({id:"info.route.searchBox.stop.name",url:l.SUGGEST_PUBTRAN+(/\?/.test(l.SUGGEST_PUBTRAN)?"&":"?")+"cate=ITSA-"+k+"&appkey="+l.API_KEY,onSubmit:this.submit_.bind(this),onSubmitHistory:function(a){a.trigger("click")},itemParser:ba.onSuggestParseItem,logKey:"busstopsuggest"});new vc(f,f.TYPE_LIST.BUS_STOP,d)}function ja(a,b,c,d,e,f,g,j,l,m){fa(this,Cb);this.map_=
a;this.infoWindowManager_=d;this.miniTooltipManager_=e;this.windowController_=l;this.routePoiControlView=m;this.onSearchBtnClick=new n;this.onResult=new n;this.onActive.add(this.changeActive_,this);this.panels_=new tb;this.themePoiControlView_=c;this.controlView_=this.themePoiControlView_.getRouteView();this.controlView_.onChange.add(this.handleControlView_,this);this.previewLines=[];this.previewLinesBounds=null;this.previewHoverLines=[];this.previewStartLines=[];this.previewEndLines=[];this.checkpoints_=
new oa(a);this.overlays_=new oa(a);this.trafficLines_=new oa(a);this.wholeLine_=null;this.noticeLine_=new oa(a);this.accidentMarkers_=new oa(a);this.cctvMarkers_=new oa(a);this.gasStationMarkers_=new oa(a);this.restAreaMarkers_=new oa(a);this.panel_=g;this.panel_.onItemHover.add(function(a){this.setPreviewHoverLine(a.index,a.hover)},this);this.panel_.onItemDetail.add(function(a){a.detail?(this.setPreviewLines(!1),this.setDetailRoute(a.index)):(this.clearDetailRoute(),this.setPreviewLines(!0),this.setPreviewHoverLine(a.index,
!0))},this);this.panel_.onAccClick.add(this.accidentInfoClickHandler_,this);this.panel_.onChange.add(this.handleMethod_,this);this.panel_.onCheckpoint.add(function(a){this.map_.setLevel(3);this.openFlagInfoWindowAndZoom_(a)},this);this.panel_.onRoadview.add(function(a){var b=this.route_.checkpoints[a].roadview;b.coords=this.route_.checkpoints[a].coords;this.roadviewController_.show(b);p.click("roadview","by_route_car")},this);this.panel_.onSearchBtnClick.add(function(a){this.onSearchBtnClick.notify(a)},
this);this.panel_.onRoadviewVideo.add(function(){var a=Db(),b=Application.flagSearchController.getWaypoints();Va.showRoadviewVideo(b,{routeMode:this.mode_,routeOption:this.option_,distance:this.roadviewRoute_.distance||0},function(b){var c=b.text("status");"C"==c?(c=b.text("id"),this.popup_&&this.popup_.close(),b="ActiveXObject"in A?"width=596,height=681":"width=600,height=685",b+=",left="+((A.screenLeft||100)+100)+"px,top="+(A.screen&&700<A.screen.height?(A.screenTop||0)+50:0)+"px",(c=A.open("http://rvdrive.map.daum.net/view/"+
c,"roadviewVideo",b))?this.popup_=c:alert("\ud31d\uc5c5\uc774 \ucc28\ub2e8\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4.")):(b="\ub85c\ub4dc\ubdf0 \uae38\ucc3e\uae30 \uc0dd\uc131 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.\n\ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694.\n( \uc624\ub958\uac00 \uacc4\uc18d \ubc1c\uc0dd \ud560 \uacbd\uc6b0, \ucd9c\ub3c4\ucc29\uc9c0\ub97c \ub2e4\uc2dc \uc124\uc815\ud574 \uc8fc\uc138\uc694. )","RRE"==c&&(b="\ub85c\ub4dc\ubdf0 \uae38\ucc3e\uae30 \uacb0\uacfc\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."),
alert(b));a.dispose();setTimeout(function(){this.panel_.clickableRoadviewVideo()}.bind(this),500)},this);p.click("route","go_car_roadview_video");z.log("roadview_video_create",b.map(function(a){return a.name+"_"+a.coords.getX().toFixed(0)+","+a.coords.getY().toFixed(0)}),{cnt:1,routeMode:this.mode_,routeOption:this.option_,distance:this.roadviewRoute_.distance||0})},this);h.$("info.flagsearch").addChild(this.panel_);this.panels_.add(null,this.panel_);this.panel_.hide();this.mapTypeControl_=j;this.routeset_=
this.route_=this.roadviewRoute_=void 0;this.mode_=V.REALTIME;this.option_=V.OPTION_NONE;this.layerLegend_=b;this.roadviewController_=f;this.roadviewController_.onCheckpoint.add(function(a){this.getActive()&&this.handleRoadviewCheckpoint_(a)},this);this.onAddStop=new n;this.beforeLevel=0;daum.maps.event.addListener(a,"zoom_changed",function(){if(this.getActive()){var a=this.map_.getLevel();7>=this.beforeLevel&&7>=a||Wb.showMarkerByZoom({level:a,shapeChangeLevel:11,list:this.checkpoints_.markers_,map:this.map_,
pickCountFunc:function(a,b){return 7>=a?b:8<=a&&9>=a?Math.max(Math.min(Math.floor(80*b/100),80),2):10<=a&&11>=a?Math.max(Math.min(Math.floor(40*b/100),40),2):12<=a&&13>=a?Math.max(Math.min(Math.floor(15*b/100),15),2):0}});this.beforeLevel=a}}.bind(this));this.windowController_.onHeightChange.add(function(){if(this.getActive()&&this.panel_.goToTopBtn){var a=h.$("info.body").getElement();a.scrollHeight>a.clientHeight?this.panel_.goToTopBtn.show():this.panel_.goToTopBtn.hide()}},this)}function fb(a,
b){this.map_=a;this.miniTooltipManager_=b;this.cctvs_=null;this.infomarkers_=[]}function Ld(a){function b(a){k[k.length-1]=a.coords;a=k[k.length-1];x.setPath([k[k.length-2],a]);r.setPosition(a);f(x.getLength())}function c(b){var c=jQuery('<p class="DistanceToolBoard"></p>');c.text(b);b=new daum.maps.Billboard({position:k[k.length-1],xAnchor:0,yAnchor:0,zIndex:2,content:c.get(0),map:a});o.push(b)}function d(){var a=q.reduce(function(a,b){return a+b});c(String.formatDistance(a|0))}function e(b){m.$("hider").on("click",
function(){m.remove();o.forEach(function(a){a.setMap(null)})});r=new daum.maps.Billboard({position:b,xAnchor:0,yAnchor:0,zIndex:4,content:m.get(0),map:a});v.push(r)}function f(a){var b=0<q.length?q.reduce(function(a,b){return a+b}):0,b=b+a;1E3<a?(m.$("relativeDistance").text(g(a/1E3)),m.$("relativeDistanceUnit").text("km")):(m.$("relativeDistance").text(a|0),m.$("relativeDistanceUnit").text("m"));1E3<b?(m.$("totalDistance").text(g(b/1E3)),m.$("totalDistanceUnit").text("km")):(m.$("totalDistance").text(b|
0),m.$("totalDistanceUnit").text("m"));a=b/67|0;60<=a?(m.$("walkHour").html("<strong>"+(a/60|0)+"</strong>\uc2dc\uac04"),m.$("walkHour").removeClass("HIDDEN")):m.$("walkHour").addClass("HIDDEN");m.$("walkMin").text(a%60);a=b/266|0;60<=a?(m.$("bicycleHour").html("<strong>"+(a/60|0)+"</strong>\uc2dc\uac04"),m.$("bicycleHour").removeClass("HIDDEN")):m.$("bicycleHour").addClass("HIDDEN");m.$("bicycleMin").text(a%60)}function g(a){var b,a=a.toFixed(2);b=Math.round(100*(a%1))/100;b=1E4>a&&b?b.toString().substr(1):
"";return String.formatNumber(parseInt(a))+b}function j(b){var c=jQuery('<a href="#" class="DistanceToolCloser"/>');c.on("mousedown click",function(a){"click"==a.type&&u();a.stopPropagation()});b=new daum.maps.Billboard({position:b,xAnchor:0,zIndex:4,content:c.get(0),map:a});v.push(b)}var l=this.onClose=new n,m=F("DistanceToolDetail"),k=[],v=[],o=[],r=null,x=null,q=[],s=function(){k.pop();if(1<k.length){0<o.length&&o.pop().setMap(null);f(0);var c=k[k.length-1];j(c);r.setPosition(c);jQuery(r.getContent()).on("mousedown",
function(a){a.stopPropagation()}).addClass("freeze");x.setMap(null);x=null;m.$("relativeWrap").addClass("HIDDEN");m.$("help").addClass("HIDDEN")}else u();daum.maps.event.removeListener(a,"mousemove",b);a.setCursor(null)},u=function(){x&&x.setMap(null);v.forEach(function(a){a.setMap(null)});o.forEach(function(a){a.setMap(null)});v.length=0;a.setCursor(null);l.notify()};this.handleClick=function(c){if(0==k.length)e(c),k.push(c,c),x=new daum.maps.Polyline({strokeWeight:3,strokeColor:"#f10000",strokeOpacity:0.3,
map:a}),x.setPath([k[k.length-2],k[k.length-1]]),daum.maps.event.addListener(a,"mousemove",b);else{k.push(c);var f;3>k.length?f=void 0:(f=new daum.maps.Polyline({strokeWeight:3,strokeColor:"#f10000",strokeOpacity:0.6,map:a}),f.setPath([k[k.length-3],k[k.length-2]]),v.push(f));q.push(f.getLength());d(q)}f=jQuery('<span class="DistanceToolDot"></span>');c=new daum.maps.Billboard({position:c,zIndex:1,content:f.get(0),map:a});v.push(c);return!0};this.activate=function(){a.setCursor("url(//i1.daumcdn.net/dmaps/apis/cursor/distance.cur.ico), crosshair")};
this.deactivate=function(){a.setCursor(null)};this.undo=function(){if(2<k.length){q.pop();o.pop().setMap(null);v.pop().setMap(null);v.pop().setMap(null);var a=k.pop(),b=k[k.length-2];k[k.length-1]=a;x.setPath([b,a]);r.setPosition(a);f(x.getLength())}};this.freeze=function(a){s(a)};this.close=function(){u()};this.isAlive=function(){return 0<v.length}}function Md(a){function b(a){(new Be(g,a)).onClick.add(function(a){d.notify(a)})}function c(){a.isLogin()?j.hide():(m.length=0,g.empty(),j.show())}if(!(this instanceof
Md))return new arguments.callee;var d=this.onClick=new n,e=jQuery("#info\\.main\\.favorite"),f=F("FavoriteRegisterView").appendTo(e),g=f.$("list"),j=f.$("notify"),e=f.$("check"),l=f.$("more");e.on("click",function(a){a.preventDefault();Application.favoriteController.openLoginPopup()});l.on("click",function(b){b.preventDefault();p.click("left","favorite");a.isLogin()?(Application.favoriteController.setActive(!0),Application.favoriteController.setMyTab("favorites")):a.request()});var m=[];c();this.setData=
function(a){a=m=a.splice(0,5);g.empty();0<a.length?(f.show(),a.forEach(b)):b({})};this.remove=function(a){m.some(function(b,c){if(b.seq==a)return m.splice(c,1),jQuery(g).find("div").eq(c).detach(),!0});m.length||(g.empty(),b({}))};this.callbackLogin=function(){c()}}function Aa(a){this.originFlag_=new va;this.originFlag_.setType("origin");this.originFlag_.onChange.add(this.changeFlag_,this);this.destFlag_=new va;this.destFlag_.onChange.add(this.changeFlag_,this);this.destFlag_.setType("dest");this.viaFlag_=
new va;this.viaFlag_.onChange.add(this.addViaFlag_,this);this.viaFlag_.setType("via");this.onReset=new n;this.onAdd=new n;this.onChange=new n;this.onRemove=new n;this.ANIMATE_SPEED_=50;this.mapFlagList_=[];this.viaCnt_=0;this.viaVisible_=!0;this.originFlagPoint=new daum.maps.Point(30,48);this.destFlagPoint=new daum.maps.Point(30,this.viaVisible_?120:84);this.viaFlagPoint=new daum.maps.Point(30,84);var b=this.wrapPanel_=new h("div","FlagWrap"),c=this.panel_=new h("div","Flag Fold");this.addExpandEvent_();
this.panel_.toPane().mousedown(function(){this.expanded_&&(this.floating_=!0)}.bind(this));this.panel_.toPane().mouseup(function(){this.expanded_&&(this.floating_=!1)}.bind(this));b.addChild(c);jQuery("#view\\.map").append(b.getElement());this.expanded_=this.isFindWay_=!1;var b=new h("div","originWrap"),d=new pd(b,"origin",this.originFlag_,a);d.onStart.add(function(){this.floating_=!0;this.panel_.removeClass("Fold");this.onReset.notify();this.originFlag_.setPoint(this.originFlagPoint);p.click("route",
"start_flag")}.bind(this));d.dragCancel.add(function(){this.floating_=!1},this);d.onEnd.add(function(){this.floating_=!1},this);c.addChild(b);b=new h("div","destWrap");d=new pd(b,"dest",this.destFlag_,a);d.onStart.add(function(){this.floating_=!0;this.onReset.notify();this.destFlag_.setPoint(this.destFlagPoint);p.click("route","end_flag")}.bind(this));d.dragCancel.add(function(){this.floating_=!1},this);d.onEnd.add(function(){this.floating_=!1},this);c.addChild(b);this.viaCount_=1;b=new h("div","viaWrap");
d=new pd(b,"via",this.viaFlag_,a);d.onStart.add(function(){this.onReset.notify();this.viaFlag_.setPoint(this.viaFlagPoint);p.click("route","via_flag")}.bind(this));d.dragCancel.add(function(){this.floating_=!1},this);d.onEnd.add(function(){this.floating_=!1},this);this.viaScout_=d;c.addChild(b);this.map_=a}function M(a,b,c,d,e,f,g,j,l,m,k,v,o,r){fa(this,Cb);this.map_=a;this.aoiController_=v.getController(v.KEY.FLAG);this._viewLayout=b;this.infoWindowManager_=j;a=this.flagSearch_=gb.create();this.lastMethod_=
"car";this.onActive.add(this.changeActive_,this);this.flagController_=l;this.flagController_.setFlagSearch(a);this.flagController_.onChange.add(this.changeFlag_,this);this.flagController_.onAdd.add(this.addViaFlag_,this);this.flagController_.onRemove.add(this.removeFlag_,this);this.waypointSearchBoxController_=new o;this.waypointSearchBoxController_.setFlagSearch(a);this.waypointSearchBoxController_.onAdd.add(this.addWaypointViaBox_,this);this.waypointSearchBoxController_.onRemove.add(this.removeWaypointBox_,
this);this.waypointSearchBoxController_.onChange.add(this.changeWaypointBox_,this);this.waypointSearchBoxController_.onSearch.add(this.searchWaypointBox_,this);this.waypointSearchBoxController_.onClear.add(this.reset,this);this.waypointSearchBoxController_.onMethodFocus.add(function(){h.$(this.lastMethod_+"tab").focusAndSelect()},this);this.flagSearchResultController=d;this.flagSearchResultController.onCoords.add(this.setCoords_,this);this.flagSearchResultController.onLoad.add(this.loadFlagResult_,
this);this.flagSearchResultController.onNoResult.add(function(){var a=this.flagSearch_.activeIndex;0==a||a==this.flagSearch_.getLastIndex()?this.flagSearch_.setWaypoint(a,null):this.flagSearch_.removeWaypoint(a);this.flagController_.setFlagSearch(this.flagSearch_)},this);this.carRouteSearchController=c;this.carRouteSearchController.onSearchBtnClick.add(function(a){"transit"==a&&(this.transitRouteSearchController.panel_.below_="below");this.clickMethod_(a)},this);this.carRouteSearchController.onResult.add(this.loadRoute_,
this);this.carRouteSearchController.onAddStop.add(this.addDragViaStop_,this);this.transitRouteSearchController=e;this.transitRouteSearchController.onResult.add(this.loadRoute_,this);this.transitRouteSearchController.onActive.add(function(){this.flagController_.setViaVisible(!this.transitRouteSearchController.getActive());this.waypointSearchBoxController_.setViaVisible(!this.transitRouteSearchController.getActive())},this);this.transitRouteSearchController.onSearchBtnClick.add(this.clickMethod_,this);
this.walkRouteSearchController=f;this.walkRouteSearchController.onSearchBtnClick.add(function(a){"transit"==a&&(this.transitRouteSearchController.panel_.below_="below");this.clickMethod_(a)},this);this.walkRouteSearchController.onAddStop.add(this.addDragViaStop_,this);this.walkRouteSearchController.onResult.add(this.loadRoute_,this);this.bikeRouteSearchController=g;this.bikeRouteSearchController.onSearchBtnClick.add(function(a){"transit"==a&&(this.transitRouteSearchController.panel_.below_="below");
this.clickMethod_(a)},this);this.bikeRouteSearchController.onAddStop.add(this.addDragViaStop_,this);this.bikeRouteSearchController.onResult.add(this.loadRoute_,this);this.hashMap={car:this.carRouteSearchController,transit:this.transitRouteSearchController,walk:this.walkRouteSearchController,bike:this.bikeRouteSearchController};(this.methodView_=new Ce(h.$("info.flagsearch.method"))).onChange.add(function(a){a?(this.transitRouteSearchController.panel_.below_="main",this.handleRoute_()):this.showValidCondition_()},
this);this.keywordSearchController=m;this.keywordSearchController.onFlagClick.add(this.flagClickHandler.bind(this));this.busSearchController=r;this.busSearchController.onFlagClick.add(this.flagClickHandler.bind(this));this.roadviewController=k;k.onWaypoint.add(function(a){!0!=this.active_&&(this.withRoadview_=this.active_=!0,this.onActive.notify(!0));switch(a.type){case "origin":this.setOrigin(a.coords,a.name);break;case "via":this.setVia(a.coords,a.name);break;case "dest":this.setDestination(a.coords,
a.name)}},this);this.home_=h.$("info.route.home");this.onChangeFlag=new n;this.onLoadedRoute=new n}function ea(a,b,c,d,e,f){this.model_=new y;this.model_.setSearchBusStop(!0);this.model_.noExactSearch();this.model_.onChange.add(this.load_,this);this.addressListView_=new nb("info.flagsearch.address",ic);this.addressListView_.onAction.add(this.clickAddress_,this);this.addressListView_.onMore.add(function(){this.findAddresses();z.logPathSearchIn("address_more")},this);this.placeListView_=new nb("info.flagsearch.place",
pa);this.placeListView_.onAction.add(this.clickPlace_,this);this.placeListView_.onMore.add(function(){this.findPlaces();z.logPathSearchIn("place_more")},this);this.busStopListView_=new nb("info.flagsearch.busstop",bc);this.busStopListView_.onAction.add(this.clickBusStop_,this);this.busStopListView_.onMore.add(function(){this.findBusStops();z.logPathSearchIn("busstop_more")},this);this.paginationView_=new Qa("info.flagsearch.page");this.paginationView_.onPage.add(function(a){this.setPage(a);z.logPathSearchIn(this.model_.isPlaceMode()?
"place_paging":this.model_.isAddressMode()?"address_paging":this.model_.isBusStopMode()?"busstop_paging":"")},this);this.aoiController_=e.getController(e.KEY.FLAG);this.aoiController_.onIdle=function(){this.redrawLines()}.bind(this.aoiController_);this.aoiController_.disablePolylineEvent();this.spellcheckView_=new Ic("info.flagsearch.spellcheck");this.spellcheckView_.onClick.add(function(a){this.setTransMapTypeLog(this.model_.trans_map_type);this.setKeyword(a)},this);e=this.group_=new Fb;e.onChange.add(this.setOption_,
this);e.add(h.$("info.flagsearch.filter.all"));e.add(h.$("info.flagsearch.filter.place"));e.add(h.$("info.flagsearch.filter.address"));e.add(h.$("info.flagsearch.filter.busstop"));this.placeMarkers_=new oa(a);this.placeMarkerIndex_=[];this.gasInfoWindows_=new oa(a);e=this.messageView=new Nd;e.onClick.add(function(a){z.log("search_q_type",this.model_.getKeyword(),{typeid:"message",tab:this.model_.isPlaceMode()?"place_path":"all_path",cidx:this.model_.targetCidx_});a.snSelected?this.findSnSelected(a.keyword):
this.findLiterally()},this);e.onSelect.add(function(a){z.log("search_q_type",this.model_.getKeyword(),{typeid:"region",tab:this.model_.isPlaceMode()?"place_path":"all_path",sq:a.keyword});this.clickAddrSuggest_(a.keyword)},this);e=this.busMessageView=new od;e.onBusClick.add(function(a){var b=this.model_;z.log("search_q_type",b.getKeyword(),{typeid:"message",tab:"busstop_path",qatype:a.qaType});b.setRepeatFlag(!0);b.setQaType(a.qaType);this.setPage(1)},this);e.onBusSelect.add(function(a){var b=this.model_;
z.log("search_q_type",b.getKeyword(),{typeid:"region",tab:"busstop_path",qatype:a.qaType,sq:a.keyword});b.setRepeatFlag(!0);b.setQaType(a.qaType);b.setKeyword(a.keyword,!1,y.BUSSTOP)},this);this.map_=a;this.miniTooltipManager_=b;this.infoWindowManager_=c;this.roadviewController_=d;this.activeItem_=null;this.onCoords=new n;this.onLoad=new n;this.onNoResult=new n;this.dupMarker_=null;jQuery("#info\\.flagsearch\\.correction\\.goorig").on("click",function(){this.setTransMapTypeLog(this.model_.trans_map_type);
this.model_&&this.model_.setCorrection(!1)}.bind(this));this.singleViewMode_=!1;this.singleViewType_=null;this.infoRoute=jQuery("#info\\.route\\.home");this.howTo=jQuery("#info\\.route\\.intro");this.histroyRouteView=new Od(f,this.infoRoute,!1,function(a){this.infoRoute.toggleClass("routedesc",!a);var b=h.$("info.flagsearch").getVisible();a||b?this.howTo.hide():this.howTo.show()}.bind(this))}function $c(a,b,c,d){this.map_=a;this.options=b;this.layerProfileController=d;jQuery("#daum_").click(function(){p.click("navi",
"logo")});jQuery("#local").click(function(){p.click("navi","title")});this.noticeRolling_();this.loadStory_();jQuery("#info\\.location\\.reportError").click(function(a){a.preventDefault();ob(a.target.href,500,225,{noscroll:!0});p.click("left","ipdetect")});var e=function(a){var b=a.pos||"snb";(a=a.log)&&p.click(b,a.split("|"))},a=function(a){a.preventDefault();a=jQuery(a.currentTarget).data();a.log="general_fiy";Application&&a.channel&&(Application.fiyFrameController.open({type:"general",channel:a.channel}),
e(a))},d=function(a){a.preventDefault();a=jQuery(a.currentTarget).data();a.log="newplace";Application&&a.channel&&(Application.fiyFrameController.open({type:"newPlace",channel:a.channel,rawInfo:{query:""}}),e(a))};jQuery("body").on("click",".Footer .xa",function(){p.click("footer","cs")}).on("click",".Footer .xb, .home .xb",a).on("click",".Footer .xc, .home .xc",d);jQuery(".snb_map").on("click",".list_option a",function(a){a.stopPropagation()}).on("click","a:not(.xb, .xc)",function(a){e(jQuery(a.currentTarget).data())}).on("click",
".xb",a).on("click",".xc",d).on("click",".xd",function(a){a.preventDefault();confirm("\uce74\uce74\uc624\ub9f5\uc744 \ud0c8\ud1f4\ud558\uba74 \ubaa8\ub4e0 \uc815\ubcf4\uac00 \uc0ad\uc81c\ub429\ub2c8\ub2e4. \ud0c8\ud1f4 \ud6c4 \uc0ad\uc81c\ub41c \uc815\ubcf4\ub294 \ub2e4\uc2dc \ubcf5\uad6c\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \ud0c8\ud1f4\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&require("server").leave({},function(a){"SUCCESS"===a.text("status.code")?(alert("\uce74\uce74\uc624\ub9f5\uc5d0\uc11c \ud0c8\ud1f4\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uadf8\ub3d9\uc548 \uce74\uce74\uc624\ub9f5\uc744 \uc774\uc6a9\ud574\uc8fc\uc154\uc11c \uac10\uc0ac\ud569\ub2c8\ub2e4."),
A.location.href=require("url").MAP_DAUM_NET):alert("\uc2e4\ud328: "+a.text("status.code"))})}).on("click",".options",function(a){p.click("snb","setting");jQuery(a.currentTarget).toggleClass("option-OPEN")});this.updateLoginProfile(b);c.onChange.add(function(a){var b=jQuery("#btnProfile img");"A"===a.text("profileStatus")||"T"===a.text("profileStatus")?(b.attr("src","//t1.daumcdn.net/localimg/localimages/07/2018/pc/title/report_profile.png"),b.show()):a.has("thumbnailImage")?(b.attr("src",require("url").TENTH_THUMB+
"C54x54/?fname="+a.text("thumbnailImage")),b.show()):b.hide();jQuery("#unmigrationMenu").toggle(!a.bool("migrationFlag"))},this)}function cc(a,b,c){fa(this,Cb);this.map_=a;this.model_=new y;this.model_.onIssue.add(this.loadIssuedMap_,this);this.infowindowManager_=c;this.onActive.add(this.changeActive_,this);(this.issuePlaceListView_=new nb("info.issue.place",wc)).onAction.add(this.clickPlace_,this);this.placeMarkers_=[];this.onActive.add(this.changeActive_,this)}function J(a,b,c,d,e,f,g,j,l,m,k,v,
o,r,x,q,s,u,w,C,O,I,R,Y,G,E){fa(this,Cb);this.themeMapSearchController_=w;this.map_=b;this._viewLayout=c;this.windowController_=e;this.infoWindowManager_=f;this.mainMapController=g;this.roadviewController_=l;this.aoiController_=x.getController(x.KEY.SEARCH);this.aoiController_.onAoiMousedown.add(this.onAoiMousedown_,this);this.busLineController_=m;this.miniTooltipManager_=j;this.relatedKeywordController_=q;this.relatedKeywordController_.onSubClick.add(this.findSubKeyword_,this);this.localInfoController_=
o;this.bannerController_=v;this.relatedAddressController_=s;this.relatedAddressController_.onItemClick.add(this.onSubAddressItemClick_.bind(this));this.areaSearchController_=C;this.whatsHereController_=O;this.dataForShare=null;this.themeMapController_=u;c=g.getThemePoiControlView();u.setThememapPlaces(a.thememapPlaces);c.onPoiActive.add(this.hideBusLine_,this);this.frontViews_=jQuery("#info\\.location, #info\\.notice, #info\\.ads");this.searchBtn=h.$("search.keyword.submit");a=new jc;a.onOption.add(this.setOption_,
this);a.onClear.add(function(){Application.mainMapController.tool.clear()},this);this.infoHeaderView_=a;this.onActive.add(this.changeActive_,this);this.oneTimeCoords=null;this.model_=new y;this.model_.onChange.add(function(){h.$("info.searchHeader").hide();this.load_();this.dataForShare={};this.dataForShare.address=this.model_.addresses||[];this.dataForShare.bus=this.model_.buses||[];this.dataForShare.busStop=this.model_.busStops||[];this.dataForShare.place=this.model_.places||[];var a=h.$("info.search")._pane,
b=a.find("> .section:not(.HIDDEN)");0<b.length&&(a.find("> .section").removeClass("lst"),b.filter(":last").addClass("lst"));h.$("info.searchHeader").setClass("emptyList",0===b.length);this.toggleSearchInputBg(!1)},this);this.activeItem_=null;this.addressMarker_=B.createAddress(new daum.maps.Coords(0,0));this.relatedAddressMarker_=B.createAddress(new daum.maps.Coords(0,0));daum.maps.event.addListener(this.addressMarker_,"click",function(){var a=this.areaSearchController_.getAreaSearch(this.addressMarker_.id);
this.deselectMarkers_();this.clickAddressMarker_&&this.clickAddressMarker_(!1);this.relatedAddressMarker_.setMap(null);this.aoiController_.clickMarker(this.addressMarker_.id||-1);a&&(this.aoiController_.clear(),this.aoiController_.removeMapEvent(),this.areaSearchController_.focus(this.addressMarker_.id),this.areaSearchController_.renderById(this.addressMarker_.id,!0));this.clickAddressMarker_&&this.addressMarker_.item&&this.addressMarker_.item.sendDssLog("marker_address")}.bind(this));daum.maps.event.addListener(this.addressMarker_,
"mouseover",function(){this.aoiController_.highlight(this.addressMarker_.id||-1)}.bind(this));daum.maps.event.addListener(this.addressMarker_,"mouseout",function(){this.aoiController_.redrawLines()}.bind(this));daum.maps.event.addListener(this.relatedAddressMarker_,"click",function(){this.onSubAddressMarkerClick_()}.bind(this));daum.maps.event.addListener(this.relatedAddressMarker_,"mouseover",function(){this.aoiController_.dimAll()}.bind(this));daum.maps.event.addListener(this.relatedAddressMarker_,
"mouseout",function(){this.aoiController_.redrawLines()}.bind(this));this.placeMarkers_=new oa(b);this.placeMarkerIndex_=[];this.busStopMarkers_=new oa(b);this.landmarkMarkers_=new oa(b);a=this.messageView=new Nd;a.onClick.add(function(a){z.log("search_q_type",this.model_.getKeyword(),{typeid:"message",tab:this.model_.isPlaceMode()?"place":"all",cidx:this.model_.targetCidx_});a.snSelected?this.findSnSelected(a.keyword):this.findLiterally()},this);a.onSelect.add(function(a){z.log("search_q_type",this.model_.getKeyword(),
{typeid:"region",tab:this.model_.isPlaceMode()?"place":"all",sq:a.keyword});this.clickAddrSuggest_(a.keyword)},this);a=this.busMessageView=new od;a.onBusClick.add(function(a){var b=this.model_;z.log("search_q_type",b.getKeyword(),{typeid:"message",tab:b.isBusesMODE()?"busname":"busstop",qatype:a.qaType});b.setRepeatFlag(!0);b.setQaType(a.qaType);this.setPage(1)},this);a.onBusSelect.add(function(a){var b=this.model_;z.log("search_q_type",b.getKeyword(),{typeid:"region",tab:b.isBusesMODE()?"busname":
"busstop",qatype:a.qaType,sq:a.keyword});b.setRepeatFlag(!0);b.setQaType(a.qaType);this.setKeyword(a.keyword,b.getMode())},this);jQuery("#info\\.search\\.address\\.list").on("mouseleave",this.redrawAoiIfActive_.bind(this));jQuery("#info\\.search\\.place\\.list").on("mouseleave",this.redrawAoiIfActive_.bind(this));jQuery("#info\\.search\\.busstops\\.list").on("mouseleave",this.redrawAoiIfActive_.bind(this));jQuery("#info\\.search\\.review\\.list").on("mouseleave",this.redrawAoiIfActive_.bind(this));
a=this.busesListView_=new nb("info.search.buses",Pd,k);a.onMore.add(function(){this.findBuses();z.logSearchIn("bus_more")},this);a=this.busstopsListView_=new nb("info.search.busstops",Qd,k);a.onAction.add(this.clickBusStops_,this);a.onMore.add(function(){this.findBusStops();z.logSearchIn("busstop_more")},this);a=this.addressListView_=new nb("info.search.address",Rd,k);a.onAction.add(this.clickAddress_,this);a.onMore.add(function(){this.findAddresses();z.logSearchIn("address_more")},this);a=this.placeListView_=
new nb("info.search.place",qd,k);a.onAction.add(this.clickPlace_,this);a.onMore.add(function(){this.findPlaces();z.logSearchIn("place_more")},this);this.spellcheckView_=new Ic("info.searchHeader.spellcheck");this.spellcheckView_.onClick.add(function(a){this.setTransMapTypeLog(this.model_.trans_map_type);this.setKeyword(a)},this);h.$("info.noPlace.register.btn").onClick.add(function(){R.openNewPlaceByQuery("SEARCH_NORESULT",this.model_.getKeyword());p.click("mapsearch","noresult_newplace")},this);
h.$("info.noPlaceInBounds.register").onClick.add(function(){R.openNewPlaceByQuery("SEARCH_NORESULT",this.model_.getKeyword());p.click("mapsearch","noresult_newplace")},this);h.$("info.noFlagPlace.register.btn").onClick.add(function(){R.openNewPlaceByQuery("ROUTE_NORESULT",this.model_.getKeyword());p.click("mapsearch","noresult_newplace")},this);h.$("info.addNewPlace.btn").onClick.add(function(){R.openNewPlaceByQuery("SEARCH_LIST_BOT",this.model_.getKeyword());p.click("mapsearch","newplace")},this);
h.$("info.flagsearch.addNewPlace.btn").onClick.add(function(){R.openNewPlaceByQuery("ROUTE_LIST_BOT",this.model_.getKeyword());p.click("mapsearch","newplace")},this);a=this.paginationView_=new Qa("info.search.page");this.PAGE_SIZE=15;this.isPageLoad=!1;a.onPage.add(function(a){this.isPageLoad||(this.isPageLoad=!0,p.click("mapsearch","page",{param1:this.model_.getKeyword()}),this.model_.setRepeatFlag(!0),this.setPage(a),z.logSearchIn(this.model_.isPlaceMode()?"place_paging":this.model_.isAddressMode()?
"address_paging":this.model_.isBusesMODE()?"bus_paging":this.model_.isBusstopsMODE()?"busstop_paging":""))},this);this.searchBtn.onClick.add(this.submit_,this);this.queryPanel_=jQuery("#search\\.keyword\\.query");this.queryBtn_=jQuery("#search\\.keyword\\.submit");this.toggleSearchInputBg=function(a){var b=jQuery("#search\\.keyword .box_searchbar"),c=this.searchInput=b.find(">input");b.toggleClass("search_on",!a);c.toggleClass("bg_on",a&&!c.val())};this.queryPanel_.on("focus",function(){ca.closeAll();
this.toggleSearchInputBg(!1)}.bind(this)).on("blur",function(){this.toggleSearchInputBg(!0)}.bind(this)).on("keyup",function(a){this.searchBtn.setClass("active",a.currentTarget.value)}.bind(this)).focus();this.suggestInstance_=new Y({id:"search.keyword.query",url:r.SUGGEST+(/\?/.test(r.SUGGEST)?"&":"?")+"appkey="+r.API_KEY,onSubmit:this.submit_.bind(this),onSubmitHistory:function(a){a.trigger("click")},onSubmitFavorite:function(a){console.log("submitFavorite : ",a)},itemParser:function(a){var b=a[0];
"busstop"==a[a.length-1]?(b=a[0]+"("+a[a.length-2]+")",html=String.format('%s <span style="color:#ddd">|</span> <span style="color:#aaa">%s</span>',b,a[1])):html=String.format("%h",b);return[html,b]},logKey:"searchsuggest"});(new vc(G,G.SEARCH_TYPE,this.suggestInstance_)).onItemClick.add(function(){p.click("left_info",[jQuery("body").hasClass("collapse")?"close":"open","history_item"])});this.boundsButton_=h.$("search.keyword.bounds");var K=jQuery("#search\\.keyword\\.currentmap"),k=this.boundscheck=
jQuery("#boundscheck");k.attr("checked",!1);k.on("focusin",function(){K.addClass("ico_focused")});k.on("blur",function(){K.removeClass("ico_focused")});k.on("change",function(){this.toggleBounds_()}.bind(this));jQuery(document).on("keydown",function(a){if(!a.altKey&&(!a.ctrlKey&&!(a.metaKey||"INPUT"==a.target.tagName))&&!l.getActive()){var b=a.keyCode||a.which;if(47<b&&58>b||64<b&&91>b||95<b&&106>b)this.queryPanel_.val(""),this.queryPanel_.focus();R.isToolActivate()&&(27==b?(a.preventDefault(),R.handleRightclick(a)):
8==b&&(a.preventDefault(),R.handleUndoKeydown()))}}.bind(this));a=this.placeSortOptions_=new Jc("info.search.place.sort");a.onOption.add(this.changePlaceSortOption_,this);daum.maps.event.addListener(b,"idle",xb(500,this.refresh_.bind(this)).trigger);this.issueMapController=d;this.onFlagClick=new n;this.onSearchLoad=new n;a=this.infoHeaderView_;a.showOptions(["\uc804\uccb4","\uc7a5\uc18c","\uc8fc\uc18c","\ubc84\uc2a4","\uc815\ub958\uc7a5"]);a.hide();jQuery("#info\\.search\\.correction\\.goorig").on("click",
function(){this.setTransMapTypeLog(this.model_.trans_map_type);this.model_&&this.model_.setCorrection(!1)}.bind(this));this.reviewTabMode_=!1;this.themeMapSearchController_.onClick.add(function(){this.hide()},this);this.itemIdMarker=null;this.singleViewMode_=!1;this.singleViewType_=null;this.postCodeMessage=h.$("info.searchHeader.postCodeMessage");this.postCodeMessageKeyword="";this.postCodeMessage.toPane().find(".link_search").on("click",function(){var a=require("url").POSTCODE_MAP_DAUM_NET+"/?origin=http%3A%2F%2Fmap.daum.net&indaum=on&intsh=on";
this.postCodeMessageKeyword&&(a+="&region_name="+encodeURIComponent(this.postCodeMessageKeyword));ob(a,550,600,{name:"postcode",resizable:!0})}.bind(this));this.drawPolygon=!(E.q&&(E.itemId||E.busStopId))}function Kc(a){this.layerProfileView_=a;this.onClose=this.layerProfileView_.onClose}function ad(a){this.layerProfileEditView_=a}function Gb(a){this.CHILD_HEIGHT=34;this.container_=a;this.listArr_=[];this.onChange=new n;this.mousemoveHandler_=this.mousemoveHandler.bind(this);a.toPane().mousedown(this.mousedownHandler.bind(this))}
function da(a,b,c,d,e,f,g,j,l,m,k,v,o,r,x,q,s,u,w,C){this.frameDecorator_=m;this.args=w;this.map_=a;b=this.panel=jQuery("#view\\.map");this.roadviewLine_=c;this.infoWindowManager_=s;this.aoiController_=q.getController(q.KEY.SEARCH);c=this.tool=d;c.onComplete.add(function(){this.mapControlView_.deactivateAll()},this);c.onClickTool.add(function(){j.setRoadview(!1)},this);this.indoorMapController_=k;this.themePoiControlView=v;this.themePoiMarkerController=o;this.poiTileController=r;this.keywordTileParams=
null;b.append(C.getElement());b.append(v.getElement());v.onPoiActive.add(function(a){s.close();this.themePoiMarkerController.setTheme(a);this.poiTileController.setThemeTile({themeId:a.id,dimg:a.dimg});this.setTileExtenstion("theme")},this);v.onPoiClear.add(function(){s.close();this.themePoiMarkerController.clearTheme();this.setActiveKeywordTile()},this);o.onShow.add(function(){});this.poiController=f;this.clickHandlers_=[c,r,this.roadviewLine_,f,this.indoorMapController_,this.aoiController_];this.rightclickHandlers_=
[c,g];this.mapTypeControl_=j;j.onRoadmap.add(function(a){this.closeHistoryLegend_();this.mapControlView_.setZoomControlFor(a)},this);j.onSkyview.add(function(a){this.handleHistory_(this.skyviewHistoryIndex_);this.mapControlView_.setZoomControlFor(a)},this);j.onRoadview.add(function(){var a=j.isRoadviewActive();a&&(d.newPlaceDeactive(),d.handleRightclick());this.roadviewLine_.setActive(a);this.mapControlView_.setRoadviewActive(a)},this);j.onTraffic.add(function(){Application.carRouteSearchController.setTraffic(!1)},
this);j.onHistory.add(this.handleHistory_,this);this.mapControlView_=l;l.onRoadview.add(function(a){j.setRoadview(a)},this);l.onTraffic.add(function(a){j.setTraffic(a)},this);l.onAccident.add(function(a){j.setAccident(a)},this);l.onCctv.add(function(a){j.setCctv(a)},this);l.onZoomTo.add(function(a){this.map_.setLevel(a,{animate:!0})},this);l.onTool.add(this.toolHandler_,this);l.onExtension.add(function(a){r.setVisible(a)},this);b.append(l.getPane());daum.maps.event.addListener(a,"click",this.clickMap_.bind(this));
daum.maps.event.addListener(a,"dblclick",this.dblclickMap_.bind(this));daum.maps.event.addListener(a,"rightclick",this.rightclickMap_.bind(this));[[2,"2"],[20,""]].forEach(function(b){var c=new zb(1E3*b[0],function(){a.isRoadmap()?p.click("select"+b[1],"2d"):a.getMapTypeId()==daum.maps.MapTypeId.HYBRID&&p.click("select"+b[1],"skyview");c.stop()},!1);c.start()});f=a.getCenter();a.relayout();a.setCenter(f);this.skyviewHistoryIndex_=void 0}function qb(a,b,c){this.map_=a;this.windowController_=b;this.whatsHereController_=
c;a=F("ViewContext");this.panel_=new ca(a.get(0));this.panelParent_=this.pointMarker_=new daum.maps.Billboard({zIndex:10,position:new daum.maps.Coords(0,0),content:a.get(0),clickable:!0});this.pointMarker_=new daum.maps.Marker({position:null,image:new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2018/img/exsearch-ico-red8_hover.png",new daum.maps.Size(8,8),{offset:new daum.maps.Point(4,4)})});this.panel_.onHide.add(function(){this.hide()},this);this.menu_favorite_=a.$("favorite").click(this.favorite_.bind(this));
this.menu_origin_=a.$("origin").click(this.startDirection_.bind(this));this.menu_destination_=a.$("destination").click(this.endDirection_.bind(this));this.menu_here_=a.$("here").click(this.whatsHere_.bind(this));this.menu_zoomin_=a.$("zoomin").click(this.zoomIn_.bind(this));this.menu_zoomout_=a.$("zoomout").click(this.zoomOut_.bind(this));this.menu_via_=a.$("via").click(this.viaDirection_.bind(this));this.menu_strange_=a.$("strange").click(this.strange_.bind(this));this.menu_newplace=a.$("newplace").click(this.newPlace_.bind(this))}
function ta(a,b,c,d,e,f){this.onReset=new n;this.onComplete=new n;this.onClickTool=new n;this.map_=a;this.busSearchController=b;this.fiyFrameController=c;this.localPlatformAdController_=d;this.forefront=e;this.shareController=f;this.copylist_=ca.$("toolList");this.copylist_.noCloseUIPanel(h.$("tool.map.btn"));h.$("tool.map.btn").onClick.add(this.copylistToggle,this);this.copylist_.onHide.add(this.onHidelist_,this);h.$("tool.map.copyurl").onClick.add(this.copyUrl,this);h.$("tool.map.copymap").onClick.add(this.copyMap_,
this);h.$("tool.map.save").onClick.add(this.save_,this);h.$("tool.map.email").onClick.add(this.email_,this);h.$("tool.map.print").onClick.add(this.print_,this)}function Cb(){this.onActive=new n;this.active_=!1}function Sd(a,b,c){function d(){a.setCursor(null);g&&g.setMap(null);j&&(j=null);daum.maps.event.removeListener(a,"mousemove",e)}function e(a){g.setPosition(a.coords)}var f=null,g=null,j=null;this.activate=function(){a.setCursor("none");j=jQuery('<div class="NewPlaceToolBoard"></div>');g=new daum.maps.Billboard({xAnchor:0,
yAnchor:1,zIndex:2,content:j[0]});g.setMap(a);daum.maps.event.addListener(a,"mousemove",e)};this.deactivate=function(){d()};this.handleClick=function(a){f();Application.fiyFrameController.open({type:"newPlace",channel:b?b:"ICON_NEWPLACE",rawInfo:{x:a.getX(),y:a.getY(),query:c||""}});d()};this.freeze=function(){d()};this.close=function(){d()};this.closeCallback=function(a){f=a}}function Fb(){this.buttons_=[];this.onChange=new n}function Td(a){function b(a){C=a.coords;w.setPath([h,C]);s.setPosition(C);
u.setRadius(w.getLength());g()}function c(){if(h){var b=new daum.maps.Polyline({strokeWeight:3,strokeColor:"#fa05e0",strokeOpacity:0.7,map:a});b.setPath([h,C]);q.push(b);return b}}function d(){var b=new daum.maps.Circle({center:h,radius:w.getLength(),strokeWeight:2,strokeColor:"#ff4dec",strokeOpacity:0.4,fillColor:"#fa05e0",fillOpacity:0.17,map:a});q.push(b)}function e(b){var c=jQuery('<span class="RadiusToolDot"></span>'),b=new daum.maps.Billboard({position:b,zIndex:1,content:c.get(0),map:a});q.push(b)}
function f(b){o=F("RadiusToolDetail");o.$("hider").on("click",function(a){return function(){a.addClass("HIDDEN")}}(o));s=new daum.maps.Billboard({position:b,xAnchor:0,yAnchor:0,zIndex:4,content:o.get(0),map:a});q.push(s)}function g(){var a=w.getLength(),b;1E3<a?(o.$("radius").text(j(a/1E3)),o.$("radiusUnit").text("km")):(o.$("radius").text(a|0),o.$("radiusUnit").text("m"));b=a/67|0;60<=b?(o.$("walkHour").html("<strong>"+(b/60|0)+"</strong>\uc2dc\uac04"),o.$("walkHour").removeClass("HIDDEN")):o.$("walkHour").addClass("HIDDEN");
o.$("walkMin").text(b%60);b=a/266|0;60<=b?(o.$("bicycleHour").html("<strong>"+(b/60|0)+"</strong>\uc2dc\uac04"),o.$("bicycleHour").removeClass("HIDDEN")):o.$("bicycleHour").addClass("HIDDEN");o.$("bicycleMin").text(b%60)}function j(a){var b,a=a.toFixed(2);b=Math.round(100*(a%1))/100;b=1E4>a&&b?b.toString().substr(1):"";return String.formatNumber(parseInt(a))+b}function l(a){if(c()&&0<q.length){var b=x.length;d();k(b);e(a);x.push(q.slice(0));s.setPosition(C);jQuery(s.getContent()).on("mousedown",function(a){a.stopPropagation()}).addClass("freeze");
o.$("help").addClass("HIDDEN");q.length=0;f(a);g()}}function m(){w&&w.setMap(null);u&&u.setMap(null);for(var a=0,b;b=q[a];a++)b.setMap(null);q.length=0}function k(b){var c=jQuery('<a href="#" class="RadiusToolCloser"/>');c.on("mousedown click",function(a){return function(b){"click"==b.type&&I(a);b.stopPropagation()}}(b));b=new daum.maps.Billboard({position:C,xAnchor:0,zIndex:4,content:c.get(0),map:a});q.push(b)}var v=this.onClose=new n,o,r=!1,x=[],q=[],s=null,u=null,w=null,C=null,h=null,I=function(b){for(var c=
b!==parseInt(b),d=!1,e=0,f;f=x[e];e++)if(c||b===e){for(var g=0,j;j=f[g];g++)j.setMap(null);x[b]=[]}else d=!0;d||(x=[]);if(r){var s=!1;x.forEach(function(a){0<a.length&&(s=!0)});s||(x.length=0);m();a.setCursor(null);v.notify()}};this.handleClick=function(c){h?l(c):(h=C=c,w=new daum.maps.Polyline({strokeWeight:3,strokeColor:"#fa05e0",strokeOpacity:0.7,map:a}),w.setPath([h,C]),u=new daum.maps.Circle({center:h,radius:w.getLength(),strokeWeight:2,strokeColor:"#ff4dec",strokeOpacity:0.4,fillColor:"#fa05e0",
fillOpacity:0.11,map:a}),f(c),e(c),daum.maps.event.addListener(a,"mousemove",b));return!0};this.activate=function(){a.setCursor("url(//t1.daumcdn.net/localimg/localimages/07/2013/img/point_radius.cur.ico), crosshair")};this.deactivate=function(){a.setCursor(null)};this.freeze=function(){m();r=!0;daum.maps.event.removeListener(a,"mousemove",b);a.setCursor(null)};this.close=function(){r=!0;I()};this.isAlive=function(){return 0<x.length}}function X(a,b,c,d,e,f,g,j,l,m){e=Number(e.rvp);this.map_=a;this.escapeZoomLevel=
3;this._windowController=f;this.fiyFrameController_=j;this.authController_=l;this.shareController=m;this._viewLayout=b;this._frameDecorator=c;this._lastMarker=d;this._lastMarker.onClick.add(this.restore_,this);this.onCheckpoint=new n;this.onCloseRoadview=new n;this.onWaypoint=new n;this.panel_=h.$("view.roadview");try{this.normalRoadview_=this.createRoadview_(e)}catch(k){}this.client_=new daum.maps.RoadviewClient({panoramaDataUrl:require("url").ROADVIEWCLIENTDATA});this.walker_=new De(a);this.showStartLog_=
!1;this.nodeClickLog=!0;this.walker_.onCoords.add(function(a){this.showStartLog_=!0;this.showNearby(a);p.click("roadview","viewer_icon")},this);this.walker_.onPan.add(this.changePan_,this);this.successView_=this.isStoreView_=!1;this.subwayOverViewer=new Ja({frameDecorator:this._frameDecorator});this.subwayOverViewer.onChangedPanorama.add(this.setSubwayPanoId,this);this.subwayOverViewer.hide();this._viewLayout.onMapResize.add(this.didDecoratorResize_,this);this.onShow=new n;this.lastMarkerVisibleState_=
0;this.initFailFlashLayer_();this.searchBarEl=jQuery("#header").closest(".IE6MIN");this.searchBarArea={w:393,h:52};this.isCollapse=!1;this._viewLayout.onRoadviewResize.add(function(a){if(this.viewer_()){var b=jQuery("body").hasClass("collapse"),c=!!this.routing_;this.searchBarEl.toggleClass("HIDDEN",b&&c);if(this.successView_&&a&&a.force||this.isCollapse!==b)a=(this.isCollapse=b)&&!c?this.searchBarArea.w:0,b=b&&!c?this.searchBarArea.h:0,this.viewer_().send("setSearchBarArea",a,b);this.viewer_().relayout()}},
this);this.dbClickActive_=!1}function bd(a){this.mapTileManager_=a}function Rb(a){this.onClick=new n;this.onOver=new n;this.onLeave=new n;this.roadview_=a;this.roadview_.mouseenter(this.overRoadView_.bind(this));this.infoBody=jQuery("#info\\.body")}function xc(){var a=new tb;a.add(h.$("search.tab1"),h.$("info.main"));a.add(h.$("search.tab2"),h.$("info.route"));a.add(h.$("search.tab3"),h.$("info.bus"));a.add(h.$("search.tab4"),h.$("info.subway"));a.add(h.$("search.tab5"),h.$("info.my"));h.$("search.tab1").onClick.add(this.showMap_,
this);h.$("search.tab2").onClick.add(this.showCarRoute_,this);h.$("search.tab3").onClick.add(this.showBus_,this);h.$("search.tab4").onClick.add(this.showSubway_,this);h.$("search.tab5").onClick.add(this.showFavorite_,this);this.onChange=new n}function Qb(){this.buttons_=[];this.values_=[];this.texts_=[];this.onChange=new n}function ya(a){this.onShow=new n;this.onHide=new n;this.onFail=new n;this.profileController=a;this.param=null;this.dimmedLayer=jQuery("#dimmedLayer");this.viewElem=document.getElementById("shareUrl");
this.options={key:"f1ab6f35a17e777d7e3e72c59fb40b03",url:jQuery('meta[property="og:url"]').attr("content"),shortUrl:"",title:jQuery('meta[property="og:title"]').attr("content"),desc:jQuery('meta[property="og:description"]').attr("content"),image:jQuery('meta[property="og:image"]').attr("content"),serviceName:"\uce74\uce74\uc624\ub9f5"};this.options.image=0>this.options.image.indexOf("http")?"https:"+this.options.image:this.options.image;this.mWebUrl=require("url").MMAP;this.shareMain=new socialshareRenewal.Main(document.getElementsByTagName("title")[0],
this.createContext());this.shareMain.on("api:share",this.shareLog);this.appSchemeInfo=this.context=null;this.hide=this.hide.bind(this);this.shareMain.snsView.on("clickShareButton",this.hide);this.shareMain.snsView.on("clickHideLayer",this.hide)}function rb(a){function b(){2!=B&&(B=j(),y.removeClass().addClass("subwayLegendZoom zoom_"+B))}function c(){0!=B&&(B=l(),y.removeClass().addClass("subwayLegendZoom zoom_"+B))}function d(a){switch(a.id){case "print":p.click("route","go_subway_print");o();break;
case "showFiy":p.click("route","go_subway_fiy");r();break;case "favorite":if(p.click("favorite",["subway_route","route_results"]),a=a.fav)Application.favoriteController.add(a,"subway_route_results");else if(a=x())a=t.createSubway(a.startStation,a.endStation,I,Da),Application.favoriteController.add(a,"subway_route_results")}}function e(b){if(!xa){xa=new Lc;xa.onClick.add(d,this);hb.addChild(xa);var c=setInterval(function(){A.Application&&Application.favoriteController&&(Application.favoriteController.onChangeItem.add(function(){xa.updateFav()}.bind(this)),
clearInterval(c))}.bind(this),500)}if(b){b=x();if(!b)return;b=t.createSubway(b.startStation,b.endStation,I,Da);xa.updateFav(b);xa.setVisible(!0)}else xa.setVisible(!1);a.updateHeight()}function f(){return C?h:null}function g(a){h=a.ref;m();k()}function j(){try{if(f()&&f().zoomIn)return f().zoomIn()}catch(a){}}function l(){try{if(f()&&f().zoomOut)return f().zoomOut()}catch(a){}}function m(){try{f()&&f().clearSubwayLine&&f().clearSubwayLine()}catch(a){}}function k(){try{f()&&f().initSubwayFlash&&f().initSubwayFlash()}catch(a){}}
function v(){try{if(f()&&f().isRouted)return f().isRouted(R,Y)}catch(a){}return!1}function o(){var a=A.encodeURIComponent(R),b=A.encodeURIComponent(Y),c=I,d=na?JSON.stringify(na):"";ob("",670,610,{name:"print"});var e=document.subway_print_form;e.cityCode.value=c;e.STARTID.value=a?a:"";e.ENDID.value=b?b:"";e.jsonData.value=d;e.method="post";e.action="./subway/subwayLinemapPrint";e.target="print";e.submit()}function r(){Application.fiyFrameController.openCustomerRequest({type:"general",category:"D",
channel:"ROUTE_LIST_SUBWAYSTATION"});p.click("subway","go_fiy")}function x(){return{startStation:{name:G,id:R,coords:K},endStation:{name:E,id:Y,coords:Z}}}var q=this.onLoad=new n,s=this.onSubwayName=new n;this.onRouteFirstLoad=new n;this.onClearSubway=new n;var u=this.onClearSubwayLine=new n,w=this.onResetQuickLineEvent=new n,C=!1,h=null,I="",R=null,Y=null,G="",E="",K=null,Z=null,na=null,Da=2,xa=null,aa=jQuery("#view\\.subway\\.flash");aa.bind("DOMMouseScroll",function(a){0>a.originalEvent.detail?
b():0<a.originalEvent.detail&&c()});var z=0;aa.bind("mousewheel",function(a){z+=a.originalEvent.wheelDelta;-150>z?(z=0,c()):150<z&&(z=0,b())});var y=jQuery("#subwayLegend\\.zoom"),B=0;y.find(".zoomin").on("click",b);y.find(".zoomout").on("click",c);A.onSubwayRouteEvent=function(){};A.onResetSubwayRouteEvent=function(){Application.subwaySearchController.reset()};A.onClearSubwayLineEvent=function(){u.notify()};A.onSubwayFlashLoad=function(){C=!0;setTimeout(function(){q.notify()},10)};A.showSubwayStationInfo=
function(a,b){b&&"quickLine"==b?open(require("url").DAUM_PLACE+a+"#timeTableSection"):open(require("url").DAUM_PLACE+a);p.click("subway","flash_stationinfo")};A.subwayRoutingOnMap=function(){p.click("subway","flash_mapview")};A.onChangeSubwayFlag=function(a,b,c){s.notify({type:"start"==a?"origin":"dest",name:b,stationId:c,regionId:I})};A.onResetQuickLineEvent=function(){w.notify()};A.g=f;this.onSubwayRouteEvent=function(a,b,c,d,e,f,g,j){onSubwayRouteEvent(a,b,c,d,e,f,g,j)};this.setToolbarVisible=
function(a){e(a)};this.setStartCoords=function(a){K=a};this.getStartCoords=function(){return K};this.setEndCoords=function(a){Z=a};this.getEndCoords=function(){return Z};this.setStartStationName=function(a){G=a};this.getStartStationName=function(){return G};this.setEndStationName=function(a){E=a};this.getEndStationName=function(){return E};this.setStartStationId=function(a){R=a};this.getStartStationId=function(){return R};this.setEndStationId=function(a){Y=a};this.getEndStationId=function(){return Y};
this.getObject=function(){return f()};this.setObject=function(a){!C&&"object"==typeof swfobject&&swfobject.embedSWF(a,"view.subway.flash.object","100%","100%","9.0.0",!1,{routeServer:require("url").SUBWAY_ROUTER_HOST},{wmode:"opaque",allowscriptaccess:"always"},{name:"view.subway.flash.object"},g)};this.clearObject=function(){if(C){aa.html("");var a=jQuery('<div id="view.subway.flash.object"></div>');aa.append(a);C=!1}B=0;na=null;y.removeClass().addClass("subwayLegendZoom")};this.zoomIn=function(){j()};
this.zoomOut=function(){l()};this.displaySubwayLine=function(a){try{f()&&f().displaySubwayLine&&f().displaySubwayLine(a)}catch(b){}};this.clearSubwayLine=function(){m()};this.routeSubway=function(a,b,c){try{f()&&f().routeSubway&&f().routeSubway(a,b,c)}catch(d){}};this.initSubwayFlash=function(){k()};this.initSubway=function(){E=G=Y=R="";na=Z=K=null};this.isRouted=function(){return v};this.printPopup=function(){o()};this.printSubwayLineMap=function(){try{f()&&f().printSubwayLineMap&&f().printSubwayLineMap()}catch(a){}};
this.showFiyInfo=function(){r()};this.setRegionId=function(a){I=a};this.getRegionId=function(){return I};this.getCateByRegionId=function(a){return rb.cateId[a]||"11"};this.printInfo=function(){o()};this.drawRoute=function(a,b,c){try{f()&&f().drawRoute&&f().drawRoute(a,b,c),na=c}catch(d){}};this.showQuickLine=function(a){try{a?f()&&f().showQuickLine&&f().showQuickLine():f()&&f().hideQuickLine&&f().hideQuickLine()}catch(b){}};this.isLoaded=function(){return C}}function cd(a){fa(this,rd);this.onShowMap=
new n;this.onPrint=new n;this.data_=a}function Ud(a,b,c){fa(this,rd);this.onClick=new n;this.name_=b;this.tiaraCode_=c;this.panel_=a;this.panel_.onClick.add(this.click_,this)}function Ja(a){this.ih=this.iw=1E3;this.h=this.w=220;this.panTimer=this.vy=this.vx=this.py=this.px=this.ay=this.ax=this.oy=this.ox=0;this.SCALE=8;this.GRID=[20,40,void 0,void 0,Infinity];this.WEIGHT=[-8,-4,0,4,8];this.sId_=this.direction_="";this.viewer_=h.$("subwayoverviewer");this.imgPanel_=h.$("subwayoverviewer.image");this.walkerPanel_=
h.$("subwayoverviewer.walker");this.onEnter=new n;this.onLeave=new n;this.onChangedPanorama=new n;a.frameDecorator.onResize.add(this.didFrameResize_,this);this.imgPanel_.toPane().on({load:this.updateImageSize.bind(this),mousedown:this.onMapGrab_.bind(this)});this.walkerPanel_.toPane().mousedown(this.onWalkerGrab_.bind(this));this.viewer_.toPane().on({dragstart:!1,selectstart:!1})}function tb(){this.index_=0;this.button_=[];this.panel_=[];this.onChange=new n}function Ta(a,b,c,d,e){fa(this,Cb);this.panels_=
new tb;this.panel_=d;this.panel_.onItem.add(this.setRoute_,this);this.panel_.onSearchBtnClick.add(function(a){this.onSearchBtnClick.notify(a)},this);h.$("info.flagsearch").addChild(this.panel_);this.panels_.add(null,this.panel_);this.panel_.hide();this.routeController_=b;this.routeController_.setView(this.panel_);this.onSearchBtnClick=new n;this.onResult=new n;this.onActive.add(this.changeActive_,this);this.interStatus_=this.interRoutes_=this.routeStatus_=this.route_=this.routes_=this.mkey_=null;
this.infoWindowManager_=c;this.windowController_=e;this.otherRoute_=null;this.panel_.onWrapOver.add(function(a){var b=null,b="inner"==a.type?this.routes_[a.index]:this.interRoutes_[a.index-this.routes_.length];b.buildPaths();b!=this.route_&&this.showOtherRoute_(b)},this);this.panel_.onWrapOut.add(function(){this.hideOtherRoute_()},this);this.panel_.onItemDetail.add(function(){this.hideOtherRoute_()},this);this.activeIdx_=0;this.windowController_.onHeightChange.add(function(){if(this.getActive()&&
this.panel_.goToTopBtn){var a=h.$("info.body").getElement();a.scrollHeight>a.clientHeight?this.panel_.goToTopBtn.show():this.panel_.goToTopBtn.hide()}},this)}function rd(){}function kc(a){if(!(this instanceof arguments.callee))return new arguments.callee(a);this._viewLayout=a;this.onCollapseToggle=new n;this.onClickAdBanner=new n;this.onHeightChange=new n;var b=new tb;b.add(null,h.$("info.main.home"));b.add(null,h.$("info.search"));b.add(null,h.$("info.noSuchPlace"));b.add(null,h.$("info.noPlaceInBounds"));
b.add(null,h.$("info.noThemePlace"));b.add(null,h.$("info.noPlaceInBounds"));b=new tb;b.add(null,h.$("info.route.home"));b.add(null,h.$("info.flagsearch"));b=new tb;b.add(null,h.$("info.busIntro"));b.add(null,h.$("info.bus.search"));b=new tb;b.add(null,h.$("info.subway.intro"));b.add(null,h.$("info.subwayInfo"));this.buildAdButtons_();h.$("shadow.toggle").onClick.add(this.toggleInfo,this);jQuery(A).on("resize",this.updateHeight.bind(this));this.updateHeight();this.collapse_=!1}function xb(a,b){if(!(this instanceof
arguments.callee))return new arguments.callee(a,b);var c=0;this.trigger=function(){clearTimeout(c);c=setTimeout(function(){b()},a)};this.stop=function(){clearTimeout(c);c=0}}function lc(a){console.assert(0<a);this.timeout_=a;this.onAction=new n;this.action_=this.onAction.notify.bind(this.onAction)}function n(a){this.observer_=[];a&&a.onLoad&&(this.loadHandler_=a.onLoad)}function F(a,b){return jQuery(Vd.render({AccidentInfoWindow:'<div class="InfoWindow AccidentInfoWindow">\r\n    <div class="top"></div>\r\n    <div class="body">\r\n        <strong data-id="title"><em>(\uc0ac\uace0)</em> \uc0ac\ud3c9\ub85c</strong>\r\n        <blockquote data-id="desc">\uac15\ubcc0\ub300\ub85c (\uc0ac\ud3c9\uc9c0\ud558\ucc28\ub3c4 \u2192 \ubc18\ud3ec\ub098\ub4e4\ubaa9) \uc0bc\ud638\uac00\ub4e0\ub9e8\uc158\uc55e4\uac70\ub9ac \uc870\uae08 \ubabb \uac04 \uc9c0\uc810 1\ucc28\ub85c \uc2b9\uc6a9\ucc28, \ud654\ubb3c\ucc28 \ucd94\ub3cc\uc0ac\uace0\ub85c \uc815\uccb4</blockquote>\r\n        <p data-id="period" class="DOTUM">2018.07.27 09:00 ~ 2018.08.03 17:00</p>\r\n        <div data-id="provider" class="provider HIDDEN">\uae30\ubd84\uc88b\uc740 \ubc29\uc1a1 TBS \uc815\ubcf4\uc13c\ud130 \uc81c\uacf5</div>\r\n        <button type="button" data-id="close" class="closebox">\ub2eb\uae30</button>\r\n    </div>\r\n    <div class="bottom"></div>\r\n</div>\r\n',
AddressFlagItemView:'<li class="AddressFlagItemView">\r\n\t<span class="flag"></span>\r\n\t<span class="name" title="{{name}}">{{{nameHtml}}}</span>\r\n</li>',AddressInfoWindow:'<div class="AddressInfoWindow InfoWindow{{#is2depth}} AddressInfoWindow-2depth{{/is2depth}}">\r\n    <div class="top"></div>\r\n    <div class="body">\r\n        <button type="button" data-id="close" class="img_tooltip ico_close">\ub2eb\uae30</button>\r\n        <div class="head_tooltip">\r\n            <strong data-id="name" class="placename">{{refinedName}}</strong>\r\n        </div>\r\n        <div class="content">\r\n            {{#isDead}}\r\n            <p data-id="deadAddr" class="deadAddr"><span class="ico"></span>\uc8fc\uc18c\uc640 \uc704\uce58\uac00 \uc815\ud655\ud558\uc9c0 \uc54a\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>\r\n            {{/isDead}}\r\n            {{#d3HName}}\r\n            <p data-id="hAddr" class="hAddr"><span class="ico">\ud589\uc815\ub3d9</span><span class="txt">{{d3HName}}</span></p>\r\n            {{/d3HName}}\r\n            {{#subAddr}}\r\n            <p data-id="related" class="related {{type}}">({{typeName}})<span class="txt">{{prefix}} {{address}}</span></p>\r\n            {{/subAddr}}\r\n            <p data-id="wrapZip" class="wrapZip HIDDEN">\r\n                {{#zonecode}}\r\n                <span class="zip">(\uc6b0) {{zonecode}}</span>\r\n                {{#buildingName}}\r\n                <span class="bar"></span>\r\n                {{/buildingName}}\r\n                {{/zonecode}}\r\n                {{#buildingName}}\r\n                <span class="building">{{buildingName}}</span>\r\n                {{/buildingName}}\r\n            </p>\r\n            <p class="contact">\r\n                {{^hideModify}}\r\n                <a href="#none" data-id="report" class="report">\uc815\ubcf4\uc218\uc815</a>\r\n                {{/hideModify}}\r\n            </p>\r\n        </div>\r\n        <div data-id="toolbar" class="toolbar"></div>\r\n    </div>\r\n    <div class="bottom"></div>\r\n</div>\r\n',
AddressItemView:'<li class="AddressItem clickArea">\n    <strong data-id="screenOutName" class="screen_out"></strong>\n    <div data-id="btnsWrap" class="utile_addr">\n        <a href="#none" data-id="fav" class="link_fav">\n            <span class="ico_fav">\uc990\uaca8\ucc3e\uae30</span><span class="num"></span>\n        </a>\n        <div data-id="routeBtn" class="DirectionItemInfoBtn DirectionItemInfoBtn-small">\n            <button type="button">\uae38\ucc3e\uae30</button>\n        </div>\n    </div>\n    <div class="txt_addr clickArea">\n        <a href="#none" data-id="name" class="link_addr"></a>\n        <div data-id="subList" class="wrapFolding"></div>\n        <span data-id="wrapZip" class="wrapZip"></span>\n    </div>\n</li>\n',
AddressItemViewSubList:'<div>\n    <strong class="screen_out">\uc720\uc0ac\uc8fc\uc18c \uc120\ud0dd\uc0c1\uc790</strong>\n    <em class="screen_out">\uc120\ud0dd\ub0b4\uc6a9 :</em>\n    <span class="txt_older">({{infowindowSubAddress.typeName}})</span>\n    <div class="select_folder">\n        <a href="#none" data-id="btnFolder" class="folder">{{infowindowSubAddress.address}}<span data-id="moreIcon" class="ico_folder_addr"></span></a>\n        <em class="screen_out">\uc120\ud0dd\uc635\uc158</em>\n        <ul class="subList">\n            {{#subList}}\n            <li>\n                <a href="#" class="txt" data-x="{{x}}" data-y="{{y}}" data-address="{{address}}">{{address}}</a>\n            </li>\n            {{/subList}}\n        </ul>\n    </div>\n</div>',
AreaToolDetail:'<div class="AreaToolDetail">\r\n\t<ul data-id="info">\r\n\t\t<li>\r\n\t\t\t<span class="detailToolLabel">\ucd1d\uba74\uc801</span>\r\n\t\t\t<strong data-id="area"></strong>\r\n\t\t\t<span data-id="unit"></span>\r\n\t\t</li>\r\n\t\t<li class="detailToolClose">\r\n\t\t\t<a href="#" data-id="hider">\ub2eb\uae30</a>\r\n\t\t</li>\r\n\t</ul>\r\n    <p data-id="help" class="help"><em>\ubd80\ubd84\ucde8\uc18c</em> : \ubc31\uc2a4\ud398\uc774\uc2a4<br/><em>\uc9c0\uc815\uc644\ub8cc</em> : \ub9c8\uc6b0\uc2a4 \uc624\ub978\ucabd, ESC</p>\r\n</div>\r\n',
BikeFunctionToolBarView:'<div class="BikeFunctionToolBarView">\n\t<a href="#none" data-id=\'print\' class="print">\uacbd\ub85c\uc778\uc1c4</a>\n\t<a href="#none" data-id=\'alook\' class="alook">\uacbd\ub85c \ud55c\ub208\uc5d0</a>\n    <a href="#none" data-id=\'favorite\' class="favorite">\n        <span class="ico_fav">\n            <span class="num">0</span>\n        </span>\n        \uc990\uaca8\ucc3e\uae30\n    </a>\n</div>',BikeGroupPointItemView:'<li class="BikeGroupPointItemView">\r\n\t\r\n\t<div class="BikeGroupPointItemViewWrap">\r\n\t\t<div class="detailIcoWrap" data-id="detailIcoWrap">\r\n\t\t\t<div data-id="bikeSeqIcon" class="bikeSeqIcon"></div>\r\n\t\t\t<div data-id="pre_bikeline" class="pointBikeLine"></div>\r\n\t\t</div>\r\n\t\t<div class="bikeDetail">\r\n\t\t\t<h5><a href="#" data-id="title"></a></h5>\r\n\t\t\t<div data-id="desc" class="desc"></div>\r\n\t\t</div>\r\n\t\t<div class="icoRight">\r\n\t\t\t<a href="#" data-id="roadview" class="roadviewWrap screen_visible"></a>\r\n\t\t\t<a href="#" data-id="action" class="action">\ubc29\ud5a5</a>\r\n\t\t</div>\r\n\t</div>\r\n</li>',
BikePointGroupView:'<div class="BikePointGroupView">\r\n\t<div class="headbg"></div>\r\n\t<div class="summary" data-id="summary">\r\n\t\t<a class="detailBtn off" data-id="detailBtn"></a>\r\n\t\t<div class="groupinfo">\r\n\t\t\t<span class="time" data-id="time"></span>\r\n\t\t\t<span class="bar">|</span>\r\n\t\t\t<span class="distance" data-id="distance"></span>\r\n\t\t</div>\r\n\t\t<div class="groupNumber" data-id="groupNumber">\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="briefdesc" data-id="briefdesc"></div>\r\n\t<ol data-id="detail" class="detail"></ol>\r\n\t<div class="bottombg"></div>\r\n</div>',
BikePointItemView:'<li class="BikePointItemView">\r\n\t<div class="seqWrap">\r\n\t\t<span data-id="seq" class="seq"></span>\r\n\t</div>\r\n\t<div class=\'bikeDetail\' >\r\n\t\t<div class=\'innerDetail\' >\r\n\t\t\t<a data-id="title" href="#" ></a>\r\n\t\t\t<p data-id="desc" class="desc"></p>\r\n\t\t\t<p data-id="gradient" class="gradient"></p>\r\n\t\t</div>\r\n\t</div>\r\n\t<span data-id="icons" class="icons">\r\n\t\t<span data-id="action" class="action"></span>\r\n\t\t<span data-id="state" class="state"></span>\r\n\t</span>\r\n\t<div data-id="roadview" class="roadviewWrap"></div>\r\n</li>',
BikeRouteItemView:'<li class="BikeRouteItem">\r\n\t<div data-id="summary" class="BikeRouteSummaryView">\r\n\t\t<div class="contents">\r\n\t\t\t<span data-id="mode" class="mode"></span>\r\n\t\t\t<p class="header">\r\n\t\t\t\t<span data-id="time" class="time"></span>\r\n\t\t\t\t<span data-id="distance" class="distance"></span>\r\n\t\t\t</p>\r\n\t\t\t<div data-id="info" class="info">\r\n\t\t\t\t <span data-id="altitude" class="altitude"></span><span data-id="calories" class="calories"></span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div data-id="graph" class="graph"></div>\r\n\t\t<a href="#" class="selectBtn"></a>\r\n\t</div>\r\n\t<div data-id="detail" class="detail">\r\n\t\t<ul data-id="list" class="list"></ul>\r\n\t</div>\r\n</li>',
BikeRouteLegend:'<div class="BikeRouteLegend HIDDEN">\n\t<ul class="wrap">\n\t\t<li class="normalRoad">\uc77c\ubc18\ub3c4\ub85c</li>\n\t\t<li class="bikeRoad">\uc790\uc804\uac70\ub3c4\ub85c</li>\n\t</ul>\n</div>',BikeRouteResultView:'<div class="BikeRouteResultView">\r\n\t<ul data-id="list" class="list"></ul>\r\n\t<div class="notice">\r\n\t\t<span class="first" >\uc18c\uc694\uc2dc\uac04\uc740 \uc790\uc804\uac70 \ud3c9\uc18d 20km/h \ub0b4\uc678\ub85c \ud658\uc0b0\ud558\uc5ec \uc81c\uacf5\ub429\ub2c8\ub2e4.</span>\r\n\t\t<\!--\r\n\t\t<a href="#" class="second" data-id="openDetail">\uc815\ubcf4 \uc81c\uacf5\uc758 \ud55c\uacc4\uc640 \ucc45\uc784</a>\r\n\r\n\t\t<div class="notice_detail HIDDEN" data-id="detailBox">\r\n\t\t\t<h2>\uc815\ubcf4 \uc81c\uacf5\uc758 \ud55c\uacc4\uc640 \ucc45\uc784 \uc548\ub0b4</h2>\r\n\t\t\t<p>(\uc8fc)\uce74\uce74\uc624\uc5d0\uc11c \uc81c\uacf5\ud558\ub294 \uc790\uc804\uac70 \uae38\ucc3e\uae30\ub294 \uc790\uc804\uac70 \uc804\uc6a9 \ub3c4\ub85c\ub97c \uc6b0\uc120\uc73c\ub85c \uc548\ub0b4\ud558\uba70, \uc790\uc804\uac70 \uc804\uc6a9 \ub3c4\ub85c\uac00 \uc5c6\uc744 \uacbd\uc6b0\uc5d0\ub294 \uc790\ub3d9\ucc28 \uacbd\ub85c \uc815\ubcf4(\uc790\ub3d9\ucc28 \uc804\uc6a9 \ub3c4\ub85c\ub294 \uc81c\uc678)\ub85c \uc548\ub0b4\ud569\ub2c8\ub2e4.</p>\r\n\t\t\t<p>\ub3c4\ub85c \uc815\ubcf4\uac00 \uc218\uc9d1\ub418\uc9c0 \uc54a\uac70\ub098 \ucd5c\uc2e0 \uc815\ubcf4\ub85c \uac31\uc2e0\ub418\uc9c0 \uc54a\uc740 \uc77c\ubd80 \uc9c0\uc5ed\uc758 \uacbd\uc6b0 \uc798\ubabb\ub41c \uacbd\ub85c\ub85c \uc548\ub0b4\ub420 \uc218 \uc788\uc73c\ub2c8 <strong>\ubcf8 \uc11c\ube44\uc2a4 \uc815\ubcf4\ub294 \ubc18\ub4dc\uc2dc \ucc38\uace0 \uc790\ub8cc\ub85c\ub9cc \ud65c\uc6a9\ud558\uc2dc\uae38 \ubc14\ub78d\ub2c8\ub2e4. \ubcf8 \uc11c\ube44\uc2a4\uc5d0\uc11c \uc81c\uacf5\ud55c \uc815\ubcf4\ub97c \uc774\uc6a9\ud558\uc5ec \uc790\uc804\uac70 \uc8fc\ud589\uc2dc \ubc1c\uc0dd\ud558\ub294 \uc0ac\uace0 \ub4f1\uc5d0 \ub300\ud574\uc11c \ub2f9\uc0ac\ub294 \ubc95\uc801 \ucc45\uc784\uc744 \uc9c0\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.</strong></p>\r\n\t\t\t<p>\uc790\uc804\uac70 \uc8fc\ud589 \uc2dc \uad00\uacc4 \ubc95\ub839\uc744 \uc900\uc218\ud558\uace0 \ud604\uc7a5 \uc0c1\ud669\uc5d0 \ub9de\uac8c \uc548\uc804 \uc6b4\ud589 \ud558\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4.</p>\r\n\t\t\t<img class="close" data-id="closeDetail" src="//t1.daumcdn.net/localimg/localimages/07/2017/pc/ico_noti_x.png" width="16" height="16" alt="\ub2eb\uae30"/>\r\n\t\t</div>\r\n\t\t--\>\r\n\t</div>\r\n\t<div class="info_top">\r\n\t\t<a href="#none" class="link_top HIDDEN" data-id=\'goToTop\' >\uc704\ub85c \uac00\uae30</a>\r\n\t</div>\r\n    <div class="info_fixroute">\r\n        \uae38\ucc3e\uae30 \uc815\ubcf4\uac00 \uc798\ubabb\ub418\uc5c8\ub098\uc694?<br>\uc798\ubabb\ub41c \uc815\ubcf4 \uc81c\ubcf4\ub294 \uc9c0\ub3c4 \ud488\uc9c8 \ud5a5\uc0c1\uc5d0 \ud070 \ub3c4\uc6c0\uc774 \ub429\ub2c8\ub2e4.\r\n        <a href="#none" class="link_fixroute" data-id=\'fixRoute\' >\r\n            \ud2c0\ub9b0\uc815\ubcf4 \uc2e0\uace0\r\n        </a>\r\n    </div>\r\n</div>',
BookmarkCoachmarkView:'<div class="coach_layer coach_layer_type3" style="top:670px;left:373px"><\!-- \ub808\uc774\uc5b4\uc5d0 \ub530\ub978 \ucf54\uce58\ub9c8\ud06c \uc704\uce58(top,left) \uc7a1\uc544\uc8fc\uc138\uc694 --\><\!-- coach_layer_type1 : \ucd9c\ubc1c\uacbd\uc720\ub3c4\ucc29 / coach_layer_type2 : \uc9c0\ub3c4\uc124\uc815 / coach_layer_type3 : \uc7a5\uc18c\uc800\uc7a5\ud558\uae30 --\>\n     <div class="inner_coach_layer">\n         <div class="layer_body">\n         \t<img src="//t1.daumcdn.net/localimg/localimages/07/2018/pc/coachMark/bg_coach.png" width="250" height="250" alt="" class="img_bg">\n         \t<div class="view_coach">\n\t     \t\t<span class="ico_coach2"><\!-- \ubc84\ud2bc \ub450\uac1c\uc77c \uacbd\uc6b0\uc6a9 \ud074\ub798\uc2a4(.ico_coach2) \uc801\uc6a9 --\></span>\n\t     \t\t<strong class="tit_coach">\uc7a5\uc18c \uc800\uc7a5\ud558\uae30</strong>\n\t     \t\t<p class="desc_coach">\uc990\uaca8\ucc3e\ub294 \uc7a5\uc18c\ub97c \uc800\uc7a5\ud558\uace0<br>MY\ud398\uc774\uc9c0\uc5d0\uc11c \ud655\uc778\ud558\uc138\uc694.</p>\n     \t\t</div>\n         </div>\n     </div>\n</div>\n',
BusDetailInfo:'<div>\r\n    <div data-id="firstLast">\r\n        <strong class="title">\uc6b4\ud589\uc2dc\uac04</strong>\r\n        <table>\r\n            <caption class="ir_caption">\uae30\uc810, \ud68c\ucc28\ubcc4 \uc6b4\ud589\uc2dc\uac04</caption>\r\n            <tbody data-id="firstLastList"></tbody>\r\n        </table>\r\n    </div>\r\n    <div data-id="interval">\r\n        <strong class="title">\ubc30\ucc28\uac04\uaca9</strong>\r\n        <p data-id="intervalList" class="desc_interval"></p>\r\n    </div>\r\n</div>',
BusFilterSelectBoxView:'<div class="FilterSelectBoxView">\n    <strong class="screen_out">\uc804\uccb4\uc720\ud615 \uc120\ud0dd\uc0c1\uc790</strong>\n    <em class="screen_out">\uc120\ud0dd\ub0b4\uc6a9 :</em>\n    <div data-id="label" class="label"></div>\n    <em class="screen_out">\uc120\ud0dd\uc635\uc158</em>\n    <ul data-id="options" class="list_opt HIDDEN"></ul>\n</div>\n',BusItemView:'<li class="BusItem clickArea">\n    <span data-id="screenOutName" class="screen_out"></span>\n    <a href="#none" data-id="fav" class="link_fav">\n        <span class="ico_fav">\uc990\uaca8\ucc3e\uae30</span><span class="num"></span>\n    </a>\n    <div data-id="para" class="para">\n        <strong class="busline clickArea">\n            <span data-id="bustype" class="bustype"></span>\n            <a href="#none" data-id="name" class="name"></a>\n            <span data-id="region" class="addr"></span>\n        </strong>\n        <p class="startEnd clickArea">\n            <span data-id="start" class="start"></span>\n            <span class="busarrow">\uc5d0\uc11c</span>\n            <span data-id="end" class="end"></span>\n        </p>\n    </div>\n</li>\n',
BusMessageView:'<div class="BusMessageView">\n\t<div data-id="current" class="line">\n\t\t<p data-id="currenttext" class="desc_search"></p>\n\t\t<div data-id="currentupperparagraph" class="paragraph ">\n            <div data-id="currentupperwrap" class="wrap">\n                <strong class="screen_out">\ub3d9\uba85\uc9c0\uc5ed \uc120\ud0dd\uc0c1\uc790</strong>\n                <em class="screen_out">\uc120\ud0dd\ub0b4\uc6a9 :</em>\n                <a data-id="currentupperlabel" class="label"></a>\n                <em class="screen_out">\uc120\ud0dd\uc635\uc158</em>\n            </div>\n\t\t\t<p data-id="currentuppertext" class="desc_search text"></p>\n\t\t</div>\n\t\t<div data-id="currentlowerparagraph" class="paragraph ">\n\t\t\t<div data-id="currentlowerwrap">\n\t\t\t\t<a data-id="currentlowerlabel" class="label"></a>\n\t\t\t</div>\n\t\t\t<p data-id="currentlowertext" class="desc_search text"></p>\n\t\t</div>\n\t</div>\n\t<div data-id="next" class="line">\n\t\t<a href="#none" data-id="nexttext" class="link_search"></a>\n\t\t<div data-id="nextupperparagraph" class="paragraph ">\n            <div data-id="nextupperwrap">\n                <strong class="screen_out">\ub3d9\uba85\uc9c0\uc5ed \uc120\ud0dd\uc0c1\uc790</strong>\n                <em class="screen_out">\uc120\ud0dd\ub0b4\uc6a9 :</em>\n                <a data-id="nextupperlabel" class="label"></a>\n                <em class="screen_out">\uc120\ud0dd\uc635\uc158</em>\n            </div>\n\t\t\t<p data-id="nextuppertext" class="desc_search text"></p>\n\t\t</div>\n\t\t<div data-id="nextlowerparagraph" class="paragraph ">\n\t\t\t<div data-id="nextlowerwrap">\n\t\t\t\t<a data-id="nextlowerlabel" class="label"></a>\n\t\t\t</div>\n\t\t\t<p data-id="nextlowertext" class="desc_search text"></p>\n\t\t</div>\n\t</div>\n</div>\n',
BusNumberLineItemView:'<li class="BusNumberLineItemView">\r\n    <div class="busNumberWrap">\r\n        <span data-id="line" class="line">\r\n            <span class="pointBar"></span>\r\n            <span class="point"></span>\r\n            <span data-id="speedBar" class="speedBar HIDDEN"></span>\r\n        </span>\r\n        <strong data-id="stopname" class="busstop">{{stopname}}</strong>\r\n        <p data-id="busid" class="busid">{{busid}}</p>\r\n        <span class="turningpoint HIDDEN" data-id="turningpoint">\ud68c\ucc28</span>\r\n        <span data-id="nonstop" class="HIDDEN">\ubbf8\uc815\ucc28</span>\r\n    </div>\r\n    <a href="#none" data-id="fav" class="ICON-fav">\uc990\uaca8\ucc3e\uae30</a>\r\n</li>',
BusStopGroupInfoWindow:'<div class="BusStopGroupInfoWindow InfoWindow">\n\t<div class="top"></div>\n\t<div class="body" data-id="body">\n\t\t<button type="button" class="ICON-closebox closebox" data-id="close" title="\ub2eb\uae30"></button>\n\t\t<h6>\uc774 \uc8fc\ubcc0\uc758 \ubc84\uc2a4\uc815\ub958\uc7a5</h6>\n\t</div>\n\t<div class="bottom"></div>\n\t<div class="tail tail1"></div>\n\t<div class="tail tail2"></div>\n\t<div class="tail tail3"></div>\n\t<div class="tail tail4"></div>\n\t<div class="tail tail5"></div>\n\t<div class="tail tail6"></div>\n\t<div class="tail tail7"></div>\n\t<div class="tail tail8"></div>\n</div>\n',
BusStopGroupInfoWindowItem:'<table class="item">\n\t<tbody>\n\t\t<tr>\n\t\t\t<td class="title">\n\t\t\t\t<a href="#" class="name" data-id="name"></a>\n\t\t\t\t<div data-id="codenames"></div>\n\t\t\t</td>\n\t\t\t<td class="desc"><div class="types" data-id="types"></div></td>\n\t\t</tr>\n\t</tbody>\n</table>',BusStopInfoWindow:'<div class="InfoWindow BusStopInfoWindow">\r\n    <div class="top"></div>\r\n    <div class="body">\r\n        <button type="button" data-id="close" class="img_tooltip ico_close">\ub2eb\uae30</button>\r\n        <div class="head_tooltip">\r\n            <strong class="placename" data-id="name"></strong>\r\n        </div>\r\n        <span class="idlist">\r\n            <span class="busCode">\r\n                <span data-id="codename" class="codename HIDDEN"></span>\r\n                <span class="codeinfo">\r\n                    <a href="#none" data-id="report" class="report">\uc815\ubcf4\uc218\uc815</a>\r\n                </span>\r\n            </span>\r\n        </span>\r\n        <div data-id="toolbar" class="toolbar"></div>\r\n        <div data-id="progressbar" class="progressbar">\r\n            <p class="progressbartitle">\uc2e4\uc2dc\uac04 \ubc84\uc2a4\uc815\ubcf4</p>\r\n        </div>\r\n        <div class="list list_busstop">\r\n            <ul data-id="list"></ul>\r\n        </div>\r\n    </div>\r\n    <div class="bottom"></div>\r\n</div>',
BusStopItemView:'<li class="BusStopItem clickArea">\n    <span data-id="screenOutName" class="screen_out"></span>\n    <div data-id="btnsWrap" class="utile_item">\n        <a href="#none" data-id="fav" class="fav">\n            <span class="ico_fav">\uc990\uaca8\ucc3e\uae30</span><span class="num"></span>\n        </a>\n        <a href="#none" data-id="roadview" class="roadview HIDDEN">\ub85c\ub4dc\ubdf0</a>\n        <button data-id="routeBtn" type="button" class="DirectionItemInfoBtn">\uae38\ucc3e\uae30</button>\n    </div>\n    <div class="para">\n        <strong class="tit_name clickArea">\n            <a href="#none" data-id="icon" class="num clickArea"></a>\n            <a href="#none" data-id="name" class="name"></a>\n            <span data-id="direction" class="txt_cate HIDDEN"></span>\n        </strong>\n        <div data-id="infoWrap" class="infowrap">\n            <span data-id="busCodes" class="busCode HIDDEN"></span>\n            <p data-id="region" class="region"></p>\n            <div data-id="bustype" class="bustypes clickArea"></div>\n        </div>\n    </div>\n</li>\n',
BusStopLineItemView:'<li class="BusStopLineItemView">\r\n    <strong class="screen_out" data-id="title"></strong>\r\n    <button type="button" data-id="fav" class="fav">\uc990\uaca8\ucc3e\uae30</button>\r\n    <span data-id="status" class="status">\ub3c4\ucc29\uc608\uc815\uc815\ubcf4 \uc5c6\uc74c</span>\r\n    <a href="#none" data-id="name" class="stopname"></a>\r\n</li>',BusStopRouteInfoWindowContent:'<div class="BusStopRouteInfoWindowContent">\r\n\t<div data-id="busInfo" class="busInfo">\r\n\t\t{{#moreRoute}}<span class="desc" data-id="desc">{{moreRoute}}</span>{{/moreRoute}}{{#time}}, <span class="time" data-id="time">{{time}}</span> \uc18c\uc694{{/time}}\r\n\t</div>\r\n\t<div class="valuable">\r\n\t\t<span class="busTotal">\ucd1d <span data-id="busCnt"></span>\ub300 \ubc84\uc2a4 \ud0d1\uc2b9 \uac00\ub2a5</span>\r\n\t\t<a href="#" data-id="refresh" class="refresh">refresh</a>\r\n\t</div>\r\n\t<ul data-id="list"></ul>\r\n</div>',
CarRouteItemView:'<li class="CarRouteItem">\r\n\t<div data-id="summary" class="summary"></div>\r\n\t<div data-id="detail" class="detail"></div>\r\n</li>',CarRoutePaySettingView:'<div class="CarRoutePaySettingView route_layer" style="top:187px"><\!-- 2018-12-18_v2 : route_layer \ud074\ub798\uc2a4 \ucd94\uac00 --\><\!-- 2018-12-18_v2 : \uc778\ub77c\uc778 top\uac12 \uc7a1\uc544\uc8fc\uc138\uc694 --\>\r\n\t<div class="inner_route_layer"><\!-- 2018-12-18_v2 \ucd94\uac00 : form \uac10\uc2f8\ub294 \uc694\uc18c(div.inner_route_layer) \ucd94\uac00 --\>\r\n\t\t<form data-id="paySettingForm" onsubmit="return false;">\r\n\t\t\t<fieldset>\r\n\t\t\t\t<\!-- <legend class="screen_out">\uc694\uae08\uc124\uc815 \ud3fc</legend> 2018-12-18_v2 \uc0ad\uc81c --\>\r\n\t\t\t\t<\!-- 2018-12-18_v2 \ucd94\uac00 : \ub808\uc774\uc5b4 \ud0c0\uc774\ud2c0 \uc601\uc5ed \ucd94\uac00 --\>\r\n\t\t\t\t<div class="layer_head">\r\n                    <strong class="tit_routeset">\uc694\uae08\uc124\uc815<span class="screen_out">\ub808\uc774\uc5b4</span></strong>\r\n                </div>\r\n                <\!--// 2018-12-18_v2 \ucd94\uac00 : \ub808\uc774\uc5b4 \ud0c0\uc774\ud2c0 \uc601\uc5ed \ucd94\uac00 --\>\r\n                <div class="layer_body">\r\n\t\t\t\t\t<div class="pay_setting">\r\n\t\t\t\t\t\t<strong class="ico_pathfind tit_setting">\ud1b5\ud589\ub8cc- \ucc28\uc885 \uc124\uc815</strong>\r\n\t\t\t\t\t\t<ul class="list_setting">\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<input type="radio" id="radioCarType1" class="inp_car" data-id="radioCarType1" name="choiceCar"><\!-- 2018-12-18_v2 : name \uc18d\uc131 \ucd94\uac00(\uc120\ud0dd\ubc94\uc704\uc758 name\uac12 \ub3d9\uc77c\ud558\uac8c \uc124\uc815) --\>\r\n\t\t\t\t\t\t\t\t<label for="radioCarType1" class="lab_car">\r\n\t\t\t\t\t\t\t\t\t<\!-- <span data-id="radioCarSpan1" class="ico_pathfind ico_choiced"></span> 2018-12-18_v2 \uc0ad\uc81c --\><span class="tit_sort">1\uc885</span><\!-- 2018-12-18_v2 \ucd94\uac00 : span.tit_sort \ucd94\uac00 --\><\!-- : --\> \uc2b9\uc6a9\ucc28, \uc18c\ud615 \uc2b9\ud569\ucc28\r\n\t\t\t\t\t\t\t\t</label><\!-- 2018-12-18_v2 \uc218\uc815 : \ud14d\uc2a4\ud2b8\uc218\uc815(:\uc0ad\uc81c) --\>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<input type="radio" id="radioCarType2" class="inp_car" data-id="radioCarType2" name="choiceCar"><\!-- 2018-12-18_v2 : name \uc18d\uc131 \ucd94\uac00(\uc120\ud0dd\ubc94\uc704\uc758 name\uac12 \ub3d9\uc77c\ud558\uac8c \uc124\uc815) --\>\r\n\t\t\t\t\t\t\t\t<label for="radioCarType2" class="lab_car">\r\n\t\t\t\t\t\t\t\t\t<\!-- <span data-id="radioCarSpan2" class="ico_pathfind"></span> 2018-12-18_v2 \uc0ad\uc81c --\><span class="tit_sort">2\uc885</span><\!-- 2018-12-18_v2 \ucd94\uac00 : span.tit_sort \ucd94\uac00 --\><\!-- : --\> \uc911\ud615 \uc2b9\ud569\ucc28, \uc911\ud615 \ud654\ubb3c\ucc28\r\n\t\t\t\t\t\t\t\t</label><\!-- 2018-12-18_v2 \uc218\uc815 : \ud14d\uc2a4\ud2b8\uc218\uc815(:\uc0ad\uc81c) --\>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<input type="radio" id="radioCarType3" class="inp_car" data-id="radioCarType3" name="choiceCar"><\!-- 2018-12-18_v2 : name \uc18d\uc131 \ucd94\uac00(\uc120\ud0dd\ubc94\uc704\uc758 name\uac12 \ub3d9\uc77c\ud558\uac8c \uc124\uc815) --\>\r\n\t\t\t\t\t\t\t\t<label for="radioCarType3" class="lab_car">\r\n\t\t\t\t\t\t\t\t\t<\!-- <span data-id="radioCarSpan3" class="ico_pathfind"></span> 2018-12-18_v2 \uc0ad\uc81c --\><span class="tit_sort">3\uc885</span><\!-- 2018-12-18_v2 \ucd94\uac00 : span.tit_sort \ucd94\uac00 --\><\!-- : --\> \ub300\ud615 \uc2b9\ud569\ucc28, 2\ucd95 \ub300\ud615 \ud654\ubb3c\ucc28\r\n\t\t\t\t\t\t\t\t</label><\!-- 2018-12-18_v2 \uc218\uc815 : \ud14d\uc2a4\ud2b8\uc218\uc815(:\uc0ad\uc81c) --\>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<input type="radio" id="radioCarType4" class="inp_car" data-id="radioCarType4" name="choiceCar"><\!-- 2018-12-18_v2 : name \uc18d\uc131 \ucd94\uac00(\uc120\ud0dd\ubc94\uc704\uc758 name\uac12 \ub3d9\uc77c\ud558\uac8c \uc124\uc815) --\>\r\n\t\t\t\t\t\t\t\t<label for="radioCarType4" class="lab_car">\r\n\t\t\t\t\t\t\t\t\t<\!-- <span data-id="radioCarSpan4" class="ico_pathfind"></span> 2018-12-18_v2 \uc0ad\uc81c --\><span class="tit_sort">4\uc885</span><\!-- 2018-12-18_v2 \ucd94\uac00 : span.tit_sort \ucd94\uac00 --\><\!-- : --\> 3\ucd95 \ub300\ud615 \ud654\ubb3c\ucc28\r\n\t\t\t\t\t\t\t\t</label><\!-- 2018-12-18_v2 \uc218\uc815 : \ud14d\uc2a4\ud2b8\uc218\uc815(:\uc0ad\uc81c) --\>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t<input type="radio" id="radioCarType5" class="inp_car" data-id="radioCarType5" name="choiceCar"><\!-- 2018-12-18_v2 : name \uc18d\uc131 \ucd94\uac00(\uc120\ud0dd\ubc94\uc704\uc758 name\uac12 \ub3d9\uc77c\ud558\uac8c \uc124\uc815) --\>\r\n\t\t\t\t\t\t\t\t<label for="radioCarType5" class="lab_car">\r\n\t\t\t\t\t\t\t\t\t<\!-- <span data-id="radioCarSpan5" class="ico_pathfind"></span> 2018-12-18_v2 \uc0ad\uc81c --\><span class="tit_sort">5\uc885</span><\!-- 2018-12-18_v2 \ucd94\uac00 : span.tit_sort \ucd94\uac00 --\><\!-- : --\> 4\ucd95 \uc774\uc0c1 \ud2b9\uc218\ud654\ubb3c\ucc28\r\n\t\t\t\t\t\t\t\t</label><\!-- 2018-12-18_v2 \uc218\uc815 : \ud14d\uc2a4\ud2b8\uc218\uc815(:\uc0ad\uc81c) --\>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t<li class="lst">\r\n\t\t\t\t\t\t\t\t<input type="radio" id="radioCarType6" class="inp_car" data-id="radioCarType6" name="choiceCar"><\!-- 2018-12-18_v2 : name \uc18d\uc131 \ucd94\uac00(\uc120\ud0dd\ubc94\uc704\uc758 name\uac12 \ub3d9\uc77c\ud558\uac8c \uc124\uc815) --\>\r\n\t\t\t\t\t\t\t\t<label for="radioCarType6" class="lab_car">\r\n\t\t\t\t\t\t\t\t\t<\!-- <span data-id="radioCarSpan6" class="ico_pathfind"></span> 2018-12-18_v2 \uc0ad\uc81c --\><span class="tit_sort">6\uc885</span><\!-- 2018-12-18_v2 \ucd94\uac00 : span.tit_sort \ucd94\uac00 --\><\!-- : --\> \uacbd\ucc28\r\n\t\t\t\t\t\t\t\t</label><\!-- 2018-12-18_v2 \uc218\uc815 : \ud14d\uc2a4\ud2b8\uc218\uc815(:\uc0ad\uc81c) --\>\r\n\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t<a href="http://www.ex.co.kr/site/com/pageProcess.do?oneDpMnNo=&amp;selDpPgNm=menuno%3D100401011&amp;selDpMnNo=&amp;paramStr=&amp;detailTp=&amp;dirNm=portal&amp;kwd=" target="_blank" class="link_office">\ud55c\uad6d\ub3c4\ub85c\uacf5\uc0ac</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class="pay_setting refuel_setting">\r\n\t\t\t\t\t\t<strong class="ico_pathfind tit_setting">\uc8fc\uc720\ube44 \uc124\uc815</strong>\r\n\t\t\t\t\t\t<dl class="list_type">\r\n\t\t\t\t\t\t\t<dt class="tit_refuel">\r\n\t\t\t\t\t\t\t\t<label for="setRefuel" class="screen_out">\uc720\uc885</label><\!-- 2018-12-18_v2 \uc218\uc815 : class\uc18d\uc131 \ucd94\uac00 --\>\r\n\t\t\t\t\t\t\t</dt>\r\n\t\t\t\t\t\t\t<dd class="detail_refuel">\r\n\t\t\t\t\t\t\t\t<div data-id="setRefuel" class="opt_pathfind opt_open"><\!-- 2018-12-18_v2 : opt_open \ud074\ub798\uc2a4\ub85c \uc635\uc158\ubc15\uc2a4 \ud65c\uc131\ud654 --\>\r\n\t\t\t\t\t\t\t\t\t<div class="screen_out">\uc8fc\uc720 \uc885\ub958 \uc120\ud0dd\uc0c1\uc790</div>\r\n\t\t\t\t\t\t\t\t\t<span class="screen_out">\uc120\ud0dd\ub0b4\uc6a9 : </span>\r\n\t\t\t\t\t\t\t\t\t<a href="#" class="img_pathfind link_selected" data-id="setRefuelText">\ud718\ubc1c\uc720</a>\r\n\t\t\t\t\t\t\t\t\t<div class="screen_out">\uc120\ud0dd\uc635\uc158</div>\r\n\t\t\t\t\t\t\t\t\t<ul class="list_opt">\r\n\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t<a href="#" class="link_option" data-id="gasoline">\ud718\ubc1c\uc720</a>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t<a href="#" class="link_option" data-id="light">\uacbd\uc720</a>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t\t\t<a href="#" class="link_option" data-id="lpg">LPG</a>\r\n\t\t\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<\!-- <span data-id="refuelDate">2018.09.11</span> \uae30\uc900 \uc720\uac00<em class="txt_value emph_value" data-id="refuelPrice">1,630\uc6d0/L</em> 2018-12-18_v2 \uc0ad\uc81c : \uae30\uc900\uc720\uac00\uc815\ubcf4 \uc704\uce58\uc774\ub3d9\uc73c\ub85c \uc778\ud55c \uc0ad\uc81c --\>\r\n\t\t\t\t\t\t\t</dd>\r\n\t\t\t\t\t\t\t<dt class="tit_refuel tit_mileage">\r\n\t\t\t\t\t\t\t\t<label for="setMileage" class="screen_out">\uc5f0\ube44</label><\!-- 2018-12-18_v2 \uc218\uc815 : class\uc18d\uc131 \ucd94\uac00 --\>\r\n\t\t\t\t\t\t\t</dt>\r\n\t\t\t\t\t\t\t<dd class="detail_refuel detail_mileage">\r\n\t\t\t\t\t\t\t\t<\!-- \uc5f0\ub8cc1L\ub2f9 \uc8fc\ud589\uac70\ub9ac --\><input type="text" id="setMileage" maxlength="6" class="inp_mileage" data-id="setMileage" placeholder="\uc8fc\ud589\uac70\ub9ac">km / 1L\r\n\t\t\t\t\t\t\t</dd><\!-- 2018-12-18_v2 \uc218\uc815 : \ud14d\uc2a4\ud2b8 \uc0ad\uc81c(\uc5f0\ub8cc1L\ub2f9 \uc8fc\ud589\uac70\ub9ac),\uae30\uc900 \ud14d\uc2a4\ud2b8 \ucd94\uac00( / 1L) --\>\r\n\t\t\t\t\t\t</dl>\r\n\t\t\t\t\t\t<span class="txt_base">\r\n\t\t\t\t\t\t\t<span data-id="refuelDate">2018.09.11</span> \uae30\uc900 \uc720\uac00 <em class="txt_value emph_value" data-id="refuelPrice">1,630\uc6d0/L</em><\!-- 2018-12-18_v2 \ucd94\uac00 : \uae30\uc900\uc720\uac00\uc815\ubcf4 \uc704\uce58\uc774\ub3d9\uc73c\ub85c \uc778\ud55c \ucd94\uac00 --\>\r\n\t\t\t\t\t\t</span><\!-- 2018-12-18_v2 \ucd94\uac00 : \uae30\uc900\uc720\uac00\uc815\ubcf4 \uac10\uc2f8\ub294 span.txt_base \ucd94\uac00 --\>\r\n\t\t\t\t\t\t<a href="http://www.opinet.co.kr/index.do?cmd=main" target="_blank" class="link_office">\ud55c\uad6d\uc11d\uc720\uacf5\uc0ac<\!--  opinet --\></a><\!-- 2018-12-18_v2 \uc218\uc815 : \ud14d\uc2a4\ud2b8 \uc218\uc815 --\>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<button type="submit" class="btn_setting">\ud655\uc778</button><\!-- 2018-12-18_v2 \ucd94\uac00 --\>\r\n\t\t\t\t\t<ul class="list_setcaution">\r\n\t\t\t\t\t\t<li>\uc8fc\uc720\ube44, \ud1b5\ud589\ub8cc \uc815\ubcf4\ub294 \uc8fc\uc720\uc18c \uac00\uaca9 \ubc0f  \ud1b5\ud589\uc2dc\uac04\uc5d0 \ub530\ub77c \ub2ec\ub77c\uc9c8 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</li><\!-- 2018-12-18_v2 \uc218\uc815 : \ud074\ub798\uc2a4(.ico_pathfind) \uc0ad\uc81c --\>\r\n\t\t\t\t\t\t<li>\ud574\ub2f9 \uc11c\ube44\uc2a4 \uacb0\uacfc\ub294 \uc608\uc0c1 \ube44\uc6a9\uc73c\ub85c, \ucc38\uace0\uc6a9\uc73c\ub85c\ub9cc \uc774\uc6a9\ud574 \uc8fc\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4.</li><\!-- 2018-12-18_v2 \uc218\uc815 : \ud074\ub798\uc2a4(.ico_pathfind) \uc0ad\uc81c --\>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t\t<\!-- <button type="submit" class="img_pathfind btn_setting">\uc124\uc815\uc644\ub8cc</button> 2018-12-18_v2 \uc0ad\uc81c --\>\r\n\t\t\t\t</div><\!-- 2018-12-18_v2 \ucd94\uac00 : [div.pay_setting + ul.list_setcaution + button.btn_settin] \uac10\uc2f8\ub294 div.layer_body \ucd94\uac00 --\>\r\n\t\t\t\t<\!-- 2018-12-18_v2 : \ub2eb\uae30 \ubc84\ud2bc \ucd94\uac00 --\>\r\n\t\t\t\t<div class="layer_foot">\r\n\t\t            <a href="#" class="btn_close" data-id=\'closeBtn\'>\uc694\uae08\uc124\uc815 \ub808\uc774\uc5b4 \ub2eb\uae30</a>\r\n\t\t        </div>\r\n\t\t\t\t<\!--// 2018-12-18_v2 : \ub2eb\uae30 \ubc84\ud2bc \ucd94\uac00 --\>\r\n\t\t\t</fieldset>\r\n\t\t</form>\r\n\t</div>\r\n</div>',
CarRouteResultView:'<div class="info_pathfind"> <\!-- \uc694\uae08\uc124\uc815 \uc120\ud0dd\uc2dc paysetting_on \ud074\ub798\uc2a4 \ucd94\uac00  --\>\r\n\t<div class="menu_pathfind" data-id=\'menu\' >\r\n\t\t<div data-id="option" class="opt_pathfind"> <\!-- \uc635\uc158 \uc120\ud0dd\uc2dc opt_open \ud074\ub798\uc2a4 \ucd94\uac00 --\>\r\n\t\t\t<div class="screen_out">\uae38\ucc3e\uae30 \uc885\ub958 \uc120\ud0dd\uc0c1\uc790</div>\r\n\t\t\t<span class="screen_out">\uc120\ud0dd\ub0b4\uc6a9 : </span>\r\n\t\t\t<a href="#" data-id="optionText" class="img_pathfind link_selected">\ucd5c\uc801\uacbd\ub85c</a>\r\n\t\t\t<div class="screen_out">\uc120\ud0dd\uc635\uc158</div>\r\n\t\t\t<ul class="list_opt">\r\n\t\t\t\t<li><a href="#" data-id="recomm" class="link_option">\ucd5c\uc801\uacbd\ub85c</a></li>\r\n\t\t\t\t<li><a href="#" data-id="freeway" class="link_option">\ubb34\ub8cc\uacbd\ub85c</a></li>\r\n\t\t\t\t<li><a href="#" data-id="shortest" class="link_option">\ucd5c\ub2e8\uac70\ub9ac</a></li>\r\n\t\t\t\t<li><a href="#" data-id="bike" class="link_option">\uc790\ub3d9\ucc28\uc804\uc6a9\uc81c\uc678</a></li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t\t<div class="inner_pathfind">\r\n\t\t\t<div data-id="realtime" class="check_live">\r\n\t\t\t\t<input type="checkbox" data-id="realCheckBox" id="checkLive" class="inp_live">\r\n\t\t\t\t<label for="checkLive" class="lab_live">\uc2e4\uc2dc\uac04</label>\r\n\t\t\t</div>\r\n\t\t\t<span class="txt_bar" data-id="realtimeBar" >|</span>\r\n\t\t\t<a href="#none" data-id="payset" class="link_payset link_payon">\uc694\uae08\uc124\uc815</a>\r\n\t\t</div>\r\n\t</div>\r\n</div>',
CarRouteSummaryView:'<div class="CarRouteSummaryView">\r\n\t<div class="contents">\r\n\t\t<p class="header">\r\n\t\t\t<span data-id="time" class="time"></span>\r\n\t\t\t<span data-id="distance" class="distance"></span>\r\n\t\t</p>\r\n\t\t<div class="info">\r\n\t\t\t<span data-id="toll" class="toll HIDDEN"></span>\r\n\t\t\t<span data-id="split-taxi" class="split HIDDEN">|</span>\r\n\t\t\t<span data-id="taxi" class="taxi HIDDEN"></span>\r\n\t\t\t<span data-id="split-oil" class="split HIDDEN">|</span>\r\n\t\t\t<span data-id="oil" class="oil HIDDEN"></span>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="ferryNodeInfo">\r\n\t\t<span class="icoNotice"></span>\r\n\t\t<div class="ferryNotice">\r\n\t\t\t<strong>\uc774 \uacbd\ub85c\ub294 \ud398\ub9ac\ud56d\ub85c\uac00 \ud3ec\ud568\ub418\uc5c8\uc2b5\ub2c8\ub2e4.</strong>\r\n\t\t\t<p>\ud398\ub9ac\ud56d\ub85c\uc758 \uc18c\uc694\uc2dc\uac04\uc740 35km/h\ub85c \ud658\uc0b0\ud558\uc5ec \uc81c\uacf5\ub429\ub2c8\ub2e4.<br>\uc2e4\uc81c \uc18c\uc694\uc2dc\uac04\uacfc \ub2e4\ub97c \uc218 \uc788\uc73c\ub2c8 \ucc38\uace0 \ubd80\ud0c1\ub4dc\ub9bd\ub2c8\ub2e4.</p>\r\n\t\t</div>\r\n\t</div>\r\n</div>',
CctvInfoWindow:'<div class="InfoWindow CctvInfoWindow">\r\n    <div class="top"></div>\r\n    <div class="body">\r\n        <strong></strong>\r\n        <div data-id="dimmed" class="cctvDimmed HIDDEN">\r\n            <\!-- 2018-09-12 dimmedView \ucd94\uac00 --\>\r\n            <div class="dimmedView">\r\n                <span data-id="dimmedText" class="dimmedText"></span>\r\n                <a href="#" data-id="play" class="play">\ubcf4\uae30</a>\r\n            </div>\r\n            <div class="dimmedLayer"></div>\r\n        </div>\r\n        <div class="cctv_video_target"></div>\r\n        <blockquote>\r\n            <p class="notice_top"></p>\r\n            <p class="notice_bottom"></p>\r\n        </blockquote>\r\n        <button type="button" data-id="close" class="closebox ICON-closebox">\ub2eb\uae30</button>\r\n    </div>\r\n    <div class="bottom"></div>\r\n</div>',
CheckpointItemGroupView:'<li class="CheckpointItemGroupView">\n\t<\!--\n\t<div class="headbg"></div>\n\t<div data-id="summary" class="summary">\n\t\t<a data-id="detailBtn" class="detailBtn" href="#"></a>\n\t\t<div class="expressInfo">\n\t\t\t<span data-id="time" class="time"></span>\n\t\t\t<span class="bar">|</span>\n\t\t\t<span data-id="distance" class="distance"></span>\n\t\t</div>\n\t\t<img data-id="icon" class="expressIcon" />\n\t\t<strong data-id="name" class="expressName"></strong>\n\t</div>\n\t<div data-id="overview" class="overview"></div>\n\t<ol data-id="checkpoints"></ol>\n\t<div class="bottombg"></div>\n\t--\>\n\n\t<\!-- 2018-08-01 \uc218\uc815 \uc2dc\uc791 --\>\n\t<div data-id="summary" class="summary">\n\t\t<span data-id="icon" class="expressIcon">1</span>\n\t\t<strong data-id="name" class="expressName">\uacbd\ubd80\uace0\uc18d\ub3c4\ub85c</strong>\n\t\t<div class="expressInfo">\n\t\t\t<span data-id="time" class="time">0\ubd84</span>,\n\t\t\t<span data-id="distance" class="distance">5.2km</span>\n\t\t</div>\n\t\t<a href="#none" data-id="detailBtn" class="detailBtn">\uc0c1\uc138 \uc5f4\uae30/\ub2eb\uae30</a>\n\t</div>\n\t<div data-id="overview" class="overview">\n\t\t<\!--\n\t\t<span class="sectionImg seqIcon first" style="background-position: -30px -30px;"></span><span>\ud310\uad50IC ~</span><span class="sectionImg seqIcon" style="background-position: -60px -30px;"></span><span>\ud310\uad50TG </span>\n\t\t--\>\n\t</div>\n\t<ol data-id="checkpoints">\n\t</ol>\n\t<\!-- // 2018-08-01 \uc218\uc815 \ub05d --\>\n</li>',
CheckpointItemView:'<li class="CheckpointItem">\n\t<div class="seqWrap">\n\t\t<span data-id="seq" class="seq">1</span>\n\t</div>\n\t<div class="info_name">\n\t\t<div class="inner_name">\n\t\t\t<a data-id="name" class="name HIDDEN" href="#none"></a>\n\t\t\t<a data-id="desc" class="info noname" href="#none"></a>\n\t\t</div>\n\t</div>\n\t<div data-id="traffic" class="traffic">\n\t\t<div data-id="arrow" class="arrow rotate_a traffic_moderate"></div>\n\t\t<div data-id="state" class="state"></div>\n\t</div>\n\t<a href="#none" data-id="roadview" class="roadview">\ub85c\ub4dc\ubdf0</a>\n\t<ul data-id="accident" class="accContainer"></ul>\n</li>\n',
DistanceToolDetail:'<div class="DistanceToolDetail">\n\t<ul>\n\t\t<li data-id="relativeWrap">\n\t\t\t<span class="detailToolLabel">\uc0c1\ub300\uac70\ub9ac</span>\n\t\t\t<strong data-id="relativeDistance">0</strong>\n\t\t\t<span data-id="relativeDistanceUnit">m</span>\n\t\t</li>\n\t\t<li>\n\t\t\t<span class="detailToolLabel">\ucd1d\uac70\ub9ac</span>\n\t\t\t<strong data-id="totalDistance">0</strong>\n\t\t\t<span data-id="totalDistanceUnit">m</span>\n\t\t</li>\n\t\t<li>\n\t\t\t<span class="detailToolLabel">\ub3c4\ubcf4</span>\n\t\t\t<span class="HIDDEN" data-id="walkHour"><strong>0</strong>\uc2dc\uac04 </span>\n\t\t\t<strong data-id="walkMin">0</strong>\ubd84\n\t\t</li>\n\t\t<li>\n\t\t\t<span class="detailToolLabel">\uc790\uc804\uac70</span>\n\t\t\t<span class="HIDDEN" data-id="bicycleHour"><strong>0</strong>\uc2dc\uac04 </span>\n\t\t\t<strong data-id="bicycleMin">0</strong>\ubd84\n\t\t</li>\n\t\t<li class="detailToolClose">\n\t\t\t<a href="#" data-id="hider">\ub2eb\uae30</a>\n\t\t</li>\n\t</ul>\n    <p data-id="help" class="help"><em>\ubd80\ubd84\ucde8\uc18c</em> : \ubc31\uc2a4\ud398\uc774\uc2a4<br/><em>\uc9c0\uc815\uc644\ub8cc</em> : \ub9c8\uc6b0\uc2a4 \uc624\ub978\ucabd, ESC</p>\n</div>',
DupItemView:'<li class="DupItemView" >\r\n\t<span data-id="flag" class="dupFlag"></span>\r\n\t<button type="button" data-id="name" class="name"></button>\r\n</li>\r\n',DupListView:'<div class="DupListView">\r\n    <div class="dupTitleWrap">\r\n        <strong class="screen_out">\uad00\ub828\uc7a5\uc18c \uc120\ud0dd\uc0c1\uc790</strong>\r\n        <em class="screen_out">\uc120\ud0dd\ub0b4\uc6a9 :</em>\r\n        <a href="#none" class="dupTitle" data-id="dupToggle">\uad00\ub828\uc7a5\uc18c <em data-id="dup_cnt"></em></a>\r\n    </div>\r\n    <em class="screen_out">\uc120\ud0dd\uc635\uc158</em>\r\n    <ul class="duplist HIDDEN" data-id="duplist"></ul>\r\n</div>\r\n',
FavoriteFolderInfoView:'<table class="tbl_interlock">\n    <caption class="ir_caption">\ud3f4\ub354 \uc815\ubcf4</caption>\n    <colgroup>\n        <col style="width:57px">\n        <col>\n    </colgroup>\n    <tbody>\n    <tr>\n        <th scope="row">\ud3f4\ub354\uba85</th>\n        <td>{{title}}{{#isPrivate}}<span class="ico_lock">\ube44\uacf5\uac1c</span>{{/isPrivate}}</td>\n    </tr>\n    {{^isDefaultFolder}}{{#isMemo}}\n    <tr>\n        <th scope="row">\uc124\uba85</th>\n        <td>{{memo}}</td>\n    </tr>\n    {{/isMemo}}{{/isDefaultFolder}}\n    <tr>\n        <th scope="row">\uc791\uc131\uc790</th>\n        <td class="td_user">\n            <a data-id="profileLink" href="#none">\n                <span class="wrap_thumb">{{#isProfileImage}}<img src="{{profileThumbnail}}" width="17" height="17" class="img_user" alt=""/>{{/isProfileImage}}</span>{{nickName}}\n            </a>\n        </td>\n    </tr>\n    <tr>\n        <th scope="row">\uac1c\uc218</th>\n        <td>{{favoriteCount}}</td>\n    </tr>\n    {{^isDefaultFolder}}\n    <tr>\n        <th scope="row">\uad6c\ub3c5</th>\n        <td>{{subscribeCount}}</td>\n    </tr>\n    <tr>\n        <th scope="row">\uc870\ud68c</th>\n        <td>{{viewCount}}</td>\n    </tr>\n    <tr>\n        <th scope="row">\uc0dd\uc131\uc77c</th>\n        <td>{{createdAt}}</td>\n    </tr>\n    {{/isDefaultFolder}}\n    </tbody>\n</table>\n',
FavoriteFolderItemView:'<li class="FavoriteDirectoryItem{{#isDisabled}} FavoriteDirectoryItem-DISABLED{{/isDisabled}}{{#isReadonly}} READONLY{{/isReadonly}}">\n    {{^isReadonly}}\n    <input data-id="checkbox" type="checkbox" id="fav_{{folderId}}" class="inp_directory" value="{{folderId}}"/>\n    <label for="fav_{{folderId}}" class="ico_mypage lab_directory">\uc120\ud0dd\uc548\ub428</label>\n    {{/isReadonly}}\n    <div class="FavoriteInformationBundle">\n        <span class="ico_directory {{iconClass}}"></span><\!-- \uc544\uc774\ucf58 \ubaa8\uc591 \ubcc0\uacbd\uc2dc \ud074\ub798\uc2a4 \ucd94\uac00 \uc694\uccad --\>\n        {{#isDisabledSummaryUi}}\n        <div class="FavoriteReportDesc">\n            {{#isTempByOther}}\n            <p class="desc_report">\uc815\ubcf4\ud1b5\uc2e0\ub9dd\ubc95 \uc81c 44\uc870 2\ud56d\uc5d0 \uc758\ud574 \uc784\uc2dc\uc870\uce58 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.\n                <a href="http://www.kakao.com/policy/right" class="link_report" target="_blank">\uad8c\ub9ac\uce68\ud574 \uc2e0\uace0 \uc548\ub0b4</a>\n            </p>\n            {{/isTempByOther}}\n            {{#isAdminDelete}}\n            <p class="desc_report">\uc6b4\uc601\uc815\ucc45 \uc704\ubc18\uc73c\ub85c \uad00\ub9ac\uc790\uc5d0 \uc758\ud574 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4. </p>\n            {{/isAdminDelete}}\n        </div>\n        {{/isDisabledSummaryUi}}\n        {{^isDisabledSummaryUi}}\n        <div class="info_directory">\n            <div class="tit_directory">\n                {{#isDisabled}}\n                {{#isDelete}}\n                <span class="txt_report">\uc874\uc7ac\ud558\uc9c0 \uc54a\ub294 \ud3f4\ub354\uc785\ub2c8\ub2e4.</span>\n                {{/isDelete}}\n                {{#isPrivate}}\n                <span class="txt_report">\uc791\uc131\uc790\uc5d0 \uc758\ud574 \ube44\uacf5\uac1c \ucc98\ub9ac\ub41c \ud3f4\ub354\uc785\ub2c8\ub2e4.</span>\n                {{/isPrivate}}\n                {{#isTempByOwner}}\n                <span class="util_directory">{{#isPrivate}}<span class="ico_mypage ico_lock">\uc7a0\uae40</span>{{/isPrivate}}{{#isTheme}}<span\n                        class="ico_mypage ico_theme">\ud14c\ub9c8</span>{{/isTheme}}{{#isFixed}}<span class="ico_mypage ico_fix">\uace0\uc815</span>{{/isFixed}}</span>\n                <strong data-id="link" class="txt_directory"><a href="#none" class="link_txt">{{{title}}}</a></strong>\n                {{/isTempByOwner}}\n                {{/isDisabled}}\n                {{^isDisabled}}\n                <span class="util_directory">{{#isPrivate}}<span class="ico_mypage ico_lock">\uc7a0\uae40</span>{{/isPrivate}}{{#isTheme}}<span\n                        class="ico_mypage ico_theme">\ud14c\ub9c8</span>{{/isTheme}}{{#isFixed}}<span class="ico_mypage ico_fix">\uace0\uc815</span>{{/isFixed}}</span>\n                <strong data-id="link" class="txt_directory"><a href="#none" class="link_txt">{{title}}</a></strong>\n                {{/isDisabled}}\n            </div>\n            {{#isCountWrap}}\n            <div class="desc_directory">\n                <span class="info_refer">\n                    {{^isPageOwner}}\n                    <span class="txt_bar"></span>\n                    {{/isPageOwner}}\n                    <span class="txt_refer">\uac1c\uc218 <span class="num">{{favoriteCount}}</span></span>\n                    {{#subscribeCount}}\n                    <span class="txt_bar"></span>\n                    <span class="txt_refer">\uad6c\ub3c5 <span class="num">{{subscribeCount}}</span></span>\n                    {{/subscribeCount}}\n                </span>\n                {{^isPageOwner}}\n                <a href="#none" data-id="nickname" class="link_user"><span class="wrap_thumb">{{#isProfileImage}}<img src="{{profileThumbnail}}" width="14" height="14" class="img_user" alt=""/>{{/isProfileImage}}</span>{{nickName}}</a>\n                {{/isPageOwner}}\n            </div>\n            {{/isCountWrap}}\n        </div>\n        {{/isDisabledSummaryUi}}\n        <button type="button" data-id="more" class="btn_more"><span class="ico_mypage ico_more">\ub354\ubcf4\uae30</span></button>\n    </div>\n    {{#isTempByOwner}}\n    <div class="FavoriteReportDesc">\n        <p class="desc_report">\n            \uc815\ubcf4\ud1b5\uc2e0\ub9dd\ubc95 \uc81c 44\uc870 2\ud56d\uc5d0 \uc758\ud574 \uc784\uc2dc\uc870\uce58 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.<br>\n            <a href="http://www.kakao.com/policy/right" class="link_report" target="_blank">\uad8c\ub9ac\uce68\ud574 \uc2e0\uace0 \uc548\ub0b4</a>\n        </p>\n    </div>\n    {{/isTempByOwner}}\n    <div data-id="setting" class="FavoriteSettingLayer HIDDEN">\n        <ul class="list_opt">\n            {{#settings}}\n            <li data-id="{{action}}" data-value="{{value}}"><a href="#none" class="{{#isDimmed}}link_dimmed{{/isDimmed}}">{{name}}</a></li>\n            {{/settings}}\n        </ul>\n    </div>\n</li>\n',
FavoriteFooterView:'<div>\n    <div data-id="options" class="utile_edit HIDDEN">\n        <button data-id="select" type="button" class="btn_selectall">\uc804\uccb4 \uc120\ud0dd</button>\n        {{^isFolder}}\n        <span data-id="copySpan" class="btn_utile">\ubcf5\uc0ac</span>\n        <button data-id="copy" type="button" class="btn_utile HIDDEN">\ubcf5\uc0ac</button>\n        {{/isFolder}}\n        <span data-id="removeSpan" class="btn_utile">\uc0ad\uc81c</span>\n        <button data-id="remove" type="button" class="btn_utile HIDDEN">\uc0ad\uc81c</button>\n    </div>\n{{#isFolder}}\n    <button data-id="add" type="button" class="btn_addfolder"><span class="ico_function ico_addfolder"></span>\uc0c8 \ud3f4\ub354 \ucd94\uac00</button>\n    <button data-id="edit" type="button" class="btn_edit">\ud3b8\uc9d1\ud558\uae30</button>\n{{/isFolder}}\n{{^isFolder}}\n    {{#isShareable}}\n    <button data-id="share" type="button" class="btn_share"><span class="ico_function ico_share"></span>\uacf5\uc720\ud558\uae30</button>\n    {{/isShareable}}\n    {{^isShareable}}\n    <span data-id="share" class="btn_share"><span class="ico_function ico_share"></span>\uacf5\uc720\ud558\uae30</span>\n    {{/isShareable}}\n    <button data-id="info" type="button" class="btn_info">\ud3f4\ub354 \uc815\ubcf4</button>\n    {{#isEmpty}}\n    <span data-id="disabledEdit" class="btn_edit">\ud3b8\uc9d1\ud558\uae30</span>\n    {{/isEmpty}}\n    {{^isEmpty}}\n    <button data-id="edit" type="button" class="btn_edit">\ud3b8\uc9d1\ud558\uae30</button>\n    {{/isEmpty}}\n{{/isFolder}}\n</div>\n',
FavoriteHeaderView:'<div>\n{{#isFolder}}\n    {{#isOtherPage}}\n    <h2 class="screen_out">\ub2e4\ub978\uc0ac\ub78c \ud398\uc774\uc9c0</h2>\n    <button type="button" data-id="historyBack" class="ico_mypage btn_back">\ub4a4\ub85c\uac00\uae30</button>\n    <button type="button" data-id="more" class="btn_more"><span class="ico_mypage ico_more">\ub354\ubcf4\uae30</span></button>\n    <div data-id="setting" class="FavoriteSettingLayer HIDDEN">\n        <ul class="list_opt">\n            <li><a href="#none" data-id="report">\ud504\ub85c\ud544 \uc2e0\uace0</a></li>\n        </ul>\n    </div>\n    <button type="button" data-id="close" class="ico_mypage btn_close">\ub2eb\uae30</button>\n    <div class="FavoriteOtherProfile">\n        {{#selectInfo.isProfileImage}}\n        <img src="{{selectInfo.profileThumbnail}}" width="44" height="44" class="img_user" alt=""/>\n        {{/selectInfo.isProfileImage}}\n        {{^selectInfo.isReportProfile}}\n        <strong class="tit_user">\n            {{selectInfo.nickName}}{{#selectInfo.cp}}<span class="ico_mypage ico_official"></span>{{/selectInfo.cp}}&nbsp;\n        </strong>\n        {{/selectInfo.isReportProfile}}\n        {{#selectInfo.isReportProfile}}\n        {{#selectInfo.isTempProfile}}\n        <p class="tit_user">\uc2e0\uace0\uc5d0 \uc758\ud574 \uc784\uc2dc\uc870\uce58\ub41c \ud504\ub85c\ud544\uc785\ub2c8\ub2e4. <a href="http://www.kakao.com/policy/right" target="_blank" class="link_report">\uc548\ub0b4</a></p>\n        {{/selectInfo.isTempProfile}}\n        {{^selectInfo.isTempProfile}}\n        <p class="tit_user">\uc2e0\uace0\uc5d0 \uc758\ud574 \uc0ad\uc81c\ub41c \ud504\ub85c\ud544\uc785\ub2c8\ub2e4.</p>\n        {{/selectInfo.isTempProfile}}\n        {{/selectInfo.isReportProfile}}\n    </div>\n    {{^selectInfo.cp}}\n    <div data-id="tab" class="FavoriteOtherMethodType">\n        <ul>\n            <li data-type="favorite" class="ACTIVE"><a href="#none">\uc990\uaca8\ucc3e\uae30</a></li>\n            <li data-type="review"><a href="#none">\ud3c9\uac00</a></li>\n        </ul>\n    </div>\n    {{/selectInfo.cp}}\n    <div data-id="reviewFilters" class="info_result HIDDEN"></div>\n    <div data-id="folderFilters" class="info_result"></div>\n    {{/isOtherPage}}\n    {{^isOtherPage}}\n    <div data-id="folderFilters" class="info_result"></div>\n    {{/isOtherPage}}\n{{/isFolder}}\n\n{{^isFolder}}\n    <div class="FavoriteDetailSummary">\n        <h4 class="tit_summary">{{folderInfo.title}}</h4>\n        <div class="desc_summary">\n            {{#isSubscribeCount}}\n            <span class="txt_refer">\uad6c\ub3c5 <span class="num">{{folderInfo.subscribeCount}}</span></span><span class="bar"></span>\n            {{/isSubscribeCount}}\n            {{#isViewCount}}\n            <span class="txt_refer">\uc870\ud68c <span class="num">{{folderInfo.viewCount}}</span></span><span class="bar"></span>\n            {{/isViewCount}}\n\n            {{#isOtherPage}}\n            <a href="#none" data-id="profileLink" class="link_user">\n                <span class="wrap_thumb">\n                    {{#selectInfo.isProfileImage}}<img src="{{selectInfo.profileThumbnail}}" width="14" height="14" class="img_user" alt=""/>{{/selectInfo.isProfileImage}}\n                </span>\n                {{^selectInfo.isReportProfile}}{{selectInfo.nickName}}{{/selectInfo.isReportProfile}}\n                {{#selectInfo.isReportProfile}}\n                {{#selectInfo.isTempProfile}}\n                \uc784\uc2dc\uc870\uce58\ub41c \ud504\ub85c\ud544\uc785\ub2c8\ub2e4.\n                {{/selectInfo.isTempProfile}}\n                {{^selectInfo.isTempProfile}}\n                \uc0ad\uc81c\ub41c \ud504\ub85c\ud544\uc785\ub2c8\ub2e4.\n                {{/selectInfo.isTempProfile}}\n                {{/selectInfo.isReportProfile}}\n            </a>\n            {{/isOtherPage}}\n            {{^isOtherPage}}\n            <span class="txt_refer">{{#isPrivate}}<span class="ico_mypage ico_lock"></span>\ube44\uacf5\uac1c{{/isPrivate}}{{^isPrivate}}<span\n                    class="ico_mypage"></span>\uacf5\uac1c{{/isPrivate}}</span>\n            {{/isOtherPage}}\n        </div>\n        <a href="#none" data-id="detailBackBtn" class="ico_mypage btn_back">\ub4a4\ub85c\uac00\uae30</a>\n        {{#isOtherPage}}\n        <button type="button" data-id="detailCloseBtn" class="ico_mypage btn_close">\ub2eb\uae30</button>\n        {{/isOtherPage}}\n        <div data-id="favoriteFilters" class="info_summary"></div>\n    </div>\n\n    <div data-id="listNone" class="FavoriteEmptyPage HIDDEN">\n        <p class="desc_empty">\uc800\uc7a5\ud55c \uc990\uaca8\ucc3e\uae30\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.</p>\n    </div>\n{{/isFolder}}\n</div>\n',
FavoriteItemView:'<li class="FavoriteDetailItem{{#isDisabled}} FavoriteDirectoryItem-DISABLED{{/isDisabled}}{{#isRouteInfo}} FavoriteDetailItem-ROUTE{{/isRouteInfo}}">\n    <input data-id="checkbox" type="checkbox" id="fav_{{seq}}" class="inp_directory" value="{{seq}}"/>\n    <label for="fav_{{seq}}" class="ico_mypage lab_directory">\uc120\ud0dd\uc548\ub428</label>\n\n    <div class="FavoriteInformationBundle">\n        {{#isDisabledSummaryUi}}\n        <span class="ico_path"></span>\n        <div class="info_directory">\n            {{#isTempByOther}}\n            <p class="desc_report">\uc815\ubcf4\ud1b5\uc2e0\ub9dd\ubc95 \uc81c 44\uc870 2\ud56d\uc5d0 \uc758\ud574 \uc784\uc2dc\uc870\uce58 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.\n                <a href="http://www.kakao.com/policy/right" class="link_report" target="_blank">\uad8c\ub9ac\uce68\ud574 \uc2e0\uace0 \uc548\ub0b4</a>\n            </p>\n            {{/isTempByOther}}\n            {{#isAdminDelete}}\n            <p class="desc_report">\uc6b4\uc601\uc815\ucc45 \uc704\ubc18\uc73c\ub85c \uad00\ub9ac\uc790\uc5d0 \uc758\ud574 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4. </p>\n            {{/isAdminDelete}}\n        </div>\n        {{/isDisabledSummaryUi}}\n        {{^isDisabledSummaryUi}}\n        {{#isColorIcon}}\n        <span class="ico_favorite ico_{{typeClass}} type{{color}}"><span class="ico_favorite {{iconClass}}">{{typeName}}</span></span>\n        {{/isColorIcon}}\n        {{^isColorIcon}}\n        <span class="ico_path {{typeClass}}">{{typeName}}</span>\n        {{/isColorIcon}}\n        <div class="info_directory">\n            {{#isRouteInfo}}\n            <a data-id="link" href="#none" class="registerated_route">\n            {{#route_form}}\n                <span class="wrap_route">\n                    <span class="ico_interlock2 ico_{{iconClass}}">{{iconName}}</span>\n                    <span class="txt_route txt_{{iconClass}}">{{name}}</span>\n                </span>\n            {{/route_form}}\n            </a>\n            {{#memo}}\n            <div class="desc_directory">\n                {{#memo}}<p data-id="memo" class="desc_detail">{{memo}}</p>{{/memo}}\n            </div>\n            {{/memo}}\n            {{/isRouteInfo}}\n            {{^isRouteInfo}}\n            <div class="tit_directory">\n                <strong data-id="link" class="txt_directory">\n                    <a href="#none" class="link_txt">{{display1}}</a>\n                </strong>\n            </div>\n            {{#isDesc}}\n            <div class="desc_directory">\n                {{#isBusInfo}}\n                <span class="bustype {{busIconClass}}">{{busIconName}}</span>\n                {{#display2}}<span class="txt_address">{{display2}}</span>{{/display2}}\n                {{/isBusInfo}}\n                {{^isBusInfo}}\n                    {{#its_id}}<span class="num_codename num">{{its_id}}</span>{{#display2}}<span class="txt_bar"></span>{{/display2}}{{/its_id}}\n                    {{#display2}}<span class="desc_region">{{display2}}</span>{{/display2}}\n                {{/isBusInfo}}\n                {{#memo}}<p data-id="memo" class="desc_detail">{{memo}}</p>{{/memo}}\n            </div>\n            {{/isDesc}}\n            {{#isBuslines}}\n            <div class="bus_directory">\n                <strong class="screen_out">\ubc84\uc2a4</strong>\n                <ul data-id="busstopline" data-key="{{key}}"></ul>\n            </div>\n            {{/isBuslines}}\n            {{/isRouteInfo}}\n        </div>\n        {{/isDisabledSummaryUi}}\n        <button type="button" data-id="more" class="btn_more"><span class="ico_mypage ico_more">\ub354\ubcf4\uae30</span></button>\n    </div>\n    {{#isTempByOwner}}\n    <div class="FavoriteReportDesc">\n        <p class="desc_report">\n            \uc815\ubcf4\ud1b5\uc2e0\ub9dd\ubc95 \uc81c 44\uc870 2\ud56d\uc5d0 \uc758\ud574 \uc784\uc2dc\uc870\uce58 \ub418\uc5c8\uc2b5\ub2c8\ub2e4.<br/>\n            <a href="http://www.kakao.com/policy/right" class="link_report" target="_blank">\uad8c\ub9ac\uce68\ud574 \uc2e0\uace0 \uc548\ub0b4</a>\n        </p>\n    </div>\n    {{/isTempByOwner}}\n\n    <div data-id="setting" class="FavoriteSettingLayer HIDDEN">\n        <ul class="list_opt">\n            {{#settings}}\n            <li data-id="{{action}}" data-value="{{value}}"><a href="#none">{{name}}</a></li>\n            {{/settings}}\n        </ul>\n    </div>\n</li>\n',
FavoriteManageView:'<div class="FavoriteManageView favorite_layer HIDDEN">\n    <div data-id="folderInfoLayer" class="inner_favorite_layer inner_favorite_layer2">\n        <fieldset>\n            <div class="layer_head">\n                <strong class="tit_interlock">\ud3f4\ub354 \uc815\ubcf4</strong>\n            </div>\n            <div class="layer_body"></div>\n            <div class="layer_foot">\n                <a href="#none" class="btn_close">\ud3f4\ub354 \uc815\ubcf4 \ub808\uc774\uc5b4 \ub2eb\uae30</a>\n            </div>\n        </fieldset>\n    </div>\n    <div data-id="folderSelectLayer" class="inner_favorite_layer inner_favorite_layer6">\n        <div class="layer_head">\n            <strong class="tit_interlock">\ud3f4\ub354 \uc120\ud0dd</strong>\n        </div>\n        <div class="layer_body">\n            <ul class="list_folder">\n                <li class="ADD">\n                    <a href="#none" class="link_folder">\n                        <span class="ico_folder add"></span>\n                        <span class="tit_folder">\n                            <span class="utile_folder"></span>\n                            <strong class="txt_folder">\uc0c8 \ud3f4\ub354 \ucd94\uac00</strong>\n                        </span>\n                    </a>\n                </li>\n            </ul>\n        </div>\n        <div class="layer_foot">\n            <a href="#none" class="btn_close">\ub808\uc774\uc5b4 \ub2eb\uae30</a>\n        </div>\n    </div>\n    <div data-id="addFavoriteLayer" class="inner_favorite_layer inner_favorite_layer10">\n        <form autocomplete="off">\n            <fieldset>\n                <legend class="screen_out">\uc990\uaca8\ucc3e\uae30 \uc800\uc7a5 \ud3fc</legend>\n                <div class="layer_head">\n                    <strong class="tit_interlock">\uc990\uaca8\ucc3e\uae30 \uc800\uc7a5</strong>\n                </div>\n                <div class="layer_body">\n                    <div class="box_tf">\n                        <label for="display1" class="screen_out">\uc990\uaca8\ucc3e\uae30 \uc774\ub984</label>\n                        <input type="text" id="display1" class="tf_save" maxlength="200" readonly/>\n                    </div>\n                    <div class="box_tf">\n                        <label for="favMemo" class="screen_out">\uc124\uba85 \uc785\ub825</label>\n                        <input type="text" id="favMemo" class="tf_save" placeholder="\uc124\uba85\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694." maxlength="50" readonly/>\n                    </div>\n                    <strong class="screen_out">\uce74\ud14c\uace0\ub9ac \uc0c9 \uad6c\ubd84</strong>\n                    <ul class="list_inp">\n                        <\!-- .checked \ud074\ub798\uc2a4 \ubd80\uc5ec --\>\n                        <li data-color="01">\n                            <input type="radio" id="favoriteColor1" name="favoriteColor"/>\n                            <label for="favoriteColor1" class="type1">\ud0c0\uc7851</label>\n                        </li>\n                        <li data-color="02">\n                            <input type="radio" id="favoriteColor2" name="favoriteColor"/>\n                            <label for="favoriteColor2" class="type2">\ud0c0\uc7852</label>\n                        </li>\n                        <li data-color="03">\n                            <input type="radio" id="favoriteColor3" name="favoriteColor"/>\n                            <label for="favoriteColor3" class="type3">\ud0c0\uc7853</label>\n                        </li>\n                        <li data-color="04">\n                            <input type="radio" id="favoriteColor4" name="favoriteColor"/>\n                            <label for="favoriteColor4" class="type4">\ud0c0\uc7854</label>\n                        </li>\n                        <li data-color="05">\n                            <input type="radio" id="favoriteColor5" name="favoriteColor"/>\n                            <label for="favoriteColor5" class="type5">\ud0c0\uc7855</label>\n                        </li>\n                        <li data-color="06">\n                            <input type="radio" id="favoriteColor6" name="favoriteColor"/>\n                            <label for="favoriteColor6" class="type6">\ud0c0\uc7856</label>\n                        </li>\n                        <li data-color="07">\n                            <input type="radio" id="favoriteColor7" name="favoriteColor"/>\n                            <label for="favoriteColor7" class="type7">\ud0c0\uc7857</label>\n                        </li>\n                    </ul>\n                </div>\n                <div class="layer_foot">\n                    <button data-id="addOK" class="btn_submit">\uc644\ub8cc</button>\n                    <a href="#none" class="btn_close">\ub808\uc774\uc5b4 \ub2eb\uae30</a>\n                </div>\n            </fieldset>\n        </form>\n    </div>\n    <div data-id="addFolderLayer" class="inner_favorite_layer inner_favorite_layer11">\n        <form autocomplete="off">\n            <fieldset>\n                <input type="hidden" id="editFolderId"/>\n                <legend class="screen_out">\uc0c8 \ud3f4\ub354 \ucd94\uac00 \ud3fc</legend>\n                <div class="layer_head">\n                    <strong class="tit_interlock">\uc0c8 \ud3f4\ub354 \ucd94\uac00</strong>\n                </div>\n                <div class="layer_body">\n                    <div class="opt_interlock">\n                        <strong class="screen_out"></strong>\n                        <em class="screen_out">\uc120\ud0dd\ub0b4\uc6a9 :</em>\n                        <span class="ico_seleced star">star</span>\n                        <button type="button" class="link_option btn_option">\uc120\ud0dd\uc635\uc158</button>\n                        <ul class="list_option HIDDEN">\n                            <li data-icon="01" class="on"><a href="#none" class="link_option star">star</a></li>\n                            <li data-icon="02"><a href="#none" class="link_option heart">heart</a></li>\n                            <li data-icon="03"><a href="#none" class="link_option thunder">thunder</a></li>\n                            <li data-icon="04"><a href="#none" class="link_option check">check</a></li>\n                            <li data-icon="05"><a href="#none" class="link_option eye">eye</a></li>\n                            <li data-icon="06"><a href="#none" class="link_option smile">smile</a></li>\n                            <li data-icon="07"><a href="#none" class="link_option shine">shine</a></li>\n                            <li data-icon="08"><a href="#none" class="link_option clover">clover</a></li>\n                            <li data-icon="09"><a href="#none" class="link_option rect">rect</a></li>\n                            <li data-icon="10"><a href="#none" class="link_option like">like</a></li>\n                        </ul>\n                    </div>\n                    <div class="box_tf">\n                        <label for="folderName" class="screen_out">\ud3f4\ub354\uba85 \uc785\ub825</label>\n                        <input type="text" id="folderName" class="tf_save" maxlength="30" placeholder="\ud3f4\ub354\uba85\uc744 \uc785\ub825\ud558\uc138\uc694." readonly/>\n                    </div>\n                    <div class="box_tf">\n                        <label for="memo" class="screen_out">\uc124\uba85 \uc785\ub825</label>\n                        <input type="text" id="memo" class="tf_save" maxlength="50" placeholder="\uc124\uba85\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694." readonly/>\n                    </div>\n                    <div class="chkbox_interlock">\n                        <input type="checkbox" id="openPublic"/>\n                        <label for="openPublic">\uacf5\uac1c \ud5c8\uc6a9</label>\n                    </div>\n                    <p class="desc_interlock">\ub2e4\ub978 \uc0ac\uc6a9\uc790\uac00 \uad6c\ub3c5\ud558\uac70\ub098 \uc678\ubd80 \ub9c1\ud06c\ub85c \uacf5\uc720\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>\n                    <div class="chkbox_interlock">\n                        <input type="checkbox" id="showMap"/>\n                        <label for="showMap">\uc9c0\ub3c4\uc5d0 \ud45c\uc2dc\ud558\uae30</label>\n                    </div>\n                    <p class="desc_interlock">\ud574\ub2f9 \ud3f4\ub354\uc758 \uc990\uaca8\ucc3e\uae30\uac00 \uc9c0\ub3c4 \uc704\uc5d0 \ud45c\uc2dc\ub429\ub2c8\ub2e4. \ud45c\uc2dc\ud560 \ud3f4\ub354\ub294 \ucd5c\ub300 10\uac1c\uae4c\uc9c0 \uc120\ud0dd \uac00\ub2a5\ud569\ub2c8\ub2e4.</p>\n                </div>\n                <div class="layer_foot">\n                    <button data-id="addFolderOK" class="btn_submit">\uc644\ub8cc</button>\n                    <a href="#none" class="btn_close">\ub808\uc774\uc5b4 \ub2eb\uae30</a>\n                </div>\n            </fieldset>\n        </form>\n    </div>\n\n    <div data-id="addHomeLayer" class="inner_favorite_layer inner_favorite_layer4">\n        <div class="layer_head">\n            <strong class="tit_interlock tit_interlock2">\ud648 \ubaa9\ub85d \ucd94\uac00<span class="screen_out">\ub808\uc774\uc5b4</span></strong>\n        </div>\n        <div class="layer_body result_location">\n            <p class="txt_interlock txt_interlock2">\ud648 \ubaa9\ub85d \ucd94\uac00\ub294 \ucd5c\ub300 3\uac1c\uae4c\uc9c0 \uac00\ub2a5\ud569\ub2c8\ub2e4.(\uc9d1/\ud68c\uc0ac \uc81c\uc678)<br/>\uc544\ub798 \uae30\uc874 \ubaa9\ub85d \uc911 \ud558\ub098\ub97c \uc120\ud0dd\ud558\uba74, \uc0ad\uc81c \ud6c4 \uc0c8\ub85c\uc6b4 \ud56d\ubaa9\uc774 \ucd94\uac00\ub429\ub2c8\ub2e4.</p>\n            <form action="#" autocomplete="off">\n                <fieldset>\n                    <em class="screen_out">\uac80\uc0c9 \ub9ac\uc2a4\ud2b8</em>\n                    <ul data-id="registerList" class="list_region list_region_type2"></ul>\n                </fieldset>\n            </form>\n        </div>\n        <div class="layer_foot">\n            <button type="reset" data-id="addHomeCancle" class="btn_interlock btn_cancel">\ucde8\uc18c</button>\n            <button type="submit" data-id="addHomeOK" class="btn_interlock btn_confirm">\uc120\ud0dd \uc0ad\uc81c</button>\n            <a href="#" class="btn_close">\uc9d1 \ub4f1\ub85d \ub808\uc774\uc5b4 \ub2eb\uae30</a>\n        </div>\n    </div>\n\n    <div data-id="removeHomeLayer" class="inner_favorite_layer inner_favorite_layer3"><\!-- inner_xxx_layer:\uacf5\ud1b5 / inner_xxx_layer1:\ud0c0\uc785\ubcc4 --\>\n        <div class="layer_head">\n            <strong class="screen_out">\uce74\uce74\uc624\ub9f5 \ud648 \ubaa9\ub85d \uc0ad\uc81c \uc5ec\ubd80 \ub808\uc774\uc5b4</strong>\n        </div>\n        <div class="layer_body">\n            <em class="tit_interlock">\ud648 \ubaa9\ub85d\uc5d0\uc11c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?</em>\n            <p class="txt_interlock">\ud574\ub2f9 \ud56d\ubaa9\uc774 \ud648 \ubaa9\ub85d\uc5d0\uc11c \uc0ad\uc81c\ub429\ub2c8\ub2e4. </p>\n        </div>\n        <div class="layer_foot">\n            <button type="button" data-id="removeHomeOK" class="btn_interlock btn_confirm">\ud655\uc778</button>\n            <button type="button" class="btn_interlock btn_cancel">\ucde8\uc18c</button>\n            <a href="#" class="btn_close"><span class="ico_interlock">\uce74\uce74\uc624\ub9f5 \ud648 \ubaa9\ub85d \uc0ad\uc81c \uc5ec\ubd80 \ub808\uc774\uc5b4 \ub2eb\uae30</span></a>\n        </div>\n    </div>\n\n    <div data-id="resultLayer" class="inner_favorite_layer inner_favorite_layer9">\n        <div class="layer_body">\n            <span class="ico_toast type1"><span class="ico_toast star"></span></span>\n            <p class="desc_toast"></p>\n        </div>\n        <div class="layer_foot">\n            <a href="#none" class="btn_close">\ub808\uc774\uc5b4 \ub2eb\uae30</a>\n        </div>\n    </div>\n</div>\n',
FavoriteOriginalItemView:'{{#isRouteType}}\n<ol class="list_myroute">\n    {{#routeList}}\n        <li>\n            <span class="ico_interlock ico_{{iconClass}}">{{iconName}}</span>\n            {{name}}\n        </li>\n    {{/routeList}}\n</ol>\n<div class="original_name HIDDEN">{{originalName}}</div>\n{{/isRouteType}}\n{{^isRouteType}}\n    <div class="original_name">{{originalName}}</div>\n{{/isRouteType}}',FavoriteRegisterItemBusArrivalView:'<a href="#" id="{{busStopLineId}}" class="link_busline{{^arrivalHtml}} arrive_none{{/arrivalHtml}}">\n    {{#arrivalHtml}}\n    <span class="txt_arrival">\n\t\t<em>{{{arrivalHtml}}}</em>\n\t</span>\n    {{/arrivalHtml}}\n    {{#isBusIcon}}\n\t<span class="txt_infobus {{countryBusClass}}"><\!-- \uc2dc\uace8 \ubc84\uc2a4 \uc77c \uacbd\uc6b0 \ud074\ub798\uc2a4 txt_countrybus \ucd94\uac00 \ubd80\ud0c1 \ub4dc\ub9bd\ub2c8\ub2e4. --\>\n\t\t<span class="ico_busline ico_{{busIconClass}}">{{busIconName}}</span>{{busName}}\n\t</span>\n\t{{/isBusIcon}}\n</a>',
FavoriteRegisterItemView:'<li class="{{#isDisabled}}favorite-DISABLED{{/isDisabled}}">\r\n{{^isBuslines}}\r\n    <div class="favorite_registerated">\r\n        <a href="#" data-id="link" class="link_registerated {{activeClass}}">\r\n        {{#isMyplace}}\r\n            <span class="ico_pin ico_{{typeClass}}"></span>\r\n            <span class="txt_personal">{{display1}}</span>\r\n        {{/isMyplace}}\r\n        {{^isMyplace}}\r\n        {{#isColorIcon}}\r\n            <span class="ico_favorite ico_circle type{{color}}">\r\n                <span class="ico_favorite {{iconClass}}">{{typeName}}</span>\r\n            </span>\r\n        {{/isColorIcon}}\r\n        {{^isColorIcon}}\r\n            <span class="ico_favorite ico_circle">\r\n                <span class="ico_path {{typeClass}}">{{typeName}}</span>\r\n            </span>\r\n        {{/isColorIcon}}\r\n        {{#isBusInfo}}\r\n            <span class="txt_infobus">\r\n                {{#isBusIcon}}<span class="ico_busline ico_bus{{busIconClass}}">{{busIconName}}</span>{{/isBusIcon}}{{display1}}{{#isSubInfo}}<span\r\n                    class="txt_subinfo">{{subInfo}}</span>{{/isSubInfo}}\r\n            </span>\r\n        {{/isBusInfo}}\r\n        {{^isBusInfo}}\r\n            <span class="txt_registerated">{{display1}}</span>\r\n        {{/isBusInfo}}\r\n        {{/isMyplace}}\r\n        </a>\r\n    </div>\r\n{{/isBuslines}}\r\n{{#isBuslines}}\r\n    <div class="favorite_busstation">\r\n        {{#isColorIcon}}\r\n        <span class="ico_favorite ico_circle type{{color}}">\r\n            <span class="ico_favorite {{iconClass}}">{{typeName}}</span>\r\n        </span>\r\n        {{/isColorIcon}}\r\n        {{^isColorIcon}}\r\n        <span class="ico_favorite ico_circle">\r\n            <span class="ico_path {{typeClass}}">{{typeName}}</span>\r\n        </span>\r\n        {{/isColorIcon}}\r\n        <div class="favorite_busroute">\r\n            <a href="#" data-id="link" class="link_busstation">\r\n                <em class="emph_busstation">{{display1}}<span class="screen_out">\uc815\ub958\uc7a5</span></em>\r\n            </a>\r\n            {{#buslines}}\r\n            <span data-id="refresh" class="favorite_criteria">\r\n                <button type="button" class="ico_interlock ico_refresh">\uc0c8\ub85c\uace0\uce68</button>\r\n            </span>\r\n            <div data-id="arrival" data-stopid="{{key}}" data-lineids="{{buslines}}"\r\n                 data-bustype="{{busline_type}}"></div>\r\n            {{/buslines}}\r\n        </div>\r\n    </div>\r\n{{/isBuslines}}\r\n</li>\r\n',
FavoriteRegisterView:'<div class="favorite_exposed">\n    <h3 class="tit_favorite tit_myfavorite">\n        <a data-id="more" href="#none" class="link_myfavorite">\uc990\uaca8\ucc3e\uae30</a><\!-- 2018-12-17_v2 \ucd94\uac00 : \uc990\uaca8\ucc3e\uae30 \ub9c1\ud06c(a.link_favorite)\ucd94\uac00 --\>\n    </h3>\n    <ul data-id="list" class="list_registerated"></ul>\n</div>',FavoriteStaticItemView:'<li class="FavoriteDirectoryItem">\n    <div class="FavoriteInformationBundle">\n        <span class="ico_homecorp {{#modeIsHome}}home{{/modeIsHome}}{{^modeIsHome}}company{{/modeIsHome}}"></span><\!-- \uc544\uc774\ucf58 \ubaa8\uc591 \ubcc0\uacbd\uc2dc \ud074\ub798\uc2a4 \ucd94\uac00 \uc694\uccad --\>\n        <div class="info_directory">\n            <div class="tit_directory">\n                <strong data-id="link" class="txt_directory"><a href="#none" class="link_txt">{{#modeIsHome}}\uc9d1{{/modeIsHome}}{{^modeIsHome}}\ud68c\uc0ac{{/modeIsHome}}</a></strong>\n            </div>\n            <div class="desc_directory">\n                <p data-id="name">\uc8fc\uc18c\ub97c \ub4f1\ub85d\ud558\uba74 \uae38\ucc3e\uae30\uac00 \uc26c\uc6cc\uc9d1\ub2c8\ub2e4.</p>\n            </div>\n        </div>\n        <button type="button" data-id="more" class="btn_more"><span class="ico_mypage ico_more">\ub354\ubcf4\uae30</span></button>\n        <\!--\n        <div class="box_btnmore" data-id="options">\n            <a href="#" data-id="regist" class="link_favoradd">\ub4f1\ub85d</a>\n            <a href="#" data-id="remove" class="link_favoradd HIDDEN">\uc0ad\uc81c</a>\n        </div>\n        --\>\n    </div>\n    <div data-id="setting" class="FavoriteSettingLayer HIDDEN">\n        <ul class="list_opt">\n            <li data-id="regist"><a href="#none">\ub4f1\ub85d</a></li>\n            <li data-id="remove" class="HIDDEN"><a href="#none">\uc0ad\uc81c</a></li>\n        </ul>\n    </div>\n</li>',
FavoriteStaticLayerView:'<ul class="list_find">\n    {{#home}}\n    <li data-id="home" class="ms_item">\n        <a href="#" class="link_myroute">\n            <em class="emph_personal">\uc9d1</em>\n            <span class="txt_myaddress">{{home.name}}</span>\n        </a>\n    </li>\n    {{/home}}\n    {{#company}}\n    <li data-id="company" class="ms_item">\n        <a href="#" class="link_myroute">\n            <em class="emph_personal">\ud68c\uc0ac</em>\n            <span class="txt_myaddress">{{company.name}}</span>\n        </a>\n    </li>\n    {{/company}}\n</ul>',
FavoriteStaticManageView:'<div class="FavoriteStaticManageView favorite_layer HIDDEN">\n    <div data-id="searchLayer" class="inner_favorite_layer inner_favorite_layer5">\n        <form action="#" data-id="searchBody">\n            <fieldset>\n                <div class="layer_head">\n                    <strong class="tit_interlock"><span class="type_name">\ud68c\uc0ac</span> \ub4f1\ub85d <span class="screen_out">\ub808\uc774\uc5b4</span></strong>\n                </div>\n                <div class="layer_body">\n                    <p class="txt_interlock"><span class="type_name2">\ud68c\uc0ac</span>\ub85c \ub4f1\ub85d\ud560 \uc8fc\uc18c \ub610\ub294 \uc7a5\uc18c\ub97c \uac80\uc0c9\ud558\uc138\uc694.</p>\n                    <div class="wrap_search">\n                        <div class="interlock_search">\n                            <label for="favoriteEnroll" class="lab_region HIDDEN">\uc8fc\uc18c \ub610\ub294 \uc7a5\uc18c</label>\n                            <input type="text" data-id="favoriteSearchQuery" id="favoriteEnroll" class="tf_interlock" value="\uce74\uce74\uc624">\n                        </div>\n                        <button type="button" data-id="findBtn" class="btn_search">\uac80\uc0c9</button>\n                    </div>\n                    <div class="interlock_result">\n                        <em class="screen_out">\uac80\uc0c9 \ub9ac\uc2a4\ud2b8</em>\n                        <ul class="list_region" data-id="resultList"></ul>\n                    </div>\n                </div>\n                <div class="layer_foot">\n                    <a href="#" class="btn_close"><span class="type_name">\ud68c\uc0ac</span> \ub4f1\ub85d \ub808\uc774\uc5b4 \ub2eb\uae30</a>\n                </div>\n            </fieldset>\n        </form>\n    </div>\n\n    <div data-id="resultLayer" class="inner_favorite_layer inner_favorite_layer1">\n        <div class="layer_head">\n            <strong class="screen_out">\uc990\uaca8\ucc3e\uae30 \ub4f1\ub85d \uc644\ub8cc \ud655\uc778 \ub808\uc774\uc5b4</strong>\n            <span class="ico_interlock ico_complete"></span>\n        </div>\n        <div class="layer_body">\n            <em class="tit_interlock"><span class="type_name">\uc9d1</span> \ub4f1\ub85d\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.</em>\n        </div>\n        <div class="layer_foot">\n            <button type="button" data-id="resultOK" class="btn_interlock btn_confirm">\ud655\uc778</button>\n            <a href="#" class="btn_close"><span class="ico_interlock">\uc990\uaca8\ucc3e\uae30 \ub4f1\ub85d \ub808\uc774\uc5b4 \ub2eb\uae30</span></a>\n        </div>\n    </div>\n</div>\n',
FavoriteStaticSearchItemView:'<li>\n    <span class="choice_comm choice_address">\n        <input id="{{inputName}}{{idx}}" class="inp_address" type="radio" name="{{inputName}}" />\n        <label for="{{inputName}}{{idx}}" class="lab_result">\n            <span class="txt_result">{{{nameDisp}}}</span>\n            {{#secondDisp}}<span class="txt_detail">{{secondDisp}}</span>{{/secondDisp}}\n        </label>\n    </span>\n</li>',FindWayCoachmarkView:'<div class="coach_layer coach_layer_type2"><\!-- coach_layer_type1 : \ucd9c\ubc1c\uacbd\uc720\ub3c4\ucc29 / coach_layer_type2 : \uc9c0\ub3c4\uc124\uc815 / coach_layer_type3 : \uc7a5\uc18c\uc800\uc7a5\ud558\uae30 --\>\n     <div class="inner_coach_layer">\n         <div class="layer_body">\n         \t<img src="//t1.daumcdn.net/localimg/localimages/07/2018/pc/coachMark/bg_coach.png" width="266" height="266" alt="" class="img_bg">\n         \t<div class="view_coach">\n\t     \t\t<span class="ico_coach"></span>\n\t     \t\t<strong class="tit_coach">\ucd9c\ubc1c\u00b7\uacbd\uc720\u00b7\ub3c4\ucc29</strong>\n\t     \t\t<p class="desc_coach">\uc544\uc774\ucf58\uc744 \ub4dc\ub798\uadf8\ud558\uc5ec<br>\uc9c0\ub3c4 \uc704\uc5d0 \ub193\uc544 \ubcf4\uc138\uc694.</p>\n     \t\t</div>\n         </div>\n     </div>\n</div>\n',
FiyFrame:'<div class="FiyFrame">\n    <iframe data-id="frame" frameborder=\'0\' border=\'0\' class="frame" src=""></iframe>\n</div>',FlagItemInfoLayer:'<div class="FlagItemInfoLayer">\r\n\t<div data-id="origin" class="origin">\ucd9c\ubc1c</div>\r\n\t<div data-id="via" class="via">\uacbd\uc720</div>\r\n\t<div data-id="dest" class="dest">\ub3c4\ucc29</div>\r\n</div>',HistoryLayerItemView:'<li class="ms_item">\n    <a href="#" data-id="link" id="{{itemid}}" class="link_search">\n        <span class="ico_search_history ico_history_{{type}}"></span>{{name}}\n    </a>\n    <button  data-id="remove" class="btn_delete" aria-describedby="{{itemid}}" data-type="{{type}}" data-idx="{{idx}}">\n        <span class="ico_search_history ico_delete">\uc0ad\uc81c</span>\n    </button>\n</li>',
HistoryLayerView:'<div class="search_recent">\n    <em class="tit_recent">\ud788\uc2a4\ud1a0\ub9ac</em>\n    <ul data-id="wrap" class="list_recent"></ul>\n    <div class="favorite_recent">\n        <button data-id="disabled" type="button" class="btn_recentoff">\ud788\uc2a4\ud1a0\ub9ac\ub044\uae30</button>\n        <button data-id="clear" type="button" class="btn_deleteall">\uc804\uccb4\uc0ad\uc81c</button>\n    </div>\n</div>',HistoryRouteView:'<div class="cont_latest">\n    <h6 class="tit_favorite tit_recently">\ucd5c\uadfc \uae38\ucc3e\uae30 \uac80\uc0c9</h6>\n    <ul data-id="wrap" class="list_registerated">\n        {{#items}}\n        <li data-type="{{type}}" data-idx="{{idx}}">\n            <div class="favorite_registerated">\n                <a href="#" id="{{type}}{{idx}}" class="link_registerated">\n                    <strong class="ico_pin2 ico_{{typeIconClass}}">{{typeIconName}}</strong>\n                    <div class="registerated_route">\n                        {{#route_form}}\n                        <span class="wrap_route">\n                            <span class="ico_interlock2 ico_{{iconClass}}">{{#isArrival}}<span class="arrive_g">{{/isArrival}}{{iconName}}{{#isArrival}}</span>{{/isArrival}}</span>\n                            <span class="txt_route txt_{{iconClass}}">{{name}}</span>\n                        </span>\n                        {{/route_form}}\n                    </div>\n                </a>\n                <button class="btn_delete" aria-describedby="{{type}}{{idx}}" data-type="{{type}}" data-idx="{{idx}}">\n                    <span class="ico_interlock2 ico_delete">\uc0ad\uc81c</span>\n                </button>\n            </div>\n        </li>\n        {{/items}}\n    </ul>\n</div>',
InfoWindowToolbar:'<div>\r\n\t<div class="InfoWindowToolbar">\r\n        <a href="#none" data-id="fav" class="fav"><span class="ico_toolbar">\uc990\uaca8\ucc3e\uae30</span><span data-id="favCount" class="num">100</span></a>\r\n        {{#isRoadview}}\r\n        <a href="#none" data-id="rv" class="rv"><span class="ico_toolbar">\ub85c\ub4dc\ubdf0</span></a>\r\n        {{/isRoadview}}\r\n        {{#isRough}}\r\n        <a href="#none" data-id="rough" class="rough{{#disableShare}} disabled{{/disableShare}}"><span class="ico_toolbar">\uc9c0\ub3c4\uacf5\uc720</span></a>\r\n        {{/isRough}}\r\n        {{#isSubway}}\r\n        <a href="#none" data-id="time" class="time"><span class="ico_toolbar">\uc2dc\uac04\ud45c</span></a>\r\n        {{/isSubway}}\r\n    </div>\r\n\r\n    <div class="InfoWindowDirection">\r\n        <button type="button" class="btn_direction">\uae38\ucc3e\uae30</button>\r\n        <div data-id="waypoint" class="group_direction">\r\n            <button type="button" data-id="origin" class="origin">\ucd9c\ubc1c</button>\r\n            <button type="button" data-id="via" class="via">\uacbd\uc720</button>\r\n            <button type="button" data-id="dest" class="dest">\ub3c4\ucc29</button>\r\n        </div>\r\n    </div>\r\n</div>',
IntercityInfoView:'\r\n<div class="IntercityInfoView">\r\n\t<div class="middle">\r\n\t\t<h6 class="tit">\ucd9c\ubc1c\uc9c0 \uadfc\ucc98 \ud130\ubbf8\ub110</h6>\r\n\t\t<ul class="intercityList" data-id="intercityList">\r\n\t\t</ul>\r\n\t</div>\r\n</div>\r\n',IntercityInfoWindowContent:'<div class="IntercityInfoWindowContent">\n    {{#description}}<div class="desciption data-id=""description">{{description}}</div>{{/description}}\n\t{{#time}}<span class="time" data-id="time">{{time}}</span> \uc18c\uc694{{/time}}{{#isShowReservation}}, <a href="#none" class="link_reservation" ></a>{{/isShowReservation}}\n</div>',
IssuedPlaceInfowindow:'<div class="IssuedPlaceInfowindow InfoWindow">\r\n\t<div class="top"></div>\r\n\t<div class="body">\r\n\t\t<button type="button" data-id="close" class="closebox ICON-closebox" title="\ub2eb\uae30"></button>\r\n\t\t<div class="content">\r\n\t\t\t<img data-id="img" class="HIDDEN" src="" />\r\n\t\t\t<h4 data-id="tit"></h4>\r\n\t\t\t<p data-id="desc" class="desc"></p>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="bottom"></div>\r\n\t<div class="tail tail1"></div>\r\n\t<div class="tail tail2"></div>\r\n\t<div class="tail tail3"></div>\r\n\t<div class="tail tail4"></div>\r\n\t<div class="tail tail5"></div>\r\n\t<div class="tail tail6"></div>\r\n\t<div class="tail tail7"></div>\r\n\t<div class="tail tail8"></div>\r\n</div>',
LayerCoachmarkView:'<div class="coach_layer coach_layer_type1"><\!-- coach_layer_type1 : \ucd9c\ubc1c\uacbd\uc720\ub3c4\ucc29 / coach_layer_type2 : \uc9c0\ub3c4\uc124\uc815 / coach_layer_type3 : \uc7a5\uc18c\uc800\uc7a5\ud558\uae30 --\>\n     <div class="inner_coach_layer">\n         <div class="layer_body">\n         \t<img src="//t1.daumcdn.net/localimg/localimages/07/2018/pc/coachMark/bg_coach.png" width="258" height="258" alt="" class="img_bg">\n         \t<div class="view_coach">\n\t     \t\t<span class="ico_coach"></span>\n\t     \t\t<strong class="tit_coach">\uc9c0\ub3c4 \uc124\uc815</strong>\n\t     \t\t<p class="desc_coach">\uad50\ud1b5\uc815\ubcf4, \uc9c0\ud615\ub3c4, \ub0a0\uc528 \ub4f1<br>\uc6d0\ud558\ub294 \uc815\ubcf4\ub97c \uc0ac\uc6a9\ud558\uc138\uc694.</p>\n     \t\t</div>\n         </div>\n     </div>\n</div>\n',
LayerLegend:'<div class="LayerLegend HIDDEN">\r\n\t<a href="#" class="legendBtn HIDDEN"></a>\r\n\t<div class="legendWrap HIDDEN">\r\n\t\t<div class="legendSelect">\r\n\t\t\t<a href="#" data-id="traffic" class="traffic SELECT">\uad50\ud1b5</a>\r\n\t\t\t<a href="#" data-id="bike" class="bike">\uc790\uc804\uac70</a>\r\n\t\t\t<a href="#" data-id="air" class="air">\ub0a0\uc528</a>\r\n\t\t\t<a href="#" data-id="usedistrict" class="usedistrict">\uc9c0\uc801\ud3b8\uc9d1\ub3c4</a>\r\n\t\t</div>\r\n\t\t<a data-id="close" class="close" href="#"></a>\r\n\t\t<div class="TrafficLegend">\r\n\t\t    <p class="date">\uae30\uc900 : <span data-id="date"></span></p>\r\n\t\t    <a data-id="refresh" class="refresh" href="#">\uc0c8\ub85c\uace0\uce68</a>\r\n\t\t    <ul class="bar">\r\n\t\t        <li data-id="density1" class="density1">\r\n\t\t\t\t\t<a href="#"><span class="item_bar"></span>\uc6d0\ud65c</a>\r\n\t\t\t\t\t<div data-id="tooltip1" class="tooltip tooltip1 HIDDEN">\r\n\t\t\t\t\t\t<dl>\r\n\t\t\t\t\t\t\t<dt>\uace0\uc18d\ub3c4\ub85c :</dt><dd><strong>70</strong>km/h<span class="upArrow"></span></dd>\r\n\t\t\t\t\t\t\t<dt>\uad6d\ub3c4 :</dt><dd><strong>50</strong>km/h<span class="upArrow"></span></dd>\r\n\t\t\t\t\t\t\t<dt>\uc2dc\ub0b4\ub3c4\ub85c :</dt><dd><strong>30</strong>km/h<span class="upArrow"></span></dd>\r\n\t\t\t\t\t\t</dl>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t        <li data-id="density2" class="density2">\r\n                    <a href="#"><span class="item_bar"></span>\uc11c\ud589</a>\r\n\t\t\t\t\t<div data-id="tooltip2" class="tooltip tooltip2 HIDDEN">\r\n\t\t\t\t\t\t<dl>\r\n\t\t\t\t\t\t\t<dt>\uace0\uc18d\ub3c4\ub85c :</dt><dd><strong>50~70</strong>km/h</dd>\r\n\t\t\t\t\t\t\t<dt>\uad6d\ub3c4 :</dt><dd><strong>30~50</strong>km/h</dd>\r\n\t\t\t\t\t\t\t<dt>\uc2dc\ub0b4\ub3c4\ub85c :</dt><dd><strong>20~30</strong>km/h</dd>\r\n\t\t\t\t\t\t</dl>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t        <li data-id="density3" class="density3">\r\n                    <a href="#"><span class="item_bar"></span>\uc9c0\uccb4</a>\r\n\t\t\t\t\t<div data-id="tooltip3" class="tooltip tooltip3 HIDDEN">\r\n\t\t\t\t\t\t<dl>\r\n\t\t\t\t\t\t\t<dt>\uace0\uc18d\ub3c4\ub85c :</dt><dd><strong>30~50</strong>km/h</dd>\r\n\t\t\t\t\t\t\t<dt>\uad6d\ub3c4 :</dt><dd><strong>20~30</strong>km/h</dd>\r\n\t\t\t\t\t\t\t<dt>\uc2dc\ub0b4\ub3c4\ub85c :</dt><dd><strong>10~20</strong>km/h</dd>\r\n\t\t\t\t\t\t</dl>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t        <li data-id="density4" class="density4">\r\n                    <a href="#"><span class="item_bar"></span>\uc815\uccb4</a>\r\n\t\t\t\t\t<div data-id="tooltip4" class="tooltip tooltip4 HIDDEN">\r\n\t\t\t\t\t\t<dl>\r\n\t\t\t\t\t\t\t<dt>\uace0\uc18d\ub3c4\ub85c :</dt><dd><strong>30</strong>km/h<span class="downArrow"></span></dd>\r\n\t\t\t\t\t\t\t<dt>\uad6d\ub3c4 :</dt><dd><strong>20</strong>km/h<span class="downArrow"></span></dd>\r\n\t\t\t\t\t\t\t<dt>\uc2dc\ub0b4\ub3c4\ub85c :</dt><dd><strong>10</strong>km/h<span class="downArrow"></span></dd>\r\n\t\t\t\t\t\t</dl>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</li>\r\n\t\t        <li data-id="density5" class="density5">\r\n                    <a href="#"><span class="item_bar"></span>\uc815\ubcf4\uc5c6\uc74c</a>\r\n\t\t\t\t</li>\r\n\t\t    </ul>\r\n\t\t    <ul class="desc">\r\n\t\t        <\!-- <li class="clickable">\uc18d\ub3c4 \uc815\ubcf4 \ub77c\uc778 \uc704\ub97c \ud074\ub9ad\ud558\uba74, \uc0c1\uc138 \uc815\ubcf4 \ud655\uc778 \uac00\ub2a5</li> --\>\r\n\t\t        <li>\uc2dc\ub0b4 \ub3c4\ub85c\ub294 \uc2e0\ud638 \uc815\ucc28 \ub4f1\uc758 \uc774\uc720\ub85c \uc2e4\uc81c\uc18d\ub3c4\uc640 \ub2e4\ub97c \uc218 \uc788\uc2b5\ub2c8\ub2e4.</li>\r\n\t\t    </ul>\r\n\t\t</div>\r\n\t\t<div data-id="BikeLegend" class="BikeLegend bikecate1">\r\n\t\t\t<ul class="bikeCategory">\r\n\t\t\t\t<li class="cate1"><a href="#" data-id="bikecate1">\ub3c4\ub85c\uc548\ub0b4</a></li>\r\n\t\t        <li class="cate2"><a href="#" data-id="bikecate2">\uc9c4\uc785\ub85c</a></li>\r\n\t\t        <li class="cate3"><a href="#" data-id="bikecate3">\ud3b8\uc758\uc2dc\uc124</a></li>\r\n\t\t\t</ul>\r\n\t\t\t<div class="infocate"></div>\r\n\t\t</div>\r\n\t\t<div data-id="AirLegend" class="AirLegend aircate1">\r\n\t\t\t<div class="airCategory">\r\n\t\t\t\t<div class="inner_airCategory">\r\n\t\t\t\t\t<ul style="width:600px">\r\n\t\t\t\t\t\t<li class="cate1"><a href="#" data-id="aircate1">\ud1b5\ud569\ub300\uae30\uc9c0\uc218</a></li>\r\n\t\t\t\t\t\t<li class="cate2"><a href="#" data-id="aircate2">\ubbf8\uc138\uba3c\uc9c0</a></li>\r\n\t\t\t\t\t\t<li class="cate3"><a href="#" data-id="aircate3">\ucd08\ubbf8\uc138\uba3c\uc9c0</a></li>\r\n\t\t\t\t\t\t<li class="cate4"><a href="#" data-id="aircate4">\ud669\uc0ac</a></li>\r\n\t\t\t\t\t\t<li class="cate5"><a href="#" data-id="aircate5">\uc624\uc874</a></li>\r\n\t\t\t\t\t\t<li class="cate6"><a href="#" data-id="aircate6">\uc774\uc0b0\ud654\uc9c8\uc18c</a></li>\r\n\t\t\t\t\t\t<li class="cate7"><a href="#" data-id="aircate7">\uc77c\uc0b0\ud654\ud0c4\uc18c</a></li>\r\n\t\t\t\t\t\t<li class="cate8"><a href="#" data-id="aircate8">\uc544\ud669\uc0b0\uac00\uc2a4</a></li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<a href="#none" data-id="airmore" class="more">\ub354\ubcf4\uae30</a>\r\n\r\n\t\t    <div data-id="airtooltip1" class="tooltip tooltip1 HIDDEN">\r\n\t\t    \t<strong>0~50</strong>\r\n\t\t    </div>\r\n\t\t    <div data-id="airtooltip2" class="tooltip tooltip2 HIDDEN">\r\n\t\t        <strong>51~100</strong>\r\n\t\t    </div>\r\n\t\t    <div data-id="airtooltip3" class="tooltip tooltip3 HIDDEN">\r\n\t\t\t\t<strong>101~250</strong>\r\n\t\t    </div>\r\n\t\t    <div data-id="airtooltip4" class="tooltip tooltip4 HIDDEN">\r\n\t\t\t\t<strong>251~</strong>\r\n\t\t    </div>\r\n\t\t    <p class="date">\uae30\uc900 : <span data-id="airdate"></span></p>\r\n\t\t    <span class="supply"><a href="http://www.airkorea.or.kr/index" target="_blank" data-id="airsupply">\ud658\uacbd\ubd80 \ud55c\uad6d\ud658\uacbd\uacf5\ub2e8</a></span>\r\n            <ul class="bar">\r\n                <li data-id="airdensity1" class="density1"><p><span class="item_bar"></span>\uc88b\uc74c<span class="txt_unit">0~50</span></p></li>\r\n                <li data-id="airdensity2" class="density2"><p><span class="item_bar"></span>\ubcf4\ud1b5<span class="txt_unit">51~100</span></p></li>\r\n                <li data-id="airdensity3" class="density3"><p><span class="item_bar"></span>\ub098\uc068<span class="txt_unit">101~250</span></p></li>\r\n                <li data-id="airdensity4" class="density4"><p><span class="item_bar"></span>\ub9e4\uc6b0\ub098\uc068<span class="txt_unit">251~</span></p></li>\r\n                <li data-id="airdensity5" class="density5"><p><span class="item_bar"></span>\uc815\ubcf4\uc5c6\uc74c</p></li>\r\n            </ul>\r\n            <ul class="desc" data-id="airdesc">\r\n                <li>\uc2e4\uc2dc\uac04\uad00\uce21\uc790\ub8cc\uc774\uba70, \ud604\uc9c0 \uc0ac\uc815\uc5d0 \uc758\ud574 \uc624\ucc28\uac00 \ubc1c\uc0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. <span class="unit"></span></li>\r\n            </ul>\r\n\t\t</div>\r\n\t\t<div data-id="UsedistrictLegend" class="UsedistrictLegend usedistrictcate1">\r\n\t\t\t<ul class="usedistrictCategory">\r\n\t\t\t\t<li class="cate1"><a href="#" data-id="usedistrictcate1">\uc9c0\ubc88\u00b7\uacbd\uacc4</a></li>\r\n\t\t        <li class="cate2"><a href="#" data-id="usedistrictcate2">\ub3c4\ub85c\u00b7\ucca0\ub3c4</a></li>\r\n\t\t        <li class="cate3"><a href="#" data-id="usedistrictcate3">\uad6d\ud1a0\uacc4\ud68d\u00b7\uac1c\ubc1c\uc9c0\uad6c</a></li>\r\n\t\t        <li class="cate4"><a href="#" data-id="usedistrictcate4">\uc6a9\ub3c4\u00b7\uac1c\ubc1c</a></li>\r\n\t\t\t</ul>\r\n\t\t\t<a href="https://kakaomap.tistory.com/236" target="_blank" class="more">\ub354\ubcf4\uae30</a>\r\n\t\t\t<div class="infocate"></div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n',
LayerProfileEditView:'<div class="LayerProfileEdit-DIMMED HIDDEN" data-id=\'dim\' >\n\t<div class="LayerProfileEdit" data-id=\'content\' >\n\t\t<strong class="tit_edit">\ud504\ub85c\ud544 \uc218\uc815</strong>\n\t\t<form data-id=\'editForm\' >\n\t\t\t<fieldset>\n\t\t\t\t<legend class="screen_out">\uc774\ubbf8\uc9c0 \ubc0f \ub2c9\ub124\uc784 \uc218\uc815</legend>\n\t\t\t\t<div class="area_file">\n\t\t\t\t\t<img src="//t1.daumcdn.net/localimg/localimages/07/2018/pc/title/empty_edit.png" width="54" height="54" alt="" data-id=\'profilePreview\' >\n\t\t\t\t\t<label for="profileImgFile">\ud504\ub85c\ud544 \uc774\ubbf8\uc9c0 \uc218\uc815</label>\n\t\t\t\t\t<input type="file" id="profileImgFile" data-id=\'profileImgFile\' name=\'profileImage\' accept="image/*">\n                    <span class="img_loading HIDDEN" data-id="loadingImg"  >\n                        <img src="//t1.daumcdn.net/localimg/localimages/07/2017/pc/img_loading2.gif" width="23" height="23" alt="\ub85c\ub529\uc911">\n                    </span>\n\t\t\t\t</div>\n\t\t\t\t<div class="area_tf">\n\t\t\t\t\t<div class="box_tf">\n\t\t\t\t\t\t<label for="userNickname" class="screen_out">\ud504\ub85c\ud544 \ub2c9\ub124\uc784 \uc218\uc815</label>\n\t\t\t\t\t \t<input type="text" name="nickName" data-id=\'userNickname\' id="userNickname" value="" maxlength="20" >\n\t\t\t\t\t</div>\n\t\t\t\t \t<button type="submit" class="btn_edit" data-id=\'update\' >\uc644\ub8cc</button>\n\t\t\t\t</div>\n\t\t\t</fieldset>\n\t\t</form>\n\t\t<button type="button" class="bt_close" data-id=\'close\' >\ud504\ub85c\ud544 \uc218\uc815 \ub2eb\uae30</button>\n\t</div>\n</div>\n',
LayerProfileView:'<div class="LayerProfile HIDDEN" >\n\t<div class="info_profile">\n\t\t<div class="thumb_profile">\n\t\t\t<img src="" width="44" height="44" class="img_profile HIDDEN" alt="" data-id=\'profileImg\'>\n            <img src="//t1.daumcdn.net/localimg/localimages/07/2018/pc/title/report_profile.png" width="44" height="44" class="img_profile HIDDEN" data-id="reportProfileImg"  alt="">\n\t\t</div>\n        <p class="desc_report" data-id="reportMentionTypeT" >\uc2e0\uace0\uc5d0 \uc758\ud574 \uc784\uc2dc\uc870\uce58\ub41c<br>\ud504\ub85c\ud544\uc785\ub2c8\ub2e4. <a href="http://www.kakao.com/policy/right" target="_blank" class="link_profile" >\uc548\ub0b4</a><a href="#none" class="link_profile edit" >\uc218\uc815</a></p>\n        <p class="desc_report" data-id="reportMentionTypeA" >\uc2e0\uace0\uc5d0 \uc758\ud574 \uc0ad\uc81c\ub41c \ud504\ub85c<br>\ud544\uc785\ub2c8\ub2e4. <a href="#none" class="link_profile edit" >\ud504\ub85c\ud544 \uc785\ub825</a></p>\n\t\t<strong class="tit_name" data-id=\'nickName\' ></strong>\n\t\t<a href="#none" class="link_profile edit" data-id=\'edit\' >\ud504\ub85c\ud544 \uc218\uc815</a>\n\t\t<a href="#none" class="btn_logout" data-id=\'logout\' >\ub85c\uadf8\uc544\uc6c3</a>\n\t</div>\n\t<div class="my_page">\n\t\t<a href="#none" target="_top" data-id=\'fav\' >\uc990\uaca8\ucc3e\uae30</a>\n\t\t<a href="#none" target="_top" data-id=\'homeCompany\' >\uc9d1\u2219\ud68c\uc0ac</a>\n\t\t<a href="#none" target="_top" data-id=\'review\' >\ud3c9\uac00 <em class="num" data-id="reviewCount" >0</em></a>\n\t</div>\n</div>\n',
LoadingView:'<div class="box_sign LoadingView">\n    <span class="img_loading"></span>\n    <p class="desc_loading">\ud604\uc7ac \uc815\ubcf4\ub97c \ucc3e\uace0 \uc788\uc2b5\ub2c8\ub2e4.<br>\uc7a0\uc2dc\ub9cc \uae30\ub2e4\ub824 \uc8fc\uc138\uc694.</p>\n</div>\n',LocalAdBannerView:'<div class="LocalAdBanner">\r\n\t\t<div data-id="wrapper">\r\n\t\t\t<div data-id="global" class="global HIDDEN banner">\r\n\t\t\t\t<a target="_blank" class="bannerHref" data-id="href" href="#">\r\n\t\t\t\t\t<img src="" width="223" height="46"/>\r\n\t\t\t\t</a>\r\n\t\t\t\t<div class="globalTag">\r\n\t\t\t\t\t<span class="tagHead"></span>\r\n\t\t\t\t\t<span class="tagText"></span>\r\n\t\t\t\t\t<span class="tagTail"></span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<a target="_blank" href="#" class="where"/>\r\n\t\t\t\t<a target="_blank" href="#" class="btnHref"/>\r\n\t\t\t\t<a data-id="globalClose" class="close" href="#">close</a>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div data-id="logical" class="logical HIDDEN banner">\r\n\t\t\t\t<a target="_blank" class="bannerHref" data-id="href" href="#">\r\n\t\t\t\t\t<img src=""  width="223" height="46" />\r\n\t\t\t\t</a>\r\n\t\t\t\t<div class="logicalTag">\r\n\t\t\t\t\t<span class="tagHead"></span>\r\n\t\t\t\t\t<span class="tagText"></span>\r\n\t\t\t\t\t<span class="tagTail"></span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<a target="_blank" href="#" class="where"/>\r\n\t\t\t\t<a target="_blank" href="#" class="btnHref"/>\r\n\t\t\t\t<a data-id="logicalClose" class="close" href="#">close</a>\r\n\t\t\t</div>\r\n\t\t</div>\r\n</div>',
LocalAdThumbnailView:'<div class="LocalAdThumnailView">\r\n\t<img data-id="thumbnail" src="" width="85" height="70" />\r\n\t\r\n\t<span class="name" data-id="name"></span>\r\n</div>',MapControlView:'<div class="MapControlView">\n\t<a href="#none" class="accessLocation">\n\t\t<span class="screen_out">\ud604\uc704\uce58</span>\n\t\t<span class="coach_accessLocation"></span>\n\t</a>\n\t<div data-id="zoomcontrol" class="zoom_control">\n\t\t<a data-id="zoomin" class="zoomin zoomin-ACTIVE" href="#">\uc9c0\ub3c4\ud655\ub300<i></i></a>\n\t\t<div data-id="zoombar" class="zoombar">\n\t\t\t<i></i>\n\t\t\t<div data-id="zoomedbar" class="zoomedbar" style="height: 102px;"><i></i></div>\n\t\t\t<div data-id="zoomtext" class="zoomtext HIDDEN"><i></i></div>\n\t\t\t<div data-id="slider" class="slider" unselectable="on"\n\t\t\t\tstyle="-webkit-user-select: none; -webkit-user-drag: none; margin-top: 102px;"></div>\n\t\t</div>\n\t\t<a data-id="zoomout" class="zoomout zoomout-ACTIVE" href="#">\uc9c0\ub3c4\ucd95\uc18c<i></i></a>\n\t</div>\n\t<div data-id="tools" class="tools">\n\t\t<h3 class="screen_out">\uce21\uc815</h3>\n\t\t<a data-id="distance" class="distance" href="#"><span class="coach_distance">\uac70\ub9ac\uc7ac\uae30</span></a>\n\t\t<a data-id="area" class="area" href="#"><span class="coach_area">\uba74\uc801\uc7ac\uae30</span></a>\n\t\t<a data-id="radius" class="radius" href="#"><span class="coach_radius">\ubc18\uacbd\uc7ac\uae30</span></a>\n\t\t<a data-id="clear" class="clear" href="#"><span class="coach_clear">\uc9c0\uc6b0\uae30</span></a>\n\t</div>\n    <div data-id="tileTool" class="tileTool HIDDEN">\n\t\t<a data-id="extension" class="extension" href="#">\ud655\uc7a5\uac80\uc0c9</a>\n\t\t<span data-id="extensionText" class="extensionText HIDDEN"></span>\n\t</div>\n\t<div class="add_place add_on">\n\t\t<a data-id="newplace" href="#" class="link_new"><span class="coach_newplace">\uc2e0\uaddc \uc7a5\uc18c \ub4f1\ub85d</span></a>\n\t</div>\n</div>\n',
MapPlusItemView:'<li class="mapPlusItem">\n    <span class="adIcon">\uad11\uace0</span>\n    <a class="link" href="{{link_pc}}" data-type="img" target="_blank">\n        <span class="imgStroke"></span>\n        <img class="image" src="{{image_pc}}" width="73" height="66"/>\n    </a>\n    <div class="contents">\n        <a class="link" href="{{link_pc}}" data-type="text" target="_blank">\n            <h6>{{place_name}}</h6>\n        </a>\n        <a class="link" href="{{link_pc}}" data-type="text" target="_blank">\n            <span class="desc1">{{description_1}}</span>\n            <span class="desc2">{{description_2}}</span>\n        </a>\n    </div>\n    <div class="links">\n        {{#isSpecial}}\n        {{#link_title_pc_1}}<a class="link" href="{{link_url_pc_1}}" data-type="link1" target="_blank">{{link_title_pc_1}}</a>{{/link_title_pc_1}}{{#link_title_pc_2}}<span\n            class="txt_bar">|</span><a class="link" href="{{link_url_pc_2}}" data-type="link2" target="_blank">{{link_title_pc_2}}</a>{{/link_title_pc_2}}{{#link_title_pc_3}}<span\n            class="txt_bar">|</span><a class="link" href="{{link_url_pc_3}}" data-type="link3" target="_blank">{{link_title_pc_3}}</a>{{/link_title_pc_3}}\n        {{/isSpecial}}\n        {{^isSpecial}}\n        <a class="link" href="{{link_pc}}" data-type="link1" target="_blank">\uc0c1\uc138\ubcf4\uae30</a>\n        {{/isSpecial}}\n    </div>\n</li>',
MapShareToolBox:'<div class="MapShareToolBox">\r\n\t<ul class="list">\r\n\t\t<li><a href="#" class="copyUrl" data-id="copyUrl">URL \ubcf5\uc0ac</a></li>\r\n\t\t<li><a href="#" class="roughMap" data-id="roughMap">HTML \ud0dc\uadf8 \ubcf5\uc0ac</a></li>\r\n\t</ul>\r\n</div>',MapTypeControl:'<div class="MapTypeControl">\r\n\t<h3 class="screen_out">\uc9c0\ub3c4\ud0c0\uc785</h3>\r\n\t<a href="#" class="roadmap ACTIVE">\uc9c0\ub3c4</a>\r\n\t<a href="#" class="skyview">\uc2a4\uce74\uc774\ubdf0</a>\r\n</div>',
MapWalker:'<div class="MapWalker">\n\t<div data-id="body" class="body"></div>\n\t<div data-id="angle" class="angle">\n\t\t<div data-id="shadow" class="shadow"></div>\n\t</div>\n</div>',Mapapp:'<div class="Mapapp">\r\n\t<a href="#" class="qr">\uc9c0\ub3c4\uc571 QR\ucf54\ub4dc</a>\r\n\t<span class="intro"></span>\r\n\t<a href="http://itunes.apple.com/kr/app/id304608425" target="_blank" class="iphone"></a>\r\n\t<a href="https://play.google.com/store/apps/details?id=net.daum.android.map" target="_blank" class="android"></a>\r\n\t<button type="button" class="close"></button>\r\n</div>',
MediumTooltip:'<div class="MediumTooltip ">\r\n   <span class="left"></span><span class="content"><strong><a href="#" target="_blank" data-id="name"></a></strong><button type="button" data-id="roadview" class="roadviewMedium" title="\ub85c\ub4dc\ubdf0">\ub85c\ub4dc\ubdf0</button><button type="button" data-id="storeview" class="storeview" title="\uc2a4\ud1a0\uc5b4\ubdf0">\uc2a4\ud1a0\uc5b4\ubdf0</button><button type="button" data-id="destination" class="destination" title="\ub3c4\ucc29\uc9c0\ub85c \uc9c0\uc815">\ub3c4\ucc29\uc9c0</button><button type="button" data-id="expand" class="expand" title="\ud3bc\uce58\uae30">\ud3bc\uce68</button><button type="button" data-id="close" class="close" title="\ub2eb\uae30">\ub2eb\uae30</button></span><span class="right"></span>\r\n   <span class="arrow"></span>\r\n</div>\r\n\r\n',
MessageView:'<div class="MessageView">\n\t<div data-id="upper" class="line">\n\t\t<div data-id="upperwrap">\n            <strong class="screen_out HIDDEN"> \uc120\ud0dd\uc0c1\uc790</strong>\n            <em class="screen_out HIDDEN">\uc120\ud0dd\ub0b4\uc6a9 :</em>\n            <a href="#none" data-id="upperlabel" class="label"></a>\n            <em class="screen_out HIDDEN">\uc120\ud0dd\uc635\uc158</em>\n\t\t</div>\n\t\t<p data-id="uppertext" class="desc_search"></p>\n\t</div>\n\t<div data-id="lower" class="line lower">\n\t\t<div data-id="lowerwrap">\n\t\t\t<a data-id="lowerlabel" class="label"></a>\n\t\t</div>\n\t\t<a href="#none" data-id="lowertext" class="link_search"></a>\n\t\t</div>\n\t<div class="clear"></div>\n</div>\n',
MiniTooltip:'<div class="MiniTooltip">\r\n   <span class="left"></span><span class="cont" data-id=\'cont\'></span><span class="right"></span>\r\n</div>',MyFilterSelectBoxView:'<div class="FilterSelectBoxView">\n    <strong class="screen_out">\uce74\ud14c\uace0\ub9ac \uc120\ud0dd\uc0c1\uc790</strong>\n    <em class="screen_out">\uc120\ud0dd\ub0b4\uc6a9 :</em>\n    <a href="#none" data-id="label" class="label"><span >{{selected.name}}</span> <em class="num">{{selected.count}}</em></a>\n    <em class="screen_out">\uc120\ud0dd\uc635\uc158</em>\n    <ul data-id="options" class="list_opt HIDDEN">\n        {{#opts}}\n        <li data-type="{{type}}"><a href="#none">{{name}} {{count}}</a></li>\n        {{/opts}}\n    </ul>\n</div>',
NoBusView:'<div class="NoBusView">\r\n    <h4 class="noKeyword">\r\n        <\!-- <img src="//t1.daumcdn.net/localimg/localimages/07/2013/img/new_nodata_icon.png" width="14" height="14"> 2018-12-11_v2 \uc0ad\uc81c --\>\r\n        <\!-- <span data-id="titleInfo"> \ud574\ub2f9 \ubc84\uc2a4\ubc88\ud638\uc758 \uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4. </span> --\> \uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc5b4\uc694.\r\n    </h4><\!-- 2018-12-11_v2 \uc218\uc815 : 1. \ubd88\ud544\uc694\ud55c \uc694\uc18c(span.textColor, span[data-id=titleInfo]) \uc81c\uac70 2. \ud14d\uc2a4\ud2b8 \uc218\uc815 3. \ud074\ub798\uc2a4 \ucd94\uac00(.noKeyword)--\><\!-- 2018-12-18 \uc218\uc815 : \ud0dc\uadf8\ubcc0\uacbd(h5~>h4) --\>\r\n    <div class="noRouteDesc" data-id="noRouteDesc"></div>\r\n</div>',
NoRouteContentView:'<div class="NoRouteContentView">\r\n    <div class="wrap" data-id="content">\r\n        <h3 class="noKeyword" data-id="titleInfo" >\ucd9c\ubc1c\uc9c0\uc640 \ub3c4\ucc29\uc9c0\uac00 \uac19\uc544\uc694.</h3>\r\n        <div class="noRouteDesc" data-id="noRouteDesc"></div>\r\n        <a href="http://kakaomap.tistory.com/210" target="_blank" class="link_suggest HIDDEN" data-id=\'link\' >\ub3c4\ubcf4 \uae38\ucc3e\uae30 \uc81c\uacf5\uc9c0\uc5ed \uc548\ub0b4</a>\r\n        <div class="intercityBox HIDDEN" data-id="intercityBox"></div>\r\n    </div>\r\n    <div class="info_fixroute">\r\n        \uae38\ucc3e\uae30 \uc815\ubcf4\uac00 \uc798\ubabb\ub418\uc5c8\ub098\uc694?<br>\uc798\ubabb\ub41c \uc815\ubcf4 \uc81c\ubcf4\ub294 \uc9c0\ub3c4 \ud488\uc9c8 \ud5a5\uc0c1\uc5d0 \ud070 \ub3c4\uc6c0\uc774 \ub429\ub2c8\ub2e4.\r\n        <a href="#" class="ico_place link_fixroute" data-id="fiyBtn">\ud2c0\ub9b0\uc815\ubcf4 \uc2e0\uace0</a>\r\n    </div><\!-- 2018-12-11_v2 \uc218\uc815 : \ud14d\uc2a4\ud2b8 \ucd94\uac00 --\>\r\n</div>\r\n',
PlaceInfoWindow:'<div class="PlaceInfoWindow InfoWindow{{#pointExtension}} aoi{{/pointExtension}} ">\r\n\t<div class="top"></div>\r\n\t<div class="body" data-id="body">\r\n        <button type="button" data-id="min" class="img_tooltip ico_min">\ucd95\uc18c\ud558\uae30</button>\r\n        <button type="button" data-id="close" class="img_tooltip ico_close">\ub2eb\uae30</button>\r\n\t\t<div class="head_tooltip">\r\n\t\t\t<strong class="placename"><a href="#none" target="_blank" data-id="name" class="name"></a></strong>\r\n\t\t\t<a href="#none" target="_blank" data-id="detail" class="detail">{{detailText}}<span class="img_tooltip coach_detail"></span></a>\r\n\t\t</div>\r\n\t\t<div class="metadata">\r\n\t\t\t<strong class="screen_out">\ubcc4\uc810</strong>\r\n\t\t\t<em data-id="score">0.0</em>\r\n\t\t\t<span class="ICON-stars"><span data-id="stars" style="width:80%"></span></span>\r\n\t\t\t<a href="#none" target="_blank" data-id="vote">(<span class="num">0</span>\uac74)</a>\r\n\t\t\t<span class="sep"></span>\r\n\t\t\t<a href="#none" target="_blank" data-id="review">\ub9ac\ubdf0 <span class="num">0</span></a>\r\n\t\t</div>\r\n\t\t<div class="content">\r\n\t\t\t<a href="#none" data-id="placeimg" class="thumb_place">\r\n\t\t\t\t<span class="frame_g"></span>\r\n\t\t\t</a>\r\n\t\t\t<div class="content_place">\r\n\t\t\t\t<\!-- 2018-06-07 2\uc904 \ub9d0\uc904\uc784 --\>\r\n\t\t\t\t<p data-id="address" class="address"></p>\r\n\t\t\t\t{{#courseinfo.origin}}\r\n\t\t\t\t<p class="origin_dest">\r\n\t\t\t\t\t<span data-id="courseOrigin" class="origin">{{courseinfo.origin}}</span><span class="arrow"></span><span data-id="courseDest" class="dest">{{courseinfo.dest}}</span>\r\n\t\t\t\t</p>\r\n\t\t\t\t{{/courseinfo.origin}}\r\n\t\t\t\t<p data-id="addInfoAddr" class="addInfoAddr"><span class="zipcode"></span></p>\r\n\t\t\t\t<p data-id="contact" class="contact">\r\n\t\t\t\t\t<span data-id="phone" class="phone">000-0000-0000</span>\r\n\t\t\t\t\t<a href="#none" target="_blank" class="detail">{{detailText}}</a>\r\n                    <a href="#none" data-id="report" class="report">\uc815\ubcf4\uc218\uc815</a>\r\n\t\t\t\t\t{{^pointExtension}}\r\n\t\t\t\t\t<a href="#none" target="_blank" data-id="website" class="website">\ud648\ud398\uc774\uc9c0</a>\r\n\t\t\t\t\t{{/pointExtension}}\r\n\t\t\t\t</p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n        <div data-id="addition" class="addition HIDDEN"></div>\r\n        <div class="toolbar" data-id="toolbar"></div>\r\n\r\n        <\!--\r\n        <a data-id="intercityBtn" href="#" class="intercityBtn HIDDEN">\uc2e4\uc2dc\uac04\uc608\ub9e4</a>\r\n        --\>\r\n\t</div>\r\n\t<div class="bottom"></div>\r\n</div>\r\n',
PlaceInfoWindowAddition:'<div data-id="addition" class="addition">\n    <strong>{{mainName}}\uc815\ubcf4</strong>\n    {{#source}}\n    <a class="source" href="{{sourceUrl}}" target="_blank" data-id="source">\ucd9c\ucc98 : {{source}}</a>\n    {{/source}}\n    <dl class="horizontal">\n        {{#distance}}\n        <dt>\ucd1d\uac70\ub9ac</dt>\n        <dd>{{distance}}</dd>\n        {{/distance}}\n        {{#time}}\n        <dt>\uc18c\uc694\uc2dc\uac04</dt>\n        <dd>{{time}}</dd>\n        {{/time}}\n        {{#difficulty}}\n        <dt>\ub09c\uc774\ub3c4</dt>\n        <dd>{{difficulty}}</dd>\n        {{/difficulty}}\n    </dl>\n</div>',
PlaceInfoWindowTipAddition:'<div data-id="addition" class="addition">\r\n\t<div class="themeTip">\r\n\t\t<span class="tipimg"></span>\r\n\t\t<span class="tiptitle"><strong data-id="owner">Name</strong>\ub2d8\uc758 \ud301</span>\r\n\t\t<span class="tipcount"><strong data-id="page">0</strong>/<span data-id="total">0</span>\uac74</span>\r\n\t</div>\r\n\t<div data-id="themeTipContent" class="themeTipContent">\r\n\t\t<a href="#" data-id="tipleft" class="tipleft">\uc67c\ucabd</a>\r\n\t\t<div class="tipcontent">\r\n\t\t\t<span data-id="tiptext" class="tiptext">text</span>\r\n\t\t\t<span data-id="tipdate" class="tipdate">date</span>\r\n\t\t</div>\r\n\t\t<a href="#" data-id="tipright" class="tipright">\uc624\ub978\ucabd</a>\r\n\t</div>\r\n</div>',
PlaceItemCourseInfo:'<div data-id="courseinfo" class="courseinfo">\n{{#origin}}\n    <span data-id="courseOrigin" class="origin">{{origin}}</span>\n    <span class="arrow">\uc5d0\uc11c</span>\n    <span data-id="courseDest" class="dest">{{dest}}</span>\n    <br/>\n{{/origin}}\n{{#length}}\n    \ucd1d\uac70\ub9ac <span data-id="courseLength" class="courseLength">{{length}}</span>\n{{/length}}\n{{#time}}\n    <span class="groove"></span>\n    \uc18c\uc694\uc2dc\uac04 <span data-id="courseTime" class="courseTime">{{time}}</span>\n{{/time}}\n</div>\n',
PlaceItemView:'<li class="PlaceItem clickArea">\n    <div data-id="btnsWrap" class="utile_item">\n        <span data-id="screenOutName" class="screen_out"></span>\n        <a href="#none" data-id="fav" class="fav">\n            <span class="ico_fav">\uc990\uaca8\ucc3e\uae30</span><span class="num"></span>\n        </a>\n        <a href="#none" data-id="roadview" class="roadview HIDDEN">\ub85c\ub4dc\ubdf0</a>\n        <button data-id="routeBtn" type="button" class="DirectionItemInfoBtn">\uae38\ucc3e\uae30</button>\n    </div>\n    <div class="thumb_item HIDDEN">\n        <img data-id="image" src="" width="70" height="70" class="thumb_g" alt=""/>\n    </div>\n    <div class="head_item clickArea">\n        <strong class="tit_name">\n            <a href="#none" data-id="icon" class="link_order clickArea"></a>\n            <a href="#none" data-id="name" class="link_name"></a>\n        </strong>\n        <span data-id="subcategory" class="subcategory"></span>\n    </div>\n    <div data-id="rating" class="rating clickArea">\n        <span data-id="score" class="score">\n            <span class="screen_out">\ubcc4\uc810</span>\n            <em data-id="scoreNum" class="num"></em>\n            <span class="backgroundStar">\n                <span data-id="star" class="star" style="width: 54px;"></span>\n            </span>\n            <a href="#none" data-id="numberofscore" class="numberofscore" target="_blank">(30)</a>\n        </span>\n        <span data-id="scoreGroove" class="groove"></span>\n        <a href="#none" data-id="review" class="review" target="_blank">\ub9ac\ubdf0 <em data-id="numberofreview"></em></a>\n        <span  data-id="tvshowInfo" class="tvinfolabel HIDDEN">tv\uc18c\uac1c</span>\n    </div>\n    <div class="info_item">\n        <div data-id="wrapCourseInfo" class="wrapCourseInfo HIDDEN"></div>\n        <div data-id="wrapAddress" class="addr">\n            <p data-id="address"></p>\n            <p data-id="otherAddr" class="lot_number HIDDEN"></p>\n        </div>\n        <p data-id="gasinfo" class="gasinfo HIDDEN"></p>\n        <p data-id="realEstates" class="realEstates HIDDEN"></p>\n        <div data-id="openhour" class="openhour HIDDEN">\n            <p data-id="periodWarp" class="periodWarp HIDDEN">\n                <span data-id="periodStatus" class="openhourTitle"></span>\n                <a data-id="periodTxt" href="#" target="_blank"></a>\n            </p>\n        </div>\n        <div class="contact clickArea">\n            <span data-id="phone" class="phone HIDDEN"></span>\n            <a href="#none" data-id="moreview" class="moreview" target="_blank">\uc0c1\uc138\ubcf4\uae30</a>\n            <a href="#none" data-id="storeview" class="storeview HIDDEN">\uc2a4\ud1a0\uc5b4\ubdf0</a>\n            <a href="#none" data-id="intercity" class="intercity HIDDEN">\uc2e4\uc2dc\uac04\uc608\ub9e4</a>\n        </div>\n    </div>\n</li>\n',
RadiusToolDetail:'<div class="RadiusToolDetail">\n\t<ul>\n\t\t<li>\n\t\t\t<span class="detailToolLabel">\ubc18\uacbd</span>\n\t\t\t<strong data-id="radius">0</strong>\n\t\t\t<span data-id="radiusUnit">m</span>\n\t\t</li>\n\t\t<li>\n\t\t\t<span class="detailToolLabel">\ub3c4\ubcf4</span>\n\t\t\t<span class="HIDDEN" data-id="walkHour"><strong>0</strong>\uc2dc\uac04 </span>\n\t\t\t<strong data-id="walkMin">0</strong>\ubd84\n\t\t</li>\n\t\t<li>\n\t\t\t<span class="detailToolLabel">\uc790\uc804\uac70</span>\n\t\t\t<span class="HIDDEN" data-id="bicycleHour"><strong>0</strong>\uc2dc\uac04 </span>\n\t\t\t<strong data-id="bicycleMin">0</strong>\ubd84\n\t\t</li>\n\t\t<li class="detailToolClose">\n\t\t\t<a href="#" data-id="hider">\ub2eb\uae30</a>\n\t\t</li>\n\t</ul>\n    <p data-id="help" class="help"><em>\uc9c0\uc815\uc644\ub8cc</em> : \ub9c8\uc6b0\uc2a4 \uc624\ub978\ucabd, ESC</p>\n</div>\n',
ReviewInfoWindow:'<div class="ReviewInfoWindow InfoWindow">\r\n\t<div class="top"></div>\r\n\t<div class="body">\r\n\t\t<img data-id="thumb" src="http://placekitten.com/84/76" width="84" height="76" alt=""/>\r\n\t\t<button type="button" data-id="close" class="close ICON-close" title="\ub2eb\uae30"></button>\r\n\t\t<h6 class="title"><a href="#" target="_blank" data-id="title"></a></h6>\r\n\t\t<blockquote data-id="content"></blockquote>\r\n\t\t<p class="metadata DOTUM"><a href="#" target="_blank" data-id="author">-</a> | <span data-id="date">-</span></p>\r\n\t\t<div data-id="reference" class="reference HIDDEN">\r\n\t\t\t<button type="button" data-id="storeview" class="HIDDEN ICON-storeview"></button>\r\n\t\t\t<button type="button" data-id="roadview" class="HIDDEN ICON-roadview"></button>\r\n\t\t\t<strong><a href="#" target="_blank" data-id="name"></a></strong><br/>\r\n\t\t\t<span data-id="phone" class="phone"></span><span data-id="address"></span><br/>\r\n\t\t\t<span class="ICON-stars"><span data-id="stars"></span></span>\r\n\t\t\t<a href="#" target="_blank" data-id="vote">(-\uac74)</a> | \ub9ac\ubdf0 <em><a href="#" target="_blank" data-id="review">-</a></em>\r\n\t\t</div>\r\n\t\t<div class="toolbar" data-id="toolbar"></div>\r\n\t</div>\r\n\t<div class="bottom"></div>\r\n\t<div class="tail tail1"></div>\r\n\t<div class="tail tail2"></div>\r\n\t<div class="tail tail3"></div>\r\n\t<div class="tail tail4"></div>\r\n\t<div class="tail tail5"></div>\r\n\t<div class="tail tail6"></div>\r\n\t<div class="tail tail7"></div>\r\n\t<div class="tail tail8"></div>\r\n</div>\r\n',
ReviewItemView:'<li class="FavoriteEvaluationItem{{#isDisabled}} FavoriteDirectoryItem-DISABLED{{/isDisabled}}">\n    <strong class="tit_evaluation"><a href="#none" data-id="link" class="link_txt">{{name}}</a></strong>\n    <div class="rating">\n        <span class="score">\n            <span class="screen_out">\ubcc4\uc810</span>\n            <em class="screen_out">{{star}}</em>\n            <span class="backgroundStar">\n                <span class="star" style="width: {{starWidth}};"></span>\n            </span>\n        </span>\n        <span class="groove"></span>\n        <span class="num_date">{{dateText}}</span>\n    </div>\n    {{#isDisabledSummaryUi}}\n    <div class="FavoriteReportDesc">\n        {{#isTempByOther}}\n        <p class="desc_report">\n            \uc774 \uac8c\uc2dc\uae00\uc740 \uc815\ubcf4\ud1b5\uc2e0\ub9dd\ubc95 \uc81c 44\uc870 2\ud56d\uc5d0 \uc758\ud574 \uc784\uc2dc\uc870\uce58 \ub418\uc5c8\uc2b5\ub2c8\ub2e4. <a href="http://www.kakao.com/policy/right" class="link_report" target="_blank">\uad8c\ub9ac\uce68\ud574 \uc2e0\uace0 \uc548\ub0b4</a>\n        </p>\n        {{/isTempByOther}}\n        {{#isAdminDelete}}\n        <p class="desc_report">\uc774 \uac8c\uc2dc\uae00\uc740 \uc6b4\uc601\uc815\ucc45 \uc704\ubc18\uc73c\ub85c \uad00\ub9ac\uc790\uc5d0 \uc758\ud574 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.</p>\n        {{/isAdminDelete}}\n    </div>\n    {{/isDisabledSummaryUi}}\n    {{^isDisabledSummaryUi}}\n    <p data-id="contents" class="desc_directory">{{clippedContents}}{{#isMoreText}}.{{#isDisabled}}<span class="btn_txtmore">\ub354\ubcf4\uae30</span>{{/isDisabled}}{{^isDisabled}}<button type="button" data-id="moreText" class="btn_txtmore">\ub354\ubcf4\uae30</button>{{/isDisabled}}{{/isMoreText}}</p>\n    {{#isMoreText}}\n    <p data-id="originContents" class="desc_directory HIDDEN">{{contents}}<button type="button" data-id="contractText" class="btn_txtmore">\uc811\uae30</button></p>\n    {{/isMoreText}}\n\n    {{#isDisabled}}\n    {{#isPhoto}}\n    <strong class="screen_out">\uc7a5\uc18c \uc774\ubbf8\uc9c0</strong>\n    <ul class="gallery_favorite">\n        {{#photos}}\n        <li>\n            <span class="link_gallery">\n                <img src="{{thumbUrl}}" width="70" height="70" alt="\uc7a5\uc18c \uc0c1\uc138"/>\n                <span class="frame_g"></span>\n                {{#photoTotalCnt}}\n                <span class="txt_num">{{photoTotalCnt}}<span class="screen_out">\uac1c \uc774\ubbf8\uc9c0 \ub354\ubcf4\uae30</span></span>\n                <span class="frame_photo"></span>\n                {{/photoTotalCnt}}\n            </span>\n        </li>\n        {{/photos}}\n    </ul>\n    {{/isPhoto}}\n    <span class="btn_like"><span class="ico_mypage ico_like"></span>\uc88b\uc544\uc694 <span class="num">{{likeCount}}</span></span>\n    {{/isDisabled}}\n    {{^isDisabled}}\n    {{#isPhoto}}\n    <strong class="screen_out">\uc7a5\uc18c \uc774\ubbf8\uc9c0</strong>\n    <ul data-id="photos" class="gallery_favorite">\n        {{#photos}}\n        <li>\n            <a href="{{link}}" target="_blank" class="link_gallery">\n                <img src="{{thumbUrl}}" width="70" height="70" alt="\uc7a5\uc18c \uc0c1\uc138"/>\n                <span class="frame_g"></span>\n                {{#photoTotalCnt}}\n                <span class="txt_num">{{photoTotalCnt}}<span class="screen_out">\uac1c \uc774\ubbf8\uc9c0 \ub354\ubcf4\uae30</span></span>\n                <span class="frame_photo"></span>\n                {{/photoTotalCnt}}\n            </a>\n        </li>\n        {{/photos}}\n    </ul>\n    {{/isPhoto}}\n    <button type="button" data-id="like" class="btn_like{{#like}} ACTIVE{{/like}}"><span class="ico_mypage ico_like"></span>\uc88b\uc544\uc694 <span class="num">{{likeCount}}</span></button>\n    {{/isDisabled}}\n\n    {{/isDisabledSummaryUi}}\n    {{^isOtherAndDisabled}}\n    <button type="button" data-id="more" class="btn_more"><span class="ico_mypage ico_more">\ub354\ubcf4\uae30</span></button>\n    {{/isOtherAndDisabled}}\n    {{#isDisabled}}\n    {{#isTempByOwner}}\n    <div class="FavoriteReportDesc">\n        <p class="desc_report">\n            \uc774 \uac8c\uc2dc\uae00\uc740 \uc815\ubcf4\ud1b5\uc2e0\ub9dd\ubc95 \uc81c 44\uc870 2\ud56d\uc5d0 \uc758\ud574 \uc784\uc2dc\uc870\uce58 \ub418\uc5c8\uc2b5\ub2c8\ub2e4. <a href="http://www.kakao.com/policy/right" class="link_report" target="_blank">\uad8c\ub9ac\uce68\ud574 \uc2e0\uace0 \uc548\ub0b4</a>\n        </p>\n    </div>\n    {{/isTempByOwner}}\n    {{/isDisabled}}\n    {{^isOtherAndDisabled}}\n    <div data-id="setting" class="FavoriteSettingLayer HIDDEN">\n        <ul class="list_opt">\n            {{#isOtherPage}}\n            <li><a data-id="report" href="#none">\uc2e0\uace0</a></li>\n            {{/isOtherPage}}\n            {{^isOtherPage}}\n            {{#isEdit}}\n            <li><a data-id="modify" href="{{link}}" target="_blank">\uc218\uc815</a></li>\n            {{/isEdit}}\n            <li><a data-id="remove" href="#none">\uc0ad\uc81c</a></li>\n            {{/isOtherPage}}\n        </ul>\n    </div>\n    {{/isOtherAndDisabled}}\n</li>\n',
RoughMapFrame:'<div class="RoughMapFrame">\r\n\t<iframe data-id="frame" frameborder=\'0\' border=\'0\' class="frame" src=""></iframe>\r\n</div>',RouteIndexMarker:'<div class="RouteIndexMarker">\r\n   <span class="count" data-id=\'count\'>0</span>\r\n</div>',RouteInfoWindow:'<div class="RouteInfoWindow">\r\n\t<div class="top"></div>\r\n\t<div class="body">\r\n\t\t<div data-id="icons" class="left_icon"><span data-id="icon" class="icon {{iconType}}"></span></div>\r\n\t\t<div class="right_content">\r\n\t\t\t<h6 class="name">\r\n\t\t\t\t<span href="#" data-id="title">{{title}}</span>\r\n\t\t\t</h6>\r\n\t\t\t\r\n\t\t\t<div class="altviews">\r\n\t\t\t\t<a data-id="rv" href="#" class="rv ICON-roadview HIDDEN" title="\ub85c\ub4dc\ubdf0"></a>\r\n\t\t\t\t<button type="button" data-id="close" class="closeInfo" title="\ub2eb\uae30"></button>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<div class="content" data-id="content"></div>\r\n\t\t\t\r\n\t\t</div>\r\n\t\t<\!-- \r\n\t\t<img data-id="img" class="HIDDEN">\r\n\t\t<span data-id="title" href="#" class="title"></span>\r\n\t\t \r\n\t\t<p data-id="desc" class="HIDDEN"></p>--\>\r\n\t\t\r\n\t\t<div  class="arrow">\r\n\t\t\t<a class="next" href="#" data-id="next"></a>\r\n\t\t\t<a class="prev" href="#" data-id="prev"></a>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="bottom"></div>\r\n</div>',
RouteMethodTabView:'<div class="RouteMethodTabView">\r\n\t<a id="cartab" data-id="car" class="car" href="#"></a>\r\n\t<a id="transittab" data-id="transit" class="transit" href="#"></a>\r\n\t<a id="walktab" data-id="walk" class="walk" href="#"></a>\r\n\t<a id="biketab" data-id="bike" class="bike" href="#"></a>\r\n</div>\r\n',ScrapMapFrame:'<div class="ScrapMapFrame">\r\n\t<iframe data-id="frame"  frameborder=\'0\' border=\'0\' name="scrapmap" class="frame" src=""></iframe>\r\n\t<a href="#" class="close"></a>\r\n</div>',
SkyviewOptions:'<div class="SkyviewOptions">\r\n\t<a href="#" class="hybrid ACTIVE">\ud558\uc774\ube0c\ub9ac\ub4dc</a>\r\n\t<div class="line"></div>\r\n\t<a href="#" class="yearRadio yearNow ACTIVE">\ucd5c\uadfc\uc0ac\uc9c4</a>\r\n\t<a href="#" class="yearRadio">2017</a>\r\n\t<a href="#" class="yearRadio">2016</a>\r\n\t<a href="#" class="yearRadio">2015</a>\r\n\t<a href="#" class="yearRadio">2014</a>\r\n\t<a href="#" class="yearRadio">2013</a>\r\n\t<a href="#" class="yearRadio">2012</a>\r\n\t<a href="#" class="yearRadio">2011</a>\r\n\t<a href="#" class="yearRadio">2010</a>\r\n\t<a href="#" class="yearRadio">2009</a>\r\n\t<a href="#" class="yearRadio">2008</a>\r\n</div>',
StartEndPointInfoContent:'<div class="StartEndPointInfoContent HIDDEN">\r\n\t<p class="contact" data-id="contact">\r\n\t\t<span class="phone" data-id="phone">02-120</span>\r\n\t\t<span class="allphone HIDDEN" data-id="allphone"></span>\r\n\t\t<button class="morephone ICON-downbtn" type="button" data-id="morephone"></button>\r\n\t</p>\r\n\t<p class="address" data-id="address" title="\uc11c\uc6b8 \uc911\uad6c \ud0dc\ud3c9\ub85c1\uac00 31">\uc11c\uc6b8 \uc911\uad6c \ud0dc\ud3c9\ub85c1\uac00 31</p>\r\n\t<p class="newaddr DOTUM" data-id="newaddr">(\uc0c8\uc8fc\uc18c : \uc11c\uc6b8 \uc911\uad6c \uc138\uc885\ub300\ub85c 110)</p>\r\n</div>',
StartEndPointItemView:'<li class="StartEndPointItemView">\r\n\t<div class="itemLeft">\r\n\t\t<span data-id="icon" class="icon {{actionName}}"></span>\r\n\t\t<div class="transitStartEndname">\r\n\t\t\t<a href="#" data-id="name" class="name">\r\n\t\t\t\t{{name}}\r\n\t\t\t</a>\r\n\t\t</div>\r\n\t</div>\r\n\t{{#isShowDetail}}\r\n\t<a href=\'{{placeUrl}}\' class=\'btn_detail\' data-id=\'detail\' target=\'_blank\' >\uc0c1\uc138\ubcf4\uae30</a>\r\n\t{{/isShowDetail}}\r\n\t{{#roadview}}\r\n\t\t<a href="#" class="roadview screen_visible" data-id="roadview">\ub85c\ub4dc\ubdf0</a> \r\n\t{{/roadview}}\r\n</li>',
SubPlaceInfoWindow:'<div class="SubPlaceInfoWindow InfoWindow">\r\n\t<div class="top"></div>\r\n\t<div class="body">\r\n\t\t<div class="content">\r\n\t\t\t<button type="button" data-id="close" class="close ICON-close" title="\ub2eb\uae30"></button>\r\n\t\t\t<h6>\r\n\t\t\t\t<span data-id="name" class="name">\uc8fc\uc18c</span>\r\n\t\t\t</h6>\r\n\t\t</div>\r\n\t\t<div class="toolbar" data-id="toolbar"></div>\r\n\t</div>\r\n\t<div class="bottom"></div>\r\n\t<div class="tail tail1"></div>\r\n\t<div class="tail tail2"></div>\r\n\t<div class="tail tail3"></div>\r\n\t<div class="tail tail4"></div>\r\n\t<div class="tail tail5"></div>\r\n\t<div class="tail tail6"></div>\r\n\t<div class="tail tail7"></div>\r\n\t<div class="tail tail8"></div>\r\n</div>\r\n',
SubwayRouteInfoWindowContent:'<div data-id="SubwayRouteInfoWindowContent" class="SubwayRouteInfoWindowContent">\r\n\t<div class="direction">\r\n\t\t{{desc}}\r\n\t\t{{#tip}}<span class="time"> ({{tip}})</span>{{/tip}}\r\n\t</div>\r\n\t\r\n\t{{#nodes}}<span class="nodes">{{nodes}}</span>, {{/nodes}}\r\n\t{{#time}}<span class="time">{{time}}</span> \uc18c\uc694{{/time}}\r\n</div>',SubwayRouteResultItemView:'<li class="SubwayRouteResultItem">\r\n\t<div class="title clickArea">\r\n\t\t<p data-id="time" class="time"></p>\r\n\t\t<a href="#" class="detailBtn" title="\ud3bc\uce58\uae30">\ud3bc\uce58\uae30</a>\r\n\t\t<p data-id="fare" class="fare"></p>\r\n\t</div>\r\n\t<div data-id="outLineView" class="outLineView clickArea"></div>\r\n\t<div data-id="detailView" class="detailView"></div>\r\n</li>',
SubwayRouteSectionItemView:'<li class="SubwayRouteSectionItem">\r\n\t<div class="SubwayRouteSectionItemWrap">\r\n\t\t<span class="icon"></span>\r\n\t\t<span data-id="line" class="line"></span>\r\n\t\t<span data-id="endIcon" class="endIcon"></span>\r\n\t\t<div data-id="infoWrap" class="infoWrap">\r\n\t\t\t<span data-id="time" class="time"></span>\r\n\t\t\t<span data-id="name" class="name"></span>\r\n\t\t\t<p data-id="direction" class="direction"></p>\r\n\t\t\t<p data-id="fastTransfer" class="fastTransfer"></p>\r\n\t\t\t<a href="#" data-id="stationCount" class="stationCount"></a>\r\n\t\t\t<ul data-id="nodes" class="nodes">\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t</div>\r\n</li>',
SubwayStationInfoWindow:'<div class="SubwayStationInfoWindow InfoWindow">\r\n    <div class="top"></div>\r\n    <div class="body">\r\n        <button type="button" data-id="min" class="img_tooltip ico_min">\ucd95\uc18c\ud558\uae30</button>\r\n        <button type="button" data-id="close" class="img_tooltip ico_close">\ub2eb\uae30</button>\r\n\r\n        <div data-id="linebg" class="head_subway">\r\n            <strong data-id="name" class="tit_subway">\r\n                <span class="inner_subway">\r\n                    <span class="txt_subway"></span>\r\n                </span>\r\n            </strong>\r\n            <a href="#none" data-id="prev" class="prev"><span class="txt_g"></span></a>\r\n            <a href="#none" data-id="next" class="next"><span class="txt_g"></span></a>\r\n        </div>\r\n        <div class="content">\r\n            <div data-id="transfer" class="transfer HIDDEN">\r\n                <strong>\ud658\uc2b9\uc5ed</strong>\r\n            </div>\r\n            <div class="contact">\r\n                <strong>\ub300\ud45c\ubc88\ud638</strong>\r\n                <span data-id="telephone" class="phone"></span>\r\n                <span class="txt_bar"></span>\r\n                <strong>\uc720\uc2e4\ubb3c\uc13c\ud130</strong>\r\n                <span data-id="lostCenterTelephone" class="phone"></span>\r\n            </div>\r\n            <div class="service">\r\n                <a href="#none" data-id="subwayMap">\uc9c0\ud558\ucca0\ub178\uc120\ub3c4</a>\r\n                <span class="ICON-middot"></span>\r\n                <a href="#none" data-id="detail" class="detail">\uc0c1\uc138\ubcf4\uae30</a>\r\n                <span class="ICON-middot"></span>\r\n                <a href="#none" data-id="report" class="report">\uc815\ubcf4\uc218\uc815</a>\r\n            </div>\r\n        </div>\r\n        <div data-id="toolbar" class="toolbar"></div>\r\n    </div>\r\n    <div class="bottom"></div>\r\n</div>',
ThemeMapItemView:'<li class="ThemeMapItem">\r\n\t<div data-id="imgWrap" class="imgWrap">\r\n\t\t<a class="img" href="#">\r\n\t\t\t<span class="imgStroke"></span>\r\n\t\t\t<img data-id="img" src="" width="73" height="66"/>\r\n\t\t</a>\r\n\t</div>\r\n\t<div data-id="para" class="para clickArea">\r\n\t\t<h6 class="clickArea">\r\n\t\t\t<a data-id="name" href="#">\r\n\t\t\t\uc5f0\uc778\ub4e4\uc774 \ud568\uaed8 \uac00\uba74 \ub354 \uc88b\uc740 \uce74\ud398\r\n\t\t\t</a>\r\n\t\t</h6>\r\n\t\t<div data-id="infowrap" class="infowrap">\r\n\t\t\t<span><span data-id="region" class="region">\uc804\uad6d</span> <strong data-id="count">32</strong>\uacf3</span>\r\n\t\t\t<span class="bar">|</span>\r\n\t\t\t<span data-id="like" class="like">3202</span>\r\n\t\t</div>\r\n\t\t<div class="urlShare clickArea">\r\n\t\t\t<a data-id="urlShare" class="urlBtn" href="#">url\uacf5\uc720</a>\r\n\t\t</div>\r\n\t</div>\r\n</li>',
ThemeMapPlaceItemView:'<li class="ThemeMapPlaceItem">\r\n\t<div class="iconWrap">\r\n\t\t<span data-id="icon" class="icon"></span>\r\n\t</div>\r\n\t<div data-id="para" class="para clickArea">\r\n\t\t<div data-id="imgWrap" class="imgWrap HIDDEN">\r\n\t\t\t<a class="img" href="#">\r\n\t\t\t\t<span class="imgStroke"></span>\r\n\t\t\t\t<img data-id="image" width="73" height="66" />\r\n\t\t\t</a>\r\n\t\t</div>\r\n\t\t<h6 class="clickArea">\r\n\t\t\t<a data-id="name" href="#">\r\n\t\t\t\t\ubc00\ud0d1\r\n\t\t\t</a>\r\n\t\t</h6>\r\n\t\t<a href="#" data-id="why" class="why">\uacf1\uac8c \uac04 \uc5bc\uc74c\uc5d0 \uc5f0\uc720\uc640 \uacfc\uc77c\uc744 \ub2f4\uc544\ub0b4\ub294 \ubc00\ud06c\ube59\uc218\uac00 \uc77c\ud488\uc778 \ube59\uc218 \uc804\ubb38\uc810</a>\r\n\t\t<div data-id="info" class="infowrap clickArea">\r\n\t\t\t<span data-id="region" class="region">\uc11c\uc6b8</span>\r\n\t\t\t<span class="bar">|</span>\ud301\t<span data-id="tip" class="tip">25</span>\r\n\t\t</div>\r\n\t</div>\r\n\t<a href="#" data-id="like" class="like">\r\n\t\t<span data-id="good" class="good">0</span>\r\n\t</a>\r\n</li>',
ThemeMapPlaceMarker:'<div class="ThemeMapPlaceMarker">\r\n   <span class="count" data-id=\'count\'>0</span>\r\n</div>',TrafficInfoWindow:'<div class="InfoWindow TrafficInfoWindow">\r\n\t<div class="top"></div>\r\n\t<div class="body">\r\n\t\t<button type="button" data-id="close" class="close ICON-close" title="\ub2eb\uae30"></button>\r\n\t\t<button type="button" data-id="fav" class="fav ICON-fav" title="\uc990\uaca8\ucc3e\uae30"></button>\r\n\t\t<h6 data-id="title"></h6>\r\n\t\t<p data-id="section">\ud55c\ub0a82\ucc28\uace0\uac00\ucc28\ubd81\ub2e8 ~ \ubd81\ud55c\ub0a8\uc0bc\uac70\ub9ac</p>\r\n\t\t<blockquote data-id="desc">359m \uad6c\uac04\uc6d0\ud560 (\uc18d\ub3c4 52km/h)</blockquote>\r\n\t</div>\r\n\t<div class="bottom"></div>\r\n\t<div class="tail tail1"></div>\r\n\t<div class="tail tail2"></div>\r\n\t<div class="tail tail3"></div>\r\n\t<div class="tail tail4"></div>\r\n\t<div class="tail tail5"></div>\r\n\t<div class="tail tail6"></div>\r\n\t<div class="tail tail7"></div>\r\n\t<div class="tail tail8"></div>\r\n</div>\r\n',
TrafficLegend:'<div class="TrafficLegend">\n    <a data-id="close" class="close" href="#"></a>\n    <div data-id="tooltip1" class="tooltip HIDDEN">\n        <dl>\n            <dt>\uace0\uc18d\ub3c4\ub85c</dt><dd>: <strong>70</strong> km/h\u2191</dd>\n            <dt>\uad6d\ub3c4    </dt><dd>: <strong>50</strong> km/h\u2191</dd>\n            <dt>\uc2dc\ub0b4\ub3c4\ub85c</dt><dd>: <strong>30</strong> km/h\u2191</dd>\n        </dl>\n        <span class="vertex"></span>\n    </div>\n    <div data-id="tooltip2" class="tooltip tooltip2 HIDDEN">\n        <dl>\n            <dt>\uace0\uc18d\ub3c4\ub85c</dt><dd>: <strong>50~70</strong> km/h</dd>\n            <dt>\uad6d\ub3c4    </dt><dd>: <strong>30~50</strong> km/h</dd>\n            <dt>\uc2dc\ub0b4\ub3c4\ub85c</dt><dd>: <strong>20~30</strong> km/h</dd>\n        </dl>\n        <span class="vertex"></span>\n    </div>\n    <div data-id="tooltip3" class="tooltip tooltip3 HIDDEN">\n        <dl>\n            <dt>\uace0\uc18d\ub3c4\ub85c</dt><dd>: <strong>30~50</strong> km/h</dd>\n            <dt>\uad6d\ub3c4    </dt><dd>: <strong>20~30</strong> km/h</dd>\n            <dt>\uc2dc\ub0b4\ub3c4\ub85c</dt><dd>: <strong>10~20</strong> km/h</dd>\n        </dl>\n        <span class="vertex"></span>\n    </div>\n    <div data-id="tooltip4" class="tooltip tooltip4 HIDDEN">\n        <dl>\n            <dt>\uace0\uc18d\ub3c4\ub85c</dt><dd>: <strong>30</strong> km/h\u2193</dd>\n            <dt>\uad6d\ub3c4    </dt><dd>: <strong>20</strong> km/h\u2193</dd>\n            <dt>\uc2dc\ub0b4\ub3c4\ub85c</dt><dd>: <strong>10</strong> km/h\u2193</dd>\n        </dl>\n        <span class="vertex"></span>\n    </div>\n    <p class="date">\uae30\uc900 : <span data-id="date"></span></p>\n    <a data-id="refresh" class="refresh" href="#">\uc0c8\ub85c\uace0\uce68</a>\n    <ul class="bar">\n        <li data-id="density1" class="density1"><a href="#"></a>\uc6d0\ud65c</li>\n        <li data-id="density2" class="density2"><a href="#"></a>\uc11c\ud589</li>\n        <li data-id="density3" class="density3"><a href="#"></a>\uc9c0\uccb4</li>\n        <li data-id="density4" class="density4"><a href="#"></a>\uc815\uccb4</li>\n        <li data-id="density5" class="density5"><a href="#"></a>\uc815\ubcf4\uc5c6\uc74c</li>\n    </ul>\n    <ul class="desc">\n        <li class="clickable">\uc18d\ub3c4 \uc815\ubcf4 \ub77c\uc778 \uc704\ub97c \ud074\ub9ad\ud558\uba74, \uc0c1\uc138 \uc815\ubcf4 \ud655\uc778 \uac00\ub2a5</li>\n        <li>\uc2dc\ub0b4 \ub3c4\ub85c\ub294 \uc2e0\ud638 \uc815\ucc28 \ub4f1\uc73c\ub85c \uc2e4\uc81c \uc18d\ub3c4\uc640 \ub2e4\ub97c \uc218 \uc788\uc74c</li>\n    </ul>\n</div>\n',
TransitInterPointItemView:'<li class="TransitInterPointItem {{#isCustomType}}custom_info_item{{/isCustomType}}">\n    <div class="transInterTypeInfo" data-id="transInterTypeInfo" >\n        <div data-id="trans_type_header" class="trans_type_header"></div>\n        <div data-id="trans_inter_time" class="trans_inter_time"></div>\n        <a class="detailBtn" data-id="detailBtn"></a>\n        {{#longInterval}}<div class="long_interval_info">\ubc30\ucc28\uac04\uaca9\uc774 \uae34 \uc218\ub2e8\uc785\ub2c8\ub2e4. \uc2dc\uac04\ud45c\ub97c \ud655\uc778\ud558\uc138\uc694.</div>{{/longInterval}}\n    </div>\n\n    {{#isInterTraffic}}\n\t<ol class="public_detail" data-id="interList" >\n\t</ol>\n    {{/isInterTraffic}}\n    {{#isOneLineSummary}}\n\n\n\t<ol class="public_detail">\n\t\t<li class="TransitPointItem" data-id=\'oneItem\' >\n\t\t\t<div class="TransitPointItemWrap" data-id="pointItemWrap">\n\t\t\t\t<div class="detailIcoWrap" data-id="detailIcoWrap">\n\t\t\t\t\t<div data-id="startSummaryIcon" class="summaryIcon INTERCITY taxi"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class="transitDetail">\n\t\t\t\t\t<strong><a href="#none" data-id="startName">\uc0c1\ubd09\uc5ed\uae4c\uc9c0 \ud0dd\uc2dc\ub85c \uc774\ub3d9</a></strong>\n\t\t\t\t\t<div class="vehicles HIDDEN" data-id="vehicles"></div>\n\t\t\t\t\t<div class="descWrap HIDDEN">\n\t\t\t\t\t\t<a href="#none" class="desc HIDDEN" data-id="desc"></a>\n\t\t\t\t\t\t<ul class="subwayTypeList HIDDEN" data-id="subwayTypes"></ul>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="moreRoute" data-id="moreRouteWrap">\n\t\t\t\t\t\t<span data-id="moreRoute">\n\t\t\t\t\t\t\t<span data-id="moreRouteTxt"></span>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</li>\n\t</ol>\n\n\t<\!--\n    <div class="TransitRouteOutlineView innerTransitDetail">\n        <div class="SummaryDetail">\n            <div class="TransitRouteOutlineItemView">\n                <div class="iconwrap">\n                    <div data-id="startSummaryIcon" class="summaryIcon INTERCITY"></div>\n                </div>\n                <div class="summaryDesc intercity">\n                    <div class="summaryName">\n                        <span href="#" data-id="startName" class="name"></span>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\t--\>\n    {{/isOneLineSummary}}\n    {{#isCustomType}}\n    <div class="TransitRouteOutlineView innerTransitDetail">\n        <div class="SummaryDetail">\n\t\t\t<\!--\n            <div class="TransitCustomOutlineItemView">\n                <div class="custom_title">{{destination}}\uae4c\uc9c0 \uc774\ub3d9</div>\n                <div class="custom_detail">\uc8fc\ubcc0 \uad50\ud1b5\uc218\ub2e8\uc744 \uc774\uc6a9\ud574\uc8fc\uc138\uc694.</div>\n                <div class="custom_detail">\ud574\ub2f9 \uc18c\uc694\uc2dc\uac04\uc740 \uc2e4\uc81c\uc640 \ub2e4\ub97c \uc218 \uc788\uc2b5\ub2c8\ub2e4.</div>\n            </div>\n\t\t\t--\>\n\t\t\t<div class="TransitCustomOutlineItemView">\n\t\t\t\t<\!-- 2018-10-30 \uc218\uc815 \uc2dc\uc791 --\>\n\t\t\t\t<span class="custom_ico"></span>\n\t\t\t\t<strong class="custom_title">{{destination}}\uae4c\uc9c0 \uc774\ub3d9 <span data-id="custom_inter_time" class="trans_inter_time"></span></strong>\n\t\t\t\t<p class="custom_detail">\uc8fc\ubcc0 \uad50\ud1b5\uc218\ub2e8\uc744 \uc774\uc6a9\ud574\uc8fc\uc138\uc694. \ud574\ub2f9 \uc18c\uc694\uc2dc\uac04\uc740 \uc2e4\uc81c\uc640 \ub2e4\ub97c \uc218 \uc788\uc2b5\ub2c8\ub2e4.</p>\n\t\t\t\t<\!-- // 2018-10-30 \uc218\uc815 \ub05d --\>\n\t\t\t</div>\n        </div>\n    </div>\n\n\n    {{/isCustomType}}\n</li>',
TransitInterPointSubItemView:'<li class="TransitPointItem" >\r\n\t<div class="TransitPointItemWrap" data-id="pointItemWrap">\r\n\t\t<div class="detailIcoWrap" data-id="detailIcoWrap">\r\n\t\t\t<div data-id="summaryIcon" class="summaryIcon"></div>\r\n\t\t\t<div data-id="tp_line" class="tp_line"></div>\r\n\t\t</div>\r\n\t\t<div class="transitDetail">\r\n\t\t\t<strong data-id=\'nameWrap\' >\r\n\t\t\t\t<a href="#none" data-id="name"></a>\r\n\t\t\t</strong>\r\n\t\t\t<div class="vehicles HIDDEN" data-id="vehicles"></div>\r\n\t\t\t<div class="descWrap HIDDEN">\r\n\t\t\t\t<a href="#none" class="desc HIDDEN" data-id="desc"></a>\r\n\t\t\t\t<ul class="subwayTypeList HIDDEN" data-id="subwayTypes"></ul>\r\n\t\t\t</div>\r\n\t\t\t<div class="moreRoute HIDDEN" data-id="moreRouteWrap">\r\n\t\t\t\t<span data-id="moreRoute">\r\n\t\t\t\t\t<span data-id="moreRouteTxt"></span>\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<a href="#none" data-id="reservationBtn" class="reservation_btn HIDDEN"></a>\r\n\t</div>\r\n</li>',
TransitMediumTooltip:'<div class="TransitMediumTooltip">\r\n\t<div class="content"> \r\n\t\t<a href="#" data-id="nameWrap" class="nameWrap">\r\n\t\t\t<span class="location" data-id="name"></span>\r\n\t\t\t<span data-id="actionName"></span>\r\n\t\t</a>\r\n\t\t<a href="#" data-id="expand" class="expand" >\ud3bc\uce68</a>\r\n\t\t<a href="#" data-id="close" class="close" >\ub2eb\uae30</a>\r\n\t</div>\r\n\t<span class="arrow"></span>\r\n</div>\r\n',TransitPointInfoWindow:'<div class="TransitPointInfoWindow">\r\n\t<div class="body" data-id="body">\r\n\t\t<span data-id="icon" class="icon"></span>\r\n\t\t<strong class="name addr" data-id="name">\r\n\t\t\t<a href="#" data-id="title">{{title}}</a> {{actionName}}\r\n\t\t</strong>\r\n\t\t\r\n\t\t<div class="content" data-id="transitPointContent"></div>\r\n\t\t<div class="altviews">\r\n\t\t\t{{#roadview}}<a data-id="rv" href="#" class="rv ICON-roadview" title="\ub85c\ub4dc\ubdf0"></a>{{/roadview}}\r\n\t\t\t<button type="button" data-id="min" class="collapse" title="\ucd95\uc18c\ud558\uae30"></button>\r\n\t\t\t<button type="button" data-id="close" class="closeInfo" title="\ub2eb\uae30"></button>\r\n\t\t</div>\r\n\t\t\r\n\r\n\t\t<div  class="arrow">\r\n\t\t\t<a class="next" href="#" data-id="next"></a>\r\n\t\t\t<a class="prev" href="#" data-id="prev"></a>\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="tail"></div>\r\n</div>\r\n',
TransitPointItemView:'<li class="TransitPointItem">\r\n\t<div class="TransitPointItemWrap" data-id="pointItemWrap">\r\n\t\t<div class="detailIcoWrap" data-id="detailIcoWrap">\r\n\t\t\t<div data-id="summaryIcon" class="summaryIcon"></div>\r\n\t\t\t<\!-- <div data-id="pre_transitline" class="pre_transitline"></div> --\>\r\n\t\t\t<div data-id="tp_line" class="tp_line"></div>\r\n\t\t</div>\r\n\t\t<div class="transitDetail">\r\n\t\t\t<strong><a href="#" data-id="name"></a></strong>\r\n\t\t\t\r\n\t\t\t<div class="vehicles HIDDEN" data-id="vehicles"></div>\r\n\t\t\t\r\n\t\t\t<div class="descWrap HIDDEN"> \r\n\t\t\t\t<a href="#" class="desc HIDDEN" data-id="desc"></a>\r\n\t\t\t\t<ul class="subwayTypeList HIDDEN" data-id="subwayTypes">\r\n\t\t\t\t</ul>\r\n\t\t\t</div>\r\n\t\t\t<div class="moreRoute" data-id="moreRouteWrap">\r\n                {{#isPublicPoint}}\r\n\t\t\t\t<a href="#" data-id="moreRoute">\r\n\t\t\t\t\t<span data-id="moreRouteTxt"></span>{{#isNodes}}<span class="moreBtn"></span>{{/isNodes}}\r\n\t\t\t\t</a>\r\n                {{/isPublicPoint}}\r\n                {{#isInterPublic}}\r\n                <span data-id="moreRoute">\r\n                    <span data-id="moreRouteTxt"></span>\r\n                </span>\r\n                {{/isInterPublic}}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\r\n\t\t<div class="icoRight">\r\n\t\t\t\t<a href="#" data-id="subwayLineBtn" class="subwaylineBtn screen_visible">\uc9c0\ud558\ucca0\ub178\uc120\ub3c4</a>\r\n            {{#isPublicPoint}}\r\n\t\t\t\t<a href="#" class="roadview screen_visible" data-id="roadview">\ub85c\ub4dc\ubdf0</a>\r\n            {{/isPublicPoint}}\r\n\t\t</div>\r\n\r\n\t</div>\r\n\t{{#isNodes}}\r\n\t<ol class="detailRoute HIDDEN" data-id="detailRoute">{{#nodes}}\r\n\t\t<li class="nodeName">\r\n\t\t\t<span class="detailIco detail_{{nodeCode}}"></span>\r\n\t\t\t<div class="{{nodeCode}}_line d_line"></div>\r\n\t\t\t{{name}}\r\n\t\t</li>\r\n\t\t{{/nodes}}\r\n\t</ol>\r\n\t{{/isNodes}}\r\n    {{#isOther}}\r\n    <div class="TransitPointOtherWrap">\r\n        <div class="other_time" data-id="otherTime"></div>\r\n        <div class="other_info">\r\n            <div class="other_title" data-id="otherTitle"></div>\r\n            <div class="other_detail">\uc8fc\ubcc0 \uad50\ud1b5\uc218\ub2e8\uc744 \uc774\uc6a9\ud574\uc8fc\uc138\uc694.</div>\r\n            <div class="other_detail">\ud574\ub2f9 \uc18c\uc694\uc2dc\uac04\uc740 \uc2e4\uc81c\uc640 \ub2e4\ub97c \uc218 \uc788\uc2b5\ub2c8\ub2e4.</div>\r\n        </div>\r\n    </div>\r\n    {{/isOther}}\r\n</li>',
TransitRouteOutlineItemView:'<div class="TransitRouteOutlineItemView">\r\n\t<div class="iconwrap">\r\n\t\t<div data-id="summaryIcon" class="summaryIcon"></div>\r\n\t\t<div data-id="transitline" class="transitline"></div>\r\n\t</div>\r\n\t<div class="summaryDesc" data-id="summaryDesc">\r\n\t\t<div class="summaryName" data-id="summaryName">\r\n\t\t\t<span href="#" data-id="name" class="name"></span>\r\n\t\t\t<ul class="subwayTypeList HIDDEN" data-id="subwayTypes">\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t\t\r\n\t\t<div class="vehicles HIDDEN" data-id="busVehicles">\r\n\t\t<\!-- \ubc84\uc2a4 \uc815\ub958\uc7a5 \uadf8\ub8e8\ud551 --\>\r\n\t\t</div>\r\n\t\t\r\n\t</div>\r\n</div>\r\n',
TransitRouteResultView:'<div class="TransitRouteResultView">\n    <ul class="boundtabs">\n        <li class="list inboundtab">\uc2dc\ub0b4\uad50\ud1b5</li>\n        <li class="list outboundtab">\uc2dc\uc678\uad50\ud1b5</li>\n   </ul>\n    <ul class="transitnumberlist">\n        <li class="list recommandtab">\ucd94\ucc9c (0)</li>\n        <li class="list bustab">\ubc84\uc2a4 (0)</li>\n        <li class="list subwaytab">\uc9c0\ud558\ucca0 (0)</li>\n        <li class="list hybridtab">\ubc84\uc2a4 + \uc9c0\ud558\ucca0 (0)</li>\n    </ul>\n    <ul class="intertransitnumberlist">\n        <li class="list recommendtab">\ucd94\ucc9c (0)</li>\n        <li class="list interbustab">\uace0\uc18d.\uc2dc\uc678 (0)</li>\n        <li class="list traintab">\uae30\ucc28 (0)</li>\n        <li class="list airplanetab">\ud56d\uacf5 (0)</li>\n        <li class="list ferrytab">\uc5ec\uac1d\uc120 (0)</li>\n    </ul>\n    <p class="transitInfo"><a class="transitViaInfoCloser" href="#"></a></p>\n    <ul class="TransitTotalPanel"></ul>\n    <div class="notitime"></div>\n</div>\n',
TriangleNotice:'<div class="TriangleNotice">\r\n\t<\!-- <div class="bg" data-id="bg"></div> --\>\r\n\t<\!-- <label data-id="label"><input type="checkbox" data-id="keep" class="keep"/><span></span></label> --\>\r\n\t<a class="link1" href="{{link}}" target="_blank"></a>\r\n\t<a class="link2" href="{{link}}" target="_blank"></a>\r\n\t<a class="link3" href="{{link}}" target="_blank"></a>\r\n\t<button data-id="close" class="close" title="\ub2eb\uae30"></button>\r\n</div>',TriangleNotice2:'<div class="TriangleNotice2">\r\n\t<\!-- <div class="bg" data-id="bg"></div> --\>\r\n\t<\!-- <label data-id="label"><input type="checkbox" data-id="keep" class="keep"/><span></span></label> --\>\r\n\t<a class="link1" href="#" target="_blank"></a>\r\n\t<a class="link2" href="#" target="_blank"></a>\r\n\t<a class="link3" href="#" target="_blank"></a>\r\n\t<button data-id="close" class="close" title="\ub2eb\uae30"></button>\r\n</div>',
UsedistrictTypeOptions:'<div class="UsedistrictTypeOptions">\r\n\t<a href="#" class="usedistrict ACTIVE">\uc9c0\uc801\ud3b8\uc9d1\ub3c4</a>\r\n\t<a href="#" class="bboundary">\ubc95\uc815\ub3d9 \uacbd\uacc4</a>\r\n\t<a href="#" class="hboundary">\ud589\uc815\ub3d9 \uacbd\uacc4</a>\r\n</div>',ViewContext:'<div data-id="ViewContext" class="Context HIDDEN">\r\n    <div class="contextWrap">\r\n        <a data-id="here" href="#" class="context_here">\r\n            <span class="text">\uc5ec\uae30 \uc8fc\uc18c \ubcf4\uae30</span>\r\n        </a>\r\n        <a data-id="newplace" href="#" class="context_new">\r\n            <span class="text">\uc2e0\uaddc \uc7a5\uc18c \ub4f1\ub85d</span>\r\n        </a>\r\n        <a data-id="strange" href="#" class="strange">\r\n            <span class="text">\uc5ec\uae30 \uc815\ubcf4 \uc218\uc815</span>\r\n        </a>\r\n        <a data-id="favorite" class="fav" href="#">\r\n            <span class="text">\uc990\uaca8\ucc3e\uae30 \ucd94\uac00</span>\r\n        </a>\r\n        <span class="separator"></span>\r\n        <a data-id="origin" href="#">\r\n            <span class="origin"></span><span class="text">\ucd9c\ubc1c\uc9c0 \uc9c0\uc815</span>\r\n        </a>\r\n        <a data-id="via" href="#">\r\n            <span class="via"></span><span class="text">\uacbd\uc720\uc9c0 \uc9c0\uc815</span>\r\n        </a>\r\n        <a data-id="destination" href="#">\r\n            <span class="destination"></span><span class="text">\ub3c4\ucc29\uc9c0 \uc9c0\uc815</span>\r\n        </a>\r\n    </div>\r\n</div>\r\n',
WalkFunctionToolBarView:'<div class="WalkFunctionToolBarView">\n\t<a href="#none" data-id=\'print\' class="print">\uacbd\ub85c\uc778\uc1c4</a>\n\t<a href="#none" data-id=\'alook\' class="alook">\uacbd\ub85c \ud55c\ub208\uc5d0</a>\n\t<a href="#none" data-id=\'favorite\' class="favorite">\n        <span class="ico_fav">\n            <span class="num">0</span>\n        </span>\n        \uc990\uaca8\ucc3e\uae30\n    </a>\n</div>',WalkGroupPointItemView:'<li class="WalkGroupPointItemView">\r\n\t<div class="WalkGroupPointItemViewWrap">\r\n\t\t<div class="detailIcoWrap" data-id="detailIcoWrap">\r\n\t\t\t<div data-id="walkSeqIcon" class="walkSeqIcon">\r\n\t\t\t\t<span data-id="seq" class="seq">0</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class="walkDetail">\r\n\t\t\t<div class="innerDetail">\r\n\t\t\t\t<strong><a href="#" data-id="title"></a></strong>\r\n\t\t\t\t<div data-id="desc" class="desc"></div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<a href="#" data-id="action" class="action">\ubc29\ud5a5</a>\r\n\t\t<div class="icoRight" data-id="icoRight" >\r\n\t\t\t<\!--\r\n\t\t\t<a href="#none" data-id="roadview" class="roadviewWrap roadview">\ub85c\ub4dc\ubdf0</a>\r\n\t\t\t--\>\r\n\t\t</div>\r\n\t</div>\r\n</li>',
WalkPointGroupView:'<div class="WalkPointGroupView">\r\n\t<div class="headbg"></div>\r\n\t<div class="summary" data-id="summary">\r\n\t\t<a class="detailBtn off" data-id="detailBtn"></a>\r\n\t\t<div class="groupinfo">\r\n\t\t\t<span class="time" data-id="time"></span>\r\n\t\t\t<span class="bar">|</span>\r\n\t\t\t<span class="distance" data-id="distance"></span>\r\n\t\t</div>\r\n\t\t<div class="groupNumber" data-id="groupNumber">\r\n\t\t</div>\r\n\t</div>\r\n\t<div class="briefdesc" data-id="briefdesc"></div>\r\n\t<ol data-id="detail" class="detail"></ol>\r\n\t<div class="bottombg"></div>\r\n</div>',
WalkPointItemView:'<li class="WalkPointItemView">\r\n\t<div class="seqWrap">\r\n\t\t<span data-id="seq" class="seq"></span>\r\n\t</div>\r\n\t<div class=\'walkDetail\' >\r\n\t\t<div class=\'innerDetail\' >\r\n\t\t\t<a data-id="title" href="#" ></a>\r\n\t\t\t<div data-id="desc" class="desc"></div>\r\n\t\t</div>\r\n\t</div>\r\n\t<span data-id="action" class="action"></span>\r\n\t<div data-id="roadview" class="roadviewWrap"></div>\r\n</li>',WalkRouteItemView:'<li class="WalkRouteItem">\r\n\t<div data-id="summary" class="WalkRouteSummaryView">\r\n\t\t<div class="contents">\r\n\t\t\t<span data-id="mode" class="mode"></span>\r\n\t\t\t<p class="header">\r\n\t\t\t\t<span data-id="time" class="time"></span>\r\n\t\t\t\t<span data-id="distance" class="distance"></span>\r\n\t\t\t</p>\r\n\t\t\t<div data-id="info" class="info">\r\n\t\t\t\t <p data-id="facilities" class="facilities"></p>\r\n\t\t\t\t <p data-id="calories" class="calories"></p>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<a href="#" class="selectBtn">\uc0c1\uc138\ubcf4\uae30</a>\r\n\t</div>\r\n\t<div data-id="detail" class="detail">\r\n\t\t<ul data-id="list" class="list"></ul>\r\n\t</div>\r\n</li>',
WalkRouteResultView:'<div class="WalkRouteResultView">\r\n\t<ul data-id="list" class="list"></ul>\r\n\t<div class="notice">\r\n\t\t<span class="first" > \uc18c\uc694\uc2dc\uac04\uc740 \uc131\uc778 \ub3c4\ubcf4\uae30\uc900 4km&#47;h\ub85c \ud658\uc0b0\ud558\uc5ec \uc81c\uacf5\ub429\ub2c8\ub2e4&#46;</span>\r\n\t\t<span class="second"> \ub3c4\ubcf4 \uae38\ucc3e\uae30\ub294 \uc2e4\uc81c \uad6c\uac04\uacfc \ub2e4\ub97c \uc218 \uc788\uc73c\ub2c8 \ucc38\uace0 \ubd80\ud0c1 \ub4dc\ub9bd\ub2c8\ub2e4&#46;</span>\r\n\t</div>\r\n\t<div class="info_top">\r\n\t\t<a href="#none" class="link_top HIDDEN" data-id=\'goToTop\' >\uc704\ub85c \uac00\uae30</a>\r\n\t</div>\r\n    <div class="info_fixroute">\r\n        \uae38\ucc3e\uae30 \uc815\ubcf4\uac00 \uc798\ubabb\ub418\uc5c8\ub098\uc694?<br>\uc798\ubabb\ub41c \uc815\ubcf4 \uc81c\ubcf4\ub294 \uc9c0\ub3c4 \ud488\uc9c8 \ud5a5\uc0c1\uc5d0 \ud070 \ub3c4\uc6c0\uc774 \ub429\ub2c8\ub2e4.\r\n        <a href="#none" class="link_fixroute" data-id=\'fixRoute\' >\r\n            \ud2c0\ub9b0\uc815\ubcf4 \uc2e0\uace0\r\n        </a>\r\n    </div>\r\n</div>',
WalkTransitItemView:'<li class="WalkTransitItemView">\n\t<div class="WalkTransitItemViewWrap">\n\t\t<div class="detailIcoWrap">\n\t\t\t<div data-id="summaryIcon" class="summaryIcon walk"></div>\n\t\t\t\n\t\t\t<\!-- <div data-id="pre_transitline" class="pre_transitline"></div> --\>\n\t\t\t<div data-id="transitline" class="detailTransitline walkline"></div>\n\t\t</div>\n\t\t\n\t\t<div class="walkSummary" data-id="summary">\n\t\t\t<strong data-id="title" class="tit_summary">\uc0c1\ubd09\uc5ed.\ube14\ub8e8\uc2a4\ud018\uc5b4(03154)\uae4c\uc9c0 \uac77\uae30</strong>\n\t\t\t\n\t\t\t<div class="groupinfo">\n\t\t\t\t<span class="time" data-id="time"></span>, <span class="distance" data-id="distance"></span>\n\t\t\t</div>\n\t\t\t\n\t\t</div>\n\t\t\n\t\t<a class="detailBtn" data-id="detailBtn"></a>\n\t\t<\!-- \n\t\t<ul data-id="detail" class="detailList"></ul> --\>\n\t\t<\!-- <div class="bottom_line"></div> --\>\n\t</div>\n\t<ul class="WalkTransitDeatilList" data-id="detail">\n\t\n\t</ul>\n</li>\n',
WalkthroughView:'<div class="walkthrough_layer">\n     <div class="inner_walkthrough_layer">\n         <div class="layer_body">\n         \t<div class="wrap_slide">\n\t         \t<ul data-id="list_slide" class="list_slide" style="left:0px"><\!-- left\uac12 -562px \ub9cc\ud07c\uc529 \uc774\ub3d9 --\>\n\t\t         \t<li>\n\t\t\t        \t<img src="//t1.daumcdn.net/localimg/localimages/07/2018/pc/walkThrough/img_walkthrough1.png" width="400" height="204" alt="" class="img_walkthrough">\n\t\t\t        \t<strong class="tit_slide">\uce74\uce74\uc624\ub9f5\uc5d0 \uc624\uc2e0 \uac83\uc744 \ud658\uc601\ud569\ub2c8\ub2e4</strong>\n\t\t\t        \t<p class="desc_slide">\uc0c8\ub86d\uac8c \ub2e8\uc7a5\ud55c \uce74\uce74\uc624\ub9f5\uc744 \ub9cc\ub098\ubcf4\uc138\uc694.</p>\n\t\t\t        \t<a href="#none" class="img_slide btn_go">\ub458\ub7ec\ubcf4\uae30</a>\n\t\t        \t</li>\n\t\t        \t<li>\n\t\t\t        \t<img src="//t1.daumcdn.net/localimg/localimages/07/2018/pc/walkThrough/img_walkthrough2.png" width="400" height="204" alt="" class="img_walkthrough">\n\t\t\t        \t<strong class="tit_slide">\uc6f9\uacfc \uc571 \ubaa8\ub450\ub97c \uc704\ud55c \ud558\ub098\uc758 \uacc4\uc815</strong>\n\t\t\t        \t<p class="desc_slide">\uc9d1/\ud68c\uc0ac, \uc990\uaca8\ucc3e\ub294 \uc7a5\uc18c\ub97c \ub4f1\ub85d\ud558\uc138\uc694.<br>\ud558\ub098\uc758 \uce74\uce74\uc624\uacc4\uc815\uc73c\ub85c \ubaa8\ub450 \uad00\ub9ac\ud560 \uc218 \uc788\uc5b4\uc694.</p>\n\t\t\t        \t<a href="#none" class="img_slide btn_pass">\ub2e4\uc74c</a>\n\t\t        \t</li>\n\t\t        \t<li>\n\t\t\t        \t<img src="//t1.daumcdn.net/localimg/localimages/07/2018/pc/walkThrough/img_walkthrough3.png" width="400" height="204" alt="" class="img_walkthrough">\n\t\t\t        \t<strong class="tit_slide">\uc0ac\uc6a9\uc790\ub97c \uc704\ud55c \ub514\uc790\uc778</strong>\n\t\t\t        \t<p class="desc_slide">\ubcf4\ub2e4 \uac04\uacb0\ud558\uace0 \ud3b8\ub9ac\ud55c \ud654\uba74\uc5d0\uc11c \uc9c0\ub3c4\ub97c \uc774\uc6a9\ud558\uc138\uc694.<br>\ube60\ub978 \ud0d0\uc0c9\uacfc \uc774\ub3d9\uc744 \ub3c4\uc640\ub4dc\ub9bd\ub2c8\ub2e4.</p>\n\t\t\t        \t<a href="#none" class="img_slide btn_pass">\ub2e4\uc74c</a>\n\t\t        \t</li>\n\t\t        \t<li>\n\t\t\t        \t<img src="//t1.daumcdn.net/localimg/localimages/07/2018/pc/walkThrough/img_walkthrough4.png" width="400" height="204" alt="" class="img_walkthrough">\n\t\t\t        \t<strong class="tit_slide">\ub098\ub9cc\uc758 \uc990\uaca8\ucc3e\uae30 \ud3f4\ub354 \ub9cc\ub4e4\uae30</strong>\n\t\t\t        \t<p class="desc_slide">\uc8fc\uc81c\ubcc4, \uc6a9\ub3c4\ubcc4 \ud3f4\ub354\ub97c \ub9cc\ub4e4\uace0 \uad00\ub9ac\ud558\uc138\uc694.<br>\uce5c\uad6c\uc5d0\uac8c \ud3f4\ub354\ub97c \uacf5\uc720\ud558\uace0 \uad6c\ub3c5\ud560 \uc218 \uc788\uc5b4\uc694.</p>\n\t\t\t        \t<a href="#none" class="img_slide btn_pass">\ub2e4\uc74c</a>\n\t\t        \t</li>\n\t\t        \t<li>\n\t\t\t        \t<img src="//t1.daumcdn.net/localimg/localimages/07/2018/pc/walkThrough/img_walkthrough5.png" width="400" height="204" alt="" class="img_walkthrough">\n\t\t\t        \t<strong class="tit_slide">\uce74\uce74\uc624\ub9f5 \uc2dc\uc791\ud558\uae30</strong>\n\t\t\t        \t<p class="desc_slide">\ub85c\uadf8\uc778\ud558\uc5ec \ub354 \ub9ce\uc740 \uc815\ubcf4\ub97c \uc5bb\uc73c\uc138\uc694.<br>\uce74\uce74\uc624\uacc4\uc815\uc73c\ub85c \ube60\ub978 \ub85c\uadf8\uc778\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4.</p>\n\t\t\t        \t<a href="#none" class="img_slide link_login" data-id="signInButton" >\ub85c\uadf8\uc778</a>\n\t\t        \t</li>\n\t\t        \t<li>\n\t\t\t        \t<img src="//t1.daumcdn.net/localimg/localimages/07/2018/pc/walkThrough/img_walkthrough5.png" width="400" height="204" alt="" class="img_walkthrough">\n\t\t\t        \t<strong class="tit_slide">\uce74\uce74\uc624\ub9f5 \uc2dc\uc791\ud558\uae30</strong>\n\t\t\t        \t<p class="desc_slide">\ud68c\uc6d0\uac00\uc785\ud558\uace0 \ub354 \ub9ce\uc740 \uc815\ubcf4\ub97c \uc5bb\uc73c\uc138\uc694.<br>\uce74\uce74\uc624\uacc4\uc815\uc73c\ub85c \ube60\ub978 \uac00\uc785\uc774 \uac00\ub2a5\ud569\ub2c8\ub2e4.</p>\n\t\t\t        \t<a href="#none" class="img_slide link_join" data-id="signUpButton" >\ud68c\uc6d0\uac00\uc785</a>\n\t\t        \t</li>\n\t\t        \t<li>\n\t\t\t        \t<img src="//t1.daumcdn.net/localimg/localimages/07/2018/pc/walkThrough/img_walkthrough5.png" width="400" height="204" alt="" class="img_walkthrough">\n\t\t\t        \t<strong class="tit_slide">\uce74\uce74\uc624\ub9f5 \uc2dc\uc791\ud558\uae30</strong>\n\t\t\t        \t<p class="desc_slide">\ucd5c\uc801\ud654\ub41c \uc815\ubcf4\ub97c \uc5bb\uc73c\uc138\uc694.<br>\ub354 \ub098\uc544\uc9c4 \uc9c0\ub3c4 \ud658\uacbd\uc744 \uacbd\ud5d8\ud558\uc138\uc694.</p>\n\t\t\t        \t<a href="#none" class="img_slide btn_start" data-id="startButton" >\uc2dc\uc791\ud558\uae30</a>\n\t\t        \t</li>\n\t        \t</ul>\n        \t</div>\n        \t<div class="wrap_paging" data-id="paging" >\n        \t\t<a href="#none" class="img_slide link_paging">1</a><\!-- \ud604\uc7ac\ud398\uc774\uc9c0\ub294 a~>span\uc73c\ub85c \uc694\uc18c \ubcc0\uacbd --\>\n        \t\t<a href="#none" class="img_slide link_paging">2</a>\n        \t\t<a href="#none" class="img_slide link_paging">3</a>\n        \t\t<a href="#none" class="img_slide link_paging">4</a>\n        \t\t<a href="#none" class="img_slide link_paging">5</a>\n        \t</div>\n        \t<div class="wrap_btn">\n        \t\t<button type="button" data-id="prevButton" class="img_slide btn_prev">\uc774\uc804</button><\!-- HIDDEN \ud074\ub798\uc2a4\ub85c \uc228\uae40 \uc81c\uc5b4 --\>\n        \t\t<button type="button" data-id="nextButton" class="img_slide btn_next">\ub2e4\uc74c</button><\!-- HIDDEN \ud074\ub798\uc2a4\ub85c \uc228\uae40 \uc81c\uc5b4 --\>\n        \t</div>\n     \t</div>\n         <div class="layer_foot">\n             <a href="#none" class="img_slide btn_close" data-id="closeButton" >\ub2eb\uae30</a>\n         </div>\n     </div>\n</div>',
WeatherInfoWindow:'<div class="WeatherInfoWindow">\n    <div class="top"></div>\n    <div class="mid">\n        <span class="weatherThumb ico{{titleIconno}}"></span>\n        <div class="wrapTit">\n            <strong class="tit">{{titleLoc}}</strong>\n            <div class="temper">\n                <span class="num">{{titleTemper}}</span><span class="unit">\u00b0C</span><span class="txt_wea">{{titleWeaText}}</span>\n                <a href="#" data-id="more" class="img_wt_png more">\ub354\ubcf4\uae30</a>\n            </div>\n            <span class="date">\ud604\uc7ac {{announceTime}}</span>\n        </div>\n        <a href="#" data-id="closer" class="img_wt_png btnClose">\ub2eb\uae30</a>\n        <ul class="middle">\n            {{#weatherList}}\n            <li class="{{class}}">\n                <div class="date">{{date}}</div>\n                <div>\n                    <span class="weatherThumb ico{{iconno}}"></span>\n                    <span class="temper">{{temper}}\u00b0</span>\n                </div>\n            </li>\n            {{/weatherList}}\n        </ul>\n    </div>\n    <div class="bot"></div>\n</div>',
WeatherMini:'<div class="WeatherMini">\n    <div class="left">\n        <div data-id="weatherMiniThumb" class="thumb type1"></div>\n    </div>\n    <div class="right"></div>\n    <div class="center">\n        <div data-id="weatherMiniTemperature" class="temperature">\n            <span class="num">0</span>\u00b0C\n        </div>\n        <div class="loc">\n            <a href="#" data-id="locName" class="name"></a>\n        </div>\n    </div>\n</div>',WeatherTypeOptions:'<div class="WeatherTypeOptions">\r\n\t<ul class="weatherRadios">\r\n\t\t<li><a href="#" class="wea SELECT">\uae30\uc628</a></li>\r\n\t\t<li><a href="#" class="khai">\ud1b5\ud569\ub300\uae30\uc9c0\uc218</a></li>\r\n\t\t<li><a href="#" class="pm10">\ubbf8\uc138\uba3c\uc9c0</a></li>\r\n\t\t<li><a href="#" class="pm25">\ucd08\ubbf8\uc138\uba3c\uc9c0</a></li>\r\n\t\t<li><a href="#" class="ysand">\ud669\uc0ac</a></li>\r\n\t\t<li><a href="#" class="o3">\uc624\uc874</a></li>\r\n\t\t<li><a href="#" class="no2">\uc774\uc0b0\ud654\uc9c8\uc18c</a></li>\r\n\t\t<li><a href="#" class="co">\uc77c\uc0b0\ud654\ud0c4\uc18c</a></li>\r\n\t\t<li><a href="#" class="so2">\uc544\ud669\uc0b0\uac00\uc2a4</a></li>\r\n\t</ul>\r\n</div>',
noticePopup:'<div class="NoticePopup">\r\n\t<div class="bg" data-id="bg"></div>\r\n\t<\!-- <label data-id="label"><input type="checkbox" data-id="keep" class="keep"/><span></span></label> --\>\r\n\t<a class="link1" href="https://place.map.kakao.com/20740490" target="_blank"></a>\r\n\t<a class="link2" href="https://place.map.kakao.com/7816403" target="_blank"></a>\r\n\t<a class="link3" href="https://place.map.kakao.com/17807431" target="_blank"></a>\r\n\t<a class="link4" href="https://place.map.kakao.com/8053130" target="_blank"></a>\r\n\t<a class="link5" href="https://place.map.kakao.com/21755436" target="_blank"></a>\r\n\t<a class="link6" href="https://place.map.kakao.com/8131581" target="_blank"></a>\r\n\t<a class="link7" href="https://place.map.kakao.com/10330240" target="_blank"></a>\r\n\t<a class="link8" href="https://place.map.kakao.com/8396881" target="_blank"></a>\r\n\t\r\n\t<a href="#" data-id="close" class="close" title="\ub2eb\uae30"></a>\r\n</div>\r\n',
"":""}[a]||"",b))}function zb(a,b,c){console.assert("number"===typeof a);console.assert("function"===typeof b);console.assert("boolean"===typeof c||void 0===c);this.interval_=a;this.func_=b;this.repeat_=c}function ob(a,b,c,d){var d=d||{},e=[];b&&e.push("width="+b);if(c){var f=screen?screen.availHeight-100:-1;0<f&&f<c&&(c=0<f?f:100,e.push("scrollbars=yes"));e.push("height="+c)}b&&(c&&!d.noscroll)&&e.push("scrollbars=yes");d.resizable&&e.push("resizable=yes");(a=e.length?open(a,d.name||"_blank",e.join(",")):
open(a,d.name||"_blank"))&&a.focus();return!!a}function Wa(a){this.obj_="object"==typeof a&&!(a instanceof Array)?a:{value:a}}function mc(a){this.data=jQuery(a)}function ca(a){fa.apply(null,[this,h].concat(Ub(arguments)));a&&(this.onShow.add(this.setup_,this),this.onHide.add(this.breakup_,this));this.onClose=new n;this.noPane_=[];this.noUIPanel_=[];this.blueHandler_=this.blur_.bind(this)}function h(a,b,c){if("string"===typeof a){var d=(""+a).toUpperCase();({SUBMIT:1})[d]?(a=document.createElement("input"),
a.type=d):(a=document.createElement(d),"A"==d&&(a.href="#"))}this._pane=jQuery(a);this.onShow=new n;this.onHide=new n;a.submit&&(this.onSubmit=new n({onLoad:this.createEventLinker_("submit",this.handleSubmit__)}));"form"in a&&(this.onChange=new n({onLoad:this.createEventLinker_("change",this.handleChange__)}),this.onFocus=new n({onLoad:this.createEventLinker_("focus",this.handleFocus__)}),this.onBlur=new n({onLoad:this.createEventLinker_("blur",this.handleBlur__)}));this.onEnter=new n({onLoad:this.createEventLinker_("mouseenter",
this.handleEnter__)});this.onLeave=new n({onLoad:this.createEventLinker_("mouseleave",this.handleLeave__)});this.onClick=new n({onLoad:this.createEventLinker_("click",this.handleClick__)});this.element_=a;b&&(this.className_=b,this.addClass(b));c&&[].concat(c).forEach(function(a){a.getElement?this.addChild(a):this.addText(a)},this)}function Wd(a){var b=this.onClose=new n,c=F("AccidentInfoWindow");c.$("close").click(function(){b.notify()});c.$("title").html("<em>("+a.titleTypeTxt+")</em> "+a.title);
c.$("desc").text(a.desc);c.$("period").text(a.startTime+" ~ "+a.endTime);if(a.source&&(a=a.source.toLowerCase(),"tbs"==a||"utis"==a||"gyeonggi"==a))c.$("provider").show(),c.$("provider").addClass(a);this.getPane=function(){return c}}function sd(a,b,c,d,e){var f={refinedName:a.name,is2depth:a.oldname||"N"==a.isAlive||a.subList.length||!jQuery.isEmptyObject(a.infowindowSubAddress),isDead:"N"==a.isAlive,d3HName:a.d3HName};jQuery.extend(f,a);if(a.oldname){var g=a.oldname,g=g.slice(g.search(/ /)+1);f.subAddr=
{type:"old",typeName:"\uc9c0\ubc88\uc8fc\uc18c",address:g}}else f.subAddr=a.infowindowSubAddress,a.infowindowSubBuilding&&(f.buildingName=a.infowindowSubBuilding);a.zonenum&&(f.zonecode=a.zonenum);var j=this.onClose=new n,l=F("AddressInfoWindow",f);(f.zipcode||f.buildingName)&&l.$("wrapZip").show();c.createClose(l.$("close"),function(){j.notify()});l.$("report").click(function(){var b={coords:a.coords,address:a.name,relatedAddress:a.infowindowSubAddress?a.infowindowSubAddress.address:null,relatedPrefixAddress:a.relatedPrefixAddress,
zipcode:a.zipcode,hcode:a.hcode,bcode:a.bcode,code:a.code,channel:"TOOLTIP_ADDR"};p.click("tooltip","address_fiy");Application.fiyFrameController.openCustomerRequest(b)});b=b.create(l.$("toolbar"),a,{rough:!0,type:e,infoType:"address"});b.pane.$("fav").click(function(){p.click("favorite",["address","tooltip"])});c.createFavorite(b.pane.$("fav"),t.createFromAddress(d||a));this.getPane=function(){return l}}function Ee(a){function b(a){c.$("icon").addClass(a.join(" "))}fa(this,td,a);var c=this.panel_,
d=!1;c.addClass("BikePointInfoWindow");if(a.getSummary&&a.getSummary()){var e=a.getPlaceId()?"#":"https://place.map.kakao.com/"+a.getPlaceId();c.$("title").text(a.getSummary()).attr("href",e)}c.$("icon").addClass("bikeaction");if(a.action||a.rotationCode){var e=a.action,f=a.rotationCode;if(e&&-1!=e.indexOf("EXIT")&&f)c.$("icon").addClass("bikeguide").addClass(f),b(["bikeguide",f]),d=!0;else{e&&(e=a.action.replace("EXIT","ENTER"));var g=wa.ACTION_LIST[e];void 0!=g?(10>g&&c.$("icon").removeClass("bikeaction").addClass("walkaction"),
b(["bikeguide",e])):(b(["bikeguide",f||"STRAIGHT"]),d=!0)}}if(a.gradientCode||a.action){var e=c.$("content"),f=jQuery('<div class="gradient"></div>'),g=jQuery('<div class="caution"></div>'),j=jQuery("<span></span>");wa.GRADIENT_TEXT[a.gradientCode]&&f.html(wa.GRADIENT_TEXT[a.gradientCode]).appendTo(e);wa.CAUTION_TEXT[a.action]&&g.html('<span class="cautionIcon"></span>'+wa.CAUTION_TEXT[a.action]).appendTo(e);d&&-1!=wa.STATE_LIST.indexOf(a.categoryCode)&&j.addClass(a.categoryCode).appendTo(c.$("icons"))}}
function Xd(a,b,c,d,e,f,g){function j(d){var j=new Yd(m.$("list"),d,a,e);j.onClick.add(function(b){p.click("businfo","busstop_tooltip_busnum");f.setData(d.id,!0);f.setBusStop(b||a.id,"",d.order);Application.historyController.addBusLine(Application.historyController.TYPE_LIST.BUS_LINE,d)});j.onFavClick.add(function(){p.click("favorite",["busstopline","tooltip_busstop"])});if(!o&&(b&&d.id==b)&&(!c||d.order==c))o=j}function l(a){m.$("list").empty();var b=[],c=[];a.forEach(function(a){"NOSUPPORT"===a.realtimeState?
c.push(a):b.push(a)});b.forEach(j);c.forEach(j);m.$("progressbar").toggle(!!b[0]);v.setActive(b[0]);b[0]&&v.start();o&&o.scrollup()}var m=F("BusStopInfoWindow"),k=this.onClose=new n;m.$("close").click(k.notify.bind(k));k=a.codenames?a.codenames.join(", "):"";a.direction&&(k+=(k?'<span class="bar"></span>':"")+a.direction+" \ubc29\uba74");k&&m.$("codename").append('<span class="busCode"><span class="codename">'+k+"</span></span>").show();m.$("report").click(function(){var b={coords:a.coords,busStopId:a.id,
rawData:a.rawData,channel:"TOOLTIP_BUSSTOP"};p.click("businfo","busstop_tootip_fiy");Application.fiyFrameController.openCustomerRequest(b)});m.$("name").text(a.name).attr("title",a.name);1<a.codenames.length&&m.$("busTit").addClass("group");var v=new Hb("BusStopInfoWindow");v.onComplete.add(function(){m.is(":visible")&&ga.find(a.id,function(a){l(a.lines)})});v.toPane().appendTo(m.$("progressbar"));var o=null;l(a.lines);d=d.create(m.$("toolbar"),a,{busStopId:a.id,rawData:a.rawData,rough:!0,type:g?
"search":"poi"});a.roadview?(e.createRoadview(d.pane.$("rv"),a.roadview,a.coords),d.pane.$("rv").click(function(){var b="poi_busstation_tooltip_roadview";g&&(b="search_q_click_busstation_tooltip_roadview");z.logRoadview(b,a.roadview.panoId,a.coords,Application.localInfoController.getHCodeForLog(),{id:a.id});p.click("businfo","busstop_tooltip_roadview")})):d.pane.$("rv").hide();d.pane.$("fav").click(function(){p.click("favorite",["busstop","tooltip"])});e.createFavorite(d.pane.$("fav"),t.createFromBusStop(a));
this.getPane=function(){return m}}function Fe(a){function b(b){var c=g.$("list");(new Yd(c,b,a.busStop)).onClick.add(function(c){p.click("route","go_public_busstop_bus");Application.busLineController.setData(b.id,!0);Application.busLineController.setBusStop(c||a.busStop.id,"",b.order)})}function c(a){a.realTime||g.$("refresh").hide();a.lines=a.lines.filter(function(a){return e[a.id]&&e[a.id]==a.order});g.$("busCnt").text(a.lines.length);g.$("list").empty();var c=a.lines.filter(function(a){return a.arrival}),
d=a.lines.filter(function(a){return!a.arrival});4>a.lines.length&&g.$("list").addClass("noscroll");c.forEach(b);d.forEach(b);listPanel=g.$("list").find("li:last-child .rule2").removeClass()}fa(this,Mc,a);var d=this.onBusStopClick=new n;this.onRealTimeBusBtnClick=new n;var e={};a.vehicles.forEach(function(a){e[a.id]=a.startOrder});var f=this.panel;f.$("icon").addClass("BUS");f.$("name").removeClass("addr");f.addClass("BusStopRouteInfoWindow");this.panel.$("title").click(function(){p.click("route",
"go_public_busstop_name");d.notify()});var g=F("BusStopRouteInfoWindowContent",{moreRoute:a.nodes.length+1+"\uac1c \uc815\ub958\uc7a5 \uc774\ub3d9",desc:a.desc,time:a.time});a.action==Q.GETOFF&&!a.lastGetOFf&&(f.$("min").hide(),f.$("close").addClass("aloneClose"));a.isInterPublic&&(f.$("min").hide(),f.$("close").addClass("aloneClose"));a.action==Q.GETOFF?g.hide():(g.$("refresh").click(function(){p.click("route","go_public_busstop_update");ga.findTransitBusStop(a.busStop.id,a.busLineId,c)}),g.appendTo(this.panel.$("transitPointContent")),
ga.findTransitBusStop(a.busStop.id,a.busLineId,c))}function Zd(a){function b(){e();f("LIVE \uc601\uc0c1\uc740 1\ubd84 \ub2e8\uc704\ub85c \uc81c\uacf5\ub429\ub2c8\ub2e4.<br/>\uc601\uc0c1\uc744 \uacc4\uc18d \ubcf4\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")}function c(){x&&A.clearTimeout(x);x=void 0}function d(){r.each(function(a,b){b.cctvPlay&&b.cctvPlay()})}function e(){r.each(function(a,b){b.cctvStop&&b.cctvStop()})}function f(a){a?(k.html(a),m.show()):(k.text(""),m.hide())}function g(){require("server").cctvUrl(a.id,
function(a){l.find(".cctv_video_target").html(a+'<div class="b_t"></div><div class="b_b"></div><div class="b_l"></div><div class="b_r"></div>');A.__daumNOFLASH&&(swfobject&&swfobject.ableflash&&A.Application)&&(a=Application.shareController.createParam(),a=location.href.replace(/\?.*/,"").replace(/#(none)*$/,"")+"?"+jQuery.param(a),A.history.replaceState({},"",a))})}var j=this.onClose=new n,l=F("CctvInfoWindow"),m=l.$("dimmed"),k=l.$("dimmedText"),v=l.$("play");l.$("close").click(function(){j.notify()});
l.find("strong").html("<em>"+a.roadname+"</em> "+a.name);var o=l.find("blockquote");o.find(".notice_top").text(a.isLive?"\uc2e4\uc81c \uc0c1\ud669\uacfc 30\ucd08~1\ubd84 \uc815\ub3c4 \ucc28\uc774\uac00 \ub0a0 \uc218 \uc788\uc2b5\ub2c8\ub2e4.":"\uc2e4\uc81c \uc0c1\ud669\uacfc 5~10\ubd84 \uc815\ub3c4 \ucc28\uc774\uac00 \ub0a0 \uc218 \uc788\uc2b5\ub2c8\ub2e4.");o.find(".notice_bottom").text(Ib.SOURCE_TEXT[a.source]+(a.isLive?"(LIVE)":"")+" \uc81c\uacf5");var r=[];v.on("click",function(){a.isLive?d():
g();f();c();x=A.setTimeout(b,6E4)});var x;A.kakaoCctvVideo={onTimeout:function(){},onComplete:function(){f("\uc774 \uc9c0\uc810\uc758 \uc601\uc0c1\uc744 \ub2e4\uc2dc \ubcf4\uc2dc\uaca0\uc2b5\ub2c8\uae4c?");c()},onReady:function(){r=l.find("object");c();x=A.setTimeout(b,6E4)}};g();this.getPane=function(){return l}}function $d(a){fa(this,td,a);var b=this.panel_,c=b.$("icon").addClass("cararrow");b.$("title").text(a.name);b.$("content").text(a.info);a.isWaypoint()||(c.addClass("rotate_"+a.rotation),
c.addClass("traffic_"+(a.traffic||null)))}function ae(){}function Ge(a,b,c,d,e,f){function g(b){var c="",d=e.docid||e.id,c=e instanceof ga?"BUSSTOP":e instanceof Xa||e.subway&&e.subway.id?"SUBWAYSTATION":e instanceof Ma?"ADDRESS":"PLACE";Application.infoWindowManager.close();a.setActive(!0);a.clearAoi();a.findAoi(e);var g=e.name;e.lineName&&(g=g.replace(/\((.*)\)/g,""),"\uc5ed"!==g.substr(-1,1)&&(g+="\uc5ed"),g+=" "+e.lineName);f.coordinate&&(g=g.replace("\uc704\ub3c4, \uacbd\ub3c4 : ",""));switch(b){case "start":a.setOrigin(e.coords,
g,d,c);break;case "via":a.setVia(e.coords,g,d,null,c);break;case "end":a.setDestination(e.coords,g,d,c)}}var f=f||{},j=d.closest(".InfoWindow"),b=j.hasClass("SubwayStationInfoWindow"),l=j.is(".PlaceInfoWindow, .AddressInfoWindow, .BusStopInfoWindow"),j=j.is(".PlaceInfoWindow, .BusStopInfoWindow")&&!!e.roadview,m=this.pane=F("InfoWindowToolbar",{isSubway:b,isRough:l,disableShare:f.coordinate,isRoadview:j});2===1+b+l+j&&d.addClass("NO-ROADVIEW");m.appendTo(d);m.find(".btn_direction").click(function(a){a.stopPropagation();
p.click("tooltip","search_route");m.$("waypoint").addClass("ACTIVE");jQuery("body").off("click.infowindow.waypoint").one("click.infowindow.waypoint",function(){m.$("waypoint").removeClass("ACTIVE")})});m.$("origin").click(function(){g("start");p.click("tooltip",["search_route","start"])});m.$("via").click(function(){g("via");p.click("tooltip",["search_route","via"])});m.$("dest").click(function(){g("end");p.click("tooltip",["search_route","end"])});f.rough&&(!1!==f.reportable?m.$("toolbarsplit").show():
m.$("rough").addClass("noReport"),m.$("rough").show().on("click",function(){var a=e instanceof Ma,b=e instanceof ga,d=a?"address":b?"busstop":"place",g={name:e.name||"",address:e.newAddress||e.address||"",phone:e.phone?e.phone[0]:"",x:e.coords.getX(),y:e.coords.getY(),roadview:e.roadview?!0:!1};a?g.docid=e.docid||"":b?g.busstopid=e.id:g.confirmid=/^\d+$/.test(e.id)?e.id:"";c.open(m,g);p.click("tooltip","map_share");b={name:g.name,wx:g.x,wy:g.y};a?b.docid=g.docid:b.confirmid=g.confirmid;"search"==
f.type?z.logSearchOutWithArgs("tooltip_"+d+"_share",b):"route"==f.type?z.logPathSearchOutWithArgs("_tooltip_"+d+"_share",b):z.log("poi_click_tooltip_"+d+"_share",null,b)}))}function He(a,b){fa(this,Mc,a,!0);this.panel.addClass("IntercityInfoWindow");var c=null,d=null,e=null,f=a.vehicleType;if(f==D.TRANSFER_CAR)this.panel.$("icon").addClass("TAXI"),this.panel.$("title").text("\ud0dd\uc2dc\ub85c"),this.panel.$("name").append("\uc774\ub3d9"),this.panel.$("close").addClass("aloneClose"),this.panel.$("min").hide(),
c=a.end.text("name")+"\uae4c\uc9c0 \ud0dd\uc2dc\ub85c \uc774\ub3d9";else if(f==D.TRANSFER_WALK)this.panel.$("icon").addClass("WALKING"),this.panel.$("title").text("\ub3c4\ubcf4\ub85c"),this.panel.$("name").append("\uc774\ub3d9"),this.panel.$("close").addClass("aloneClose"),this.panel.$("min").hide(),c=a.end.text("name")+"\uae4c\uc9c0 \ub3c4\ubcf4\ub85c \uc774\ub3d9";else if(f==D.TRANSFER_CUSTOM)this.panel.$("icon").addClass("CUSTOM"),this.panel.$("title").text(""),this.panel.$("name").append(a.end.text("name")+
"\uae4c\uc9c0 \uc774\ub3d9"),this.panel.addClass("CUSTOM_TYPE"),d=a.time,c="\uc8fc\ubcc0 \uad50\ud1b5\uc218\ub2e8\uc744 \uc774\uc6a9\ud574\uc8fc\uc138\uc694.",this.panel.$("close").addClass("aloneClose"),this.panel.$("min").hide();else if(a.type==Q.OTHER)this.panel.$("icon").addClass("CUSTOM"),this.panel.$("title").text(""),this.panel.$("name").append(a.endLocation.text("name")+"\uae4c\uc9c0 \uc774\ub3d9"),this.panel.addClass("CUSTOM_TYPE"),d=a.time,c="\uc8fc\ubcc0 \uad50\ud1b5\uc218\ub2e8\uc744 \uc774\uc6a9\ud574\uc8fc\uc138\uc694.",
this.panel.$("close").addClass("aloneClose"),this.panel.$("min").hide(),this.panel.$("rv").hide();else{if(b)this.panel.$("title").text(a.end.text("name")),this.panel.$("name").append("\ud558\ucc28"),a.isLastIntercity||(this.panel.$("close").addClass("aloneClose"),this.panel.$("min").hide());else if(this.panel.$("title").text(a.name),this.panel.$("name").append(a.actionName),d=!1,a.vehicleType==D.TRAIN&&(d=!0),a.isInterPoint&&a.routeType==D.INTERCITY&&(a.reservation||d))e=function(){if(a.vehicleType==
D.TRAIN)"SRT"==a.subType?(p.click("route","go_public_tooltip_intercityinfo_train_srt"),A.open("http://www.srail.co.kr")):(p.click("route","go_public_tooltip_intercityinfo_train"),A.open("http://www.letskorail.com"));else{var b={};a.start&&(b.s_id=a.start.text("id"),b.s_name=a.start.text("name"));a.end&&(b.e_id=a.end.text("id"),b.e_name=a.end.text("name"));a.vehicleType==D.FERRY?p.click("route","go_public_tooltip_intercityreservation_ship"):p.click("route","go_public_tooltip_intercityreservation_bus");
require("server").interCityTimetable(b)}};this.panel.$("icon").addClass(a.nodeType);d=a.getIconClassName();"EXPRESS_BUS"===d?this.panel.$("icon").addClass(d.split("_")[0]):this.panel.$("icon").addClass(d);d=a.time}var f=F("IntercityInfoWindowContent",{time:b?"":d,description:c,isShowReservation:null!==e}),g=f.find(".link_reservation");e&&(a.vehicleType===D.TRAIN?g.text("\uc6b4\ud589\uc815\ubcf4"):g.text("\uc608\ub9e4"),g.on("click",e));(d||c)&&this.panel.$("name").removeClass("addr");f.appendTo(this.panel.$("transitPointContent"))}
function Ie(a){var b=F("IssuedPlaceInfowindow"),c=this.onClose=new n;b.$("tit").text(String.cut(a.name,24));b.$("desc").text(a.desc);b.$("close").click(c.notify.bind(c));a.imgUrl&&b.$("img").show().attr("src",a.imgUrl);this.getPane=function(){return b}}function Je(){fa(this,Xb);this.panel_=jQuery('<div class=MapWalkerInfoWindow><div class="left"></div><p>\uc6d0\ud558\ub294 \uc704\uce58\uc758 \ud30c\ub780\uc0c9 \ub77c\uc778\uc744<br>\ud074\ub9ad\ud558\uac70\ub098 \uc544\uc774\ucf58\uc744 \ub193\uc544\uc8fc\uc138\uc694.</p><div class="right"></div></div>')}
function be(a,b,c,d,e){function f(){var b=a.gas,c=b.facilities.map(function(a){return a?'<span class="badge_addtion">'+a+"</span>":""}).join(" ");c&&(c='<span class="group_badge">'+c+"</span>");r.$("addition").append((c?c:"")+"<span class=timestamp>"+(b.timestampText||"")+"</span>")}function g(a){var b="";return b=9999<a?"<em>"+parseInt(a/1E4)+"</em>\uc5b5 <em>"+parseInt(a%1E4)+"</em>\ub9cc\uc6d0":"<em>"+a+"</em>\ub9cc\uc6d0"}function j(){var b=a.subway;if(!b.buses.length&&!b.transfers.length&&!b.facilities.length)r.$("addition").hide();
else{var c=r.$("addition").show().html("<dl></dl>");b.buses.length&&c.find("dl").append("<dt>\ubc84\uc2a4\uc815\ubcf4<dd>").find("dd:last").append(b.buses.slice(0,4).map(function(a){return jQuery("<a href=#><span class=BUS-"+a.type+"></span> "+a.name+" </a>").click(function(){Application.busLineController.setData(a.id)}).get(0)}));b.transfers.length&&c.find("dl").append("<dt>\ud658\uc2b9\uc815\ubcf4<dd>").find("dd:last").append(b.transfers.map(function(a){return jQuery("<a href=#>"+a.name+" </a>").click(function(){a.openInfoPopup();
p.click("map","subwayinfo_more")}).get(0)}));b.facilities.length&&c.find("dl").append("<dt>\ud3b8\uc758\uc2dc\uc124<dd>"+b.facilities.map(function(a){return a.trim()}).join(" <span class=sep>|</span> "))}}function l(){var b=a&&a.institution;b?r.$("addition").show().html("<strong>"+b.titleName+"</strong><dl>"+b.dataList.map(function(a){return"<dt>"+a.title+"<dd>"+a.desc}).join("")+"</dl>"):r.$("addition").hide()}function m(b){r.$("body").addClass("intercity");b.convenience&&r.$("addition").show().html('<strong class="facilitiesTit">\ud3b8\uc758\uc2dc\uc124</strong><span class="facilities">'+
b.convenience+"</span>");r.$("intercityBtn").show().click(function(){p.click("intercity","intercity_by_tooltip");require("server")[a.intercity]({id:a.intercityId,name:a.name})})}function k(){var b,c;a&&a.distance?(b=F("PlaceInfoWindowAddition",a),(c=b.$("source"))||c.hide(),a.time.trim()||b.$("location").hide(),r.$("addition").show().html(b.getElement().innerHTML)):(r.removeClass("aoi"),r.$("addition").hide())}var v=this.onClose=new n,o="";switch(a.outsrcId){case "agency":o="\uc911\uac1c\uc5c5\uc18c";
break;case "land":case "land_hotissue":case "bunyang":o="\ubd80\ub3d9\uc0b0";break;default:o="\uc0c1\uc138\ubcf4\uae30"}a.detailText=o;var r=F("PlaceInfoWindow",a);r.$("close").click(function(){var b=a.coords.getX().toFixed(0),c=a.coords.getY().toFixed(0),d=Application.localInfoController.getHCodeForLog(),b={confirmid:a.id,wx:b,wy:c,region:d};"route"==e?z.logPathSearchOutWithArgs("_tooltip_close",b):"search"==e?z.logSearchOutWithArgs("tooltip_close",b):z.log("poi_click_tooltip_close",null,b);v.notify()});
b?(r.addClass("PlaceInfoWindow-collapsable"),r.$("close").addClass("ICON-closebox2"),r.$("min").click(function(){p.click("tooltip","mini_minus");var c=a.coords.getX().toFixed(0),d=a.coords.getY().toFixed(0),f=Application.localInfoController.getHCodeForLog(),c={confirmid:a.id,wx:c,wy:d,region:f};"route"==e?z.logPathSearchOutWithArgs("_tooltip_minus",c):"search"==e&&z.logSearchOutWithArgs("tooltip_minus",c);b()})):(r.addClass("PlaceInfoWindow-withoutmin"),r.$("min").hide());!1!==a.isFiy?r.$("report").before("<span class=ICON-middot></span>").before(" ").click(function(){var b=
{coords:a.coords,confirmId:a.id,review:false,subway:!!a.subway,channel:"TOOLTIP_PLACE"};p.click("tooltip","place_fiy");console.log(b);Application.fiyFrameController.openCustomerRequest(b)}):r.$("report").hide();if(o=a.imgsrc)jQuery("<img/>",{"class":"placeimg",src:o}).prependTo(r.$("placeimg")),r.$("placeimg").click(function(b){b.preventDefault();p.click("tooltip","open_place_view");e=="route"?z.logPathSearchOut("tooltip_thumbnail",a.id):e=="search"&&z.logSearchOut("tooltip_thumbnail",a.id);open(a.getLandingUrl(),
"_blank")}),r.addClass("PlaceInfoWindow-withimg");r.$("name").text(a.name).attr("title",a.name).click(function(){a.subway&&a.subway.openInfoPopup();p.click("tooltip","open_place_view");e=="route"?z.logPathSearchOut(a.level>0?"tooltip_ad":"tooltip_name",a.id):e=="search"&&z.logSearchOut(a.level>0?"tooltip_ad":"tooltip_name",a.id)});r.find(".head_tooltip .detail, .contact .detail").click(function(){a.subway?a.subway.openInfoPopup():open(a.getLandingUrl(),"_blank");e=="route"?z.logPathSearchOut("tooltip_more",
a.id):e=="search"&&z.logSearchOut("tooltip_more",a.id)});a.subway||r.$("name").attr("href",a.getLandingUrl());a.phone[0]&&!a.pointExtension?(r.$("phone").text(a.phone[0]),1<a.phone.length?(r.$("allphone").html(a.phone.slice(1).join("<br>")),r.$("morephone").click(function(){jQuery(this).toggleClass("ICON-downbtn-up",r.$("allphone").toggle().is(":visible"))})):r.$("morephone").hide(),r.$("phone").after("<span class=ICON-middot></span>").after(" ")):(r.$("phone").hide(),r.$("morephone").hide());a.website?
(a.pointExtension||r.$("website").before("<span class=ICON-middot></span>").before(" "),r.$("website").attr("href",a.website).on("click",function(){var b={name:a.name,wx:a.coords.getX(),wy:a.coords.getY(),confirmid:a.id};e=="search"?z.logSearchOutWithArgs("tooltip_hompage",b):e=="route"?z.logPathSearchOutWithArgs("_tooltip_hompage",b):z.log("poi_click_tooltip_hompage",null,b)})):(r.$("websiteSep").hide(),r.$("website").hide());a.cardBenefits&&a.cardBenefits.some(function(a){return a.ad})&&r.$("contact").append('<span class="benefit ICON-card"/>');
a.newAddress?(r.$("address").text(a.newAddress),r.$("address").attr("title",a.newAddress),o=a.address?"(\uc9c0\ubc88) "+a.address:"",a.zipcode&&(o='<span class="zipcode">(\uc6b0) '+a.zipcode+"</span>"+o),r.$("addInfoAddr").html(o)):(r.$("address").text(a.address),r.$("address").attr("title",a.address),a.zipcode?r.$("addInfoAddr").text("(\uc6b0) "+a.zipcode):r.$("addInfoAddr").hide());r.$("score").text(a.grade.toFixed(1)).toggleClass("num0",0==a.grade);r.$("vote").find(".num").text(String.formatNumber(a.vote)).end().click(function(){e==
"route"?z.logPathSearchOut("tooltip_star",a.id):e=="search"&&z.logSearchOut("tooltip_star",a.id)}).attr("href",a.getDaumPlaceUrl("#comment"));r.$("stars").width(20*a.grade.toFixed(1)+"%");r.$("review").find(".num").text(String.formatNumber(a.review)).end().click(function(){e=="route"?z.logPathSearchOut("tooltip_review",a.id):e=="search"&&z.logSearchOut("tooltip_review",a.id)}).attr("href",a.getDaumPlaceUrl("#review"));o=!1;if(!o&&a.gas){var o=!0,x=a.gas,q=[["\ud718\ubc1c\uc720",x.gasPrice],["\uace0\uae09",
x.premiumGasPrice],["\uacbd\uc720",x.dieselPrice],["LPG",x.lpgPrice]],q=q.filter(function(a){return a[1]>0});r.$("addition").show().html('<strong>\uc8fc\uc720\uc815\ubcf4</strong><dl class="horizontal">'+q.map(function(a){return"<dt>"+a[0]+"</dt><dd>"+String.formatNumber(a[1])+"\uc6d0</dd>"}).join("")+(q[0]?"":"\uac00\uaca9\uc815\ubcf4\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.")+"<dl>");x.facilities?f():(x.onLoad.add(f),x.fetchFacilities())}!o&&("apt"==a.outsrcId||"officetel"==a.outsrcId||"oneroom"==a.outsrcId||
"villa"==a.outsrcId)&&a.outsrclinkId?(o=!0,r.$("addition").html("<strong>\ubd80\ub3d9\uc0b0 \uc815\ubcf4</strong><dl><dt><dd>&nbsp;<dt><dd>&nbsp;<dt><dd>&nbsp;<dt>&nbsp;</dl>").show(),require("server").realestate(a.outsrclinkId,function(b){var c=b.number("salePrice")?"<em>"+String.formatNumber(b.number("salePrice"))+"</em>":"-",d=b.number("leasePrice")?"<em>"+String.formatNumber(b.number("leasePrice"))+"</em>":"-",e="";b.text("agencyName")&&(e='<dt>\ubb38\uc758</dt><dd><span class="ico_estate"></span><a target=_blank class="agencyUrl" href="'+
b.text("agencyUrl")+'"><span class="txt_name">'+b.text("agencyName")+"</span> <em>"+b.text("agencyTel")+'</em></a> <span class="ico_ad"></span>');r.$("addition").show().html("<strong>\ubd80\ub3d9\uc0b0 \uc815\ubcf4</strong><dl class=estate><dt>\ub2e8\uc9c0\uc815\ubcf4</dt><dd>"+String.formatNumber(b.number("houseCnt"))+"\uc138\ub300, "+String.formatNumber(b.number("dongCnt"))+"\uac1c\ub3d9, "+String.formatNumber(b.number("floorCnt"))+"\uce35, "+b.text("buildDate").replace(/(....)(..).*/,"$1.$2 \uc900\uacf5")+
'</dd><dt>\ub9e4\ubb3c</dt><dd><a target=_blank href="'+b.text("saleMaemulUrl")+'">\ub9e4\ub9e4 <em>'+String.formatNumber(b.number("saleCnt"))+'</em></a>, <a target=_blank href="'+b.text("leaseMaemulUrl")+'">\uc804\uc138 <em>'+String.formatNumber(b.number("leaseCnt"))+'</em></a>, <a target=_blank href="'+b.text("rentMaemulUrl")+'">\uc6d4\uc138 <em>'+String.formatNumber(b.number("rentCnt"))+'</em></a></dd><dt>\uc2dc\uc138</dt><dd><a target=_blank href="'+b.text("salePriceUrl")+'">\ub9e4\ub9e4 '+c+
'\ub9cc\uc6d0</a>, <a target=_blank href="'+b.text("leasePriceUrl")+'">\uc804\uc138 '+d+"\ub9cc\uc6d0</a> <small>(1\u33a1\uae30\uc900)</small></dd>"+e+"</dd></dl>");r.on("click",".agencyUrl",function(){p.click("realstate","ad")});b.has("url")?r.$("name").attr("href",b.text("url")):r.$("name").attr("href",a.getDaumPlaceUrl())})):!o&&"agency"==a.outsrcId&&a.outsrclinkId?(o=!0,r.$("addition").html("<strong>\uc911\uac1c\uc5c5\uc18c \uc815\ubcf4</strong><dl><dt><dd>&nbsp;<dt><dd>&nbsp;<dt>&nbsp;</dl>").show(),
require("server").realestateAgency(a.id,function(b){var c='<strong>\uc911\uac1c\uc5c5\uc18c \uc815\ubcf4</strong><dl class=estate><dt>\ubcf4\uc720\ub9e4\ubb3c</dt><dd><a target=_blank href="'+(b.text("saleMaemulUrl")||"#")+'">\ub9e4\ub9e4 <em>'+String.formatNumber(b.number("saleCnt"))+'</em></a>, <a target=_blank href="'+(b.text("leaseMaemulUrl")||"#")+'">\uc804\uc138 <em>'+String.formatNumber(b.number("leaseCnt"))+'</em></a>, <a target=_blank href="'+(b.text("rentMaemulUrl")||"#")+'">\uc6d4\uc138 <em>'+
String.formatNumber(b.number("rentCnt"))+"</em></a></dd>";if(b.text("manageDanjiName")){c=c+('<dt>\uad00\ub9ac\ub2e8\uc9c0</dt><dd><a target=_blank href="'+(b.text("manageDanjiUrl")||"#")+'"><em>'+String.cut(b.text("manageDanjiName"),16)+"</em></a>");b.number("manageDanjiCnt")&&(c=c+(' \uc678 <a target=_blank href="'+(b.text("manageDanjiCntUrl")||"#")+'"><em>'+String.formatNumber(b.number("manageDanjiCnt"))+"</em>\ub2e8\uc9c0</a>"));c=c+"</dd>"}r.$("addition").show().html(c+"</dl>");b.url?r.$("name").attr("href",
b.url):r.$("name").attr("href",a.getDaumPlaceUrl())})):!o&&"bunyang"==a.outsrcId&&a.outsrclinkId?(o=!0,r.$("addition").html("<strong>\ubd80\ub3d9\uc0b0\uc815\ubcf4</strong><dl><dt><dd>&nbsp;<dt><dd>&nbsp;<dt><dd>&nbsp;<dt>&nbsp;</dl>").show(),require("server").houseBunyang(a.outsrclinkId,function(b){var c=b.text("url")||"#",d=b.text("prgName")||"-",e=b.number("houseCount")?String.formatNumber(b.number("houseCount")):"-",f=b.number("dongCount")?String.formatNumber(b.number("dongCount")):"-",j=b.text("enterDate")?
"\uc785\uc8fc "+b.text("enterDate"):"\uc785\uc8fc \ubbf8\uc815",k=b.number("minSize")?String.formatNumber(b.number("minSize")):"-",l=b.number("maxSize")?String.formatNumber(b.number("maxSize")):"-";k==l&&(k="-");var m="",o=0;if(k=="-"&&l=="-")m="\ubbf8\uc815";else if(k=="-"||l=="-"){m="<em>"+(k=="-"?l:k)+"</em> \u33a1";o=1}else{m="<em>"+k+"</em> \u33a1 ~ <em>"+l+"</em> \u33a1";o=2}k=b.number("minPrice")?b.number("minPrice"):"-";l=b.number("maxPrice")?b.number("maxPrice"):"-";k==l&&(k="-");k!="-"&&
(k=g(k));l!="-"&&(l=g(l));var v="",v=k=="-"&&l=="-"?"\ubbf8\uc815":k=="-"||l=="-"?o==2?k=="-"?"~ "+l:k+" ~":k=="-"?l:k:k+" ~ "+l;r.$("addition").show().html("<strong>\ubd80\ub3d9\uc0b0\uc815\ubcf4</strong><dl class=estate><dt>\ubd84\uc591\uc815\ubcf4</dt><dd>"+d+", "+e+"\uc138\ub300, "+f+"\uac1c\ub3d9, "+j+'</dd><dt>\uba74\uc801</dt><dd><a target=_blank href="'+c+'">'+m+'</a></dd><dt>\ubd84\uc591\uac00</dt><dd><a target=_blank href="'+c+'">'+v+"</a></dd></dl>");b.url?r.$("name").attr("href",b.url):
r.$("name").attr("href",a.getDaumPlaceUrl())})):r.$("name").attr("href",a.getLandingUrl());!o&&a.subway&&(o=!0,r.$("addition").html("<dl><dt><dd>&nbsp;<dt><dd>&nbsp;</dl>").show(),a.subway.isLoaded()?j():a.subway.fetchDetail(j));!o&&(a.hub_data&&!a.intercity)&&(o=!0,r.$("addition").html("<strong>&nbsp;</strong><dl><dt><dd>&nbsp;<dt><dd>&nbsp;<dt><dd>&nbsp;</dl>").show(),a.institution?l():qa.find(a.id,function(b){a=b;l()}));!o&&a.intercity&&qa.find(a.id,function(a){m(a)});x="";switch(a.outsrcId){case "agency":x=
"agency";break;case "land":case "estate":case "land_hotissue":case "bunyang":x="realestate"}c=c.create(r.$("toolbar"),a,{reportable:a.isFiy,detailClass:x,subwayType:!!a.subway,rough:!0,type:e});d.createRoadview(c.pane.$("rv"),a.roadview,a.coords,a);c.pane.$("rv").click(function(){p.click("tooltip","roadview");var b=a.coords.getX().toFixed(0),c=a.coords.getY().toFixed(0),d=Application.localInfoController.getHCodeForLog(),b={name:a.name,confirmid:a.id,panoid:a.roadview.panoId,wx:b,wy:c,region:d};e==
"route"?z.logPathSearchOutWithArgs("_tooltip_roadview",b):e=="search"?z.logSearchOutWithArgs("tooltip_roadview",b):z.log("poi_click_tooltip_roadview",null,b)});c.pane.$("fav").click(function(){p.click("favorite",["place","tooltip"])});d.createFavorite(c.pane.$("fav"),t.createFromPlace(a));!o&&a.pointExtension&&(o=!0,r.$("addition").html("<strong>\uc0c1\uc138\uc815\ubcf4</strong><br>&nbsp;<br>&nbsp;").show(),a.distance||a.time?k():qa.find(a.id,function(b){a=b;k()}));this.getPane=function(){return r}}
function Ke(a,b,c,d){var e=this.onClose=new n,f=F("AddressInfoWindow",{hideModify:b});d.createClose(f.$("close"),function(){e.notify()});f.$("name").text(a.name).attr("title",a.name);c=c.create(f.$("toolbar"),a,{coordinate:b,reportable:!b});c.pane.$("rv").click(function(){e.notify()});d.createRoadview(c.pane.$("rv"),null,a.coords);c.pane.$("fav").click(function(){p.click("favorite",["point","tooltip_point"])});d.createFavorite(c.pane.$("fav"),t.createFromPoint(a));b&&f.addClass("coordinateInfoWindow");
this.getPane=function(){return f};this.setFavoriteIcon=function(a){f.$("fav").toggle(a)}}function Le(a,b,c){var d=this.onClose=new n,e=a.webpage,f=F("ReviewInfoWindow");c.createClose(f.$("close"),function(){d.notify()});var g=a.image;g?f.$("thumb").attr("src",g):(f.$("thumb").remove(),f.addClass("ReviewInfoWindow-noimg"));f.$("title").attr("href",e).html(a.title);g=g?65:100;f.$("content").html(String.cut(String.stripTags(a.content),g));f.$("author").text(a.author||a.webpage).attr("href",e);f.$("date").text(a.date);
a.placeId?(f.$("reference").show(),qa.findPlace(a.placeId,function(a){if(a==null)f.$("reference").hide();else{a.storeview?c.createStoreview(f.$("storeview"),a.storeview):f.$("storeview").hide();if(a.roadview){f.$("roadview").click(function(){z.logRoadview("review_click_tooltip_roadview",a.roadview.panoId,a.coords,Application.localInfoController.getHCodeForLog(),{id:a.id})});c.createRoadview(f.$("roadview"),a.roadview,a.coords);f.$("roadview").show()}else f.$("roadview").hide();f.$("name").text(a.name).attr("href",
a.getLandingUrl()).click(function(){p.click("tooltip","open_place_view")});a.phone&&a.phone[0]?f.$("phone").text(a.phone[0]).after(" | "):f.$("phone").hide();f.$("address").text(a.address);f.$("stars").css("width",a.grade*20+"%");f.$("vote").text("("+String.formatNumber(a.vote)+"\uac74)").attr("href",a.getDaumPlaceUrl());f.$("review").attr("href",a.getDaumPlaceUrl("#review")).text(String.formatNumber(a.review))}})):f.$("reference").text("[\uad00\ub828\uc8fc\uc18c] "+a.address);b.create(f.$("toolbar"),
a,{reviewType:!0});this.getPane=function(){return f}}function td(a){var b=this.onClose=new n,c=this.onCollapse=new n,d=this.onPrev=new n,e=this.onNext=new n;this.onRoadviewClick=new n;var f=this.panel_=F("RouteInfoWindow");f.$("close").click(function(){b.notify()});f.$("close").click(function(){b.notify()});f.$("min").click(function(){c.notify()});a.roadview&&f.$("rv").show().click(function(){Application.roadviewController.show(a.roadview);this instanceof $d?(p.click("route","go_car_tooltip_roadview"),
z.logRoadview("node_click_tooltip_roadview",a.roadview.panoId,a.coords,Application.localInfoController.getHCodeForLog())):this instanceof ce&&(p.click("route","go_walk_tooltip_roadview"),z.logRoadview("node_click_tooltip_roadview",a.roadview.panoId,a.coords,Application.localInfoController.getHCodeForLog()))}.bind(this));var g=null,j=null,l=f.$("next").click(function(){e.notify(j);p.click("route","go_"+p.ROUTE_METHOD+"_tooltip_move")}.bind(this)),m=f.$("prev").click(function(){d.notify(g);p.click("route",
"go_"+p.ROUTE_METHOD+"_tooltip_move")}.bind(this));this.setButtons=function(a,b){g=a;j=b;m.toggle(!!a);l.toggle(!!b)};this.point_=a;this.getPane=function(){return f};this.doLayout=function(){f.css("left",5);f.css("bottom",20)};f.$("content").text(a.desc)}function Me(a){fa(this,Mc,a);var b=this.panel,c=b.$("transitPointContent"),d=!0,e=Application.flagSearchController.getWaypoints();if(a.confirmid)for(var f=0;f<e.length;f++){if(e[f].id===a.confirmid&&"PLACE"!==e[f].pointType&&"SUBWAYSTATION"!==e[f].pointType){d=
!1;break}}else d=!1;if(a.confirmid){var g=F("StartEndPointInfoContent");qa.findPlace(a.confirmid,function(a){a&&(a&&(g.$("contact").hide(),g.$("address").hide(),a.newAddress?g.$("newaddr").text(a.newAddress):a.address?g.$("newaddr").text("\uc9c0\ubc88 : "+a.address):g.$("newaddr").hide()),g.show(),b.$("name").removeClass("addr"),g.appendTo(c))})}b.addClass("StartEndPointInfoWindow");b.$("min").hide();b.$("close").addClass("aloneClose");d?(d=b.$("title"),d.attr("target","_blank"),d.attr("href",require("url").DAUM_PLACE+
a.confirmid),d.text(a.name),d.on("click",function(){p.click("route","go_"+p.ROUTE_METHOD+"_place")})):b.$("name").html("").text(a.name);a=a.action||a.seq;"start"===a||"DEPARTURE"===a?b.$("icon").addClass("DEPARTURE"):"through"===a?b.$("icon").addClass("through"):("goal"===a||"ARRIVAL"===a)&&b.$("icon").addClass("ARRIVAL");this.doLayout=function(){b.css("left",-15);b.css("bottom",34)}}function Ne(a,b){var c=this.onClose=new n,d=F("SubPlaceInfoWindow");d.$("close").click(c.notify.bind(c));d.$("name").text(a.name);
b.create(d.$("toolbar"),a);this.getPane=function(){return d}}function Oe(a){fa(this,Mc,a);var b=this.panel,c=b.$("transitPointContent");b.addClass("SubwayRouteInfoWindow");b.$("icon").addClass("SUBWAYSTION").addClass(a.subwayCode);b.$("title").click(function(){p.click("route","go_public_subwaystation_name");a.subwayStation.fetchDetail(function(){Application.map.setCenter(a.coords);Application.infoWindowManager.createSubwayStation(a.subwayStation)},this)});a.action!=Q.GETOFF&&F("SubwayRouteInfoWindowContent",
{nodes:a.nodes.length+1+"\uac1c \uc5ed \uc774\ub3d9",time:a.time,tip:a.tip,desc:a.desc}).appendTo(c);b.$("name").removeClass("addr");a.action==Q.GETOFF&&!a.lastGetOFf&&(b.$("min").hide(),b.$("close").addClass("aloneClose"));a.isInterPublic&&(b.$("min").hide(),b.$("close").addClass("aloneClose"));0!=a.vehicles.length&&b.$("transitIcon").addClass("sub_"+a.vehicles[0].type)}function de(a,b,c,d,e){function f(){a.openInfoPopup();p.click("map","subwayinfo_more")}function g(){var b={coords:a.coords,subwayId:a.id,
subwayLineId:a.subwayLineId,name:a.name,channel:"TOOLTIP_SUBWAYSTATION"};p.click("tooltip","subway_modify");Application.fiyFrameController.openCustomerRequest(b)}function j(){if(Application){p.click("map","subwayinfo_subwaymap");var b=a.id.substr(0,3),b=Application.subwaySearchController.searchController.REGION_ID.indexOf(rb.cityId[b]||"01");Application.subwaySearchController.setRegion(b);Application.subwaySearchController.setActive(!0)}}function l(a){var b="";Q.subwayCode&&Q.subwayCode[a]&&(b=Q.subwayCode[a][0]);
return b}function m(){if(!a.subwayLineId)return k.notify.call(k),alert("\ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),!1;a.prev?o.$("prev").find(">span").text(a.prev.name).end().removeClass("disabled").click(function(){v.notify(a.prev);p.click("map","subwayinfo_nearstation")}):o.$("prev").text("\uc774\uc804\uc5ed \uc5c6\uc74c").addClass("disabled");a.next?o.$("next").find(">span").text(a.next.name).end().removeClass("disabled").click(function(){v.notify(a.next);p.click("map",
"subwayinfo_nearstation")}):o.$("next").text("\ub2e4\uc74c\uc5ed \uc5c6\uc74c").addClass("disabled");o.$("linebg").addClass(l(a.subwayLineId));o.$("name").find(".txt_subway").text(a.name.replace(/\(.*\)$/,"")).end().click(f);o.$("detail").click(f);o.$("report").click(g);a.transfers.length?(a.transfers.forEach(function(a){o.$("transfer").append('<span class="'+l(a.subwayLineId)+'">'+a.lineName+"</span>")}),o.$("transfer").removeClass("HIDDEN")):o.$("transfer").remove();o.$("telephone").text(a.telephone);
o.$("lostCenterTelephone").text(a.lostCenterTelephone);o.$("subwayMap").click(j);var b=c.create(o.$("toolbar"),a,{subwayId:a.id});b.pane.$("time").click(function(){p.click("map","subwayinfo_timetable");open(require("url").DAUM_PLACE+a.id+"#timeTableSection")});b.pane.$("fav").click(function(){p.click("favorite",["subway_station","tooltip"])});d.createFavorite(b.pane.$("fav"),t.createFromPlace(a));o.removeClass("data_not_yet_arrive")}var k=this.onClose=new n,v=this.onSibling=new n,o=F("SubwayStationInfoWindow");
o.$("close").click(k.notify.bind(k));o.addClass("data_not_yet_arrive");b?o.$("min").click(function(){p.click("tooltip","mini_minus");var c=a.coords.getX().toFixed(0),d=a.coords.getY().toFixed(0),f=Application.localInfoController.getHCodeForLog(),c={confirmid:a.id,wx:c,wy:d,region:f};"route"==e?z.logPathSearchOutWithArgs("_tooltip_minus",c):"search"==e&&z.logSearchOutWithArgs("tooltip_minus",c);b()}):(o.addClass("PlaceInfoWindow-withoutmin"),o.$("min").hide());a.subway={id:a.id};a.isLoaded()?m(a):
a.fetchDetail(m);this.getPane=function(){return o}}function ee(a,b){var c=this.onClose=new n,d=F("TrafficInfoWindow");d.$("close").click(c.notify.bind(c));d.$("title").text(a.name+" \uc18d\ub3c4\uc815\ubcf4");d.$("section").text(a.desc);d.$("desc").text(String.formatDistance(a.length)+" \uad6c\uac04"+a.status+" (\uc18d\ub3c4 : "+String.formatNumber(a.speed)+"km/h)").css("backgroundColor",{"\uc6d0\ud65c":"#28c613","\uc11c\ud589":"#f3bd00","\uc9c0\uccb4":"#ff7200","\uc815\uccb4":"#f11406"}[a.status]||
"");b.createFavorite(d.$("fav"),t.createFromTraffic(a));this.getPane=function(){return d}}function Mc(a,b){var c=this.onClose=new n,d=this.onCollapse=new n,e=this.onPrev=new n,f=this.onNext=new n,g=this.onRoadviewClick=new n,j=this.onCloseBtn=new n,l=null,m=null,k=this.panel=F("TransitPointInfoWindow",{title:String.cut(a.name,15),roadview:a.roadview,actionName:function(){return b?"":a.bus?"\uc815\ub958\uc7a5 "+a.actionName:a.actionName}});this.doLayout=function(){k.css("bottom",20)};k.$("close").click(function(){j.notify()});
k.$("min").click(function(){d.notify();c.notify()});k.$("prev").click(function(){p.click("route","go_public_tooltip_move");e.notify(l)});k.$("next").click(function(){p.click("route","go_public_tooltip_move");f.notify(m)});k.$("rv").click(function(){p.click("route","go_public_tooltip_roadview");g.notify()});this.setButtons=function(a,b){l=a;m=b;k.$("prev").toggle(!!a);k.$("next").toggle(!!b)};this.getPane=function(){return k}}function Pe(a){fa(this,Mc,a);this.panel.addClass("WalkPointGroupInfoWindow");
this.panel.$("name").text(a.desc||a.walkGroup.desc).removeClass("addr");this.panel.$("name").append("<br/>");this.panel.$("name").append(a.time+"\uc18c\uc694, "+String.formatDistance(a.walkGroup.distance)+"\uc774\ub3d9");this.panel.$("icon").addClass("WALKING");this.panel.$("close").addClass("aloneClose");this.panel.$("min").hide()}function ce(a){function b(a){c.$("icon").addClass(a.join(" "))}fa(this,td,a);var c=this.panel_;c.addClass("WalkPointInfoWindow");if(a.getSummary&&a.getSummary()){var d=
a.getPlaceId()?"#":"https://place.map.kakao.com/"+a.getPlaceId();c.$("title").text(a.getSummary()).attr("href",d)}c.$("icon").addClass("walkaction");if(a.action||a.rotationCode){var d=a.action,e=a.rotationCode;d&&-1!=d.indexOf("EXIT")&&e?(c.$("icon").addClass("walkguide").addClass(e),b(["walkguide",e])):(d&&(d=a.action.replace("EXIT","ENTER")),position_=Yb.ACTION_LIST[d],void 0!=position_?b(["walkguide","walkaction",d]):b(["walkguide",e||"STRAIGHT"]))}}function Qe(a){var b=this.onClose=new n,c=this.prevCast=
new n,d=this.nextCast=new n,e=this.more=new n,f=F("WeatherInfoWindow",a);f.$("closer").on("click",function(){b.notify()});f.$("pagePrev").on("click",function(){c.notify()});f.$("pageNext").on("click",function(){d.notify()});f.$("more").on("click",function(){e.notify()});f.on("mousedown",daum.maps.event.preventMap);this.currentCastPage;this.maxCastPage;this.getPane=function(){return f}}function z(){}function fe(a,b,c){fa(this,dc);this.accident_=a;this.createMarker=function(){var a=this.accident_;return B.makeHoverable(new daum.maps.Marker({zIndex:2,
position:a.coords,image:a.icon}))};this.updateVisibility=function(a){var b=this.getMarker();b&&b.setVisible(9>=a)};this.clickMarker=function(){this.setMarkerZIndex(4);Application.infoWindowManager.createAccident(a,this.getMarker()).onClose.add(this.setMarkerZIndex.bind(this,2));p.click(b,c)}}function Nc(a,b,c,d){var e,f=!1;e=B.createCctv(a.coords);e.onOver.add(function(){!f&&e.setZIndex(3)});e.onOut.add(function(){!f&&e.setZIndex(2)});b&&(e.onOver.add(function(){b.createCctv(a);b.open(a)}),e.onOut.add(function(){b.close(a)}));
var g=this.clickMarker=function(){e.setZIndex(4);f=true;Application.infoWindowManager.createCctv(a,e).onClose.add(function(){e&&e.setZIndex(2);f=false});p.click(c,d)};e.onClick.add(g);this.updateVisibility=function(b){e.setVisible(a.testZoom(b))};this.setMap=function(a){e.setMap(a)}}function dc(){this.setMarkerZIndex=function(a){this.getMarker().setZIndex(a)}}function Oc(a,b){function c(){var b=4>a.getLevel();s.setMap(b?null:a);b||q.setStyle("");e(!1);k.forEach(function(a){a.setMarkerVisible(b)});
m=b;w=!1;-1<u&&(b?f(!0,u):d(!0))}function d(a){q.setStyle(a?"bikeMarkerOn":"bikeMarker");k.forEach(function(b){b.setActive(a)});w=a}function e(a){w||(q.setStyle(a?"bikeMarkerOn":"bikeMarker"),s.setZIndex(a?3:2),k.forEach(function(b){b.setHighlight(a)}))}function f(a,b){u=a&&null!=b?b:-1;k.forEach(function(c,d){d==b?c.setActive(a):c.setActive(!1)})}if(!(this instanceof arguments.callee))return new arguments.callee(a,b);var g=this.onClick=new n,j=this.onMouseover=new n,l=this.onMouseout=new n,m=!1,
k=b.points.map(function(b,c){var d=ud(a,b);d.onClick.add(function(){u=c;g.notify(c)});d.onMouseover.add(function(){j.notify(c)});d.onMouseout.add(function(){l.notify(c)});return d}),v=b.points[0].seq,o=b.points[b.points.length-1].seq,r=b.points[0].coords,x=jQuery("<div class=BikePointGroupMarker />"),q=ec(x,"bikeMarker",v,o);x.css("left",-(8+7*(""+v).length));x.click(function(){d(!1);e(!1);g.notify(null)});x.mouseenter(function(){j.notify(null);e(!0)});x.mouseleave(function(){l.notify(null);e(!1)});
var s=B.bikePointGroupMarker(r,x.get(0)),u=-1;daum.maps.event.addListener(a,"zoom_changed",c);c();var w=!1;this.setActive=d;this.setHighlight=e;this.setItemActive=f;this.setItemHighlight=function(a,b){m?k.forEach(function(c,d){d==b?c.setHighlight(a):c.setHighlight(!1)}):e(a)};this.show=function(){s.setMap(a);k.forEach(function(a){a.show()});daum.maps.event.addListener(a,"zoom_changed",c);c()};this.hide=function(){s.setMap(null);k.forEach(function(a){a.hide()});daum.maps.event.removeListener(a,"zoom_changed",
c)};this.destroy=function(){daum.maps.event.removeListener(a,"zoom_changed",c);k.forEach(function(a){a.destroy()});s.setMap(null);k.length=0;x.remove();q.dispose()}}function ud(a,b,c){function d(){l.setMap(null)}if(!(this instanceof arguments.callee))return new arguments.callee(a,b);var e=this.onClick=new n,f=this.onMouseover=new n,g=this.onMouseout=new n,j=!1,l=new Wb(b.seq,b.coords,2);l.onClick.add(function(){e.notify()});l.onOver.add(function(){f.notify()});l.onOut.add(function(){g.notify()});
c&&l.setMap(a);this.setClickable=function(a){a?l.setClickable(!0):l.setClickable(!1)};this.setActive=function(a){j=a?!0:!1;l.setActive(a)};this.setHighlight=function(a){j||l.setHover(a)};this.show=function(){l.setMap(a)};this.hide=d;this.setMarkerVisible=function(b){l.setMap(b?a:null)};this.destroy=d;this.setVisibleNumber=function(a){l.setVisibleNumber(a)}}function Re(a){function b(){var b=a.getLevel();0<e.length&&(6>=this.beforeLevel&&6>=b?this.beforeLevel=b:Wb.showMarkerByZoom({level:b,shapeChangeLevel:12,
list:e,map:a,pickCountFunc:function(a,b){return 6>=a?b:7<=a&&8>=a?Math.max(Math.min(Math.floor(60*b/100),100),2):9<=a&&11>=a?Math.max(Math.min(Math.floor(40*b/100),40),2):12<=a&&14>=a?Math.max(Math.min(Math.floor(20*b/100),20),2):0}}))}function c(){e.forEach(function(a){a&&a.destroy()});e.length=0;k&&k.setMap(null);v&&v.setMap(null);o&&o.forEach(function(a){a.forEach(function(a){a.setMap(null)})});v=k=null;o=[]}function d(){e.forEach(function(a){a&&a.setActive&&a.setActive(!1);a instanceof Oc&&a.setItemActive(!1)})}
if(!(this instanceof arguments.callee))return new arguments.callee(a);var e=[],f=this.onClick=new n,g=this.onClickWithZoomIn=new n,j=this.onMouseover=new n,l=this.onMouseout=new n,m={zIndex:-2,strokeColor:"#3396ff",strokeOpacity:0.4,strokeWeight:10},k=null,v=null,o=[];daum.maps.event.addListener(a,"zoom_changed",b);this.setClickable=function(a){e.forEach(function(b){b instanceof ud&&b.setClickable(a)})};this.setActive=function(b){b?(e.forEach(function(a){a&&a.show()}),k&&k.setMap(a),v&&v.setMap(a),
o&&o.forEach(function(b){b.forEach(function(b){b.setMap(a)})})):(e.forEach(function(a){a&&a.hide()}),k&&k.setMap(null),v&&v.setMap(null),o&&o.forEach(function(a){a.forEach(function(a){a.setMap(null)})}))};this.setData=function(r){c();if(r){r.points.forEach(function(b,c){if("start"==b.seq||"goal"==b.seq||"through"==b.seq)e.push(null);else{var k;k=b instanceof yc?Oc(a,b):ud(a,b,!0);k.onClick.add(function(a){d();null!=a?(k.setItemActive(!0,a),f.notify({index:c,sub:a})):k instanceof Oc?(k.setItemActive(!0,
0),g.notify({index:c})):(k.setActive(!0),f.notify({index:c}));p.click("route","go_bike_mappoint")});k.onMouseover.add(function(a){j.notify({index:c,sub:a})});k.onMouseout.add(function(a){l.notify({index:c,sub:a})});e.push(k)}});b();var x=[],q=[],s="",u=[];r.sectionPoints.forEach(function(b,c){x=x.concat(b);b.forEach(function(d,e){var f=r.sectionPointTypes[c][e],g=b.length-1==e;if(""!=s&&s!=f||g)u.push(d),q.push(new daum.maps.Polyline({map:a,strokeWeight:12,strokeColor:"BIKE"==s?"#cf006f":"#004997",
strokeOpacity:1,additionalStyles:[{strokeWeight:8,strokeOpacity:1,strokeColor:"BIKE"==s?"#EE63AE":"#3396ff"},{strokeStyle:"longdash",strokeWeight:1,strokeColor:"#ffffff",strokeOpacity:1}],path:u.splice(0)}));u.push(d);s=f});o.push(q)});var w=Application.flagSearchController.getWaypoints(),C=w[0].coords,w=w[w.length-1].coords,h=x[0],I=x[x.length-1];k=new daum.maps.Polyline(m);k.setPath([C,h]);v=new daum.maps.Polyline(m);v.setPath([I,w]);k.setMap(a);v.setMap(a)}};this.setItemActive=function(a,b){d();
e[a.index]&&(e[a.index]instanceof Oc?e[a.index].setItemActive(b,a.sub):e[a.index]&&e[a.index].setActive&&e[a.index].setActive(b))};this.setHighlight=function(a,b){var c=e[a.index];c&&(c instanceof Oc?null==a.sub?c.setHighlight(b):c.setItemHighlight(b,a.sub):c&&c.setHighlight&&c.setHighlight(b))};this.clear=c}function fc(a,b,c,d){function e(a){if(m||j)return!1;var a=a.coords,c=b.getLevel();l?o.test(a,4<<c)&&!o.ignoreTest(a,c)?(k.setPosition(a),v.setPosition(a)):(k.setMap(null),v.setMap(null),l=!1):
o.test(a,2<<c)&&!o.ignoreTest(a,c)&&(k.setPosition(a),v.setPosition(a),k.setMap(b),v.setMap(b),l=!0)}function f(){j=!0}function g(){j=!1}this.index_=a;this.onCoords=new n;var j=!1,l=!1,m=!1,k=new daum.maps.Marker({zIndex:-2,draggable:!0,image:fc.POINTER_IMAGE}),v=new daum.maps.Marker({clickable:!1,image:fc.TOOLTIP_IMAGE}),o=new Se(c,d);this.onAdd=function(){daum.maps.event.addListener(b,"mousemove",e);Application.mainMapController.tool.onClickTool.add(f);Application.mainMapController.tool.onComplete.add(g);
j=Application.mainMapController.tool.isToolActivate()};this.onRemove=function(){daum.maps.event.removeListener(b,"mousemove",e);k.setMap(null);v.setMap(null);Application.mainMapController.tool.onClickTool.remove(f);Application.mainMapController.tool.onComplete.remove(g)};daum.maps.event.addListener(k,"dragend",function(){m?(m=!1,k.setMap(null),this.onCoords.notify({index:this.index_,position:k.getPosition()})):k.setMap(null)}.bind(this));daum.maps.event.addListener(k,"mousedown",function(){m=!0;l=
!1;v.setMap(null)});daum.maps.event.addListener(k,"click",function(){l=m=!1;v.setMap(b)});daum.maps.event.addListener(b,"rightclick",function(){l=m=!1;k.setMap(null)})}function sa(a,b,c,d,e){daum.maps.AbstractOverlay.call(this);this.onClick=new n;var f=this.marker_=new daum.maps.Marker({zIndex:e||2,position:a,image:b});this.isToolActivate=!1;this.zIndex_=e;this.highlight_=!1;daum.maps.event.addListener(f,"click",this.onClick.notify.bind(this.onClick));daum.maps.event.addListener(f,"mouseover",this.setHoverYes.bind(this));
daum.maps.event.addListener(f,"mouseout",this.setHoverNo.bind(this));this.roadmapImage_=b;c&&(this.skyviewImage_=c,this.mapTypeIdHandler_=this.changeMarkerImage_.bind(this));this.rolloverImage_=d;this.onOver=new n;this.onOut=new n;this.onPositionChanged=new n;this.eventMarkerImage_=null;this.toolActivate=function(){this.isToolActivate=true;f.setClickable(false);Application.infoWindowManager.closeWithoutNotify()}.bind(this);this.toolDeactivate=function(){this.isToolActivate=false;f.setClickable(true)}.bind(this)}
function hb(){console.assert(!1)}function vd(a,b,c){function d(a,b,c,d,e,f,g){this.level=a;this.row=b;this.col=c;this.key=[a,b,c].join("/");this.minX=d;this.maxX=e;this.minY=f;this.maxY=g;this.midX=0.5*(d+e);this.midY=0.5*(f+g)}function e(){for(var a=r;a<=k;a++)s[a]=[];var b=[g(14,0,0),g(14,1,0),g(14,0,1),g(14,1,1)];m.forEach(function(a){b.forEach(function(b){j(a,b)})});v=l.getLevel();kakao.maps.event.addListener(l,"zoom_start",w);kakao.maps.event.addListener(l,"zoom_changed",C);l.addOverlayMapTypeId(kakao.maps.MapTypeId[h])}
function f(){q={};s={};w();kakao.maps.event.removeListener(l,"zoom_start",w);kakao.maps.event.removeListener(l,"zoom_changed",C);l.removeOverlayMapTypeId(kakao.maps.MapTypeId[h])}function g(a,b,c){var e=Math.pow(2,a-3);return new d(a,b,c,2.5*256*c*e-75E3,2.5*256*(c+1)*e-75E3,2.5*256*b*e-15E4,2.5*256*(b+1)*e-15E4)}function j(a,b){var c=b.level;if(!(0>c)){var e=a.getPosition(),f=e.getX(),g=e.getY();if(b.contains(f,g)){var k=q[b.key];k||(q[b.key]=k=[]);if(c>=r){for(var l=s[c],m=!1,o=0;o<l.length;o++){var w=
l[o];if(w.contain(e)){m=!0;break}}m||(c=2.5*Math.pow(2,c-3),c*=x,m=e.getX(),e=e.getY(),w=new kakao.maps.CoordsBounds(new kakao.maps.Coords(m-c,e-c),new kakao.maps.Coords(m+c,e+c)),l.push(w),k.push(a))}else k.push(a);var k=b.maxX,l=b.maxY,e=b.midX,c=b.midY,m=2*b.col,o=2*b.row,w=b.level-1,v=b.minX,u=e,C=b.minY,h=c;e<=f&&(m++,v=e,u=k);c<=g&&(o++,C=c,h=l);f=new d(w,o,m,v,u,C,h);j(a,f)}}}var l=a,m=b||[],k=14,v=0,o=!0,r=c.minLevel||0,x=c.pixelBufferSize||20,q={},s={},u=[],w=function(){u.forEach(function(a){a.setMap(null)});
u.length=0},C=function(){var a=l.getLevel();o&&v===a&&(l.removeOverlayMapTypeId(kakao.maps.MapTypeId[h]),l.addOverlayMapTypeId(kakao.maps.MapTypeId[h]));v=a},h="LOD_MARKER"+vd.TILESET_ID++,I=document.createElement("div");kakao.maps.Tileset.add(h,new kakao.maps.Tileset({width:256,height:256,getTile:function(a,b,c){(a=q[[c,b,a].join("/")])&&a.forEach(function(a){a.setMap(l);u.push(a)});return I}}));d.prototype.contains=function(a,b){return this.minX<=a&&a<this.maxX&&this.minY<=b&&b<this.maxY};this.generate=
e;this.reset=f;this.setVisible=function(a){o!==a&&(a?l.addOverlayMapTypeId(kakao.maps.MapTypeId[h]):(w(),l.removeOverlayMapTypeId(kakao.maps.MapTypeId[h])),o=a)};this.setMarkers=function(a){f();m=a;e()}}function zc(a){console.assert(a instanceof daum.maps.Map);this.map_=a;this.data_=null}function va(a){this.defaultPoint_=a;this.onCoords=new n;this.onChange=new n;this.onRemoveFlag=new n;this.coords_=new daum.maps.Coords(0,0);this.isDragActivate=!0;this.klass_=null;a=this.panel_=jQuery('<div class=Flag-common><div class=guide></div><a href=# class=remover></a><img class=flagImg src="//t1.daumcdn.net/localimg/localimages/07/2018/pc/flagImg/blue_b.png"></div>');
a.mousedown(function(a){this.isActivateFlag()&&daum.maps.event.preventMap(a)}.bind(this));a.mouseenter(this.showGuide_.bind(this));a.mouseleave(this.hideGuide_.bind(this));a.find(".remover").click(this.remove_.bind(this));(this.flagImg_=a.find(".flagImg")).uidraggable({dragstart:this.dragStart_.bind(this),drag:this.drag_.bind(this),dragend:this.takeDown.bind(this),dragcancel:this.sink_.bind(this)});this.scrollSwitch_=lc.get(15,this.scroll_,this)}function ge(a,b,c,d,e){var c=c|0,f=null,g=b.getPosition?
b.getPosition():b,j={x:0,y:b.getImage?b.getImage().getOffset().y:0};e&&(j=jQuery.extend({x:0,y:j.y},e));this.onAdd=function(){f=jQuery('<div style="position:absolute;z-index:'+c+'"/>').on("mousedown touchstart dblclick contextmenu mousewheel wheel DOMMouseScroll",daum.maps.event.preventMap).append(d).appendTo(this.getPanels().overlayLayer)};this.draw=function(){var a=this.getProjection().pointFromCoords(g);f.css({left:a.x+j.x,top:a.y-j.y})};this.onRemove=function(){f.find("object").each(function(){try{this.outerHTML=
""}catch(a){}});f.remove();f=null};this.panIntoView=function(){var a=this.getMap(),b=a.getNode();if(b.getBoundingClientRect){var b=b.getBoundingClientRect(),c=d.get(0).getBoundingClientRect(),e=0;c.left<b.left+40?e=c.left-b.left-50:c.right>b.right-40&&(e=c.right-b.right+50);var f=0;c.top<b.top+50?f=c.top-b.top-60:c.bottom>b.bottom-60&&(f=c.bottom-b.bottom+80);return e||f?(setTimeout(function(){a.panBy(e,f)},150),!0):!1}};this.setMap(a);this.getPane=function(){return d}}function Ra(a,b,c,d,e,f,g){function j(a){Ka?
a==daum.maps.MapTypeId.HYBRID__||a==daum.maps.MapTypeId.SKYVIEW__?require("log/Tiara").log("/fake/skyview"):require("log/Tiara").log("/fake/pastview"):a==daum.maps.MapTypeId.HYBRID__||a==daum.maps.MapTypeId.SKYVIEW__?require("log/Tiara").log("/fake/skyview_hybridoff"):require("log/Tiara").log("/fake/pastview_hybridoff")}function l(){return mb?mb|Pa:Pa}function m(a,e){var f=l(),g=Ra;a!=f&&(f&g.CCTV?d.activate():d.deactivate(),f&g.ACCIDENT?c.activate():c.deactivate(),(a^f)&g.ROADVIEW&&(Application.roadviewController.setWalkerVisible(f&
g.ROADVIEW,e),R.notify()),(a^f)&g.TRAFFIC&&Y.notify(),b.setClickableLabel(f&g.ROADVIEW))}function k(){$.toggle(!1)}function v(b){E=b;W.toggleClass("checked",b);var c=a.isRoadmap();c||a.setMapTypeId(Ka?daum.maps.MapTypeId.HYBRID:daum.maps.MapTypeId.SKYVIEW);e.set("terrain",b);e.set("overlay",!c&&Ka&&b);p.click("control",["layer","map_terrain"]);b&&require("log/Tiara").log("/fake/terrain")}function o(c){K=c;Ga.toggleClass("checked",c);a.isRoadmap()?(e.set("bicycle",c),c&&e.set("bicyclehybrid",!c)):
(c&&e.set("bicycle",!c),e.set("bicyclehybrid",c));p.click("control",["layer","map_bicycle"]);c&&require("log/Tiara").log("/fake/bicycle");b.setLegend("bike",c)}function r(a,b){S.removeClass("checked").filter("[data-type="+b+"]").toggleClass("checked",a);(Z=a)?f.setAirType(b):f.setActive(a);g.setActive(!a)}function h(a){Oa.toggleClass("checked",a);na=a;e.set("usedistrict",a);p.click("control",["layer","map_usedistrict"]);a&&require("log/Tiara").log("/fake/usedistrict");b.setLegend("usedistrict",a)}
function q(a){Ca.toggleClass("checked",a);Da=a;e.set("bboundary",a);p.click("control",["layer","map_bboundary"]);a&&require("log/Tiara").log("/fake/bboundary");b.setLegend("usedistrict|bboundary",a)}function s(a){ha.toggleClass("checked",a);xa=a;e.set("hboundary",a);p.click("control",["layer","map_hboundary"]);a&&require("log/Tiara").log("/fake/hboundary");b.setLegend("usedistrict|hboundary",a)}function u(){clearTimeout(Na);a.isRoadmap()||($.toggle(!0),B.stop())}function w(){Na=setTimeout(k,300)}
var C=a.getMapTypeId(),O=this.onRoadmap=new n,I=this.onSkyview=new n,R=this.onRoadview=new n,Y=this.onTraffic=new n,G=this.onHistory=new n,E=!1,K=!1,Z=!1,na=!1,Da=!1,xa=!1,aa=!1,t=jQuery("#mapTypeControlHolder"),z=jQuery(".viewbuttons .layerMenu"),A=z.find(".list_map_setting"),z=z.find(".list_weather"),y=F("MapTypeControl");t.append(y);var N=y.find(".roadmap").toggleClass("ACTIVE",a.isRoadmap()).click(function(){e.set("overlay",!1);K&&(e.set("bicyclehybrid",!1),e.set("bicycle",!0));a.setMapTypeId(daum.maps.MapTypeId.ROADMAP);
O.notify(daum.maps.MapTypeId.ROADMAP);require("log/Tiara").log("/fake/imagemap");p.click("control","2D");jQuery.cookie("maptype","roadmap",{expires:14})}),T=y.find(".skyview").toggleClass("ACTIVE",!a.isRoadmap()).click(function(){e.set("overlay",Ka&&E);var b=Ka?daum.maps.MapTypeId.HYBRID:daum.maps.MapTypeId.SKYVIEW;a.setMapTypeId(Ka&&!E?daum.maps.MapTypeId.HYBRID:daum.maps.MapTypeId.SKYVIEW);I.notify(b);K&&(e.set("bicycle",!1),e.set("bicyclehybrid",!0));$.toggle(!0);B.trigger();p.click("control",
b==daum.maps.MapTypeId.SKYVIEW?"skyview":"hybrid");jQuery.cookie("maptype","skyview",{expires:14})}).mouseenter(u).mouseleave(w);T.blurout(function(){jQuery(".MapControlView .rv").focus()});var B=xb(3E3,k),$=F("SkyviewOptions");$.mouseenter(u).mouseleave(w).hide().appendTo("body");var D=$.find(".hybrid").toggleClass("ACTIVE",C!=daum.maps.MapTypeId.SKYVIEW).click(function(){Ka=!Ka;D.toggleClass("ACTIVE",Ka);a.setMapTypeId(Ka&&!E?daum.maps.MapTypeId.HYBRID:daum.maps.MapTypeId.SKYVIEW);E&&e.set("overlay",
Ka);a.getMapTypeId()==daum.maps.MapTypeId.HYBRID&&p.click("control","hybrid");j(a.getMapTypeId())}),ia=$.find(".yearRadio");ia.click(function(a){a=ia.index(a.target);console.assert(0<=a);p.click("control","newest past2017 past2016 past2015 past2014 past2013 past2012 past2011 past2010 past2009 past2008".split(" ")[a]);ia.removeClass("ACTIVE").eq(a).addClass("ACTIVE");G.notify(a)});var W=A.find(".terrain").parent();W.click(function(){v(!E)});var Ga=A.find(".bike").parent();Ga.click(function(){o(!K)});
var Oa=A.find(".usedistrict").parent();Oa.click(function(){h(!na)});var Ca=A.find(".bboundary").parent();Ca.click(function(){q(!Da)});var ha=A.find(".hboundary").parent();ha.click(function(){s(!xa)});var S=z.find("li");S.click(function(a){var b=jQuery(a.currentTarget),a=b.data("type"),b=b.hasClass("checked"),c=a;"wea"==c&&(c="temp");p.click("control",["layer","weather_"+c]);r(!b,a)});b.onRefresh.add(function(){l()&Ra.TRAFFIC&&(e.set("traffic",!1),setTimeout(function(){e.set("traffic",!0)},100))},
this);c.onTimestamp.add(b.setDate,b);var Ob=!1,Eb=!1,cb=!1,lb=!1,mb=!1,Pa=0,Ka=C!=daum.maps.MapTypeId.SKYVIEW;daum.maps.event.addListener(a,"maptypeid_changed",function(){var b=a.isRoadmap();jQuery("#view\\.map").toggleClass("map-skyview",!b);N.toggleClass("ACTIVE",b);T.toggleClass("ACTIVE",!b)});var Na=null;this.getElement=function(){return y.get(0)};this.getState=function(){return l()};this.setState=function(a){Pa^=a};this.setRoadview=function(a){if(a!=Ob){var b=l();Pa^=Ra.ROADVIEW;Ob=a;e.set("roadview",
a);m(b,!0)}};this.isRoadviewActive=function(){return l()&Ra.ROADVIEW};this.overrideRoadview=function(a){var b=l();mb=a;m(b)};this.logMapTypeId=function(a){j(a)};this.setTraffic=function(a){if(a!=Eb){var c=l();Pa^=Ra.TRAFFIC;Eb=a;e.set("traffic",a);m(c);a?(require("log/Tiara").log("/fake/realtraffic"),b.showRefreshButton()):b.hideRefreshButton();b.setLegend("traffic",a)}};this.setAccident=function(a){if(a!=cb){var b=l();Pa^=Ra.ACCIDENT;cb=a;m(b);a&&require("log/Tiara").log("/fake/accident")}};this.setCctv=
function(a){if(a!=lb){var b=l();Pa^=Ra.CCTV;lb=a;m(b);a&&require("log/Tiara").log("/fake/cctv")}};this.setCctvId=function(a){d.findId(a)};this.isTrafficActive=function(){return l()&Ra.TRAFFIC};this.isAccidentActive=function(){return l()&Ra.ACCIDENT};this.isCctvActive=function(){return l()&Ra.CCTV};this.setLatestSkyview=function(){$.find(".yearRadio").eq(0).click()};this.isTerrainActive=function(){return E};this.setTerrain=function(a){v(a)};this.isBikeActive=function(){return K};this.setBike=function(a){o(a)};
this.setWeather=function(a,b){r(a,b)};this.getWeather=function(){var a="";Z&&(a=f.getAirType());return a};this.isUsedistrictActive=function(){return na||Da||xa};this.setUsedistrictParam=function(a,b){var c=b.split(",");0<c.length&&(xa=Da=na=!1);for(var d=0;d<c.length;d++){var e=c[d];"usedistrict"==e?(na=!0,h(a)):"bboundary"==e?(Da=!0,q(a)):"hboundary"==e&&(xa=!0,s(a))}};this.getUsedistrictParam=function(){var a=[];na&&a.push("usedistrict");Da&&a.push("bboundary");xa&&a.push("hboundary");return a.join(",")};
this.isIndoorActive=function(){return aa};this.setIndoor=function(b){b&&require("log/Tiara").log("/fake/indoor");e.set("indoor",b);aa=b;var c=a.getMapTypeId();b&&c==daum.maps.MapTypeId.ROADMAP?a.setMapTypeId(daum.maps.MapTypeId.INDOOR_SIDE):c==daum.maps.MapTypeId.INDOOR_SIDE&&a.setMapTypeId(daum.maps.MapTypeId.ROADMAP)};this.update=function(){console.log("update");m(null)};this.isHybridActive=function(){return Ka}}function Pc(a,b,c){fa(this,dd);this.map_=a;this.roadmapOverlay_=b;this.skyviewOverlay_=
c;this.switchHandler_=this.handleOverlay_.bind(this);this.on("visible",this.handleVisible_);this.setVisible(!0)}function he(a,b,c){function d(){l&&j.setImage(!l.isRoadmap()&&c||b)}daum.maps.AbstractOverlay.call(this);jQuery.extend(this,new daum.maps.AbstractOverlay);var e=this.onClick=new n,f=this.onOver=new n,g=this.onOut=new n,j=this.marker_=new daum.maps.Marker({zIndex:2,position:a,image:b});daum.maps.event.addListener(j,"click",function(){e.notify()});daum.maps.event.addListener(j,"mouseover",
function(){f.notify()});daum.maps.event.addListener(j,"mouseout",function(){g.notify()});var l=null;this.onAdd=function(){l=this.getMap();j.setMap(l);c&&(daum.maps.event.addListener(l,"maptypeid_changed",d),d())};this.onRemove=function(){var a=l||this.getMap();c&&daum.maps.event.removeListener(a,"maptypeid_changed",d);j.setMap(null)};this.getPosition=function(){return j.getPosition()};this.getImage=function(){return j.getImage()};this.setTitle=function(a){j.setTitle(a)};this.setZIndex=function(a){j.setZIndex(a)};
this.setVisible=function(a){j.setVisible(a)};this.getMarker=function(){return j}}function De(a){function b(){z=!0;t&&u.show()}function c(){z=!1;t&&u.hide()}function d(){var b=a.isRoadmap()?"m":"s";b!=na&&(f(),na=b,g())}function e(){var a=O/11.25+1>>1&15;a!=I&&(f(),I=a,g())}function f(){w.removeClass("d"+I);C.removeClass(na+I)}function g(){w.addClass("d"+I);C.addClass(na+I)}function j(){var a=N.getProjection();a&&xa&&(a=a.pointFromCoords(xa),u.css({left:a.x,top:a.y}))}function l(){A.stop();o();q.notify(xa)}
function m(){t||(a.setCursor("pointer"),t=!0,Application.roadviewController.getActive(),daum.maps.event.addListener(a,"mousemove",k))}function k(a){R=a.point.x-p;p=a.point.x;xa=a.coords;j();z||b();r(R)}function v(){daum.maps.event.removeListener(a,"mousemove",k);a.setCursor(null);t=!1;o()}function o(){u.removeClass("MapWalker-Searching").removeClass("MapWalker-Left MapWalker-Right").toggleClass("MapWalker-Pinned",aa).toggleClass("MapWalker",!aa)}function r(a){y.trigger();0>a?u.addClass("MapWalker-Left").removeClass("MapWalker-Right"):
0<a&&u.addClass("MapWalker-Right").removeClass("MapWalker-Left")}function h(){var a=Math.atan2(G-51,26-E)||0;0>a&&(a+=2*Math.PI);O=180*a/Math.PI;e();s.notify()}var q=this.onCoords=new n,s=this.onPan=new n,u=F("MapWalker"),w=u.$("body"),C=u.$("angle");u.$("image");u.$("addr");var O=0,I=0,R=0,p=0,G=0,E=0,K=0,Z=0,na="",Da=null,xa=null,aa=!0,t=!1,z=!0,A=lc.get(15,function(){var b=N.getProjection(),c=b.containerPointFromCoords(xa),d=a.getCenter(),d=b.containerPointFromCoords(d);d.x+=K;d.y+=Z;a.setCenter(b.coordsFromContainerPoint(d));
xa=b.coordsFromContainerPoint(c);j()}),y=xb(500,function(){u.removeClass("MapWalker-Right MapWalker-Left")}),N=new daum.maps.AbstractOverlay;N.onAdd=function(){var b=N.getPanels().overlayLayer;jQuery(b).append(u);daum.maps.event.addListener(a,"maptypeid_changed",d);d()};N.onRemove=function(){u.detach();daum.maps.event.removeListener(a,"maptypeid_changed",d)};N.draw=j;u.mousedown(daum.maps.event.preventMap);var T=new Je;u.append(T.getPanel());w.uidraggable({dragstart:function(){Da={width:jQuery("#view\\.map").width(),
height:jQuery("#view\\.map").height()};Application.roadviewController.getActive();u.removeClass("MapWalker MapWalker-Pinned").addClass("MapWalker-Searching")},drag:function(a){var b=N.getProjection(),c=b.pointFromCoords(xa);c.x+=a.dx;c.y+=a.dy;xa=b.coordsFromPoint(c);j();r(a.dx);c=b.containerPointFromCoords(xa);K=0>c.x?-8:c.x>=Da.width?8:0;Z=0>c.y?-8:c.y>=Da.height?8:0;K||Z?A.start():A.stop()},dragend:l,dragcancel:m});C.uidraggable({dragstart:function(a){daum.maps.event.preventMap();G=a.x;E=a.y;h()},
drag:function(a){G+=a.dx;E+=a.dy;h()}});jQuery(a.getNode()).on("mouseleave",c);jQuery(a.getNode()).on("mouseenter",b);daum.maps.event.addListener(a,"mouseover",b);daum.maps.event.addListener(a,"mouseout",c);this.show=function(){u.show();N.setMap(a)};this.hide=function(){N.setMap(null)};this.setPosition=function(a){xa=a;j()};this.getPosition=function(){return xa};this.drop=function(){l()};this.hold=function(){u.removeClass("MapWalker MapWalker-Pinned").addClass("MapWalker-Searching").hide();N.setMap(a);
m()};this.release=function(){v()};this.setPan=function(a){O=a;e()};this.getPan=function(){return O};this.setFloat=function(a){aa!=a&&(b(),v(),(aa=a)?u.removeClass("MapWalker").addClass(t?"MapWalker-Searching":"MapWalker-Pinned"):u.removeClass("MapWalker-Searching MapWalker-Pinned").removeClass("MapWalker-Left MapWalker-Right").addClass("MapWalker"))};this.getVisible=function(){return!!N.getMap()};this.getState=function(){return t};this.draw=function(){j()};this.clear=function(){u.removeClass("MapWalker MapWlaker-Pinned MapWalker-Searching").removeClass("MapWalker-Left MapWalker-Right");
daum.maps.event.removeListener(a,"mousemove",k);a.setCursor(null);aa=!0;t=!1;z=!0}}function B(){console.assert(!1)}function oa(a){this.map_=a;this.markers_=[];this.activeMarker_=null}function wd(){}function Te(a,b,c,d){var e=this.onClose=new n,f=this.onExpand=new n,g=F("MediumTooltip");this.getPane=function(){return g};this.doLayout=function(){g.css("left",-g.outerWidth()>>1)};c.createRoadview(g.$("roadview"),a.roadview,a.coords,a);g.$("roadview").click(function(){p.click("tooltip","mini_roadview");
var b=a.coords.getX().toFixed(0),c=a.coords.getY().toFixed(0),e=Application.localInfoController.getHCodeForLog(),b={name:a.name,confirmid:a.id,panoid:a.roadview.panoId,wx:b,wy:c,region:e};"route"==d?z.logPathSearchOutWithArgs("_mini_tooltip_roadview",b):"search"==d&&z.logSearchOutWithArgs("mini_tooltip_roadview",b)});c.createStoreview(g.$("storeview"),a.storeview);g.$("storeview").click(function(){p.click("tooltip","mini_storeview");var b=a.coords.getX().toFixed(0),c=a.coords.getY().toFixed(0),e=
Application.localInfoController.getHCodeForLog(),b={confirmid:a.id,storeid:a.storeview,wx:b,wy:c,region:e};"route"==d?z.logPathSearchOutWithArgs("_mini_tooltip_storeview",b):"search"==d&&z.logSearchOutWithArgs("mini_tooltip_storeview",b)});c.createDestination(g.$("destination"),a);g.$("destination").click(function(){p.click("tooltip","mini_route")});g.$("destination").toggle(!!b);g.$("expand").click(function(){p.click("tooltip","mini_plus");f.notify();var b=a.coords.getX().toFixed(0),c=a.coords.getY().toFixed(0),
e=Application.localInfoController.getHCodeForLog(),b={confirmid:a.id,wx:b,wy:c,region:e};"route"==d?z.logPathSearchOutWithArgs("_mini_tooltip_plus",b):"search"==d&&z.logSearchOutWithArgs("mini_tooltip_plus",b)});g.$("close").click(function(){p.click("tooltip","mini_close");var b=a.coords.getX().toFixed(0),c=a.coords.getY().toFixed(0),f=Application.localInfoController.getHCodeForLog(),b={confirmid:a.id,wx:b,wy:c,region:f};"route"==d?z.logPathSearchOutWithArgs("_mini_tooltip_close",b):"search"==d?z.logSearchOutWithArgs("mini_tooltip_close",
b):z.log("poi_click_mini_tooltip_close",null,b);e.notify()});g.$("name").text(String.cut(a.name,10)).click(function(){a.subway&&a.subway.openInfoPopup();p.click("tooltip","mini_name");"route"==d?z.logPathSearchOut("mini_tooltip_name",a.id):z.logSearchOut("mini_tooltip_name",a.id)});a.subway||g.$("name").attr("href",a.getLandingUrl())}function nc(a){var b=F("MiniTooltip"),c=b.$("cont"),d=!1,e=new daum.maps.Billboard({zIndex:8,position:new daum.maps.Coords(0,0),content:b.get(0),clickable:!1});e.setMap(null);
this.show=function(){e.setMap(a);d=!0};this.hide=function(){e.setMap(null);d=!1};this.setDataForDot=function(a){b.addClass("MiniTooltip-DOT");c.html("");var d=jQuery('<span class="name"></span>').appendTo(c).append(a.name);a.category&&d.append(jQuery('<span class="sub">'+a.category+"</span>"));e.setContent(b.get(0));e.setPosition(a.coords)};this.setData=function(a,d,j){b[0].className="MiniTooltip";b.addClass("MiniTooltip-"+a);c.html("");j||(j="");Array.isArray(j)?j.forEach(function(a){c.append(a)}):
c.append(j);e.setPosition(d)};this.setPlusmapVersion=function(a){b.addClass("plusmap"+a)};this.bringToFront=function(){e.setZIndex(9)};this.sendToBack=function(){e.setZIndex(8)};this.setZIndex=function(a){e.setZIndex(a)};this.getVisible=function(){return d};this.setOnClick=function(a){c.addClass("clickable");c.on("click",a)};this.setMap=function(b){e.setMap(b);a=(d=!!b)&&b}}function Ea(a){function b(a){return jQuery('<span class="name"></span>').append(a)}var c=new nc(a),d=new nc(a);this.disabledDot=
!1;this.createPlace=function(a){var d=b(a.name);c.setData(Ea.PLACE,a.coords,d)};this.createAoi=function(a){var d=b(a.name);c.setData(Ea.PLACE,a.aoiCoords,d)};this.createAoiLine=function(a){var d=b(a.name);c.setData(Ea.AOILINE,a.aoiLineCoords,d)};this.createDot=function(a){var c=b(a.name);a.category&&c.append(jQuery('<span class="sub">'+a.category+"</span>"));d.setData(Ea.DOT,a.coords,c)};this.createTheme=function(a){var d=b(a.name);c.setData(Ea.THEME,a.coords,d)};this.createCctv=function(a){var d=
b(a.name);c.setData(Ea.CCTV,a.coords,d)};this.createBusStop=function(a){var d=b(a.name);a.codenames.forEach(function(a,b){0<b&&d.append('<span class="column">|</span>');jQuery('<span class="sub">'+a.trim()+"</span>").appendTo(d)});c.setData(Ea.BUSSTOP,a.coords,d)};this.createPOIBusStop=function(a){var d=b(a.name);a.codenames.forEach(function(a,b){0<b&&d.append('<span class="column">|</span>');jQuery('<span class="sub">'+a.trim()+"</span>").appendTo(d)});c.setData(Ea.THEME,a.coords,d)};this.createRating=
function(a){var d=b(a.name).addClass("name-rating"),e=jQuery('<span class="starbg"><span class="star"></span></span>');jQuery(e).find(".star").css("width",13*a.grade);c.setData(Ea.THEME,a.coords,[d,e])};var e=[];this.createGas=function(b){var c=new nc(a);e.push(c);var d=[];b.gas.providerId&&d.push(jQuery('<span class="icon"></span>').addClass("icon-"+b.gas.providerId));var l=[{name:"\ud718\ubc1c\uc720 ",price:b.gas.gasPrice},{name:"\uacbd\uc720 ",price:b.gas.dieselPrice},{name:"LPG ",price:b.gas.lpgPrice}],
l=jQuery.grep(l,function(a){return a.price}),m=l.length-1;jQuery.each(l,function(a,b){var c=jQuery('<span class="gas"></span>'),e=jQuery('<span class="price"></span>');c.text(b.name).append(e);e.text(String.formatNumber(b.price));a!=m&&c.append(jQuery('<span class="bar">|</span>'));d.push(c)});c.setData(Ea.THEME,b.coords,d);c.show();b.outsrclinkId&&c.setOnClick(function(){A.open("https://place.map.kakao.com/"+b.outsrclinkId,"_blank")});return c};this.clear=function(){e.forEach(function(a){a.hide()});
e.length=0};this.open=function(){c.show();d.hide();this.disabledDot=!0};this.close=function(){c.hide();d.hide();this.disabledDot=!1};this.openDot=function(){this.disabledDot||d.show()};this.closeDot=function(){d.hide()}}function Ya(a){if(!(this instanceof arguments.callee))return new arguments.callee(a);var b=this.polygons=a.map(function(a){return Ya.Polygon(a)});this.findAt=function(a,d){for(var e=-1,f=0,g;g=b[f];f++)if(g.isContain(a,d)){e=f;break}return e}}function Ue(a){var a=a.getBridge(),b=null,
c=null;this.getInfo=function(){return c||b};a.onChangedStreetInfo=function(a){var c=/^(\d+)-(\d+)-(\d+)\s+(\d+):(\d+):(\d+)$/.exec(a.date),c=c?new Date(Date.UTC(c[1],c[2]-1,c[3],c[4]-9,c[5],c[6])):null;b={past:!1,type:a.st_type?unescape(a.st_type):void 0,id:a.st_no,name:a.st_name?unescape(a.st_name):void 0,address:a.addr?unescape(a.addr):void 0,date:c}};a.onChangedPastStreetInfo=function(a){switch(a.mode){case "CURRENT_TO_PAST":case "PAST_TO_PAST":var b=null;if(a.date){var f=/^(\d{4})-(\d\d)-(\d\d)/.exec(a.date);
f&&(b=new Date(f[1],f[2]-1,f[3]))}c={past:!0,address:a.addr?unescape(a.addr):void 0,date:b};break;default:c=null}}}function Ve(a,b,c){var d=a.getBridge(),e=!1,f=null;this.getInfo=function(){return f||b.getInfo()};this.isActive=function(){return e};d.onEnterArea=function(a){e=!0;var b=a.stationName||a.name;b&&(b=unescape(b));f={type:a.type,id:a.id,name:b,point:new daum.maps.Point(a.sketchX,a.sketchY),imgsrc:a.sketchUrl};c("enterArea")};d.onExitArea=function(){e=!1;c("exitArea");f=null};d.onChangedStationMapPosition=
function(a){daum.maps.RoadviewBridge.prototype.onChangedStationMapPosition.call(d);var b=a.stationName||a.name;b&&(b=unescape(b));f={type:a.type,id:a.id,name:b,point:new daum.maps.Point(a.sketchX,a.sketchY),imgsrc:a.sketchUrl};c("changedStation")}}function Se(a,b){for(var c=[],d=0;d<a.length;d+=300){var e=new daum.maps.CoordsBounds;a.slice(d,d+300+1).forEach(e.extend,e);c.push(e)}this.ignoreTest=function(a,c){if(!b)return!1;var d=a.getX(),e=a.getY(),m=4<<c;return b.some(function(a){return a instanceof
Array?!a[0]?!1:3<c?Math.abs(d-a[0].getX())<2*m&&Math.abs(e-a[0].getY())<m:a.some(function(a){return Math.abs(d-a.getX())<m&&Math.abs(e-a.getY())<m}):Math.abs(d-a.getX())<m&&Math.abs(e-a.getY())<m})?!0:!1};this.test=function(b,d){var e=0;if(!c.some(function(a,c){e=300*c;return a.contain(b)}))return!1;var l=b.getX(),m=b.getY(),k=a[e].getX(),v=a[e].getY();return a.slice(e+1,e+300+1).some(function(a){var b=a.getX(),a=a.getY();if(l>=Math.min(k,b)-d&&l<=Math.max(k,b)+d&&m>=Math.min(v,a)-d&&m<=Math.max(v,
a)+d){var c=b-k,e=a-v,f=c*m-e*l+k*a-b*v;if(f*f/(c*c+e*e)<=d*d)return!0}k=b;v=a})}}function Wb(a,b,c){function d(a){a?(k.setZIndex(m+1),l.addClass("RouteIndexMarker-HOVER")):(!v&&k.setZIndex(m),l.removeClass("RouteIndexMarker-HOVER"))}function e(a){a?(k.setZIndex(m+1),l.addClass("RouteIndexMarker-ACTIVE"),d(!1)):(k.setZIndex(m),l.removeClass("RouteIndexMarker-ACTIVE"));v=!!a}var f=this.onOver=new n,g=this.onOut=new n,j=this.onClick=new n,l=F("RouteIndexMarker");99<a&&l.addClass("bigIndex");l.$("count").text(a);
var m=c||0,k=null,k=jQuery.isNumeric(a)?new daum.maps.Billboard({position:b,clickable:!0,content:l.get(0),zIndex:m}):new daum.maps.Billboard({position:b,clickable:!1,zIndex:-999});k.setMap(null);var v=!1;l.hover(function(){d(!0);f.notify()},function(){d(!1);g.notify()});l.on("click",function(){e(!0);j.notify();A.Application&&Application.map.setCenter(b)});this.setMap=function(a){k.setMap(a)};this.setHover=d;this.setActive=e;this.getActive=function(){return v};this.getPosition=function(){return k.getPosition()||
b};this.setPosition=function(a){k.setPosition(a)};this.getImage=function(){return{getOffset:function(){return{y:11}}}};this.setClass=function(a,b){l.toggleClass(a,b)};this.getMarker=function(){return k};this.setVisibleNumber=function(a){a?l.removeClass("RouteIndexMarker-NONUMBER"):l.addClass("RouteIndexMarker-NONUMBER")}}function ie(a,b,c,d){function e(a){a?(q.setZIndex(2),!r&&k.addClass("ThemeMapPlaceMarker-HOVER"),g.notify()):(!s&&q.setZIndex(o),!r&&k.removeClass("ThemeMapPlaceMarker-HOVER"),j.notify())}
function f(a){a?(q.setZIndex(2),!r&&k.addClass("ThemeMapPlaceMarker-ACTIVE")):(q.setZIndex(o),!r&&k.removeClass("ThemeMapPlaceMarker-ACTIVE"));s=!!a}var g=this.onOver=new n,j=this.onOut=new n,l=this.onClick=new n,m=this.onPositionChanged=new n,k=F("ThemeMapPlaceMarker"),v=k.$("count");99<a?v.addClass("font3"):9<a?v.addClass("font2"):v.addClass("font1");v.text(a);var o=d||0,r=!1,a="",d=0.5,v=1,h=42;switch(c){case "57":r=!0;a="forsythia";break;case "56":r=!0;a="rosebay";break;case "55":r=!0,a="cherryblossom"}r&&
(k.addClass("ThemeMapCustomMarker"),k.addClass(a),d=20/41,v=22/46,h=20);var q=new daum.maps.Billboard({position:b,clickable:!0,content:k.get(0),xAnchor:d,yAnchor:v,zIndex:o});q.setMap(null);var s=!1;k.hover(function(){e(true)},function(){e(false)});k.on("click",function(){f(true);l.notify()});this.setMap=function(a){q.setMap(a)};this.setHover=e;this.setActive=f;this.getActive=function(){return s};this.getPosition=function(){return q.getPosition()||b};this.setPosition=function(a){q.setPosition(a);
m.notify()};this.setClass=function(a,b){k.toggleClass(a,b)};this.getImage=function(){return{getOffset:function(){return{y:h}}}};this.getMarker=function(){return q}}function je(a,b,c){var d=this.onClose=new n,e=this.onExpand=new n,f=this.onClick=new n,g=this.onOver=new n,j=this.onOut=new n,l=F("TransitMediumTooltip");l.addClass("TransitMediumTooltip-"+b.toUpperCase());l.$("expand").click(function(){e.notify()});l.$("close").click(function(){d.notify()});b=a.name;a.bus&&(b+="\uc815\ub958\uc7a5");if(a.subway){var m=
a.subwayLine;"subway_bu10"===a.subwayCode&&(m="\ubd80\uc0b0\uae40\ud574");b='<span class="sub_txt '+a.subwayCode+'">'+m+" </span>"+b}a.isInterPoint&&(b=c?a.end.text("name"):'<span class="sub_txt intercity">'+a.interTypeName+" </span>"+a.name);l.$("name").html(b);l.$("nameWrap").click(function(){f.notify()}).mouseenter(function(){g.notify()}).mouseleave(function(){j.notify()});c?l.$("actionName").text(" \ud558\ucc28"):l.$("actionName").text(" "+a.actionName);setTimeout(function(){142<l.$("name").width()&&
l.addClass("MultiLine")},0);this.getPane=function(){return l};this.doLayout=function(){};this.setHighlight=function(){}}function oc(a,b,c){function d(a){var b=a.end?a.end.text("type"):a.type;"TRAINSTATION"===b||"TRAIN"===b?b=a.subType:"SUBWAY"===b?b=a.subwayCode:"BUSTERMINAL"===b&&(b=a.type);return b}function e(d){v=new je(b,d,c);d=b.targetPath;k=new daum.maps.Billboard({zIndex:13,position:c?d[d.length-1]:d[0]||b.coords,content:v.getPane().get(0),xAnchor:0.5,clickable:!0});k.setMap(a);v.onOver.add(function(){r&&
r.setHoverYes();k&&k.setZIndex(15);g.notify()});v.onOut.add(function(){r&&r.setHoverNo();k&&k.setZIndex(13);j.notify()});v.onClick.add(function(){r.setActive();f.notify()});v.onClose.add(function(){l.notify();k.setMap(null)});v.onExpand.add(function(){k.setMap(null);f.notify()})}if(!(this instanceof arguments.callee))return new arguments.callee(a,b);var f=this.onExpand=new n,g=this.onOver=new n,j=this.onOut=new n,l=this.onClose=new n,m=null,k=null,v=null,o=null,r=null;if(!c)if(b.publicWalkPath)m=
new daum.maps.Polyline({strokeColor:"#80858E",strokeOpacity:1,strokeWeight:10,additionalStyles:[{strokeWeight:"10",strokeOpacity:"0.7",strokeColor:"#000000"},{strokeWeight:"8",strokeOpacity:"1",strokeColor:"#80858E"},{strokeStyle:"longdash",strokeWeight:"1",strokeColor:"#ffffff",strokeOpacity:"1"}],path:b.publicWalkPath}),m.setMap(a);else if(b.publicCustomPath)m=new daum.maps.Polyline({strokeColor:"#3396ff",strokeOpacity:0.4,strokeWeight:10,path:b.publicCustomPath}),m.setMap(a);else if(b.path||b.publicPath){var h=
"#80858E",q={additionalStyles:[],path:b.path||b.publicPath,pathHint:b.pathHint},h="TRANSFER_CAR"===b.type?"#717171":"FERRY"===b.type?"#866EDD":"SUBWAY"==b.type?oc.subwayColor[b.subwayCode]||h:"TRAIN"==b.type?oc.trainColor[b.subType]||h:"INTERCITY_BUS"==b.type?"#7094E2":"EXPRESS_BUS"==b.type?"#5962EB":"AIRPLANE"==b.type?"#59A4ED":"#304583";q.additionalStyles.push({strokeWeight:"10",strokeOpacity:"1",strokeColor:h});q.additionalStyles.push({strokeWeight:"10",strokeOpacity:"0.7",strokeColor:"#000000"});
q.additionalStyles.push({strokeWeight:"8",strokeOpacity:"1",strokeColor:h});q.additionalStyles.push({strokeStyle:"longdash",strokeWeight:"1",strokeColor:"#ffffff",strokeOpacity:"1"});m=new daum.maps.Polyline(q);m.setMap(a)}b.isInterPoint?b.routeType!=D.DEPARTURE_ARRIVAL&&b.vehicleType!=D.TRANSFER_PUBLICTRAFFIC&&(r=c?B.getTransitMarker(d(b),b.targetPath[b.targetPath.length-1]):b.vehicleType==D.TRANSFER_CAR?B.getTransitMarker("TAXI",b.targetPath[0]||b.coords):b.vehicleType==D.TRANSFER_CUSTOM?B.getTransitMarker("CUSTOM",
b.targetPath[0]||b.coords):b.vehicleType==D.TRANSFER_WALK?B.getTransitMarker("WALK",b.targetPath[0]||b.coords):B.getTransitMarker(d(b),b.targetPath[0]||b.coords),r.setMap(a),r.onClick.add(function(){r.setActive();f.notify();switch(b.vehicleType){case D.EXPRESS_BUS:case D.INTERCITY_BUS:p.click("route","go_public_exbus_pointlayer");break;case D.TRAIN:p.click("route","go_public_train_pointlayer");break;case D.AIRPLANE:p.click("route","go_public_flight_pointlayer");break;case D.FERRY:p.click("route",
"go_public_ship_pointlayer");break;case D.TRANSFER_CAR:p.click("route","go_public_taxi_pointlayer")}})):b.action!=Q.DEPARTURE&&b.action!=Q.ARRIVAL&&(r=B.getTransitMarker(d(b),b.coords),r.setMap(a),r.onClick.add(function(){r.setActive();f.notify();p.click("route",b.bus?"go_public_bus_pointlayer":"go_public_subway_pointlayer")}));b.action==Q.TRANSFER&&b.walkingPolyline&&(o=new daum.maps.Polyline({strokeColor:"#3396ff",strokeOpacity:1,strokeWeight:10,strokeStyle:"shortdot",path:b.walkingPolyline}),o.setMap(a));
this.showMediumTooltip=function(){k&&k.setMap(a)};this.hideMediumTooltip=function(){k&&k.setMap(null)};this.show=function(){m&&m.setMap(a);k&&k.setMap(a);r&&r.setMap(a)};this.hide=function(){m&&m.setMap(null);k&&k.setMap(null);r&&r.setMap(null);o&&o.setMap(null)};this.getMarker=function(){return r};this.showTooltip=function(a){e(a)};this.setHighlight=function(a,b){v&&v.setHighlight(b);r&&(b?r.setHoverYes():r.setHoverNo())};this.setActive=function(a,b){r&&r.setActive(b)};this.setInterMarker=function(b){b?
r.setMap(a):r.setMap(null)}}function ke(a,b){function c(a,c,d){var e=null;if(a.walkPath)return e=le(b,a),e.setWalkLine(a.walkPath),a.walk&&0!=a.walkGroup.points.length&&e.setWalkDetailLine(a.walkGroup.points),e.onClick.add(function(a){k.notify({index:c,sub:a})}),e.labelOver.add(function(a){g.notify({index:c,sub:a})}),e.labelOut.add(function(a){j.notify({index:c,sub:a})}),e.indexObj=c,d?r.push(e):v.push(e),e;e=new oc(b,a);e.onExpand.add(function(){l.notify(c)});e.onOver.add(function(){g.notify({index:c,
sub:null})});e.onOut.add(function(){j.notify({index:c,sub:null})});e.onClose.add(function(){m.notify({index:c,sub:null})});e.indexObj=c;d?r.push(e):(a.isInterPoint?(a.routeType==D.INTERCITY&&(e.showTooltip(q?"up":"down"),q=!q),r.push(e)):a.action==Q.GETON||a.action==Q.TRANSFER?(e.showTooltip(q?"up":"down"),q=!q):a.lastGetOFf&&e.showTooltip("up"),v.push(e));return e}function d(a,c){var d=new oc(b,a,!0);d.onExpand.add(function(){l.notify(c)});d.onOver.add(function(){g.notify({index:c,sub:null})});d.onOut.add(function(){j.notify({index:c,
sub:null})});d.onClose.add(function(){m.notify({index:c,sub:null})});d.indexObj=c;a.isLastIntercity&&(d.showTooltip(q?"up":"down"),q=!q);r.push(d)}function e(a,c){var d=null,e=null,d=(d=a.targetPath)&&0<d.length?d[d.length-1]:a.coords,e=c.targetPath;"TRANSFER"==c.action&&c.walkingPolyline&&(e=c.walkingPolyline);if((e=e?e[0]:c.coords)&&d&&(d.getX()!=e.getX()||d.getY()!=e.getY()))d=new daum.maps.Polyline({strokeColor:"#3396ff",strokeOpacity:0.4,strokeWeight:10,path:[d,e]}),d.setMap(b),u.push(d)}function f(){var c=
4>b.getLevel();a.forEach(function(a){a.childOverlays&&a.childOverlays.forEach(function(a,b){c?a.setInterMarker(!0):a.setInterMarker(0==b)})})}if(!(this instanceof arguments.callee))return new arguments.callee(a,b);var g=this.onOver=new n,j=this.onOut=new n,l=this.onExpand=new n,m=this.onClose=new n,k=this.onWalkMarkerClick=new n,v=[],o=[],r=[],h=0,q=!1,s=!1,u=[];a.forEach(function(g,j){if(g.isInterPoint){s||(s=!0,daum.maps.event.addListener(b,"zoom_changed",f));var k=a[j+1];if(g.publicSteps){var l=
!0;g.childOverlays=[];g.publicSteps.forEach(function(a,b){var d=c(a,{index:j,interRealIdx:h,stepIdx:b},true);g.childOverlays.push(d);if(l){v.push(d);l=false}h++;(d=g.publicSteps[b+1])&&((a.targetPath||a.action=="GETOFF")&&d.targetPath)&&e(a,d)});f(g)}else c(g,{index:j,interRealIdx:h,stepIdx:0}),g.routeType==D.INTERCITY&&k.routeType!=D.INTERCITY&&(h++,d(g,{index:j,interRealIdx:h,stepIdx:1})),h++;k&&(g.routeType!=D.DEPARTURE_ARRIVAL&&k.routeType!=D.DEPARTURE_ARRIVAL)&&e(g,k)}else c(g,j),(k=a[j+1])&&
((g.targetPath||"GETOFF"==g.action)&&k.targetPath)&&e(g,k)});this.setWalkDetailMarker=function(a,b){v[a].setWalkDetailLine(b)};this.clear=function(){v.forEach(function(a){a.hide()});v.length=0;r.forEach(function(a){a.hide()});r.length=0;for(o.forEach(function(a){a.hide()});u.length;)u.pop().setMap(null);s&&(s=!1,daum.maps.event.removeListener(b,"zoom_changed",f));q=!1};this.showTransitMediumTooltip=function(a){var b="",b="object"==typeof a?r[a.interRealIdx]:v[a];0!=v.length&&b.showMediumTooltip&&
b.showMediumTooltip()};this.hideTransitMediumTooltip=function(a){var b="",b="object"==typeof a?r[a.interRealIdx]:v[a];b.hideMediumTooltip&&b.hideMediumTooltip()};this.setBound=function(a){b.setBounds(a)};this.getInterNextIndex=function(a){return(a=r[a.interRealIdx+1])?a.indexObj:null};this.getInterPrevIndex=function(a){return(a=r[a.interRealIdx-1])?a.indexObj:null};this.getInterNowIndex=function(a){return r[v[a.index].indexObj.interRealIdx+a.childIdx].indexObj};this.setHighlightOverlay=function(a,
b){if(void 0!==a.index){var c="",c="object"==typeof a.index?r[a.index.interRealIdx]:v[a.index];c.setHighlight&&c.setHighlight(a,b)}};this.setActiveOverlay=function(a,b){var c="",c="object"==typeof a.index?r[a.index.interRealIdx]:v[a.index];c.setActive(a.sub,b)};this.setClickable=function(a){v.forEach(function(b){b instanceof le?b.setClickable(a):!1===a&&b instanceof oc&&b.hideMediumTooltip()})}}function le(a,b){function c(){g&&(4>a.getLevel()?0!=k.length?(k.forEach(function(a){a.show()}),f=!0):f=
!1:(e&&e.setMap(a),k.forEach(function(a){a.hide()}),f=!1))}if(!(this instanceof arguments.callee))return new arguments.callee(a,b);var d=this.onClick=new n,e=null,f=!1,g=!1,j=b.walkingGuide,l=this.labelOver=new n,m=this.labelOut=new n,k=[],v=null;daum.maps.event.addListener(a,"zoom_changed",c);var o=B.getTransitMarkerImage("WALK"),r=B.getTransitHoverMarkerImage("WALK"),v=B.transitWalkMarker(b.walkPath[0]),h=!1;daum.maps.event.addListener(v,"click",function(){d.notify(null);p.click("route","go_public_walk_pointlayer")},
this);daum.maps.event.addListener(v,"mouseover",function(){h||l.notify(null)},this);daum.maps.event.addListener(v,"mouseout",function(){h||m.notify(null)},this);v.setMap(a);this.setWalkLine=function(b){b={zIndex:-1,path:b};j?(b.strokeWeight=10,b.strokeOpacity=1,b.strokeColor="#80858E",b.additionalStyles=[{strokeWeight:"10",strokeOpacity:"0.7",strokeColor:"#000000"},{strokeWeight:"8",strokeOpacity:"1",strokeColor:"#80858E"},{strokeStyle:"longdash",strokeWeight:"1",strokeColor:"#ffffff",strokeOpacity:"1"}]):
(b.strokeColor="#3396ff",b.strokeOpacity=0.4,b.strokeWeight=10,b.strokeStyle="solid");e=new daum.maps.Polyline(b);e.setMap(a);f=!1;g=!0};this.setWalkDetailLine=function(b){0!=k.length||0==b.length||(b.forEach(function(b,c){var e=ed(a,b);e.onClick.add(function(){d.notify(c)});e.onMouseover.add(function(){l.notify(c)},this);e.onMouseout.add(function(){m.notify(c)},this);k.push(e)}),g=f=!0)};this.show=function(){v.setMap(a);f?(k.forEach(function(a){a.show()}),e.setMap(null)):(e.setMap(a),k.forEach(function(a){a.hide()}));
g=!0};this.hide=function(){v&&(v.setMap(null),v=null);e&&e.setMap(null);k.forEach(function(a){a.hide()});k.length=0;g=!1;daum.maps.event.removeListener(a,"zoom_changed",c)};this.setInterMarker=function(b){v&&(b?v.setMap(a):v.setMap(null))};this.setHighlight=function(a,b){null==a.sub?b?v.setImage(r):v.setImage(o):k[a.sub].setHighlight(b)};this.setActive=function(a,b){null==a&&((h=b)?v.setImage(r):v.setImage(o));null!=a&&0!=k.length&&k[a].setActive(b)};this.setClickable=function(a){a?v.setClickable(!0):
v.setClickable(!1)}}function Qc(a,b){function c(){var b=4>a.getLevel();s.setMap(b?null:a);b||q.setStyle("");e(!1);k.forEach(function(a){a.setMarkerVisible(b)});m=b;w=!1;-1<u&&(b?f(!0,u):d(!0))}function d(a){q.setStyle(a?"walkMarkerOn":"walkMarker");k.forEach(function(b){b.setActive(a)});w=a}function e(a){w||(q.setStyle(a?"walkMarkerOn":"walkMarker"),s.setZIndex(a?3:2),k.forEach(function(b){b.setHighlight(a)}))}function f(a,b){u=a&&null!=b?b:-1;k.forEach(function(c,d){d==b?c.setActive(a):c.setActive(!1)})}
if(!(this instanceof arguments.callee))return new arguments.callee(a,b);var g=this.onClick=new n,j=this.onMouseover=new n,l=this.onMouseout=new n,m=!1,k=b.points.map(function(b,c){var d=ed(a,b);d.onClick.add(function(){u=c;g.notify(c)});d.onMouseover.add(function(){j.notify(c)});d.onMouseout.add(function(){l.notify(c)});return d}),v=b.points[0].seq,o=b.points[b.points.length-1].seq,r=b.points[0].coords,h=jQuery("<div class=WalkPointGroupMarker />"),q=ec(h,"walkMarker",v,o);h.css("left",-(8+7*(""+
v).length));h.click(function(){d(!1);e(!1);g.notify(null)});h.mouseenter(function(){j.notify(null);e(!0)});h.mouseleave(function(){l.notify(null);e(!1)});var s=B.walkpointGroupMarker(r,h.get(0)),u=-1;daum.maps.event.addListener(a,"zoom_changed",c);c();var w=!1;this.setActive=d;this.setHighlight=e;this.setItemActive=f;this.setItemHighlight=function(a,b){m?k.forEach(function(c,d){d==b?c.setHighlight(a):c.setHighlight(!1)}):e(a)};this.show=function(){s.setMap(a);k.forEach(function(a){a.show()});daum.maps.event.addListener(a,
"zoom_changed",c);c()};this.hide=function(){s.setMap(null);k.forEach(function(a){a.hide()});daum.maps.event.removeListener(a,"zoom_changed",c)};this.destroy=function(){daum.maps.event.removeListener(a,"zoom_changed",c);k.forEach(function(a){a.destroy()});s.setMap(null);k.length=0;h.remove();q.dispose()}}function ed(a,b){function c(){j.setMap(null)}if(!(this instanceof arguments.callee))return new arguments.callee(a,b);var d=this.onClick=new n,e=this.onMouseover=new n,f=this.onMouseout=new n,g=!1,
j=new Wb(b.seq,b.coords,2);j.onClick.add(function(){d.notify()});j.onOver.add(function(){e.notify()});j.onOut.add(function(){f.notify()});j.setMap(a);this.setClickable=function(a){a?j.setClickable(!0):j.setClickable(!1)};this.setActive=function(a){g=a?!0:!1;j.setActive(a)};this.setHighlight=function(a){g||j.setHover(a)};this.show=function(){j.setMap(a)};this.hide=c;this.setMarkerVisible=function(b){j.setMap(b?a:null)};this.destroy=c;this.setVisibleNumber=function(a){j.setVisibleNumber(a)}}function We(a){function b(){d.forEach(function(a){a&&
a.destroy()});d.length=0;m&&m.setMap(null);k&&k.setMap(null);v&&v.setMap(null);v=k=m=null}function c(){d.forEach(function(a){a&&a.setActive&&a.setActive(!1);a instanceof Qc&&a.setItemActive(!1)})}if(!(this instanceof arguments.callee))return new arguments.callee(a);var d=[],e=this.onClick=new n,f=this.onClickWithZoomIn=new n,g=this.onMouseover=new n,j=this.onMouseout=new n,l={zIndex:-2,strokeColor:"#3396ff",strokeOpacity:0.4,strokeWeight:10},m=null,k=null,v=null,o=0;daum.maps.event.addListener(a,
"zoom_changed",function(){var b=a.getLevel();if(0<d.length){if(7>=o&&7>=b){o=b;return}Wb.showMarkerByZoom({level:b,shapeChangeLevel:11,list:d,map:a,pickCountFunc:function(a,b){return 7>=a?b:8<=a&&9>=a?Math.max(Math.min(Math.floor(80*b/100),80),2):10<=a&&11>=a?Math.max(Math.min(Math.floor(40*b/100),40),2):12<=a&&13>=a?Math.max(Math.min(Math.floor(15*b/100),15),2):0}})}o=b}.bind(this));this.setClickable=function(a){d.forEach(function(b){b instanceof ed&&b.setClickable(a)})};this.setActive=function(b){b?
(d.forEach(function(a){a&&a.show()}),m&&m.setMap(a),k&&k.setMap(a),v&&v.setMap(a)):(d.forEach(function(a){a&&a.hide()}),m&&m.setMap(null),k&&k.setMap(null),v&&v.setMap(null))};this.setData=function(o){b();if(o){o.points.forEach(function(b,k){if("start"==b.seq||"goal"==b.seq||"through"==b.seq)d.push(null);else{var l;l=b instanceof Ac?Qc(a,b):ed(a,b);l.onClick.add(function(a){c();null!=a?(l.setItemActive(!0,a),e.notify({index:k,sub:a})):l instanceof Qc?(l.setItemActive(!0,0),f.notify({index:k})):(l.setActive(!0),
e.notify({index:k}));p.click("route","go_walk_mappoint")});l.onMouseover.add(function(a){g.notify({index:k,sub:a})});l.onMouseout.add(function(a){j.notify({index:k,sub:a})});d.push(l)}});var h=[];o.sectionPoints.forEach(function(a){h=h.concat(a)});v=new daum.maps.Polyline({strokeWeight:12,strokeColor:"#ffffff",strokeOpacity:1,additionalStyles:[{strokeWeight:"8",strokeOpacity:"1",strokeColor:"#3396ff"},{strokeStyle:"longdash",strokeWeight:"1",strokeColor:"#ffffff",strokeOpacity:"1"}],path:h});v.setMap(a);
var q=Application.flagSearchController.getWaypoints(),o=q[0].coords,q=q[q.length-1].coords,s=h[0],u=h[h.length-1];m=new daum.maps.Polyline(l);m.setPath([o,s]);k=new daum.maps.Polyline(l);k.setPath([u,q]);m.setMap(a);k.setMap(a)}};this.setItemActive=function(a,b){c();d[a.index]&&(d[a.index]instanceof Qc?d[a.index].setItemActive(b,a.sub):d[a.index]&&d[a.index].setActive&&d[a.index].setActive(b))};this.setHighlight=function(a,b){var c=d[a.index];c&&(c instanceof Qc?null==a.sub?c.setHighlight(b):c.setItemHighlight(b,
a.sub):c&&c.setHighlight&&c.setHighlight(b))};this.clear=b}function Jb(a){if(a){var b=a.text("type");this.coords=new daum.maps.Coords(a.number("x"),a.number("y"));this.icon=Jb.ICON_MAP[b]||Jb.ICON_MAP["0"];this.title=a.text("linkName")||"";this.titleTypeTxt=Jb.SUBTITLE_MAP[b]||"\uc548\ub0b4";this.desc=a.text("description");this.startTime=a.text("startTime");this.endTime=a.text("endTime");this.source=a.text("source")||a.text("sourceType")||"";this.id=a.text("id")}}function Ma(a){var b;if(a){this.docid=
a.text("docid")||a.text("new.docid")||a.text("old.docid");this.coords=new daum.maps.Coords(a.number("x"),a.number("y"));this.name=(this.name=String.stripTags(a.text("name")||a.text("addr")||a.text("new.name")||a.text("old.name")))||"\ud574\ub2f9 \uc9c0\uc5ed\uc740 \uc8fc\uc18c\ub97c \ud655\uc778\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.";this.isAlive=a.text("is_alive");this.lineData=a.text("line_data");this.dataType=a.text("data_type");this.bcode=a.text("d_bcode")||a.text("bcode");this.hcode=a.text("d_hcode");
this.bhtype=a.text("d_bhtype");if(("BH"==this.bhtype||"HB"==this.bhtype)&&a.text("alt_bhtype"))this.bhtype=a.text("alt_bhtype");this.d3HName="Y"==a.text("d3_hname_change_bname")?a.text("d3_hname"):"";this.relatedPrefixAddress=a.text("related_prefix_address");this.code=this.regionId=a.text("code")||a.text("regionId");this.id="id_"+this.coords.getX()+this.coords.getY()+this.regionId;this.maybeAreaSearch="1"==this.dataType||"2"==this.dataType;this.subList=[];if(b=a.text("related_address"))this.subList=
Application.relatedAddressController.newList(b,this),this.otherName=this.subList[0]?this.subList[0].prefix+" "+this.subList[0].address:"";this.infowindowSubAddress=this.subList[0];(b=a.text("zipcode"))&&(b=b.replace(/(...)(...)/,"$1-$2"));var c=a.text("related_address_diff_zipcode");this.relatedZipcode=[];c&&c.split(";").forEach(function(a){this.relatedZipcode.push(a.split("^")[0].replace(/(...)(...)/,"$1-$2"))},this);this.zonenum=a.text("zone_no")||a.text("new_zipcode")||b;b=a.text("related_address_diff_zone_no");
this.relatedZonenum=[];b&&b.split(";").forEach(function(a){this.relatedZonenum.push(a.split("^")[0])},this);if(1==this.dataType||2==this.dataType)if((b=a.text("related_address_building_name"))&&b.trim()){if(this.subBuildingList=b.split(";"),this.subList.length!=this.subBuildingList.length&&(this.subBuildingList=[a.text("building_name")].concat(this.subBuildingList)),this.infowindowSubBuilding=this.subBuildingList[0],1==this.subList.length&&1==this.subBuildingList.length)this.buildingName=this.subBuildingList[0]||
a.text("building_name")}else 0==this.subList.length&&(this.buildingName=a.text("building_name")||a.text("new.building")||"");else this.buildingName=a.text("building_name")||""}}function ib(a,b){var c,d;this.path=[];this.bounds=new daum.maps.CoordsBounds;this.id="";this.markerCoords;if(this.isJibun=b){c=String.stripTags(a.text("name"));d=String.stripTags(a.text("new.name"));var e=String.stripTags(a.text("old.name"));this.name=c||d||e;if(c=a.object("shape")){d="MultiPolygon"==c.text("type");c=c.find("coordinates");
for(e=c.length;e--;)if(c[e]=c[e].find("value"),d)for(var f=c[e].length;f--;){c[e][f]=c[e][f].find("value");for(var g=c[e][f].length;g--;)c[e][f][g]=c[e][f][g].find("value"),c[e][f][g]=new daum.maps.Coords(c[e][f][g][0].number("value"),c[e][f][g][1].number("value")),this.bounds.extend(c[e][f][g]);this.path.push(c[e][f])}else{for(f=c[e].length;f--;)c[e][f]=c[e][f].find("value"),c[e][f]=new daum.maps.Coords(c[e][f][0].number("value"),c[e][f][1].number("value")),this.bounds.extend(c[e][f]);this.path.push(c[e])}}}else{a=
a.find("value");for(e=a.length;e--;){c=a[e].find("interior");for(f=c.length;f--;){c[f]=c[f].find("value");for(g=c[f].length;g--;)d=c[f][g],c[f][g]=new daum.maps.Coords(d.number("x"),d.number("y"));this.path.push(c[f])}c=a[e].find("exterior");for(f=c.length;f--;)d=c[f],c[f]=new daum.maps.Coords(d.number("x"),d.number("y")),this.bounds.extend(c[f]);this.path.push(c)}}}function wa(){if(!(this instanceof arguments.callee))return new arguments.callee;this.seq=0;this.coords=null;this.poi=this.subway="";
this.confirmid=0;this.cross="";this.getSummary=function(){return this.subway||this.cross||this.poi||""};this.getPlaceId=function(){return!this.subway?this.confirmid:""};this.rotationCode=this.action=this.desc="";this.roadview=null;this.path=[]}function yc(){if(!(this instanceof arguments.callee))return new arguments.callee;this.end=this.start=this.desc="";this.distance=this.time=0;this.points=[];this.bikeGuide=!0}function pc(){if(!(this instanceof arguments.callee))return new arguments.callee;this.points=
[];this.graph=null;this.distance=this.time=0;this.bounds=null;this.error=this.resultErrorCode="";this.option=this.mode=this.raw=null;this.routeMode="";this.stair=this.underground=this.bridge=this.calories=0;this.hasRoadviewInfo=!1}function Kb(){if(!(this instanceof arguments.callee))return new arguments.callee;this.bikeRoutes=[];this.error=this.resultErrorCode="";this.raw=null}function Rc(){this.stateArray=[];this.stateOnly=!1;this.direction2=this.direction=null}function fd(a){this.firstLastTime=
[];this.interval=[];this.turningPointId=this.turningPoint=this.startPointId=this.startPoint="";this.variable=!1;if(a&&(this.firstLastTime=a.find("firstLastTimes").map(function(a){return{startPointTime:a.text("startPointFirstTime")+"~"+a.text("startPointLastTime"),turningPointTime:a.text("turningPointFirstTime")+"~"+a.text("turningPointLastTime"),day:fd.dayTypes[a.text("dayType")]}}),this.interval=a.find("intervals").map(function(a){var c="";if(a.text("peakInterval")&&a.text("nonPeakInterval"))c=a.text("peakInterval")==
a.text("nonPeakInterval")?a.text("nonPeakInterval")+"\ubd84":a.text("peakInterval")+"~"+a.text("nonPeakInterval")+"\ubd84";else if(a.text("peakInterval")||a.text("nonPeakInterval"))c=(a.text("peakInterval")||a.text("nonPeakInterval"))+"\ubd84";return{peek:c,day:fd.dayTypes[a.text("dayType")]}}),this.startPoint=a.text("startPoint"),this.turningPoint=a.text("turningPoint"),this.startPointId=a.text("startPointBusLine"),this.turningPointId=a.text("turningPointBusLine"),0<this.firstLastTime.length||0<
this.interval.length))this.variable=!0}function U(a,b){this.busStops=[];this.vehicles=null;if(a){this.rawData=a;this.id=a.text("id")||a.text("DOCID");var c=a.text("name")||a.text("BUS_NAME"),c=c.trim(),c=/^(.+?)(\(.+\))?$/.exec(c);this.name=c[0]||"";this.firstName=c[1]||"";this.secondName=c[2]||"";this.type=U.TYPE[a.text("type")||a.text("BUS_TYPE_ID")];console.assert(this.type);this.region=a.text("hname")||a.text("hcodeName")||a.text("RGN_D1_NAME");this.subRegion=a.text("RGN_D2_NAME")||"";this.scode=
a.text("hcode")||a.text("BUS_HCODE");this.hcode=(a.text("hcode")||a.text("BUS_HCODE")).substring(0,2);this.start=a.text("startPoint")||a.text("START_POINT");this.end=a.text("endPoint")||a.text("END_POINT");this.startTime=a.text("first")||a.text("BUS_FIRST_TIME")||"-";"null"==this.startTime&&(this.startTime="-");this.endTime=a.text("last")||a.text("BUS_LAST_TIME")||"-";"null"==this.endTime&&(this.endTime="-");this.interval=a.text("interval")||a.text("BUS_INTERVAL_TIME")||"-";"null"==this.interval&&
(this.interval="-");this.providerId=a.number("itsCode");this.realTime=a.text("realTime");this.realtimeState=a.text("realtimeState");a.text("v_landmark")&&(this.landmarks=a.text("v_landmark").split(";").map(function(a){a=a.split(",");return{name:a[0],coords:new daum.maps.Coords(a[1],a[2])}}));this.realtimeMessage=a.text("realtimeMessage");a.text("path")&&this.addPath(a.text("path"));a.find("busStops")&&this.addBusStop(a.find("busStops"));a.has("busLocations")&&(this.vehicles=this.loadVehicles_(a.find("busLocations")));
a.has("busDetailInfo")&&(this.busDetailInfo=this.loadBusDetailInfo_(a.object("busDetailInfo")));this.direction=a.text("arrival.direction");this.arrival=Rc.createFromData(a);this.order=a.number("arrival.order");this.codenames=b;this.busStopId=a.text("arrival.busStopId")}}function qc(){this.status="NORMAL";this.number="";this.position=0;this.last=this.first=!1;this.type=null}function ga(a){a&&this.load_(a)}function me(){if(!(this instanceof arguments.callee))return new arguments.callee;this.id="";this.coords=
null}function Va(){this.outlines=[];this.restAreas=this.gasStations=this.cctvs=this.accidents=null}function V(){this.carRoutes=[]}function Ib(a){a&&(this.id=a.text("key"),this.source=a.text("source"),this.flag=a.number("flag"),this.coords=new daum.maps.Coords(a.number("x"),a.number("y")),this.roadname=a.text("roadname"),this.name=a.text("name"),this.isLive=a.bool("liveflag"))}function L(){this.seq=0;this.expressType=null;this.info=this.name="";this.distance=0;this.rotation=L.STRAIGHT;this.traffic=
null;this.coords="";this.points=[];this.roadview=null;this.confirmid=0;this.accList=[]}function Bc(){this.item=[]}function xd(){this.name="";this.confirmid=null}function t(a){if(a&&(this.type=a.text("favoriteType").toLowerCase()||a.text("type").toLowerCase(),this.folderId=a.number("folderId"),this.icon=a.text("icon"),this.color=-1!==t.ALLOW_COLOR_TYPE.indexOf(a.text("color"))?a.text("color"):t.DEFAULT_COLOR,this.key=a.text("key"),this.seq=a.number("seq"),this.display1=a.text("display1"),this.display2=
a.text("display2"),this.memo=a.text("memo"),this.isHome=a.bool("home"),this.createdAt=(new Date(a.text("createdAt"))).getTime()||"",this.x=a.number("x"),this.y=a.number("y"),this.pan=a.text("pan"),this.tilt=a.text("tilt"),this.zoom=a.text("zoom"),this.spot_id=a.text("spotId")||a.text("spot_id"),this.its_id=a.text("itsId")||a.text("its_id"),this.busline_type=a.text("busLineType")||a.text("busline_type"),this.route_form=a.text("routeForm")||a.text("route_form"),this.buslines=a.text("busLines")||a.text("buslines"),
this.status=a.text("status")||"S",this.route_form)){this.route_form=JSON.parse(this.route_form);var b="";this.route_form.forEach(function(a){b&&(b+=" \u2192 ");b+=a.name});this.originDisplay=b;"route_subway"==this.type&&2<this.route_form.length&&(this.route_form=[this.route_form[0],this.route_form[this.route_form.length-1]])}}function gb(){this.activeIndex=null;this.waypoints=[]}function dd(){this.data_={};this.listeners_=[]}function wb(a){this.onLoad=new n;a&&(this.providerId=a.text("brand"),this.provider=
a.text("brandName"),this.gasPrice=a.number("oil1"),this.premiumGasPrice=a.number("oil2"),this.dieselPrice=a.number("oil3"),this.lpgPrice=a.number("oil4"),this.timestampText=a.text("oilTime"))}function yd(a){a&&(this.region=a.text("region"),this.keyword=a.text("keyword"),this.cidx=a.text("cidx")||"0",this.type=a.text("type"),this.bunji=a.text("bunji"))}function gc(a,b,c){fa(this,qa);this.level=a;this.index=b;(this.isMapPlus=2==a)?this.mapPlusData=c.raw():this.loadAt_(c);1==a?(this.markerType="ad",
this.ad=!0):(this.markerType="normal",this.ad=!1)}function zd(a,b){fa(this,qa);this.index=a;this.loadAt_(b)}function y(){this.themeCategory_=this.themeId_=0;this.mode_=null;this.keyword_="";this.page_=1;this.sort_=0;this.bounds_=null;this.willSearchBusStop_=!1;this.exactSearch_=!0;this.whatsHere_=!1;this.categoryDepth_=this.category_=0;this.correction_=!0;this.defaultPage_=1;this.cidx_=null;this.onChange=new n;this.onIssue=new n;this.loaded=!1;this.page=1;this.guideMessage=[];this.premiumKeyword=
this.message="";this.snSelected=!1;this.themeId=0;this.themeCategories=[];this.categories=[];this.categoryPath=[];this.categoryChildren=[];this.locationMessage="";this.places=[];this.placeAdCount=this.placeCount=0;this.reviews=[];this.reviewCount=0;this.originalKeyword=void 0;this.spellCandidate=[];this.homonyms=[];this.addresses=[];this.addressCount=0;this.highlightedFirst=!1;this.buses=[];this.busesCount=0;this.busStops=[];this.busStopCount=0;this.busRegions=[];this.busTypes=[];this.busTypeId_=
this.busRegionId_=null;this.landmarks=[];this.sort=0;this.coordinates=null;this.coordinatesText="";this.inferredKeyword=void 0;this.gasType=this.sortType=this.eucKrKeyword="";this.pageCount=0;this.tileSearch=!1;this.params_=null;this.isParams_=!1;this.trans_map_type=0;this.nextGuide=this.currentGuide=this.exposure_level=this.target=null;this.qaType_="";this.repeated_=!1;this.busRecommend="";this.busRecommendTop=!1;this.relkey="";this.isBuilding=this.isHighway=this.addressRetry=!1;this.dssSrcId=this.analysis=
"";this.needCorrectSearch=this.hasMapPlus=!1;this.saveIncorrectQuery=""}function Lb(a){if(a){var b=a.object("codes");b&&(this.hcode=Lb.code_(b.object("hcode")),this.bcode=Lb.code_(b.object("bcode")));if(a=a.object("weatherInfos"))if(a=a.object("forecast"))this.weather={icon:a.text("iconId")||"1",temp:a.text("temperature"),desc:a.text("desc")}}}function rc(){}function qa(){}function Sb(){this.ad=!1;this.benefit=this.card=""}function Cc(){}function Sc(a){this.biztypename=a.text("place.placeaddinfos.nice.biztypename")||
"-";this.companytype=a.text("place.placeaddinfos.nice.companytype")||"-";this.chief=a.text("place.placeaddinfos.nice.chief")||"-";this.url=a.text("place.placeaddinfos.nice.url");this.dataList=[];this.setDataElement("\uc5c5\uc885",this.biztypename);this.setDataElement("\uae30\uc5c5\uacf5\uac1c",this.companytype);this.setDataElement("\ub300\ud45c\uc790",this.chief)}function gd(a){this.category=a.text("place.placeaddinfos.hira.cpcatename")||"-";this.medicalStr="-";var b=a.text("place.placeaddinfos.hira.subjectname");
if(b){var c=a.text("place.placeaddinfos.hira.subjectcnt"),d=a.text("place.placeaddinfos.hira.doctorcnt");this.medicalStr=b;0!=c&&(this.medicalStr+=" \uc678 "+c+"\uac1c");0!=d&&(this.medicalStr+="(\uc758\uc0ac "+d+"\uba85)")}this.spcStr="-";if(b=a.text("place.placeaddinfos.hira.spcname"))c=a.text("place.placeaddinfos.hira.spccnt"),this.spcStr=b,0!=c&&(this.spcStr+=" \uc678 "+c+"\uac1c");this.url=a.text("place.placeaddinfos.hira.url");this.dataList=[];this.setDataElement("\ubcd1\uc6d0\uad6c\ubd84",
this.category);this.setDataElement("\uc9c4\ub8cc\uacfc\ubaa9",this.medicalStr);this.setDataElement("\ud2b9\uc815\ubd84\uc57c",this.spcStr)}function Ad(a){this.goodstype=a.text("place.placeaddinfos.interparktour.goodstype");this.titleName="A5001"==this.goodstype?"\ub9ac\uc870\ud2b8\uc815\ubcf4":"A5002"==this.goodstype?"\ud39c\uc158\uc815\ubcf4":"\ud638\ud154\uc815\ubcf4";this.hotelratename=a.text("place.placeaddinfos.interparktour.hotelratename")||"-";this.totalroomcount=a.text("place.placeaddinfos.interparktour.totalroomcount");
this.checkintime=a.text("place.placeaddinfos.interparktour.checkintime");this.checkouttime=a.text("place.placeaddinfos.interparktour.checkouttime");this.amendities=a.text("place.placeaddinfos.interparktour.amendities")||"-";this.totalroomcountStr=this.totalroomcount?this.totalroomcount+" \uac1d\uc2e4":"-";this.timeinfoStr="";this.checkintime&&(this.timeinfoStr="\uccb4\ud06c\uc778 "+this.checkintime);this.checkouttime&&(this.timeinfoStr&&(this.timeinfoStr+=" / "),this.timeinfoStr+="\uccb4\ud06c\uc544\uc6c3 "+
this.checkouttime);this.timeinfoStr||(this.timeinfoStr="-");this.dataList=[];"\ud638\ud154\uc815\ubcf4"==this.titleName&&this.setDataElement("\ub4f1\uae09",this.hotelratename);this.setDataElement("\ucd1d\uac1d\uc2e4\uc218",this.totalroomcountStr);this.setDataElement("\uc774\uc6a9\uc2dc\uac04",this.timeinfoStr);"\ud39c\uc158\uc815\ubcf4"==this.titleName&&this.setDataElement("\ubd80\ub300\uc2dc\uc124",this.amendities)}function Tc(a){a&&(this.nickName=a.text("nickName"),this.thumbnailImageFile=a.text("thumbnailImageFile"))}
function Ha(){}function ab(a){a&&this.loadText_(a)}function Uc(){this.onLoad=new n}function Tb(){this.thumbnailUrl=this.placeid=this.id=this.category=this.name="";this.coords=null;this.level=0}function Vc(a){this.totalTime=a.number("totalTime")||0;this.totalTimeHours=a.number("totalTimeHours")||0;this.totalTimeMinutes=a.number("totalTimeMinutes")||0;this.cardFare=a.number("cardFare")||0;this.cashFare=a.number("cashFare")||0;this.transferCount=a.number("transferCount")||0;this.stationCount=a.number("stationCount")||
0;this.isFastest="true"==a.text("isFastest")?!0:!1;this.isMinTransfer="true"==a.text("isMinTransfer")?!0:!1;this.fastestArrival="true"==a.text("fastestArrival")?!0:!1;this.optimisticDeparture="true"==a.text("optimisticDeparture")?!0:!1;this.sectionRoutes=[];a.find("sectionRoutings").forEach(function(a){a=new Vc.SectionRoute(a);if("TRANSFER"==a.type){var c=this.sectionRoutes[this.sectionRoutes.length-1];a.id=c.id;var d=c.nodes;a.time=d[d.length-1].arrTime;a.noTimeText="--"==c.time?"":c.noTimeText}this.sectionRoutes.push(a)},
this);this.sectionCount=this.sectionRoutes.length||0;this.firstNode=jQuery.extend(!0,{},this.sectionRoutes[0].nodes[0]);if(a=this.sectionRoutes[this.sectionCount-1])this.lastNode=jQuery.extend(!0,{},a.nodes[a.nodes.length-1])}function Bd(a){this.params=a||null;this.endStationName=this.endStationId=this.startStationName=this.startStationId="";this.firstTrain=!1;this.routes=[];this.load=function(a){return"SUCCESS"==a.text("routingStatus")?(this.raw=a.raw(),this.startStationId=a.text("fromStationId"),
this.startStationName=a.text("fromStationName"),this.endStationId=a.text("toStationId"),this.endStationName=a.text("toStationName"),this.firstTrain="true"==a.text("firstTrain")?!0:!1,a.find("routes").forEach(function(a){a=new Vc(a);if("TimeBase"==this.params.routingType){var b=this.params.time.split(":");b.pop();a.firstNode.time=b.join(":")}else"ArrTimeBase"==this.params.routingType&&(b=this.params.time.split(":"),b.pop(),a.lastNode.arrTime=b.join(":"),a.lastNode.time=b.join(":"));this.routes.push(a)},
this),this):null}}function Xa(a){a&&(this.id=a.text("id")||a.text("key"),this.coords=new daum.maps.Coords(a.number("x"),a.number("y")),this.name=a.text("name")||a.text("display1"));this.transfers=[];this.facilities=[];this.buses=[]}function Dc(a){a&&(this.id=a.number("id"),this.name=a.text("name")||a.text("g_name"),this.count=a.number("count"))}function Cd(){}function D(){this.action=0;this.desc=this.name="";this.vehicleType=this.coords=null}function Zb(a){if(a){this.raw_=a;this.bounds=new daum.maps.CoordsBounds(new daum.maps.Coords(a.number("boundary.minX"),
a.number("boundary.minY")),new daum.maps.Coords(a.number("boundary.maxX"),a.number("boundary.maxY")));this.type=a.text("vehicle");this.type2=a.text("vehicles");this.subType=this.getSubTypeCode(this.type2);this.fare=a.text("fare.text");this.transfers=a.number("transfers");this.transferOneType=!1;if(0<this.transfers&&0>this.type.indexOf(",")&&("TRAIN"!=this.type||"COMPLEX"!=this.type2))this.transferOneType=!0;this.recommend=a.bool("recommend");this.points=[];this.summaries=[];this.points.push(D.createFromData({pointType:"START",
routeType:D.DEPARTURE_ARRIVAL,data:a.object("start")}));var b=null,c=null;a.find("sectionRoutes").map(function(a){var e=D.INTERCITY;0<=a.text("vehicle.type").indexOf("TRANSFER_")&&(e=D.PUBLICTRAFFIC);var f=D.createFromData({pointType:"NODE",routeType:e,data:a});this.points.push(f);e==D.INTERCITY&&(c=f,e=this.getSummaryNode(a.object("departure"),a.object("vehicle")),e.index=this.summaries.length,e.isTransfer=0<this.transfers&&!this.transferOneType?!0:!1,e.isTransfer&&(f=a.object("vehicle").text("type"),
"TRAIN"==f?e.subType=this.getSubTypeCode(a.object("vehicle").text("subType")):0<=f.indexOf("BUS")&&(e.subType=f.toLowerCase())),this.summaries.push(e),b=this.getSummaryNode(a.object("arrival"),a.object("vehicle")),b.index=this.summaries.length,b.action=Q.GETOFF_TRANSFER)},this);c.isLastIntercity=!0;b.action=Q.GETOFF;b.inputComplete||this.summaries.push(b);this.points.push(D.createFromData({pointType:"END",routeType:D.DEPARTURE_ARRIVAL,data:a.object("end")}));this.time=a.number("time.value");this.timeText=
a.text("time.text");this.totalTime=a.number("totalTime.value");this.totalTimeText=a.text("totalTime.text");this.totalPaths=[]}}function Q(){this.action=0;this.desc=this.name="";this.roadview=this.vehicleType=this.coords=null}function $b(a){a&&(this.raw_=a,this.bounds=new daum.maps.CoordsBounds(new daum.maps.Coords(a.number("boundary.minX"),a.number("boundary.minY")),new daum.maps.Coords(a.number("boundary.maxX"),a.number("boundary.maxY"))),this.type=a.text("type"),this.distance=+a.text("distance.value"),
this.fare=a.text("fare.text"),this.summaries=[],a.find("summaries").map(function(b,c){var d=this.getSummaryNode(b.object("startLocation"));d.vehicles=b.find("vehicles").map(function(a){var b="BUS"==a.text("type")?U.TYPE[a.text("subType")]:Q.subwayCode[a.text("id")][0],b={vehicleType:a.text("type").toLowerCase(),subType:a.text("subType"),direction:a.text("direction"),name:a.text("name"),parentName:a.text("parentName"),lineType:b,id:a.text("id"),visible:"true"==a.text("visible")};a.text("direction")&&
(b.direction=a.text("direction"));return b});d.index=this.summaries.length;this.summaries.push(d);a.find("summaries").length-1==c&&(d=this.getSummaryNode(b.object("endLocation")),d.index=this.summaries.length,this.summaries.push(d))},this),this.transType=a.text("type"),this.time=a.number("time.value"),this.walkingTime=a.number("walkingTime.value"),this.transfers=a.number("transfers"),this.points=a.find("steps").map(Q.createFromData),this.points.forEach(function(a,c){a.type==Q.OTHER&&(this.points[c-
1].nextOther=!0)},this),this.steps=a.find("steps"),this.recommended="true"==a.text("recommended")?!0:!1,this.totalPaths=[],this.isLastGetOffItem())}function Yb(){if(!(this instanceof arguments.callee))return new arguments.callee;this.seq=0;this.coords=null;this.poi=this.subway="";this.confirmid=0;this.cross="";this.getSummary=function(){return this.subway||this.cross||this.poi||""};this.getPlaceId=function(){return!this.subway?this.confirmid:""};this.rotationCode=this.action=this.desc="";this.roadview=
null;this.path=[]}function Ac(){if(!(this instanceof arguments.callee))return new arguments.callee;this.end=this.start=this.desc="";this.distance=this.time=0;this.points=[];this.walkGuide=!0}function jb(){if(!(this instanceof arguments.callee))return new arguments.callee;this.points=[];this.distance=this.time=0;this.bounds=null;this.error=this.resultErrorCode="";this.option=this.mode=this.raw=null;this.routeMode="";this.stair=this.underground=this.bridge=this.calories=0;this.hasRoadviewInfo=!1}function Mb(){if(!(this instanceof
arguments.callee))return new arguments.callee;this.walkRoutes=[];this.error=this.resultErrorCode="";this.raw=null}function vb(a,b,c,d,e){console.assert(a instanceof daum.maps.Coords);console.assert(void 0===b||"string"==typeof b);this.coords=a;this.name=b;this.id=c?c+"":"";this.index=d;!e&&c&&(/^(BS|BBS)/.test(c)?(e="BUSSTOP",this.id=c.replace(/^BBS/,"BS")):/^(M|SES|PSS|DGS|KJS|DJS)/.test(c)?(e="SUBWAYSTATION",this.id=c.replace(/^M/,"")):/^(A|R|J|L|N)/.test(c)?(e="ADDRESS",this.id=c.replace(/^A/,
"")):(e="PLACE",this.id=c.replace(/^P/,"")));this.pointType=e?e.toUpperCase():"NORMAL"}function Wc(a){var b=a.number("x"),c=a.number("y"),d=String.stripTags(a.text("name")),e=String.stripTags(a.text("new.name")),f=String.stripTags(a.text("old.name"));this.name=e||d||f;e?(this.dataType=5,this.docid=a.text("new.docid")):d||f?(this.dataType=1,this.docid=a.text("old.docid")):this.dataType=1;this.coords=new daum.maps.Coords(b,c);this.regionId=this.code=a.text("regionId");this.id="id_"+b+c+this.regionId}
function ic(a,b,c){fa(this,ma);c=this.panel_=F("AddressFlagItemView",{name:b.name,nameHtml:String.format("%h",b.name).replace(c,"<strong>"+c+"</strong>")});this.active_=!1;this.seq=0;this.addressModel=b;this.dssAddressObj=null;c.on("click",function(a){a.currentTarget==a.target&&this.clickHandler_()}.bind(this));c.on("click",".name",this.clickHandler_.bind(this));var d=this.flagInfoLayer_=new Za(Za[a]);this.flagInfoLayer_.getPane().addClass("FlagItemInfoLayer-xsmall");d.onClick.add(this.clickHandler_,
this);c.append(d.getPane());d.setVisible(!1);c.hover(function(a){!this.active_&&d.setVisible("mouseenter"==a.type)}.bind(this));c.find(".flag").addClass(a);this.name_=c.find(".name")}function Rd(a){function b(a){var b={cpg:m.cpg+","+(l+1),tab:m.tab,in_map:m.in_map,sorttype:m.sorttype,mkey:m.mkey};b.analysis=m.analysis;v.docid&&(b.docid=v.docid);m.srcid&&(b.srcid=m.srcid);void 0!=m.cidx&&(b.cidx=m.cidx);a?z.logSearchOutWithArgs(a,b):z.logSearchOutWithArgs("address_name",b)}if(!(this instanceof Rd))return new arguments.callee;
var c=this.onAction=new n,d=this.onFlagClick=new n,e=this.onFavorite=new n,f=this.onOver=new n,g=this.onOut=new n,j=!1,l=0,m=null,k=null,v=null,o=F("AddressItemView"),h=o.$("btnsWrap"),x=o.$("routeBtn"),q=o.$("fav"),s=new Za(Za.SMALL);h.append(s.getPane());s.onClick.add(function(a){d.notify(a);b("address_"+(a==M.ORIGIN_WHICH_?"start":"end"))});s.setVisible(!1);x.on("click",function(a){a.stopPropagation();p.click("mapsearch","search_route");s.setVisible(!0)});o.hover(function(){j||(jQuery(this).addClass("AddressItem-ACTIVE"),
f.notify())},function(){s.setVisible(!1);j||(jQuery(this).removeClass("AddressItem-ACTIVE"),g.notify())});var u=function(){Application.roadviewController.getActive()&&Application.roadviewController.close();c.notify(this);b()}.bind(this),w=o.$("name");o.click(function(a){s.setVisible(!1);jQuery(a.target).hasClass("clickArea")&&u()});w.click(u);q.click(function(){p.click("favorite",["address",k&&k.isAddressTab?"search_address_tab":"search_all"]);e.notify()});var C=o.$("wrapZip");this.setSeq=function(a){l=
a};this.getPane=function(){return o};this.setActive=function(a){j=!!a;o.toggleClass("AddressItem-ACTIVE",j)};this.setData=function(c,d){var e=c.name;v=c;a.createFavorite(q,t.createFromAddress(c));var f=e+(c.d3HName?" | (\ud589) "+c.d3HName:"");w.attr("title",f);o.$("screenOutName").text(f);c.subList&&c.subList.length&&(o.addClass("AddressItem-withSubList"),Application.relatedAddressController.renderItem(o,c).onItemClick.add(function(){b()}));d&&(f=e.toLowerCase().indexOf(d.toLowerCase()),0<=f&&(f=
[f,f+d.length,e.length],f.sort(function(a,b){return a-b}),e='<span class="cont">'+e.substring(0,f[0])+"<strong>"+e.substring(f[0],f[1])+"</strong>"+e.substring(f[1],f[2])+"</span>"));var g=f="";c.zonenum&&(g=c.zonenum);g&&(f='<span class="zip">(\uc6b0) '+g+"</span>");c.buildingName&&(f=f+(f?'<span class="bar">|</span>':"")+('<span class="building">'+c.buildingName+"</span>"));f&&(C.html(f),C.show());w.html(e)};this.setDssAddressObj=function(a){m=a};this.setTiaraObj=function(a){k=a};this.sendDssLog=
function(a){b(a)}}function Xe(){if(!(this instanceof arguments.callee))return new arguments.callee;var a=this.onClick=new n,b=new h(F("BikeFunctionToolBarView"));this.favorite_=b.getElement().$("favorite");this.favorite_.click(function(){a.notify({id:"favorite",fav:this.fav_})}.bind(this));b.getElement().$("print").click(function(){a.notify({id:"print"})});b.getElement().$("alook").click(function(){a.notify({id:"alook"})});this.getPane=function(){return b};this.updateFav=function(a){a&&(this.fav_=
a);if(this.fav_){if(a=Application.favoriteController.findFavorite(this.fav_)){var b=10>a.count?a.count:"10";this.favorite_.find(".num").attr("class","num num"+b).text(a.count)}this.favorite_.toggleClass("favorite-active",!!a)}}}function Ye(a,b){function c(a){var b=s.$("bikeSeqIcon"),c=30*Math.floor((a-1)/10);0>c&&(c=0);b.css("backgroundPosition",-(30*((a-1)%10))+"px "+-c+"px")}function d(a){var b=jQuery("<a class=roadview />"),c=new Rb(b);c.setThumnail(a.thumbnail);c.onClick.add(function(){l.notify(h)},
this);c.onOver.add(function(){x=!0});c.onLeave.add(function(){null!=c&&(c=null);x=!1;e(!1);j.notify()},this);s.$("roadview").append(b)}function e(a){s.toggleClass("BikeGroupPointItemView-ACTIVE",!!a)}var f=this.onClick=new n,g=this.onMouseover=new n,j=this.onMouseout=new n,l=this.onRoadview=new n,m=b.seq||0,k=b.desc||"\uc81c\ubaa9\uc5c6\uc74c",v=b.action||null,o=b.rotationCode||null,h=b.roadview||null,x=!1,q=!1,s=F("BikeGroupPointItemView");s.appendTo(a);b.roadview&&d(b.roadview);m&&c(m);b.getSummary()&&
s.$("title").addClass("bikeTitle").set(b.getSummary());s.$("desc").set(k);(function(a,b){var c=s.$("action");a&&-1!=a.indexOf("EXIT")&&b?c.addClass("action-"+b):(a&&(a=a.replace("EXIT","ENTER")),position_=wa.ACTION_LIST[a],void 0!=position_?c.css("backgroundPosition",-30*position_[0]+"px "+-30*position_[1]+"px"):c.addClass("action-"+(b||"STRAIGHT")))})(v,o);s.click(function(){q=!0;f.notify()});s.mouseenter(function(){q||(e(!0),g.notify())});s.mouseleave(function(){!q&&!x&&(e(!1),j.notify())}.bind(this));
this.setHighlight=function(a){q||e(a)};this.setActive=function(a){q=a;e(a)};this.setLastItem=function(){s.addClass("BikeGroupPointItemView-LAST")};this.getPane=function(){return s}}function sc(a,b,c){function d(){w?(s.removeClass("on"),x.show(),q.hide(),w=!1,v.notify(!1)):(s.addClass("on"),x.hide(),q.show(),f(!1),w=!0,v.notify(!0));h.toggleClass("BikeTransitItemView-DETAIL",w);p.click("route","go_"+("bike"==c?"bike_group":"publick_bike")+(w?"_show":"_hide"))}function e(a){w=!!a;s.toggleClass("on",
w);x.toggle(!w);q.toggle(w);h.toggleClass("BikeTransitItemView-DETAIL",w)}function f(a){h.toggleClass("BikePointGroupView-ACTIVE",!!a)}function g(a){q.empty();u=a.map(function(b,c){var d=new Ye(q,b);c==a.length-1&&d.setLastItem();d.onClick.add(function(){j.notify(c)});d.onMouseover.add(function(){l.notify(c)});d.onMouseout.add(function(){m.notify(c)});d.onRoadview.add(function(a){k.notify(a)});return d})}if(!(this instanceof arguments.callee))return new arguments.callee(a,b,c);var j=this.onClick=
new n,l=this.onMouseover=new n,m=this.onMouseout=new n,k=this.onRoadview=new n,v=this.onDetail=new n,o=this.onBikeSummaryClick=new n,h=null,x=null,q=null,s=null,u=[],w=!1;if(!c||"bike"==c){var h=F("BikePointGroupView").appendTo(a),C=b.points[0].seq,O=b.points[b.points.length-1].seq;ec(h.$("groupNumber"),"walkList",C,O);ec(h.$("groupNumber"),"walkListOn",C,O)}else"transit"==c&&(h=F("BikeTransitItemView").appendTo(a),h.find(".bikeBrief").click(function(){o.notify()}),h.$("title").click(function(){o.notify()}));
x=h.$("briefdesc");O=b.time/3600|0;C="";O&&(C+=O+"\uc2dc\uac04 ");O=(b.time/60|1)%60;h.$("time").set(C+=O+"\ubd84");h.$("distance").set(String.formatDistance(b.distance));q=h.$("detail");q.hide();s=h.$("detailBtn");s.hide();b.bikeGuide&&(s.show(),s.click(d),"transit"!=c&&h.$("groupNumber").click(d));(C=b.start+"~"+b.end)?x.show().set(C):x.hide();h.mouseenter(function(){if(!w){f(true);l.notify(null)}});h.mouseleave(function(){if(!w){f(false);m.notify(null)}});g(b.points);this.setDetailActive=e;this.setItem=
g;this.getPane=function(){return h};this.setActive=function(a,b){f(false);b&&e(b);u.length!=0&&(a==null?u[0].setActive(b):u[a].setActive(b))};this.setHighlight=function(a,b){w&&a!=null?u[a].setHighlight(b):w||f(b)};this.deactivateAll=function(){f(false);u.forEach(function(a){a.setActive(false)})};this.dehighlightAll=function(){f(false);u.forEach(function(a){a.setHighlight(false)})};this.getGroupInfo=function(){return{detailActive:w,pos:h.offset()}};this.getItem=function(a){return u[a]};this.isGroupPoints=
function(){return u.length==0};this.hide=function(){h.hide()}}function Dd(a,b,c){function d(a){99<a&&k.addClass("bigIndex");k.$("seq").text(a)}function e(a){var c=jQuery("<a class=roadview />"),d=new Rb(c);d.setThumnail(a.thumbnail);d.onClick.add(function(){z.logRoadview("route_bicycle_rv",a.panoId,b.coords,Application.localInfoController.getHCodeForLog());m.notify(u);p.click("route","go_bike_tooltip_roadview")},this);d.onOver.add(function(){w=!0});d.onLeave.add(function(){null!=d&&(d=null);w=!1;
f(!1);l.notify()},this);k.$("roadview").append(c)}function f(a){k.toggleClass("BikePointItemView-ACTIVE",!!a)}if(!(this instanceof arguments.callee))return new arguments.callee(a,b,c);var g=this.onClick=new n,j=this.onMouseover=new n,l=this.onMouseout=new n,m=this.onRoadview=new n,k=F("BikePointItemView").appendTo(a),v=b.seq||0,o=b.desc||"\uc81c\ubaa9\uc5c6\uc74c",h=b.action||null,x=b.rotationCode||null,q=b.gradientCode||"NONE",s=b.categoryCode||"NONE",u=b.roadview||null,w=!1;v&&d(v);b.getSummary()&&
k.$("title").addClass("title").set(b.getSummary());k.$("desc").set(o);(function(a,b){var c=k.$("gradient"),d=k.$("desc");c.hide();wa.GRADIENT_TEXT[a]&&c.text(wa.GRADIENT_TEXT[a]).show();wa.CAUTION_TEXT[b]&&(d.prepend('<span class="cautionIcon"></span>'),d.addClass("desc_caution"))})(q,h);(function(a,b,c){var d=k.$("action"),e=k.$("state"),f=!1;a&&-1!=a.indexOf("EXIT")&&b?(d.addClass("action-"+b),f=!0):(a&&(a=a.replace("EXIT","ENTER")),a=wa.ACTION_LIST[a],void 0!=a?d.css("backgroundPosition",-30*a[0]+
"px "+-30*a[1]+"px"):(d.addClass("action-"+(b||"STRAIGHT")),f=!0));f&&-1!=wa.STATE_LIST.indexOf(c)&&e.addClass("state-"+c)})(h,x,s);u&&e(u);var C=!1;k.click(function(){C=!0;g.notify();p.click("route","go_bike_textpoint")});k.mouseenter(function(){C||(f(!0),j.notify())});k.mouseleave(function(){!C&&!w&&(f(!1),l.notify())}.bind(this));this.setHighlight=function(a){C||f(a)};this.setActive=function(a){C=a;f(a)};this.getPane=function(){return k}}function ne(a){function b(a,b){var e=b.graph.points,f=b.graph.info,
g=Math.ceil(e[e.length-1].x),j={pointRadius:0,pointHoverRadius:0,pointBackgroundColor:[],fill:"start",pointHitRadius:0,backgroundColor:"#CDE6FF",borderColor:"#CDE6FF",pointBorderColor:"#fff",pointHoverBorderColor:"#fff",lineTension:0.3,data:e};e.forEach(function(){j.pointBackgroundColor.push("#fff")});j.pointBackgroundColor[f.minKey]="#3396ff";j.pointBackgroundColor[f.maxKey]="#3396ff";var e=Math.round((f.maxValue-f.minValue)/-10),g={type:"line",data:{datasets:[j]},options:{iframeDomain:document.domain,
maintainAspectRatio:!1,layout:{padding:{left:18,right:26,top:5}},tooltips:{enabled:!1},legend:{display:!1},title:{display:!1},elements:{point:{radius:0,hoverRadius:0,hitRadius:0,borderWidth:1,hoverBorderWidth:1}},scales:{xAxes:[{display:!1,type:"linear",ticks:{max:g}}],yAxes:[{display:!1,type:"linear",ticks:{min:e,max:f.maxValue}}]},hover:{animationDuration:0},animation:{easing:"linear",duration:500,onProgress:c,onComplete:function(){setTimeout(function(){d.call(this,f)}.bind(this),0)}}}},e=jQuery("<canvas></canvas>").appendTo(a),
k=e.get(0).getContext("2d");e.attr({onselectstart:"return false;",ondragstart:"return false;"});new Chart(k,g)}function c(a){var b=a.chartInstance,c=b.data.datasets,d=c[0]._meta[b.id];if(!d)return!1;var a=(a=a.animationObject)?a.currentStep/a.numSteps:1,e=b.ctx,f=b.chartArea.bottom,g=d.data[0]._model,d=d.data[d.data.length-1]._model,j=f*(1-a);e.fillStyle=c[0].backgroundColor;e.fillRect(0,g.y*a+j,g.x,(f-g.y)*a);e.fillRect(d.x,d.y*a+j,b.width-d.x,(f-d.y)*a)}function d(a){if(!a||!jQuery.isNumeric(a.minKey)||
!jQuery.isNumeric(a.maxKey))return!1;var b=this.chart,c=b.data.datasets[0]._meta[b.id];if(!c)return!1;var d=b.ctx,e=b.chartArea,f={max:{type:"max",value:a.maxValue,model:c.data[a.maxKey]._model},min:{type:"min",value:a.minValue,model:c.data[a.minKey]._model}},b=function(a){d.lineWidth=1;d.textBaseline="middle";d.textAlign="center";d.font="8px Verdana";d.fillStyle=a.model.backgroundColor;d.strokeStyle=a.model.backgroundColor;d.beginPath();d.setLineDash&&d.setLineDash([2,1]);d.moveTo(a.model.x,e.bottom);
d.lineTo(a.model.x,a.model.y+2.5);d.stroke();d.closePath();d.fillText(a.text,a.centerPos,e.bottom-9);d.beginPath();d.arc(a.model.x,a.model.y,2.5,0,2*Math.PI);d.fill();d.closePath();d.beginPath();d.setLineDash&&d.setLineDash([]);d.strokeStyle="#fff";d.arc(a.model.x,a.model.y,3.5,0,2*Math.PI);d.stroke();d.closePath()};["max","min"].forEach(function(b){var c=f[b],b=a[b]+"m",g=d.measureText(b).width,j=g/2,k=c.model.x,l=k-g-5,g=k+g+5,m,s=l>e.left;m=g<e.right;s=(a.maxKey<a.minKey?"max":"min")==c.type&&
s?-1:1;1==s&&!m&&(s=-1);m=k+s*(j+5);c.text=b;c.minLeft=l;c.maxRight=g;c.startPos=0<s?k:m-j;c.endPos=0>s?k:m+j;c.centerPos=m});b(f.max);f.max.startPos<f.min.startPos&&f.min.startPos<f.max.endPos||f.max.startPos<f.min.endPos&&f.min.endPos<f.max.endPos||b(f.min)}function e(){E=!0;var a=0;k=G.points.map(function(b,c){var d=null;if("start"==b.seq||"goal"==b.seq||"through"==b.seq)return d=require("view/StartEndPointItemView"),b.confirmid=G.waypoints[a++].id,d=new d(b),d.getPane().appendTo(R),d.onClick.add(function(a){v.notify({index:c,
sub:a})},this),d;b instanceof yc?(d=sc(R,b,"bike"),d.onDetail.add(function(a){a&&u.notify({index:c,coords:b.points[0].coords})})):d=Dd(R,b);d.onClick.add(function(a){v.notify({index:c,sub:a})});d.onMouseover.add(function(a){q.notify({index:c,sub:a})});d.onMouseout.add(function(a){s.notify({index:c,sub:a})});d.onRoadview.add(function(a){x.notify(a)});return d})}function f(){var a=jQuery("#info\\.body").scrollTop(),b=a+(w.offset().top-170),a=0.5*Math.abs(b-a);3E3<a&&(a=1E3);jQuery("#info\\.body").animate({scrollTop:b},
a,function(){})}function g(){k.forEach(function(a){a instanceof sc?a.deactivateAll():a.setActive&&a.setActive(!1)})}function j(){k.forEach(function(a){a instanceof sc?a.dehighlightAll():a.setHighlight&&a.setHighlight(!1)})}function l(a){var b=Y,c=A.document.documentElement.clientTop,d=b.scrollTop(),a=a.offset().top-b.offset().top+d-c;Y.scrollTop(a-Y.outerHeight()/2)}function m(a){a&&!E&&e();O=a;w.toggleClass("BikeRouteItem-DETAIL",O)}if(!(this instanceof ne))return new arguments.callee(a);var k=[],
v=this.onBikePoint=new n,o=this.onHover=new n,h=this.onDetail=new n,x=this.onRoadview=new n,q=this.onBikePointMouseover=new n,s=this.onBikePointMouseout=new n,u=this.onBikePointDetail=new n,w=F("BikeRouteItemView");w.appendTo(a);var C=!1;document.createElement("canvas").getContext&&(a.addClass("isCanvas"),C=!0);var O=!1,I=w.$("summary"),R=w.$("list"),Y=jQuery("#info\\.body"),G=null;I.hover(function(){o.notify(true)},function(){o.notify(false)});I.on("click",function(){m(!O);h.notify(O);if(O){var a=
(G.routeMode||"").toLowerCase();p.click("route","go_bike_"+a)}else p.click("route","go_bike_innerdetail_close");Application.windowController.onHeightChange.notify()});w.$("bikeHelp").on("click",function(a){a.preventDefault();a.stopPropagation();ob("/etc/bike_help_info.jsp",407,898,{name:"bikeHelp"})});this.setData=function(a){if(G=a){w.show();var c=w.$("time"),d=w.$("distance"),e=w.$("mode");a.routeMode==="BIKE_ONLY"?e.set("\uc790\uc804\uac70 \ub3c4\ub85c\uc6b0\uc120"):a.routeMode==="SHORTEST"?e.set("\ucd5c\ub2e8\uac70\ub9ac"):
a.routeMode==="ACCESSIBLE"&&e.set("\ud3b8\uc548\ud55c\uae38");c.children().remove();var e=a.time,e=e<90?1:Math.round(e/60),f=(e-e%60)/60;if(f){jQuery("<span/>").addClass("num").set(f).appendTo(c);jQuery("<span/>").addClass("text").set("\uc2dc\uac04 ").appendTo(c)}e=e%60;if(e>0){jQuery("<span/>").addClass("num").set(e).appendTo(c);jQuery("<span/>").addClass("text").set("\ubd84 ").appendTo(c)}d.children().remove();c=a.distance/1E3;if(c>=0)if(c>1){jQuery("<span>").addClass("num").set(c.toFixed(1)).appendTo(d);
jQuery("<span>").addClass("text").set("km").appendTo(d)}else if(c<1&&c>=0){jQuery("<span>").addClass("num").set(c*1E3).appendTo(d);jQuery("<span>").addClass("text").set("m").appendTo(d)}var d=w.$("info"),g=w.$("altitude"),c=w.$("calories"),e=w.$("graph");(f=a.graph&&a.graph.info)?g.text("\uace0\ub3c4 \ucd5c\uc800 "+a.graph.info.min+"m, \ucd5c\uace0 "+a.graph.info.max+"m"):g.hide();if(a.calories){g="";f&&d.addClass("addInfo");g=g+(a.calories+"kcal");c.html(g)}else c.hide();C?b(e,a):e.hide();R.empty()}else w.hide()};
var E=!1;this.setItemActive=function(a,b){g();var c=k[a.index];if(c instanceof Dd||c instanceof sc)if(c instanceof sc){c.setActive(a.sub,b);l(c.getItem(a.sub).getPane())}else{c.setActive(b);l(c.getPane())}};this.setHighlight=function(a,b){j();var c=k[a.index];if(c instanceof Dd||c instanceof sc)if(c instanceof sc)if(a.sub==null){c.setHighlight(null,b);l(c.getPane())}else{c.setHighlight(a.sub,b);c.getGroupInfo().detailActive?l(c.getItem(a.sub).getPane()):l(c.getPane())}else{c.setHighlight(b);l(c.getPane())}};
this.getItem=function(a){return k[a]};this.setHover=function(a){w.toggleClass("BikeRouteItem-HOVER",a)};this.animationScroll=function(){f()};this.setDetail=function(a){m(a)};this.isDetailOpen=function(){return O};this.getPanel=function(){return w}}function Ze(a){if(!(this instanceof arguments.callee))return new arguments.callee(a);this.onOptionChange=new n;this.onCheckboxChange=new n;var b=this.onBikePoint=new n,c=this.onItemHover=new n,d=this.onItemDetail=new n,e=this.onRoadview=new n,f=this.onBikePointMouseover=
new n,g=this.onBikePointMouseout=new n,j=this.onBikePointDetail=new n;this.onSearchBtnClick=new n;this.onDestination=new n;var l=F("BikeRouteResultView");l.appendTo(a);var m=l.$("openDetail"),k=l.$("closeDetail"),v=l.$("detailBox");this.goToTopBtn=l.$("goToTop");this.goToTopBtn.on("click",function(){h.$("info.body").scrollTo(0)});m.on("click",function(a){a.preventDefault();v.toggleClass("HIDDEN");if(!v.hasClass("HIDDEN"))jQuery("body").off("mousedown.close").on("mousedown.close",function(a){var a=
jQuery(a.target),b=a.closest(".notice_detail").hasClass("notice_detail");if(b&&"closeDetail"==a.data("id")||!b&&"openDetail"!=a.data("id"))v.addClass("HIDDEN"),jQuery("body").off("mousedown.close")})});k.on("click",function(){v.addClass("HIDDEN")});var o=l.$("list"),r=null,x=0,q=null,s=[],u=null;l.$("fixRoute").click(function(){var a={routeType:"bike",searchInfo:{mode:"bike"}};a.start={name:q.waypoints[0].name,x:q.waypoints[0].coords.getX(),y:q.waypoints[0].coords.getY()};var b=q.waypoints.length;
a.end={name:q.waypoints[b-1].name,x:q.waypoints[b-1].coords.getX(),y:q.waypoints[b-1].coords.getY()};a.waypoints=q.waypoints;jQuery(a.waypoints).each(function(a,b){b.x=b.coords.getX();b.y=b.coords.getY()});a.bikeRoutes=[];a.isSelectRoute=!1;jQuery(q.bikeRoutes).each(function(b,c){var d=jQuery.extend({},c.raw);d.isDetailOpen=s[b].isDetailOpen();d.isDetailOpen&&(a.isSelectRoute=!0);a.bikeRoutes.push(d)});a.bound=q.raw.bound;Application.fiyFrameController.open({type:"route",rawInfo:a});p.click("route",
"go_bike_fiy")});this.setData=function(a){a?(q=a,u=null,l.show(),o.empty(),s=a.bikeRoutes.map(function(a,k){var l=new ne(o);l.setData(a);l.onBikePoint.add(function(a){b.notify(a)});l.onHover.add(function(a){u?(l.setHover(a),c.notify({index:k,hover:a})):a&&(r&&r!=l&&(r.setHover(!1),c.notify({index:x,hover:!1})),l.setHover(!0),c.notify({index:k,hover:!0}));a&&(r=l,x=k)});l.onDetail.add(function(a){r&&r!=l&&(r.setHover(!1),c.notify({index:x,hover:!1}));s.forEach(function(b,c){k!=c?b.setDetail(false):
b.setDetail(a)});d.notify({index:k,detail:a})});l.onRoadview.add(function(a){e.notify(a)});l.onBikePointMouseover.add(function(a){f.notify(a)});l.onBikePointMouseout.add(function(a){g.notify(a)});l.onBikePointDetail.add(function(a){j.notify(a)});return l}),Application.windowController.onHeightChange.notify()):l.hide()};this.setItemActive=function(a,b){u&&u.setItemActive(a,b)};this.initDetailedItem=function(){u=null};this.setDetailedItem=function(a){u=null;u=s[a];setTimeout(function(){u&&u.animationScroll&&
u.animationScroll()},100)};this.setHighlight=function(a,b){u&&u.setHighlight(a,b)};this.getItem=function(a){return u?u.getItem(a):null};this.initHover=function(){s[0]&&(s[0].setHover(!0),r=s[0],x=0)};this.show=function(){l.show()}}function hd(a){function b(a){m.forEach(function(b){b.html()==a&&b.hide()})}function c(a){!e.has(a.target).length&&f[0]!=a.target&&(j.hide(),f.toggleClass("expand",!1),l=!1)}if(!(this instanceof arguments.callee))return new arguments.callee(a);var d=this.onSelect=new n,e=
F("BusFilterSelectBoxView"),f=e.$("label"),g=e.$("options"),j=(new ca(g.get(0))).hide();j.noClosePane(f);var l=!1,m=[];j.onClose.add(function(){l=!1});f.click(function(){l=!l;j.toPane().toggle(l);f.toggleClass("expand",l);if(l)jQuery(document).one("mousedown touchstart",c)});a.forEach(function(a,b){var c=jQuery('<li><a href="#none">'+a+"</a></li>");c.appendTo(g);c.mouseenter(function(){c.addClass("on")});c.mouseleave(function(){c.removeClass("on")});c.click(function(){d.notify(b);j.hide();l=!1});
m.push(c)});this.getPane=function(){return e};this.setLabel=function(a){a&&f.set(a);b(a)}}function Pd(a){function b(){j.toggleClass("BusItem-icon-hover",!(!x&&!q))}function c(){if(u){var a={cpg:u.cpg+","+(s+1),tab:u.tab,in_map:u.in_map,sorttype:u.sorttype,mkey:u.mkey};a.analysis=u.analysis;C.id&&(a.docid=C.id);u.srcid&&(a.srcid=u.srcid);void 0!=u.cidx&&(a.cidx=u.cidx);u.qatype&&(a.qatype=u.qatype);u.regionid&&(a.regionid=u.regionid);u.bustypeid&&(a.bustypeid=u.bustypeid);z.logSearchOutWithArgs("bus",
a)}}this.onAction=new n;var d=this.onClick=new n,e=this.onOver=new n,f=this.onOut=new n,g=this.onFavorite=new n,j=F("BusItemView");j.$("para");var l=j.$("fav"),m=j.$("bustype"),k=j.$("name"),v=j.$("region"),o=j.$("start"),h=j.$("end"),x=!1,q=!1,s,u=null,w=null,C=null;j.click(function(a){jQuery(a.target).hasClass("clickArea")&&(q=!0,d.notify(null),c())});l.click(function(){p.click("favorite",["busline",w&&w.isBusTab?"search_busline_tab":"search_all"]);g.notify()});k.click(function(){q=!0;c();d.notify(null)});
j.mouseenter(function(){x=!0;e.notify();b()});j.mouseleave(function(){x=!1;f.notify();b()});this.setSeq=function(a){s=a};this.setData=function(b){C=b;a.createFavorite(l,t.createFromBusLine(b));m.text(U.STRING[b.type]);m.addClass(b.type);if(b.secondName){var c=jQuery("<span>").addClass("subname").attr("title",b.secondName).text(b.secondName);k.attr("title",b.firstName).text(b.firstName).append(c);j.$("screenOutName").text(b.firstName)}else k.attr("title",b.name).text(b.name),j.$("screenOutName").text(b.name);
v.text(b.region+" "+b.subRegion);o.text(b.start);h.text(b.end)};this.getPane=function(){return j};this.setActive=function(a){q=!!a;b()};this.getActive=function(){return!0};this.clickSelf_=function(){};this.setDssBusObj=function(a){u=a};this.setTiaraObj=function(a){w=a}}function Nb(a,b){fa(this,h,"li","BusLineItemView",new h("div","headbg"));this.setActive=function(a){a||this.setDetail(!1);return h.prototype.setActive.call(this,a)};this.addClass("BusLineItemView-NODETAIL");this.onBusStop=new n;this.onViewport=
new n;this.detailClick=new n;this.onFavorite=new n;this.buttonFactory_=b;this.busStopsView_=[];var c=this.busLineWrap_=new h("div","BusLineWrap"),d=jQuery('<a href="#"></a>');b.createFavorite(d,t.createFromBusLine(a));var e=new h("span","bustype");e.addClass(a.type);var f=new h("a","busname",a.firstName.substring(0,14));f.setTitle(a.name);var g=this.secondName_=new h("a","subname");g.setTitle(a.name);this.secondNameText_=a.secondName;(this.secondNameLength_=20-(a.firstName.length+a.region.length))?
this.setSecondNameBy_(this.secondNameLength_):(g.hide(),f.setText(String.cut(a.firstName,9)));var j=new h("span","bar","|"),d=this.title_=new h("h4","busline",[d,e,f,g,j,new h("span","addr",a.region+" "+a.subRegion)]);c.addChild(d);d=this.startEnd_=new h("p","startEnd",[a.start,(new h("img","arrow")).setSrc("//t1.daumcdn.net/localimg/localimages/07/2011/icon/ico_twoarrow2.gif"),a.end]);c.addChild(d);d=this.schedule_=new h("p","info first_line");d.addText("\uccab\ucc28 "+a.startTime);d.addChild(new h("span",
"bar","|"));d.addText("\ub9c9\ucc28 "+a.endTime);c.addChild(d);d=this.busDriveInfo_=new h("p","info");d.addText("\ubc30\ucc28\uac04\uaca9 "+a.interval);c.addChild(d);d=this.infoEtc_=new h("div","infoEtc");e=new h("a","viewport","\uc804\uccb4\ub178\uc120");e.onClick.add(function(){this.onViewport.notify()},this);d.addChild(e);e=new h("a","busFiyBtn","\ud2c0\ub9b0\uc815\ubcf4\uc2e0\uace0");e.onClick.add(this.clickFiyBtn,this);d.addChild(e);e=this.noRealBusBar_=new h("div","noRealBusBar");e.addChild(new h("p",
"noReadlBusText",""));d.addChild(e);e=this.loadingBar_=new Hb("BusLineItemView");e.onComplete.add(this.update_,this);e.addClass("loading");d.addChild(e);c.addChild(d);d=this.scrollPosition_=new h("div","scroll");c.addChild(d);e=this.positions_=new jd(a.type);d.addChild(e);e=this.stops_=new h("ol");d.addChild(e);d=this.busProviderInfo_=new h("p","busProviderInfo");e=new h("span","trafficInfo");e.addChild(new h("span","txt","\uc6d0\ud65c"));e.addChild(new h("span","img"));e.addChild(new h("span","txt",
"\uc815\ubcf4\uc5c6\uc74c"));f=new h("a","link","\uc2e4\uc2dc\uac04 \uc815\ubcf4");f.setExternalLink("http://blog.daum.net/daummaps/623 ");e.addChild(f);f=this.busProviderLogo_=new h("span","busProviderLogo blank");d.addChild(e);d.addChild(f);c.addChild(d);this.addChild(c);this.addChild(new h("div","bottombg"));d=this.detailBtn_=new h("a","detailBtn");d.onClick.add(this.clickDetailBtn,this);c.addChild(d);this.onClick.add(this.clickSelf_,this)}function ub(a){fa(this,h,"div","BusLineView");this.onViewport=
new n;this.onBusLineItemClick=new n;this.closeBtnClick=new n;this.refreshBtnClick=new n;this.onFavorite=new n;this.buttonFactory_=a;this.busStopsView_=[];this.addChild(new h("div","headbg"));var a=new h("div","busLineWrap"),b=new h("button","img_BusLineView ico_close");b.onClick.add(function(){this.closeBtnClick.notify(null)},this);a.addChild(b);this.summary_=new h("div","summary");a.addChild(this.summary_);this.detail_=new h("div","detailInfo HIDDEN");a.addChild(this.detail_);this.progressbar_=(new h("div",
"progressbar")).hide();a.addChild(this.progressbar_);b=this.scroll_=new h("div","scroll");a.addChild(b);b.addChild(this.position_=new jd);b.addChild(this.list_=new h("ol","stops"));var b=this.busProviderInfo_=new h("p","busProviderInfo"),c=new h("span","trafficInfo");c.addChild(new h("span","txt","\uc6d0\ud65c"));c.addChild(new h("span","img_BusLineView"));c.addChild(new h("span","txt","\uc815\ubcf4\uc5c6\uc74c"));b.addChild(c);a.addChild(b);this.addChild(a);this.addChild(new h("div","bottombg"))}
function Hb(a){fa(this,h,"div","BusLoadProgressBar");this.onComplete=new n;this.timer_=new zb(4E3,this.countDown_.bind(this),!0);this.count_=0;this.itemName_=this.setItemName_(a);a=this.updated_=new h("span","updated");a.setHTML('<span class="ico_updated"></span>\uc5c5\ub370\uc774\ud2b8 \ub418\uc5c8\uc2b5\ub2c8\ub2e4');this.addChild(a);this.addChild(this.timestamp_=new h("p","timestamp"));a=this.reload_=new h("a","reload");a.addClass("ICON-refresh");a.onClick.add(this.force_,this);this.addChild(a)}
function od(){function a(){["current","next"].forEach(function(a){m.$(a).show();m.$(a+"text").empty().hide();["upper","lower"].forEach(function(b){m.$(a+b+"paragraph").removeClass("lastparagraph hasbox").hide();m.$(a+b+"wrap").removeClass("wrap");m.$(a+b+"label").empty().removeClass("homonyms").hide();m.$(a+b+"text").removeClass("lowertext").empty().hide()})});l.forEach(function(a){a&&a.remove&&a.remove()});l.length=0;appendKeyword=prependKeyword=""}function b(a,b,c){var d="upper"==a,f=c.qaType,g;
d?(a=c.samearea1,g=c.area2||""):(a=c.samearea2,g=c.area1||"");var j=(new ca("ul")).hide();j.addClass("suggest");var m=!1;j.noClosePane(b);j.onClose.add(function(){m=false});var h=jQuery(j.getElement());j.onHide.add(function(){b.removeClass("expand")});j.onShow.add(function(){b.addClass("expand")});a.forEach(function(a){if(a!=""){var b=new jQuery('<li><a href="#" class="link_option">'+a+"</a></li>");a.match(/[\d\s]/g);b.appendTo(h);b.mouseenter(function(){b.addClass("on")});b.mouseleave(function(){b.removeClass("on")});
b.click(function(){var b="";if(!d){b=a;a=g||"";g=b}e.notify({keyword:(a?a+" ":"")+(g?g+" ":"")+c.keyword,qaType:f})})}});b.click(function(){if(m){j.hide();m=false}else{j.show();m=true}});h.appendTo(b);l.push(h)}function c(a,c){var d=c.guideType||"",e="current"===a?"\uacb0\uacfc":'<span class="ico_arr"></span>',g="current"===a?"<em>":"'",j="current"===a?"</em>":"'",l=c.samearea1?!!c.samearea1.length:!1,h=c.samearea2?!!c.samearea2.length:!1,w=null;"bus_tab_region"==d?m.$(a+"text").show().html(g+c.keyword+
j+" \ubc84\uc2a4\ub178\uc120"):"bus_key"===d?m.$(a+"text").show().html(g+c.keyword+j+" \uac80\uc0c9"+e):"bus_area"===d||"bus_pathstop"===d||"bus_LM"===d?(d="bus_LM"===d?" \uc8fc\ubcc0 1km \uc774\ub0b4 ":"(\uc744)\ub97c \uacbd\uc720\ud558\ub294 ",l?(w=m.$(a+"upperparagraph").show(),b("upper",m.$(a+"upperwrap").addClass("wrap"),c),m.$(a+"upperlabel").html(c.area1).show(),m.$(a+"uppertext").html(d+"<em>"+c.keyword+"</em> \uac80\uc0c9"+e).show()):m.$(a+"text").html(g+c.area1+j+d+g+c.keyword+j+" \uac80\uc0c9"+
e).show()):"bus_2area"===d||"bus_2LM"===d?(d="bus_2LM"===d?" \uc8fc\ubcc0\uc744 \uacbd\uc720\ud558\ub294 ":"(\uc744)\ub97c \uacbd\uc720\ud558\ub294 ",l?(w=m.$(a+"upperparagraph").show(),l="",b("upper",m.$(a+"upperwrap").addClass("wrap"),c),m.$(a+"upperlabel").html(c.area1).show(),l+="(\uacfc)\uc640 "+g+c.area2+j+d+g+c.keyword+j+" \uac80\uc0c9"+e,m.$(a+"uppertext").html(l).removeAttr("style").show()):h?(m.$(a+"upperparagraph").show(),l=g+c.area1+j+"(\uacfc)\uc640 ",m.$(a+"uppertext").html(l).css("margin",
"-10px 0 0 0").show(),w=m.$(a+"lowerparagraph").show(),b("lower",m.$(a+"lowerwrap").addClass("wrap"),c),m.$(a+"lowerlabel").html(c.area2).show(),e=d+g+c.keyword+j+" \uac80\uc0c9"+e,m.$(a+"lowertext").html(e).show()):m.$(a+"text").show().html(g+c.area1+j+"(\uacfc)\uc640 "+g+c.area2+j+d+g+c.keyword+j+" \uac80\uc0c9"+e)):"bus_userarea"===d||"stop_userarea"===d?m.$(a+"text").show().html("\uc8fc\ubcc0 1km \uc774\ub0b4 "+g+c.keyword+j+" \uac80\uc0c9"+e):"stop_key"===d||"stop_key_qa"===d?(l="stop_key_qa"===
d&&"next"===a?"\uc774 \uacbd\uc720\ud558\ub294 \uc815\ub958\uc7a5 ":"",m.$(a+"text").show().html(g+c.keyword+j+l+" \uac80\uc0c9"+e)):"stop_area"===d?l?(w=m.$(a+"upperparagraph").show(),b("upper",m.$(a+"upperwrap").addClass("wrap"),c),m.$(a+"upperlabel").html(c.area1).show(),m.$(a+"uppertext").html(" \uc8fc\ubcc0 \uc815\ub958\uc7a5 \uac80\uc0c9"+e).show()):m.$(a+"text").show().html(g+c.area1+j+" \uc8fc\ubcc0 \uc815\ub958\uc7a5 \uac80\uc0c9"+e):"stop_pathstop"===d||"stop_bus"===d||"stop_LM"===d?(d=
"stop_bus"===d?"(\uc744)\ub97c \uacbd\uc720\ud558\ub294 ":"stop_LM"===d?" \uc8fc\ubcc0 1km \uc774\ub0b4 ":" \uc8fc\ubcc0 ",l?(w=m.$(a+"upperparagraph").show(),b("upper",m.$(a+"upperwrap").addClass("wrap"),c),m.$(a+"upperlabel").html(c.area1).show(),m.$(a+"uppertext").html(d+"<em>"+c.keyword+" </em> \uac80\uc0c9"+e).show()):m.$(a+"text").show().html(g+c.area1+j+d+g+c.keyword+j+" \uac80\uc0c9"+e)):""===d&&"current"==a?m.$(a+"text").show().html(g+f+j+" \uac80\uc0c9\uacb0\uacfc"):m.$(a).hide();w&&(w.addClass("lastparagraph"),
w.has("div.wrap").length&&w.addClass("hasbox"))}if(!(this instanceof arguments.callee))return new arguments.callee;var d=this.onBusClick=new n,e=this.onBusSelect=new n,f="",g=null,j=null,l=[],m=F("BusMessageView");m.$("nexttext").click(function(){d.notify({query:f,qaType:j.qaType})});this.getPane=function(){return m};this.setData=function(b,d,e){m.show();f=(b||"").trim();g=d;j=e;a();c("current",g);j&&c("next",j)};this.setVisible=function(a){m.toggle(a)}}function $e(a,b,c){function d(a){if(a){a=parseInt(a);
m.show();m.removeClass("grey green orange red");var b="grey";25<=a?b="green":10<=a?b="yellow":0<=a&&(b="red");m.addClass(b)}else m.hide()}this.onBusNumberLineClick=new n;var e=this.onClick=new n,f=this.onFavClick=new n,g=a.codenames[0],j=F("BusNumberLineItemView",{stopname:a.name,busid:g});j.click(function(){e.notify(null)});var l=j.$("stopname").attr("title",a.name);g||l.addClass("noBusid");var m=j.$("speedBar");a.nextLinkSpeed&&d(a.nextLinkSpeed);var k=j.$("fav");k.click(function(){f.notify()});
c.createFavorite(k,t.createFromBusStopAndBusLine(a,b));a.turningPoint&&j.$("turningpoint").show();this.setLine=function(a){j.toggleClass("BusNumberLineItemView-Line",a)};this.setBoardLabel=function(a){null!=a&&("ride"==a?l.addClass("board"):l.addClass("change"))};this.setLastView=function(){j.$("line").removeClass("nocircle")};this.setNonstop=function(){k.addClass("DISABLE");l.addClass("pass").attr("title","\uc2b9\ud558\ucc28 \ud560 \uc218 \uc5c6\ub294 \uc815\ub958\uc7a5 \uc785\ub2c8\ub2e4.");l.removeClass("noBusid");
j.$("busid").hide();j.$("nonstop").addClass("nonstop").show();j.$("line").addClass("nocircle");jQuery(k.getElement()).off().on("click",function(){alert("\ubbf8\uc815\ucc28 \uc815\ub958\uc7a5\uc740 \uc990\uaca8\ucc3e\uae30\ub97c \ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")})};this.getPane=function(){return j};this.setSpeed=function(a){d(a)}}function jd(a){fa(this,h,"div","BusPositionView");this.type_=a}function bc(a,b){fa(this,ma);new n;this.seq=0;this.busstopModel=b;this.dssBusStopObj=null;var c=this.panel_=
new h("li");c.addClass("BusStopFlagItem");c.onClick.add(function(a){jQuery(a.target).hasClass("clickArea")&&this.clickHandler_()},this);var d=this.flagInfoLayer_=new Za(Za[a]);this.flagInfoLayer_.getPane().addClass("FlagItemInfoLayer-xsmall");d.onClick.add(this.clickHandler_,this);d.setVisible(!1);this.selected_=!1;c.onEnter.add(function(){this.panel_.addClass("BusStopFlagItem-over");this.selected_||this.flagInfoLayer_.setVisible(!0)},this);c.onLeave.add(function(){this.panel_.removeClass("BusStopFlagItem-over");
this.selected_||this.flagInfoLayer_.setVisible(!1)},this);var e=this.selectedFlag_=new h("span","flag");e.addClass(a);c.addChild(e);var f=this.name_=new h("a");f.onClick.add(this.clickHandler_,this);f.addClass("INACTIVE");c.addChild(f);e=this.region_=new h("span","region");c.addChild(e);c.addChild(d.getPane());this.setTitle=function(a,b){f.setText(a);if(b){var c=" ("+b+" \ubc29\uba74)",d=new h("span","direction",c);f.setTitle(a+c);f.addChild(d)}}}function af(a){var b=this.onClose=new n,c=this.onBusStop=
new n,d=F("BusStopGroupInfoWindow");d.$("close").click(function(){b.notify()});this.getPane=function(){return d};a.forEach(function(a){var b=F("BusStopGroupInfoWindowItem");b.$("name").set(a.name).click(function(){c.notify(a)});a.codenames.forEach(function(a,c){var d='<span class="busid">';0<c&&(d+='<span class="column">|</span>');d=jQuery(d+'<span class="codename"></span></span>');d.find(".codename").text(a.trim());d.appendTo(b.$("codenames"))});b.$("types").html(a.types.map(function(a){return String.format("<span class=BUS-%s></span>",
a)}).join(""));b.appendTo(d.$("body"))})}function Qd(a,b){function c(b){G=b;a.createFavorite(o,t.createFromBusStop(G));r.attr("title",G.name).text(G.name);k.$("screenOutName").text(G.name);G.direction&&q.text("("+G.direction+"\ubc29\uba74)").show();(b=G.codenames?G.codenames.join(", "):"")&&s.html('<span class="codename">'+b+"</span>").show().after('<span class="busstopbar"></span>');b=[G.region,G.region1,G.region2].filter(function(a){return a});u.text(b.join(" "));G.roadview&&(I=G.roadview,x.show());
G.types.forEach(function(a){jQuery("<span class='bustype "+a+"'>"+U.STRING[a]+"</span>").appendTo(w)})}function d(){k.toggleClass("BusStopItem-ACTIVE",!(!R&&!Y))}function e(a){if(E){var b={cpg:E.cpg+","+(na+1),tab:E.tab,in_map:E.in_map,sorttype:E.sorttype,mkey:E.mkey};b.analysis=E.analysis;G.id&&(b.docid=G.id);E.srcid&&(b.srcid=E.srcid);void 0!=E.cidx&&(b.cidx=E.cidx);E.qatype&&(b.qatype=E.qatype);E.regionid&&(b.regionid=E.regionid);E.bustypeid&&(b.bustypeid=E.bustypeid);a?z.logSearchOutWithArgs(a,
b):z.logSearchOutWithArgs("busstation",b)}}b=!!b;this.onAction=new n;var f=this.onClick=new n,g=this.onOver=new n,j=this.onOut=new n,l=this.onFlagClick=new n,m=this.onFavorite=new n,k=F("BusStopItemView"),h=k.$("icon"),o=k.$("fav"),r=k.$("name"),x=k.$("roadview"),q=k.$("direction"),s=k.$("busCodes"),u=k.$("region"),w=k.$("bustype"),C=k.$("btnsWrap"),O=k.$("routeBtn"),I=null,R=!1,Y=!1,G=null,E=null,K=null;k.click(function(a){Z.setVisible(!1);jQuery(a.target).hasClass("clickArea")&&(e(),f.notify(na))});
o.click(function(){p.click("favorite",["busstop",K&&K.isBusStopTab?"search_busstop_tab":"search_all"]);m.notify()});r.click(function(){e();f.notify(na)});x.click(function(){I&&(b?p.click("businfo","busstop_roadview"):(p.click("roadview","by_mapsearch"),z.logRoadview("search_q_click_busstation_roadview",G.roadview.panoId,G.coords,Application.localInfoController.getHCodeForLog(),{id:G.id})),Application.roadviewController.show(I))});var Z=new Za;C.append(Z.getPane());Z.onClick.add(function(a){l.notify(a);
e("busstop_"+(a==M.ORIGIN_WHICH_?"start":"end"))});Z.setVisible(!1);O.on("click",function(a){a.stopPropagation();p.click("mapsearch","search_route");Z.setVisible(!0)});k.mouseenter(function(){R=!0;g.notify();d()});k.mouseleave(function(){R=!1;j.notify();d();Z.setVisible(!1)});this.setData=function(a){c(a)};this.getPane=function(){return k};this.setActive=function(a){Y=!!a;d()};this.setHover=function(a){R=!!a;d()};var na=null;this.setIcon=function(a){na=a;h.text(a+1)};this.setFavorite=function(a){o.toggleClass("fav-ON",
a)};this.setDssBusStopObj=function(a){E=a};this.setTiaraObj=function(a){K=a};this.sendDssLog=function(a){e(a)}}function Yd(a,b,c,d){var e=F("BusStopLineItemView").appendTo(a),f=this.onClick=new n,g=this.onFavClick=new n;if(!b.arrival||"NOSUPPORT"==b.realtimeState)e.addClass("BusStopLineItemView-noStatus");else{for(var a="",a=[],j=0;j<b.arrival.stateArray.length;j++)if("\uc815\uc0c1\uc6b4\ud589"==b.arrival.stateArray[j].message){var l=Math.max(1,b.arrival.stateArray[j].time),m="\ucd08",k="",h="em";
60<=l&&(m="\ubd84",l=Math.floor(l/60));"DELAY"==b.arrival.stateArray[j].status&&(k=' <span class="delay">(\uc815\ubcf4\uc9c0\uc5f0)</span>');h=0===j?"em":"span";a.push("<"+h+">"+l+m+"</"+h+">"+k)}else"\uace7\ub3c4\ucc29"==b.arrival.stateArray[j].message?a.push("<em>"+b.arrival.stateArray[j].message+"</em>"):a.push(b.arrival.stateArray[j].message);a=b.arrival.stateOnly?a[0]:a.join(' <span class="sep"></span> ');e.$("status").html(a)}d?(e.$("fav").click(function(){g.notify()}),d.createFavorite(e.$("fav"),
t.createFromBusStopAndBusLine(c,b))):e.$("fav").hide();b.arrival&&(b.direction=b.arrival.direction2||b.arrival.direction||b.direction);c=b.direction?b.direction:"";e.$("title").text(b.type+" "+b.name+" "+c);e.$("name").html("<span class=BUS-"+b.type+"></span><span class=busname>"+b.name+'</span><span class="direction">'+c+"</span>").attr("title",b.name);e.$("name").click(function(){f.notify(b.busStopId)});this.scrollup=function(){setTimeout(function(){e.css("backgroundColor","rgba(51,150,255,.05)");
var a=e.closest(".list_busstop"),b=a.scrollTop()+e.position().top-(a.outerHeight()-e.outerHeight())/2;a.scrollTop(b)},500)}}function Xc(){fa(this,h,"div");this.addClass("CarFunctionToolBar");var a=this.print_=new h("a");a.addClass("print");a.setText("\uacbd\ub85c\uc778\uc1c4");a.onClick.add(this.clickPrint_,this);var b=this.favorite_=new h("a","favorite"),c=new h("span","ico_fav");c.addChild(new h("span","num","0"));b.addChild(c);b.addChild(" \uc990\uaca8\ucc3e\uae30");b.onClick.add(this.clickFavorite_,
this);c=this.alook_=new h("a");c.addClass("alook");c.setText("\uacbd\ub85c \ud55c\ub208\uc5d0");c.onClick.add(this.clickAlook_,this);this.addChild(a);this.addChild(c);this.addChild(b);this.onClick=new n}function oe(a){function b(){var a=jQuery("#info\\.body").scrollTop(),b=a+(f.position().top-98),a=0.5*Math.abs(b-a);3E3<a&&(a=1E3);jQuery("#info\\.body").animate({scrollTop:b},a,function(){})}function c(){w=!0;var b=s,c=0;a.checkpoints.forEach(function(d,f){var g=a.pointGroups[f];g&&(c=g.count,g=new pe(g),
s.append(g.getPane()),b=g);g=null;d.seq===L.START||d.seq===L.VIA||d.seq===L.END?(g=new (require("view/StartEndPointItemView"))(d),g.onRoadview.add(function(){Application.roadviewController.show(point.roadview);p.click("route","go_public_roadview")})):g=Ec(d);g instanceof Ec&&g.onAccClick.add(function(a){h.notify(a)});g.onClick.add(function(){m.notify(f);e()});g.onRoadview.add(function(){k.notify(f)});b.addItem?(g.setInExpress(!0),b.addItem(g)):(g instanceof Ec&&g.onMouseEnter.add(function(a){a.scrollTo()}),
b.append(g.getPane()));0>=--c&&(b=s);u[f]=g})}function d(a){a&&!w&&c();g=a;f.toggleClass("CarRouteItem-DETAIL",g)}function e(){u.forEach(function(a){a.setActive&&a.setActive(!1)})}if(!(this instanceof oe))return new arguments.callee(a);console.assert(a instanceof Va);var f=F("CarRouteItemView"),g=!1,j=this.onHover=new n,l=this.onDetail=new n,m=this.onCheckpoint=new n,k=this.onRoadview=new n,h=this.onAccClick=new n,o=this.onRoadviewVideo=new n,r=f.$("summary"),x=new bf,q=!1;x.onRoadviewVideo.add(function(){q?
alert("\uc774\ubbf8 \uc2e4\ud589 \uc911\uc785\ub2c8\ub2e4. \uc7a0\uc2dc\ub9cc \uae30\ub2e4\ub824 \uc8fc\uc138\uc694."):(q=!0,o.notify())});r.append(x.getPanel());var r=f.$("detail"),s=jQuery('<ul class="list"></ul>');r.append(s);var u=this.checkpoints_=[];x.setData(a);x.onClick.add(function(){d(!g);l.notify(g);g&&p.click("route","go_car_"+a.source)});var w=!1;f.hover(function(){j.notify(!0)},function(){j.notify(!1)});this.setDetail=function(a){d(a)};this.isDetailOpen=function(){return g};this.getPanel=
function(){return f};this.setIndex=function(a){e();if((a=u[a])&&a.setActive)a instanceof Ec&&a.getInExpress()&&a.expandExpress(),a.setActive(!0)};this.clickableRoadviewVideo=function(){q=!1};this.inActiveSeqView=function(){e()};this.setCarInfo=function(a,b,c){x&&x.setCarInfo(a,b,c)};this.setHover=function(a){f.toggleClass("CarRouteItem-HOVER",a)};this.animationScroll=function(){b()};this.getTollValue=function(){return x?x.getTollValue():-1}}function bf(a){function b(a){m=a;var b=a.time;d.html("");
var f=90>b?1:Math.round(b/60),b=f/60|0,f=f%60;0<b&&(b=new h("span","num",b),d.append(b.getElement()),d.append(jQuery('<span class="text">\uc2dc\uac04 </span>')));0<f&&(b=new h("span","num",f),d.append(b.getElement()),d.append(jQuery('<span class="text">\ubd84</span>')));b=a.distance;e.html("");b=(b/1E3).toFixed(1);0<=b&&(b=new h("span","num",b),e.append(b.getElement()),e.append(jQuery('<span class="text">km</span>')));b=String.formatNumber(a.taxiFare);g.html('\ud0dd\uc2dc\ube44 \uc57d <span class="num" >'+
b+"</span>\uc6d0");c.$("split-taxi").show();g.show();a.ferryNode?c.addClass("ferryNode"):c.removeClass("ferryNode")}var c=F("CarRouteSummaryView");this.onRoadviewVideo=new n;this.onClick=new n;var d=c.$("time"),e=c.$("distance"),f=c.$("toll"),g=c.$("taxi"),j=c.$("oil"),l=-1,m=null;c.on("click",function(a){jQuery(a.target).hasClass("roadviewVideo")});a&&b(a);this.setData=function(a){b(a)};this.getPanel=function(){return c};this.setCarInfo=function(a,b,d){b=((m.lenthOnRoad/1E3).toFixed(1)/+d*+b).toFixed(0);
b=String.formatNumber(+b);j.show();c.find(".info").addClass("addInfo");j.html('\uc8fc\uc720\ube44 \uc57d <span class="num" >'+b+"</span>\uc6d0");c.$("split-oil").show();a=m.tollFares[a-1];b=String.formatNumber(a);f.html('\ud1b5\ud589\ub8cc \uc57d <span class="num" >'+b+"</span>\uc6d0");f.show();l=+a};this.getTollValue=function(){return l}}function pe(a){function b(a){h=a;c.toggleClass("CheckpointItemGroupView-ACTIVE",!!a)}if(!(this instanceof pe))return new arguments.callee(a);var c=F("CheckpointItemGroupView"),
d=c.$("icon"),e=c.$("name"),f=c.$("time"),g=c.$("distance"),j=c.$("detailBtn"),l=c.$("overview"),m=c.$("checkpoints"),k=jQuery("#info\\.body"),h=!1;d.set(a.number);e.set(a.name);d="";60<a.time?((e=a.time/3600|0)&&(d+=e+"\uc2dc\uac04"),d+=(a.time/60|0)%60+"\ubd84"):d="1\ubd84";f.set(d);g.set(String.formatDistance(a.distance));j.click(function(){b(!h);p.click("route","go_car_expressway_"+(h?"open":"close"));Application.windowController.onHeightChange.notify()});a.item.forEach(function(a,b,c){if(!(b!=
0&&c.length-1!=b&&a.type!="through")){var d=jQuery("<span/>").addClass("sectionImg");if(a.type=="through")d.addClass("through");else{var e=a.seq,f=Math.floor((e-1)/10)*30;f<0&&(f=0);d.css("backgroundPosition",-((e-1)%10*30)+"px "+-f+"px");d.addClass("seqIcon")}b==0&&d.addClass("first");d.appendTo(l);d="";a.type!="through"&&(d=a.name+" ");c.length-1!=b&&(d=d+"-");jQuery("<span/>").set(d).appendTo(l)}});b(!1);this.getPane=function(){return c};this.setActive=b;this.getActive=function(){return h};this.addItem=
function(a){a.onExpand.add(function(){b(true)});a.onMouseEnter.add(function(a){if(h)a.scrollTo();else{var a=A.document.documentElement.clientTop,b=k.scrollTop(),a=c.offset().top-k.offset().top+b-a;k.scrollTop(a-k.outerHeight()/2)}});a.getPane().appendTo(m)}}function Ec(a){function b(a){w=!!a;f();a&&c()}function c(){if(R){var a=k,b=R,c=A.document.documentElement.clientTop,d=b.scrollTop(),a=a.offset().top-b.offset().top+d-c;R.scrollTop(a-R.outerHeight()/2)}}function d(){C=!0;f()}function e(){C=!1;Y||
f()}function f(){var a=C||w;k.toggleClass("CheckpointItem-ACTIVE",!!a);I&&(I.setHover(a),I.setActive(a))}if(!(this instanceof Ec))return new arguments.callee(a);console.assert(a instanceof L);var g=this.onClick=new n,j=this.onRoadview=new n;this.onAccClick=new n;var l=this.onExpand=new n,m=this.onMouseEnter=new n,k=F("CheckpointItemView"),h=k.$("roadview"),o=k.$("traffic"),r=k.$("arrow"),x=k.$("state");k.$("seq");var q=k.$("name"),s=k.$("desc"),u=k.$("accident"),w=!1,C=!1,p=!1,I=null,R=null,Y=!1;
(function(){if(null==a.roadview)h.hide();else{var b=new Rb(h);b.setThumnail(a.roadview.thumbnail);b.onClick.add(function(){z.logRoadview("route_car_rv",a.roadview.panoId,a.coords,Application.localInfoController.getHCodeForLog());j.notify(null)});b.onOver.add(function(){Y=!0});b.onLeave.add(function(){null!=b&&(b=null);Y=!1;f()})}})();null==a.rotation?o.hide():(a.roadview||o.addClass("only"),a.ferry&&o.addClass("ferry"),r.addClass("rotate_"+a.rotation),r.addClass("traffic_"+a.traffic),x.set(L.getTrafficText(a.traffic)||
""));(function(){var b=a.seq;b>99&&k.addClass("bigIndex");k.$("seq").text(b)})();(function(){var c=a.name;if(c=="")q.hide();else{q.addClass(a.tollgate?"tollgate":a.restArea?"restArea":"");q.set(c);q.click(function(){g.notify(null);b(true)})}})();(function(){var c=a.info;if(c=="")s.hide();else{a.name||s.addClass("noname");s.set(c.split(/\n/g).join("<br />"));s.click(function(){g.notify(null);b(true)})}})();(function(){var b=a.accList;b.length?b.forEach(function(a){var b=jQuery("<li class=accList />"),
c=jQuery("<p class=accText />");c.appendTo(b);c.set(a.text("title"));b.appendTo(u)}):u.hide()})();k.mouseenter(d);k.mouseleave(e);this.getPane=function(){return k};this.setActive=b;this.scrollTo=c;this.setMarker=function(a){I=a;R=jQuery("#info\\.body");a.onOver.add(function(){d();m.notify(this)}.bind(this));a.onOut.add(e)};this.setInExpress=function(a){p=a};this.getInExpress=function(){return p};this.expandExpress=function(){l.notify()}}function db(a){function b(){d.off("click",b);f.off("click",b);
d.remove();f.css("background-color","");f.addClass("HIDDEN");d=c=null;e.notify()}var c=null,d=null,e=this.onClose=new n,f=jQuery("#dimmedLayer");a===db.TYPE_LAYER?c=F("LayerCoachmarkView"):a===db.TYPE_FIND_WAY?c=F("FindWayCoachmarkView"):a===db.TYPE_BOOKMARK&&(c=F("BookmarkCoachmarkView"),this.setButtonWidth=function(a){d.find(".ico_coach2").css("width",a+"px")});d=jQuery(c.getElement());this.show=function(a){a&&jQuery(c.getElement()).css("top",a.top-68+"px").css("left",a.left-50+"px");f.css("background-color",
"transparent");f.removeClass("HIDDEN");f.after(c.getElement());d.on("click",b);f.on("click",b)};this.hide=b}function qe(a,b){var c=this.onClick=new n;this.onFlagClick=new n;var d=F("DupItemView");b&&d.addClass("odd");var e=d.$("name"),f=d.$("flag"),g=a.confirmid;e.text(a.name);e.attr("title",a.name);var j=null,l=!1;this.setFlagInfoLayer=function(a){j=new Za(Za[a]);e.after(j.getPane());d.mouseenter(function(){l||j.setVisible(!0)});d.mouseleave(function(){l||j.setVisible(!1)});j.onClick.add(function(){c.notify(g)});
f.addClass(a)};d.click(function(){c.notify(g)});this.setActive=function(a){l=!!a;d.toggleClass("DupItemView-ACTIVE",a);j&&j.setVisible(!1)};this.getPane=function(){return d}}function cf(a,b,c,d){var e=this.onClick=new n,f=this.onModify=new n,g=this.onRemove=new n,j=this.onReport=new n,l=this.onShare=new n,m=this.onSelectItem=new n,k=this.onFolderInfo=new n,h=this.onSubscribe=new n,o=this.onViewOnMap=new n,r=this.onOtherPage=new n,x=c?"other":"my",q=d===b.mapUserId,d=-1!==["D","T","A"].indexOf(b.status)||
"P"===b.status&&"M"!==b.folderType,s="T"===b.folderType,u=0===b.folderId,w="P"===b.status,C="T"===b.status,O="A"===b.status,I=s?"\ud14c\ub9c8":"\ud3f4\ub354",R="S"!==b.profileStatus,Y=b.profileImage&&"null"!==b.profileImage?b.profileImage:"";R&&(Y="https://t1.daumcdn.net/localimg/localimages/07/2018/pc/favorite/img_accused.png");q=jQuery.extend({},b,{isPageOwner:q,isTheme:s,isDisabled:d,isCountWrap:!d||C,isDelete:"D"===b.status,isPrivate:w,isTempByOwner:C&&!c&&b.isMyFolder,isTempByOther:C&&(c||!b.isMyFolder),
isAdminDelete:O,isDisabledSummaryUi:O||C&&(c||!b.isMyFolder),isReadonly:q&&(u||s),iconClass:d?t.ICON_MAP[b.status]:t.ICON_MAP[b.icon],isProfileImage:!!Y,profileThumbnail:require("url").TENTH_THUMB+"C28x28/?fname="+encodeURIComponent(Y),nickName:b.nickName||"",isFixed:c?!1:b.isFixed});R&&(q.nickName="T"===b.profileStatus?"\uc784\uc2dc\uc870\uce58\ub41c \ud504\ub85c\ud544\uc785\ub2c8\ub2e4.":"\uc0ad\uc81c\ub41c \ud504\ub85c\ud544\uc785\ub2c8\ub2e4.");q.settings=[];if(d)b.isMyFolder?c||q.settings.push({name:"\ud3f4\ub354 \uc0ad\uc81c",
action:"remove",value:b.folderType}):b.isSubscribe&&q.settings.push({name:I+" \uad6c\ub3c5 \ucde8\uc18c",action:"subscribe",value:"off"}),0===q.settings.length&&q.settings.push({name:"\ud3f4\ub354 \uc2e0\uace0",action:"report"});else{if(!u&&(s||q.settings.push({name:"\ud3f4\ub354 \uacf5\uc720",action:"share",isDimmed:w}),b.isMyFolder?s||(q.settings=q.settings.concat([{name:"\ud3f4\ub354 \uc218\uc815",action:"edit"},{name:"\ud3f4\ub354 \uc0ad\uc81c",action:"remove"}])):q.settings.push({name:I+(b.isSubscribe?
" \uad6c\ub3c5 \ucde8\uc18c":" \uad6c\ub3c5"),action:"subscribe",value:b.isSubscribe?"off":"on"}),!s))b.isMyFolder||q.settings.push({name:"\ud3f4\ub354 \uc2e0\uace0",action:"report"}),q.settings.push({name:"\ud3f4\ub354 \uc815\ubcf4",action:"info"});if(!c&&(b.isMyFolder||b.isSubscribe))q.settings.push({name:b.isFixed?"\uc9c0\ub3c4\uc5d0 \ud45c\uc2dc \uc548 \ud558\uae30":"\uc9c0\ub3c4\uc5d0 \ud45c\uc2dc\ud558\uae30",action:"viewOnMap",value:b.isFixed?"off":"on"})}var G=F("FavoriteFolderItemView",q).appendTo(a),
a=G.$("link"),c=G.$("more"),E=G.$("setting"),d=G.$("share"),w=G.$("edit"),I=G.$("remove"),R=G.$("info"),q=G.$("report"),C=G.$("subscribe"),O=G.$("viewOnMap"),Y=G.$("checkbox"),G=G.$("nickname");a.click(function(){var a="created_folder";u?a="default_folder":s?a="theme_folder":b.isMyFolder||(a="other_folder");p.click(x,["folder",a]);e.notify(b)});c.click(function(a){a.preventDefault();p.click(x,["folder","more"]);E.show()});d.click(function(){p.click(x,["folder","more","folder_share"]);l.notify(b)});
w.click(function(){p.click(x,["folder","more","folder_edit"]);f.notify(b)});I.click(function(){p.click(x,["folder","more","folder_delete"]);g.notify({folderId:b.folderId})});R.click(function(){p.click(x,["folder","more","folder_info"]);k.notify({folderId:b.folderId})});q.click(function(){p.click(x,["folder","more","folder_report"]);b.status==="A"||b.status==="T"?alert("\uc2e0\uace0 \ucc98\ub9ac\ub41c \ud3f4\ub354\uc785\ub2c8\ub2e4."):j.notify({type:"folder",querystring:"?folderId="+b.folderId})});
C.click(function(a){a=jQuery(a.currentTarget).data("value")==="on";p.click(x,["folder","more",(b.cp?"theme_":"folder_")+(a?"follow":"unfollow")]);h.notify({onOff:a,folderInfo:b})});O.click(function(a){a=jQuery(a.currentTarget).data("value")==="on";p.click(x,["folder","more","view"+(a?"on":"off")]);o.notify({onOff:a,folderId:b.folderId})});Y.change(function(){m.notify()});G.click(function(){if(b.folderType!=="M"){p.click(x,["folder",(s?"theme_folder":"other_folder")+"_nickname"]);r.notify(b)}});E.find("li").click(function(){E.hide()})}
function df(a,b,c,d){function e(){var a=c.buslines.split(",").map(function(a){return a.split("#")[0]});ga.findTransitBusStop(c.key,a,function(a){return function(b){O.empty();b.lines.forEach(function(b){var c=U.TYPE[b.type]||b.type,d=U.STRING[c],e=b.firstName,f="",g=b.secondName||"";b.direction&&(f=b.direction,b.arrival&&(f=b.arrival.direction2||b.arrival.direction||b.direction));b=jQuery('<li><strong class="tit_bus"><span class="BUS-'+c+'">'+d+'</span><a href="#none" class="link_bus" data-stopid='+
a.key+" data-lineid="+b.id+'><span class="num">'+e+"</span> "+g+"</a></strong>"+(f?' <span class="txt_dir">'+f+"</span>":"")+"</li>");O.append(b).show()})}}(c))}function f(){A.Application&&c.marker&&(Application.map.setLevel(3),Application.map.setCenter(c.marker.getPosition()));j.notify(c)}function g(){r.notify({seq:c.seq,position:u.offset()})}var j=this.onClick=new n,l=this.onModify=new n,m=this.onRemove=new n,k=this.onReport=new n,h=this.onRegister=new n,o=this.onSelectItem=new n,r=this.onClickInvalid=
new n,x=d?"other":"my";t.updateViewDataFromFav(c);var q="T"===c.status,s="A"===c.status,b=jQuery.extend({},c,{iconClass:t.ICON_MAP[b.icon]||"star",isOtherPage:d,isTempByOwner:q&&!d,isTempByOther:q&&d,isDisabledSummaryUi:s||q&&d,isAdminDelete:s,color:c.color||"02"});b.settings=[];d?b.settings.push({name:"\uc2e0\uace0",action:"report"}):s||q?b.settings.push({name:"\uc0ad\uc81c",action:"remove"}):b.settings=b.settings.concat([{name:"\uc218\uc815",action:"edit"},{name:"\uc0ad\uc81c",action:"remove"},
{name:c.isHome?"\ud648 \ubaa9\ub85d \uc0ad\uc81c":"\ud648 \ubaa9\ub85d \ucd94\uac00",action:"home"}]);var u=F("FavoriteItemView",b).appendTo(a),a=u.$("link");u.$("memo");var d=u.$("more"),w=u.$("setting"),q=u.$("report"),s=u.$("remove"),b=u.$("edit"),C=u.$("home"),O=u.$("busstopline"),I=u.$("checkbox");"busstopline"===c.type&&e();d.click(function(a){a.preventDefault();p.click(x,["favorite","more"]);w.show()});q.click(function(){p.click(x,["favorite","favorite_report"]);"A"===c.status||"T"===c.status?
alert("\uc2e0\uace0 \ucc98\ub9ac\ub41c \uc990\uaca8\ucc3e\uae30\uc785\ub2c8\ub2e4."):k.notify({type:"favorite",querystring:"?seq="+c.seq})});s.click(function(){p.click(x,["favorite","more","favorite_delete"]);m.notify(c)});C.click(function(){var a=!c.isHome;p.click(x,["favorite","more",(a?"add":"remove")+"_to_home"]);h.notify({seq:c.seq,onOff:a,folderId:c.folderId})});b.click(function(){p.click(x,["favorite","more","favorite_edit"]);l.notify(c)});I.change(function(){o.notify()});O.on("click",".link_bus",
function(a){a=jQuery(a.currentTarget).data();j.notify({seq:c.seq,type:"busstopline",key:a.stopid+"@"+a.lineid})});"N"===c.validPlace?a.click(g):a.click(f);w.find("li").click(function(){w.hide()})}function Be(a,b){function c(){if(0!=l.length){var a=l.data(),b=a.lineids.toString().split(","),b=b.map(function(a){return a.split("#")[0]});ga.findTransitBusStop(a.stopid,b,d);var a=function(a){a=parseInt(a);return 10>a?"0"+a:a},c=new Date,b=c.getHours(),e=c.getMinutes(),c=c.getSeconds(),f=12<b?"\uc624\ud6c4":
"\uc624\uc804",b=a(12<b?b-12:b),e=a(e),c=a(c);k.text(f+" "+b+":"+e+":"+c+" \uae30\uc900")}}function d(a){a.lines&&a.lines.forEach(function(b){var c=e(b),d=j.find("#"+c.busStopLineId),c=F("FavoriteRegisterItemBusArrivalView",c);0<d.length?d.empty().html(c.html()):(c.on("click",function(){f.notify({type:"busstopline",key:a.id+"@"+b.id})}),c.appendTo(l));b.arrival&&"NOSUPPORT"!=b.realtimeState?m.show():m.hide()})}function e(a){var c=a.arrival,d=jQuery.extend({},c),e=[];if(c&&"NOSUPPORT"!=a.realtimeState){for(var f=
0;f<c.stateArray.length;f++)if("\uc815\uc0c1\uc6b4\ud589"==c.stateArray[f].message){var g=Math.max(1,c.stateArray[f].time),j="\ucd08",l="";60<=g&&(j="\ubd84",g=Math.floor(g/60));1<f&&(l='<span class="screen_out">\ub2e4\uc74c \ubc84\uc2a4</span>');l+='<span class="emph_arrival">'+g+j+"</span>";"DELAY"==c.stateArray[f].status&&(l+=' <span class="delay">(\uc815\ubcf4\uc9c0\uc5f0)</span>');e.push(l)}else"\uace7\ub3c4\ucc29"==c.stateArray[f].message?e.push('<span class="soon">'+c.stateArray[f].message+
"</span>"):e.push('<span class="none">'+c.stateArray[f].message+"</span>");d.arrivalHtml=c.stateOnly?e[0]:e.join(' <span class="txt_vertical">|</span> ');c=c.direction2||c.direction;d.busName=a.name+(c?"("+c+")":"")}else d.busName=a.name;c=U.TYPE[a.type]||a.type;d.busStopLineId=b.key+a.id;d.lineid=a.id;c&&(d.isBusIcon=!0,d.countryBusClass="rural"==c?"txt_countrybus":"",d.busIconClass="bus"+c,d.busIconName=U.STRING[c]);return d}var f=this.onClick=new n;t.updateViewDataFromFav(b);var g=jQuery.extend({},
b,{iconClass:t.ICON_MAP[b.icon]||"star",color:b.color||"02"});g.myplace_type&&("HOME"===g.myplace_type?(g.typeClass="home",g.typeName="\uc9d1"):(g.typeClass="myjob",g.typeName="\ud68c\uc0ac"),g.key?g.activeClass="added":g.display1=g.typeName+" \uc8fc\uc18c\ub97c \ub4f1\ub85d\ud558\uc138\uc694.",g.isBusStop=!1,g.isText=!1,g.isMyplace=!0);var j=F("FavoriteRegisterItemView",g).appendTo(a),g=j.$("link"),l=j.$("arrival"),m=j.$("refresh"),k=j.$("refreshTime");c();g.click(function(){var a=["fav_click"];
if(b.myplace_type){b.myplace_type==="HOME"?a.push("home"):b.myplace_type==="COMPANY"&&a.push("work");b.key||a.push("add")}p.click("left",a);if(A.Application&&b.marker){Application.map.setLevel(3);Application.map.setCenter(b.marker.getPosition())}f.notify(b)});m.click(c)}function re(a,b){var c=this.onRegistClick=new n,d=this.onRemoveClick=new n,e=this.onItemClick=new n;b.onRegistClick&&c.add(b.onRegistClick);b.onRemoveClick&&d.add(b.onRemoveClick);b.onItemClick&&e.add(b.onItemClick);"home"==b.staticMode&&
(b.modeIsHome=!0);var f=F("FavoriteStaticItemView",b).appendTo(a),g=f.$("name"),j=f.$("link"),l=f.$("more"),m=f.$("setting"),k=f.$("regist"),h=f.$("remove"),o=null,r=b.staticMode;j.click(function(a){a.preventDefault();p.click("my",["home_company",r,r+"_"+(o?"tooltip":"register")]);if(A.Application&&o&&o.marker){Application.map.setLevel(3);Application.map.setCenter(o.marker.getPosition())}e.notify({staticMode:r,data:o})});l.click(function(a){a.preventDefault();p.click("my",["home_company",r,"more"]);
m.show()});k.click(function(a){a.preventDefault();p.click("my",["home_company",r,"more_"+(o?"edit":"register")]);c.notify({staticMode:r});m.hide()});h.click(function(a){a.preventDefault();p.click("my",["home_company",r,"more_delete"]);d.notify({staticMode:r});m.hide()});this.hasData=function(){return!!o};this.setData=function(a){if(a=(o=a)&&a.display1?a.display1:""){g.text(a);f.addClass("FavoriteDirectoryItem-REGISTER");h.show();k.find("a").text("\uc218\uc815")}else{g.text("\uc8fc\uc18c\ub97c \ub4f1\ub85d\ud558\uc2dc\uba74 \uae38\ucc3e\uae30\uac00 \uc26c\uc6cc\uc9d1\ub2c8\ub2e4.");
f.removeClass("FavoriteDirectoryItem-REGISTER");h.hide();k.find("a").text("\ub4f1\ub85d")}}}function ef(a,b){function c(){b.empty();if(f.home||f.company){var a=F("FavoriteStaticLayerView",f).appendTo(b),c=a.$("home"),a=a.$("company");c.data(f.home);a.data(f.company);c.click(d);a.click(d);b.show()}else b.hide()}function d(a){a=jQuery(a.currentTarget).data();e.notify(a)}var e=this.onItemClick=new n;a.onChangeMyPlace.add(function(a){var b=a.data||{};"home"==a.mode?f.home=b:"company"==a.mode&&(f.company=
b);c()});var f=a.getMyPlaces()||{};c()}function Za(a){function b(b){var d="mapsearch";if(a==Za.Origin||a==Za.Via||a==Za.Dest)d="route";switch(b){case M.ORIGIN_WHICH_:p.click(d,["search_route","search_start"]);break;case M.DEST_WHICH_:p.click(d,["search_route","search_end"]);break;case M.VIA_WHICH_:p.click(d,["search_route","search_via"])}c.toggle(!1);g.notify(b)}var c=F("FlagItemInfoLayer");a&&c.addClass(a);var d=c.$("origin"),e=c.$("dest"),f=c.$("via"),g=this.onClick=new n;d.click(La(b,M.ORIGIN_WHICH_));
e.click(La(b,M.DEST_WHICH_));f.click(La(b,M.VIA_WHICH_));this.setClass=function(a){a&&c.addClass(a)};this.removeClass=function(a){a&&c.removeClass(a)};this.setVisible=function(a){c.toggle(a)};this.getPane=function(){return c}}function ma(){fa(this,Yc);(this.markerIndex_=new h("span")).addClass("markerIndex")}function P(){this.width=P.DEFAULT_WIDTH;this.height=P.DEFAULT_HEIGHT;this.onResize=new n;this.panel_=h.$("view.deco");this.frame_=h.$("view.deco.frame");this.verticalBtn=jQuery("#view\\.deco\\.vertical");
this.verticalBtn.click(this.changeMode.bind(this));this.horizontalBtn=jQuery("#view\\.deco\\.horizontal");this.horizontalBtn.uidraggable({dragstart:function(){this.desiredHeight=this.height}.bind(this),drag:function(a){this.mode_==P.HORIZON&&this.dragHorizonBtn(a)}.bind(this)});this.dragBtn=jQuery("#view\\.deco\\.drag");this.dragBtn.uidraggable({dragstart:function(){p.click("roadview","map_drag");this.desiredWidth=this.width;this.desiredHeight=this.height}.bind(this),drag:this.onFrameDrag_.bind(this)});
this.toggleBtn=h.$("view.deco.toggle");this.toggleBtn.onClick.add(this.toggle,this)}function vc(a,b,c,d){function e(b){if(!b)return!1;if(!r)return b.hide(),!1;q=a.getDisabled(a.VIEW_TYPE.LAYER);s=F("HistoryLayerView");b.replaceWith(s);u=s.$("wrap");u.on("mousedown",function(a){a.preventDefault()});s.$("clear").click(m);s.$("disabled").click(k);f()}function f(){var b=a.getHistory(w);g(b)}function g(b){if(r&&b){q=a.getDisabled(a.VIEW_TYPE.LAYER);s.$("disabled").text(q?"\ud788\uc2a4\ud1a0\ub9ac \ucf1c\uae30":
"\ud788\uc2a4\ud1a0\ub9ac \ub044\uae30");u.empty();var c,d=0,e=!0,f=!!R;0<b.length&&b.forEach(function(b){if(!(d>=p||b.type===a.TYPE_LIST.SUBWAY_STATION_NAME&&b.regionId!==C)){if(f&&(R=R.replace(/[-[\]{}()*+?.,\\^$|#]/gi,""),!RegExp(R,"gi").test(b.name)))return;c=F("HistoryLayerItemView",b);c.$("link");var e=c.$("remove"),g={type:b.type,idx:b.idx};c.data(b).click(j);e.data(g).click(l);u.append(c);d++}});0===d&&(e=!1);s.removeClass("HIDDEN").find(".tit_recent, .list_recent").toggleClass("HIDDEN",q);
e?(s.find(".tit_recent").text("\ud788\uc2a4\ud1a0\ub9ac"),s.removeClass("recent_none")):(I.val()&&s.addClass("HIDDEN"),s.find(".tit_recent").text("\ud788\uc2a4\ud1a0\ub9ac\uac00 \uc5c6\uc5b4\uc694."),s.addClass("recent_none"));s.$("clear").toggleClass("HIDDEN",!e)}}function j(b){var c=jQuery(b.currentTarget).data();d||a.historyClick(b);h.notify(c)}function l(b){var c=jQuery(b.currentTarget).data();a.removeHistory(b);o.notify(c)}function m(){a.clearLayerHistory()}function k(b){b=jQuery(b.currentTarget);
q=!q;b.text(q?"\ud788\uc2a4\ud1a0\ub9ac \ucf1c\uae30":"\ud788\uc2a4\ud1a0\ub9ac \ub044\uae30");a.disableHistory(q,a.VIEW_TYPE.LAYER);I.focus()}var h=this.onItemClick=new n,o=this.onRemove=new n,r;try{A.localStorage.setItem("test","1"),A.localStorage.removeItem("test"),r=!!A.localStorage&&!!A.JSON}catch(x){r=!1}var q=!0,d=!!d;a.onChange.add(f);var s=null,u=null,w=b||"search",C="01",p=5,b=c.getHistoryTarget(),I=c.getInputTarget(),R="",c=-1<A.navigator.userAgent.indexOf("Firefox"),Y=null;b&&e(b);if(I&&
(I.on("keyup focus",function(a){var b=a.keyCode||a.which;(R=a.currentTarget.value)?("keyup"!=a.type||!(38==b||40==b))&&f():("focus"==a.type||8==b)&&f()}),c))I.on("keydown",function(a){var b=jQuery(a.currentTarget);Y||(Y=setInterval(function(){R!==b.val()&&(R=b.val(),f())},300))}).on("blur",function(){Y&&clearInterval(Y);Y=null});this.init=e;this.getView=function(){return s};this.setSubwayAreacode=function(a){C=a;f()}}function Od(a,b,c,d){function e(){var c=a.getHistory(h);b.empty();!b||0==c.length?
l.notify(!1):(l.notify(!0),c.splice(r),c.forEach(function(a){f(a)}),o=F("HistoryRouteView",{items:c}).appendTo(b),o.$("wrap").on("mousedown",function(a){a.preventDefault()}).on("click","li",g).on("click","li .btn_delete",j),o.toggle(!0))}function f(a){if(a.route_form&&!(2>a.route_form.length))switch(a.route_form.forEach(function(b,c){0==c?(b.iconClass="depart",b.iconName="\ucd9c\ubc1c"):c==a.route_form.length-1?(b.isArrival=!0,b.iconClass="arrive",b.iconName="\ub3c4\ucc29"):(b.iconClass="stopby",
b.iconName="\uacbd\uc720")}),a.type){case "route_car":a.typeIconClass="carroute";a.typeIconName="\uc790\ub3d9\ucc28 \uae38\ucc3e\uae30";break;case "route_pubtrans":a.typeIconClass="transportation";a.typeIconName="\ub300\uc911\uad50\ud1b5 \uae38\ucc3e\uae30";break;case "route_walk":a.typeIconClass="walkingroute";a.typeIconName="\ub3c4\ubcf4 \uae38\ucc3e\uae30";break;case "route_bicycle":a.typeIconClass="bikeroute";a.typeIconName="\uc790\uc804\uac70 \uae38\ucc3e\uae30";break;case "route_subway":a.typeIconClass=
"transportation",a.typeIconName="\uc9c0\ud558\ucca0 \uae38\ucc3e\uae30"}}function g(b){b.preventDefault();a.historyClick(b);var b=jQuery(b.currentTarget).data(),c=a.getHistory(b.type);m.notify(c[b.idx]||b)}function j(b){var c=jQuery(b.currentTarget).data();a.removeHistory(b);k.notify(c)}var l=this.onReadyChange=new n,m=this.onItemClick=new n,k=this.onRemove=new n;a.onChange.add(e);"function"==typeof d&&l.add(d);var h=c?a.TYPE_LIST.SUBWAY:a.ROUTE_TYPE,o,b=b||null,r=15;b&&e();this.init=e;this.show=
function(){o&&o.toggle(!0)};this.hide=function(){o&&o.toggle(!1)};this.setSubwayAreacode=function(){e()}}function ec(a,b,c,d){if(!(this instanceof arguments.callee))return new arguments.callee(a,b,c,d);var e=b,f=jQuery("<div class=ImageNumberRangeView />").appendTo(a);f.addClass("ImageNumberRangeView-"+b);jQuery("<span class=left />").appendTo(f);var g=jQuery("<span class=letters />").appendTo(f);jQuery("<span class=right />").appendTo(f);g.text(c+" ~ "+d);this.setStyle=function(a){e!==a&&(f.removeClass("ImageNumberRangeView-"+
e),f.addClass("ImageNumberRangeView-"+a),e=a)};this.dispose=function(){f.remove()}}function jc(){this.panel_=h.$("info.main.header");this.clear_=h.$("info.main.header.clear");this.options_=h.$("info.main.options");this.onOption=new n;this.onTextView=new n;this.onClear=new n;this.buttons_=[];this.optionRadioGroup_=new Fb;this.optionRadioGroup_.onChange.add(this.onOption.notify,this.onOption);this.clear_.onClick.add(function(){p.click("navi","menu_map_search_delete");this.onClear.notify()}.bind(this));
this.text_=[]}function wc(){fa(this,Yc);var a=this.panel_=new h("li","IssuePlaceItem-icon_1");a.addClass("IssuePlaceItem");var b=this.name_=new h("a","name");b.onClick.add(function(){this.onAction.notify(this)},this);b=new h("h6","",b);a.addChild(b);var b=this.img_=new h("img"),c=this.desc_=new h("blockquote","desc"),b=new h("p","para",[c,b]);a.addChild(b)}function Yc(){fa(this,Xb);this.onAction=new n}function kd(a){function b(){var a=C.height();!w&&710>a?(w=!0,s.addClass("legendMiniPosition")):w&&
710<a&&(w=!1,s.removeClass("legendMiniPosition"))}function c(a){G.forEach(function(a){a.removeClass("SELECT")});x.$(a).addClass("SELECT");s.toggleClass("trafficLegend","traffic"==a);s.toggleClass("bikeLegend","bike"==a);s.toggleClass("airLegend","air"==a);s.toggleClass("usedistrictLegend","usedistrict"==a)}function d(a){var b=a.split("|")[0];c(b);Z=Z.filter(function(b){if(b!=a)return b});Z.push(a);j(!0)}function e(a){Z=Z.filter(function(b){if(b!=a)return b});if(Z.length){var b=Z[Z.length-1].split("|")[0];
c(b);j(!0)}else q.hide(),s.hide(),E.text()||f(new Date),K.text()||g()}function f(a){if(a instanceof Date)var b=""+(1E4*a.getFullYear()+100*a.getMonth()+100+a.getDate()),b=b.replace(/(....)(..)/,"$1.$2."),a=""+(1E4+100*a.getHours()+a.getMinutes()),a=a.substring(1).replace(/../,"$&:"),a=b+" "+a;E.set(a)}function g(){K.set("\ub9e4\uc2dc \uc815\uac01 \uc5c5\ub370\uc774\ud2b8(1\uc2dc\uac04 \ub2e8\uc704)")}function j(a){a?(q.hide(),s.show(),x.show()):(q.show(),s.hide(),x.hide());E.text()||f(new Date);K.text()||
g()}function l(a){x.$("tooltip"+a).show()}function m(a){x.$("tooltip"+a).hide()}function k(a){Da&&na.removeClass(Da);na.addClass("bikecate"+a);Da="bikecate"+a}function h(a){var b=kd.air["cate"+a],c=b.unit,d=b.list;kd.air["cate"+a]&&(y&&t.removeClass(y),t.addClass("aircate"+a),y="aircate"+a);4==a?(aa.text("\uae30\uc0c1\uccad").attr("href","http://www.kma.go.kr"),["\ubcf4\ud1b5","\uc57d\uac04\ub098\uc068","\ub9e4\uc6b0\ub098\uc068","\uc704\ud5d8"].forEach(function(a,b){z[b].find("p").html('<span class="item_bar"></span>'+
a+'<span class="txt_unit">'+d[b]+"</span>")})):(aa.text("\ud658\uacbd\ubd80 \ud55c\uad6d\ud658\uacbd\uacf5\ub2e8").attr("href","http://www.airkorea.or.kr/index"),["\uc88b\uc74c","\ubcf4\ud1b5","\ub098\uc068","\ub9e4\uc6b0\ub098\uc068"].forEach(function(a,b){z[b].find("p").html('<span class="item_bar"></span>'+a+'<span class="txt_unit">'+d[b]+"</span>")}));x.$("airdesc").find(".unit").text(c?"(\ub2e8\uc704: "+c+")":"")}function o(a){D&&B.removeClass(D);B.addClass("usedistrictcate"+a);D="usedistrictcate"+
a}var r=new n;this.onRefresh=r;var x=F("LayerLegend"),q=x.find(".legendBtn"),s=x.find(".legendWrap"),u=x.$("refresh");u.hide();q.on("click",function(){j(!0)});var w=!1,C=jQuery(A);C.on("resize",b);b();var O=x.$("traffic"),I=x.$("bike"),R=x.$("air"),Y=x.$("usedistrict"),G=[O,I,R,Y],E=x.$("date"),K=x.$("airdate");O.on("click",function(){c("traffic")});I.on("click",function(){c("bike")});R.on("click",function(){c("air")});Y.on("click",function(){c("usedistrict")});var Z=[];x.$("close").click(function(){j(!1)});
u.click(function(){a&&(r.notify(null),f(new Date),p.click("realtraffic","reload"))});this.setDate=f;this.setairdate=function(){g()};this.showRefreshButton=function(){u.show()};this.hideRefreshButton=function(){u.hide()};this.setLegend=function(a,b){b?d(a):e(a)};this.getLegend=function(a){var b=!1;-1!=Z.indexOf(a)&&(b=!0);return b};this.setClickableLabel=function(a){x.toggleClass("TrafficLegend-NOCLICK",!!a)};x.$("density1").mouseenter(La(l,1));x.$("density2").mouseenter(La(l,2));x.$("density3").mouseenter(La(l,
3));x.$("density4").mouseenter(La(l,4));x.$("density1").mouseleave(La(m,1));x.$("density2").mouseleave(La(m,2));x.$("density3").mouseleave(La(m,3));x.$("density4").mouseleave(La(m,4));var na=x.$("BikeLegend"),Da="bikecate1";x.$("bikecate1").on("click",function(){k(1)});x.$("bikecate2").on("click",function(){k(2)});x.$("bikecate3").on("click",function(){k(3)});var t=x.$("AirLegend"),aa=x.$("airsupply"),z=[x.$("airdensity1"),x.$("airdensity2"),x.$("airdensity3"),x.$("airdensity4")],y="aircate1";x.$("aircate1").on("click",
function(){h(1)});x.$("aircate2").on("click",function(){h(2)});x.$("aircate3").on("click",function(){h(3)});x.$("aircate4").on("click",function(){h(4)});x.$("aircate5").on("click",function(){h(5)});x.$("aircate6").on("click",function(){h(6)});x.$("aircate7").on("click",function(){h(7)});x.$("aircate8").on("click",function(){h(8)});this.setAirCate=function(a){h(a);t.find(".inner_airCategory > ul").toggleClass("morecate",6<a)};x.$("airmore").on("click",function(){t.find(".inner_airCategory > ul").toggleClass("morecate")});
var B=x.$("UsedistrictLegend"),D="usedistrictcate1";x.$("usedistrictcate1").on("click",function(){o(1)});x.$("usedistrictcate2").on("click",function(){o(2)});x.$("usedistrictcate3").on("click",function(){o(3)});x.$("usedistrictcate4").on("click",function(){o(4)});jQuery("#view\\.map").append(x)}function hc(a){function b(){e.val().trim()?l.attr("disabled",!1):l.attr("disabled",!0)}fa(this,h,F("LayerProfileEditView").getElement());var c=this._pane.$("content"),d=this._pane.$("close"),e=this._pane.$("userNickname"),
f=this._pane.$("profileImgFile"),g=this._pane.$("editForm"),j=this._pane.$("profilePreview"),l=this._pane.$("update"),m=jQuery("body"),k=this._pane.$("loadingImg");this.uploadedImg=null;this.lastSavedProfileImg=this.lastSavedNickName="";m.append(this._pane.getElement());j.load(function(){k.hide()});j.error(function(){k.hide()});a.onChange.add(function(a){"A"===a.text("profileStatus")?(this.lastSavedNickName="",e.val(""),this.lastSavedProfileImg=hc.REPORT_PROFILE_IMG,j.attr("src",hc.REPORT_PROFILE_IMG)):
(a.has("nickName")&&(this.lastSavedNickName=a.text("nickName"),e.val(this.lastSavedNickName)),a.has("thumbnailImage"))?(this.lastSavedProfileImg=require("url").TENTH_THUMB+"C54x54/?fname="+a.text("thumbnailImage"),j.attr("src",this.lastSavedProfileImg)):(j.attr("src",hc.DEFAULT_PROFILE_IMG),this.lastSavedProfileImg=hc.DEFAULT_PROFILE_IMG);b()},this);this.onClick.add(function(){p.click("profile",["edit_profile","close_profile"]);this.hide()},this);c.click(function(a){a.stopPropagation()});d.click(function(){p.click("profile",
["edit_profile","close_profile"]);this.hide()}.bind(this));e.on("input",b);e.on("focus",function(){p.click("profile",["edit_profile","edit_nickname"])});f.click(function(){p.click("profile",["edit_profile","edit_photo"])});f.change(function(a){var b=new FormData(g[0]);10485760<a.currentTarget.files[0].size?(alert("\uc774\ubbf8\uc9c0 \uc0ac\uc774\uc988\ub294 10MB\uae4c\uc9c0 \ub4f1\ub85d \uac00\ub2a5\ud569\ub2c8\ub2e4."),f.val("")):(k.show(),jQuery.ajax({type:"POST",url:"/profile/upload.json",enctype:"multipart/form-data",
data:b,processData:!1,contentType:!1,cache:!1,success:function(a){j.attr("src",a.result);this.uploadedImg=a.result}.bind(this),error:function(a){k.hide();alert(a.status.message)}}))}.bind(this));l.click(function(b){b.preventDefault();this.lastSavedNickName===e.val().trim()&&(this.lastSavedProfileImg===this.uploadedImg||!this.uploadedImg)?(alert("\ud504\ub85c\ud544\uc774 \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),this.hide()):(b=a.getInfo().text("profileStatus"),b={nickName:encodeURIComponent(e.val().trim()),
profileImageUrl:"S"!==b&&!this.uploadedImg?"http:"+hc.REPORT_PROFILE_IMG:this.uploadedImg},Tc.update(b,function(b){var b=b.object("status"),c=b.text("code");"SUCCESS"===c?Tc.getInfo(function(b){alert("\ud504\ub85c\ud544\uc774 \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");a.onChange.notify(b.object("result"));this.hide()}.bind(this)):"PROHIBITIVE_WORD"===c?alert("\uc0ac\uc6a9\ud560 \uc218 \uc5c6\ub294 \ub2e8\uc5b4\uac00 \ud3ec\ud568\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4."):alert(b.text("message"))}.bind(this)),
p.click("profile",["edit_profile","complete"]))}.bind(this));this.onHide.add(function(){this.uploadedImg=null;j.attr("src","");f.val("");e.val("");m.off("keydown",v)},this);var v=function(a){a.stopPropagation();27===a.keyCode&&confirm("\ud504\ub85c\ud544 \uc218\uc815\uc744 \ucde8\uc18c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&(p.click("profile",["edit_profile","close_profile"]),this.hide())}.bind(this);this.onShow.add(function(){require("log/Tiara").log("/fake/profileedit");m.on("keydown",v);e.val(this.lastSavedNickName);
j.attr("src",this.lastSavedProfileImg)},this)}function se(a,b){fa(this,ca,F("LayerProfileView").getElement());this.noCloseUIPanel(h.$("btnProfile"));var c=this._pane.$("edit"),d=this._pane.$("logout"),e=this._pane.$("homeCompany"),f=this._pane.$("fav"),g=this._pane.$("review"),j=this._pane.$("nickName");this.reviewCount=this._pane.$("reviewCount");var l=this._pane.$("profileImg"),m=this._pane.$("reportProfileImg"),k=this._pane.$("reportMentionTypeA"),v=this._pane.$("reportMentionTypeT");k.hide();
v.hide();d.attr("href",require("url").LOGOUT);d.click(function(){p.click("profile","logout")});f.on("click",function(){Application.favoriteController.getActive()&&Application.favoriteController.reset();Application.favoriteController.setActive(!0);Application.favoriteController.setMyTab("favorites");p.click("profile","folder");this.hide()}.bind(this));g.on("click",function(){Application.favoriteController.getActive()&&Application.favoriteController.reset();Application.favoriteController.setActive(!0);
Application.favoriteController.setMyTab("review");p.click("profile","review");this.hide()}.bind(this));e.on("click",function(){Application.favoriteController.getActive()&&Application.favoriteController.reset();Application.favoriteController.setActive(!0);Application.favoriteController.setMyTab("myplaces");p.click("profile","home_company");this.hide()}.bind(this));(new h(jQuery("body").getElement())).addChild(this._pane);a.onChange.add(function(a){"A"===a.text("profileStatus")||"T"===a.text("profileStatus")?
(l.hide(),m.show(),j.hide(),c.hide(),"A"===a.text("profileStatus")?k.show():"T"===a.text("profileStatus")&&v.show()):(m.hide(),k.hide(),v.hide(),j.show(),c.show(),a.has("thumbnailImage")?(l.attr("src",require("url").TENTH_THUMB+"C54x54/?fname="+a.text("thumbnailImage")),l.show()):l.hide(),a.has("nickName")?j.text(a.text("nickName")):j.html("&nbsp;"));this.updateCount(a.text("reviewCount"))},this);jQuery(this._pane.getElement()).find(".link_profile.edit").on("click",function(){b.show();p.click("profile",
"edit_profile");this.hide()}.bind(this));this.onShow.add(function(){require("log/Tiara").log("/fake/profile");var a=require("server");a.favoriteFolderList({},function(){a.reviewList({order:"UPDATE"},function(a){this.updateCount(a.object("result").text("reviewCount"))}.bind(this))}.bind(this))},this)}function Db(){if(!(this instanceof Db))return new arguments.callee;Db.disposeAll();var a=F("LoadingView");a.appendTo("body");Application.isLoadingViewShow=!0;this.dispose=function(){a.remove();Application.isLoadingViewShow=
!1}}function za(a,b){function c(){var a=Ka.height();Pa&&525>a?(Pa=!1,Z.addClass("hideZoombar")):!Pa&&525<a&&(Pa=!0,Z.removeClass("hideZoombar"))}function d(b){Ca=b=a.isRoadmap(b)?S:Ob;Oa=Math.max(Oa,b);b=0<Ca;Z.toggleClass("changedzoombar",b);na.toggleClass("changedzoomedbar",b);Da.toggleClass("changedzoomtext",b);e(Oa)}function e(a){Oa=a;E.toggleClass("zoomin-ACTIVE",Ca<a);K.toggleClass("zoomout-ACTIVE",a<za.MAX_LEVEL);a=za.DEFAULT_TOP+Math.round(126/(za.MAX_LEVEL-Ca)*(a-Ca));t.css("marginTop",a+
"px");na.height(a)}function f(){var a=!I.hasClass(k);I.toggleClass(h,!a&&Y.hasClass("checked"));I.toggleClass(k,a);I.toggleClass(m,a);var b=jQuery("body");b.off("click.layerListHide");a&&(a=-1*(jQuery(A).width()-I.offset().left-50),R.css("right",a),b.on("click.layerListHide",function(a){jQuery.contains(I.get(0),a.target)||(I.toggleClass(h,Y.hasClass("checked")),I.removeClass(k),I.removeClass(m),b.off("click.layerListHide"))}))}function g(){var a=!L;L=a;r.notify(a);b(Y[0]).toggleClass("checked",a)}
function j(){var c=!W;c&&a.getLevel()>Nc.MAX_LEVEL&&a.setLevel(Nc.MAX_LEVEL);W=c;q.notify(c);b(Y[1]).toggleClass("checked",c)}function l(){var a=!ia;ia=a;x.notify(a);b(Y[2]).toggleClass("checked",a)}if(!(this instanceof za))return new arguments.callee(a);var m="lv-OVER",k="lv-ACTIVE",h="lv-ON",o=this.onRoadview=new n,r=this.onTraffic=new n,x=this.onAccident=new n,q=this.onCctv=new n;this.onZoomTo=new n;var s=this.onTool=new n,u=this.onExtension=new n,w=F("MapControlView");jQuery("#view\\.map");var C=
jQuery(".viewbuttons"),O=C.$("roadview"),I=C.$("layer"),R=C.$("layerMenu"),Y=R.find("li"),G=w.$("zoomcontrol"),E=w.$("zoomin"),K=w.$("zoomout"),Z=w.$("zoombar"),na=w.$("zoomedbar"),Da=w.$("zoomtext"),t=w.$("slider");w.$("tools");var aa=w.$("distance"),z=w.$("area"),y=w.$("radius"),C=w.$("clear"),B=w.$("newplace"),D=w.$("tileTool"),N=w.$("extension"),T=w.$("extensionText"),H=w.$("newPlaceInfoClose"),$=!1,L=!1,ia=!1,W=!1,Ga=!0,Oa,Ca,ha,S=1,Ob=0;A.devicePixelRatio&&2==A.devicePixelRatio&&(Ob=1);O.on("click",
function(){var a=!$;a&&p.click("control","roadview");O.toggleClass("rv-ACTIVE",a);o.notify(a);$=a});I.on("click",".lv-accessibility",f);Y.on("click",function(){var a=b(this).data("index");3>a&&([g,j,l][a](),p.click("control",["layer",["map_realtraffic","map_cctv","map_accident"][a]]))});G.addClass("fold");var Eb=new daum.maps.ZoomControl({folding:!0});A.zoomControl=Eb;Eb.setMap(a);var cb=jQuery(Eb.getElement()),lb=jQuery("<div></div>").css("clear","both"),mb=jQuery('<button type="button" class="btn_zoom_coach">\uc2ac\ub77c\uc774\ub354 \ud1a0\uae00</button>');
mb.on("click",function(){var a=G.hasClass("fold");G.toggleClass("fold",!a);Eb.setFolding(!a)});cb.append(mb).append(lb).find(">a").addClass("btn_zoom").filter(":eq(0)").addClass("btn_zoom_plus").on("mouseover",function(){mb.removeClass("minus").addClass("plus")}).end().filter(":eq(1)").addClass("btn_zoom_minus").on("mouseover",function(){mb.removeClass("plus").addClass("minus")});G.empty().append(cb);t.uidraggable({dragstart:function(){ha=parseInt(t.css("marginTop"))},drag:function(a){ha+=a.dy;Oa=
Math.max(Ca,Math.min(za.MAX_LEVEL,Ca+Math.floor((ha-za.DEFAULT_TOP)*(za.MAX_LEVEL-Ca)/126)));e(Oa)}});aa.click(function(){s.notify(za.DISTANCE)});z.click(function(){s.notify(za.AREA)});y.click(function(){s.notify(za.RADIUS)});C.click(function(){p.click("control","reset");s.notify(za.CLEAR)});B.click(function(){s.notify(za.NEWPLACE)});H.click(function(){s.notify(za.NEWPLACE_INFO_CLOSE)});Oa=a.getLevel();d(a.getMapTypeId());var Pa=!0,Ka=jQuery(A);Ka.on("resize",c);c();var Na="keyword";this.setKeywordTile=
function(a){Na=a;N.removeClass("keyword-ACTIVE");N.removeClass("theme-ACTIVE");Ga&&N.addClass(Na+"-ACTIVE")};this.setExtensionVisible=function(a){a?(D.show(),s.notify(za.NEWPLACE_INFO_CLOSE)):D.hide()};N.click(function(){(Ga=Ga?!1:!0)?(N.addClass(Na+"-ACTIVE"),p.click("control","dotsearch_on")):(N.removeClass("keyword-ACTIVE"),N.removeClass("theme-ACTIVE"),p.click("control","dotsearch_off"));u.notify(Ga)});N.hover(function(){T.show()},function(){T.hide()});this.clickLayerMain=f;this.getPane=function(){return w};
this.setZoomControlFor=d;this.updateZoomControl=e;this.setRoadviewActive=function(a){O.toggleClass("rv-ACTIVE",!!a);$=a};this.setTrafficActive=function(a){(a=!!a)?M(Ra.CCTV+Ra.TRAFFIC+Ra.ACCIDENT):(M(1),I.toggleClass(k,!1),I.toggleClass(m,!1));L=a};this.isTrafficActive=function(){return L};this.setToolActive=function(a,b){a===za.DISTANCE?aa.toggleClass("distance-ACTIVE",!!b):a===za.AREA?z.toggleClass("area-ACTIVE",!!b):a===za.RADIUS&&y.toggleClass("radius-ACTIVE",!!b)};this.deactivateAll=function(){aa.removeClass("distance-ACTIVE");
z.removeClass("area-ACTIVE");y.removeClass("radius-ACTIVE")};this.showCctv=function(){W=!1;j();I.addClass(k);I.addClass(m)};this.showTraffic=function(){L=!1;g();I.addClass(k);I.addClass(m)};var M=this.setTrafficActiveForState=function(a){var b=Ra;a&&(L=a&b.TRAFFIC?!1:!0,g(),W=a&b.CCTV?!1:!0,j(),ia=a&b.ACCIDENT?!1:!0,l(),this.layerButtonUpdate())};this.deactivateTraffic=function(){L=!0;g();W=!0;j();ia=!0;l();I.removeClass(k);I.removeClass(m)};this.layerButtonUpdate=function(){I.toggleClass(h,Y.hasClass("checked"))}}
function pd(a,b,c,d){if(!(this instanceof arguments.callee))return new arguments.callee(a,b,c,d);var e=new n,f=new n,g=new n,j=!1,l=this.enter=new n,m=this.leave=new n,k=jQuery('<a title="\ub4dc\ub798\uadf8\ud558\uc5ec \uc9c0\ub3c4\uc5d0 \ub193\uc73c\uc138\uc694"><i></i></a>');k.addClass(b);a.addChild(k);k.mouseenter(function(){l.notify()});k.mouseleave(function(){m.notify()});k.uidraggable({dragstart:function(){j?alert("\uacbd\uc720\uc9c0\ub294 \ucd5c\ub300 5\uac1c\uae4c\uc9c0\ub9cc \ucd94\uac00\uac00 \uac00\ub2a5\ud569\ub2c8\ub2e4."):
(c.setMap(null),c.setMap(d),k.hide(),e.notify())},drag:function(a){j||c.moveBy(a.dx,a.dy)},dragend:function(){j||(c.setMap(null),c.takeDown(),k.show(),f.notify())},dragcancel:function(){c.setMap(null);k.show();g.notify()}});this.setEnabled=function(a){j=!a;k.toggleClass("disabled",j);k.attr("title",j?"\uacbd\uc720\uc9c0\ub294 \ucd5c\ub300 5\uac1c\uae4c\uc9c0\ub9cc \ucd94\uac00\uac00 \uac00\ub2a5\ud569\ub2c8\ub2e4":"\ub4dc\ub798\uadf8\ud558\uc5ec \uc9c0\ub3c4\uc5d0 \ub193\uc73c\uc138\uc694")};this.setClass=
function(a){k.removeClass(b);b=a;k.addClass(b)};this.onStart=e;this.onEnd=f;this.dragCancel=g}function Nd(){function a(a,b,c,d){var l=(new ca("ul")).hide();l.addClass("suggest");var k=!1;l.noClosePane(a);l.onClose.add(function(){k=!1});j=jQuery(l.getElement());l.onHide.add(function(){a.removeClass("expand")});l.onShow.add(function(){a.addClass("expand")});f.forEach(function(b){if(""!=b){var f=b+(g?" "+g:"")+(m.keyword?" "+m.keyword:""),l=c&&g&&g.trim()?b+" "+g:b,k=new jQuery("<li/>");k.append('<a href="#none" class="link_option">'+
l+"</a>");k.appendTo(j);k.mouseenter(function(){k.addClass("on")});k.mouseleave(function(){k.removeClass("on")});k.click(function(){"snselect"==d?jQuery(a).find(".label").text(l):e.notify({keyword:f})})}});a.click(function(){k?(l.hide(),k=!1):(l.show(),k=!0)});j.appendTo(a)}function b(a){return String.format("%h",a)}function c(){var c=!1,e=!0,g=m.type,j=m.region||"";j&&m.bunji&&(j+=" "+m.bunji);if(f[0]&&("user_location"!=g||j)){var s="<span>\uac80\uc0c9\uacb0\uacfc</span>",u="";switch(g){case "global":case "user_location":case "location_only":s=
"<span>\uac80\uc0c9\uacb0\uacfc</span>";break;case "located_query":case "near_by_query":case "located_branch":s="<span>\uc8fc\ubcc0  </span> <em>"+b(m.keyword)+"</em><span> \uac80\uc0c9\uacb0\uacfc</span>"}u=j;l.$("upperlabel").show();l.$("upperlabel").set(u);a(l.$("upperwrap").addClass("wrap"),u,!!m.bunji);l.$("uppertext").addClass("text").html(s)}else{s="<em>"+b(j||m.keyword)+"</em> \uac80\uc0c9\uacb0\uacfc";switch(g){case "global":case "user_location":s="\uc7a5\uc18c\uba85 <em>"+b(m.keyword)+"</em> \uac80\uc0c9\uacb0\uacfc";
break;case "location_only":s="<em>"+b(j)+"</em> \uac80\uc0c9\uacb0\uacfc";break;case "located_query":case "near_by_query":case "located_branch":s="<em>"+b(j)+"</em> \uc8fc\ubcc0  <em>"+b(m.keyword)+"</em> \uac80\uc0c9\uacb0\uacfc";break;default:c=!0}l.$("uppertext").html(s)}var s=k.type,w=u="",C=k.region||"";C&&k.bunji&&(C+=" "+k.bunji);switch(s){case "global":u="'"+b(k.keyword)+"' (\uc73c)\ub85c \uc7ac\uac80\uc0c9 \u2023";w=k.keyword;break;case "user_location":u="'"+b(k.keyword)+"' (\uc73c)\ub85c \uc7ac\uac80\uc0c9 \u2023";
if("location_only"==g||"located_query"==g)u="\uc7a5\uc18c\uba85 "+u;w=k.keyword;break;case "location_only":u="\uc8fc\uc18c '"+b(C)+"' (\uc73c)\ub85c \uc7ac\uac80\uc0c9 \u2023";w=C;break;case "located_query":case "near_by_query":case "located_branch":u="'"+b(C)+"' \uc8fc\ubcc0 '"+b(k.keyword)+"' (\uc73c)\ub85c \uc7ac\uac80\uc0c9 \u2023",w=C+" "+k.keyword}"user_location"==g&&!j&&f[0]?1==f.length?(l.$("lower").show(),l.$("lowertext").html("'"+b(f[0])+"' \uc8fc\ubcc0 '"+b(v)+"' (\uc73c)\ub85c \uc7ac\uac80\uc0c9 \u2023"),
l.$("lowertext").click(function(){d.notify({keyword:m.keyword,snSelected:!0})})):(l.$("lowerlabel").show(),l.$("lowerlabel").set(f[0]),a(l.$("lowerwrap").addClass("wrap"),f[0],!1,"snselect"),l.$("lowertext").addClass("text").html("<span>\uc8fc\ubcc0 '"+b(v)+"' (\uc73c)\ub85c \uc7ac\uac80\uc0c9 <span class='ico_arr'></span></span>"),l.$("lowertext").click(function(){d.notify({keyword:l.$("lowerlabel").text()+" "+v,snSelected:!0})})):u?(l.$("lower").show(),u=u.replace("\u2023",'<span class="ico_arr"></span>'),
l.$("lowertext").html(u),l.$("lowertext").click(function(){d.notify({keyword:w})})):(l.$("lower").hide(),g=-1!==m.keyword.indexOf("\uc6b0\ud3b8\ubc88\ud638"),c&&!g&&(l.$("upper").hide(),e=!1));e&&h.$("info.searchHeader").show()}if(!(this instanceof arguments.callee))return new arguments.callee;var d=this.onClick=new n,e=this.onSelect=new n,f=[],g="",j=null,l=F("MessageView");this.getPane=function(){return l};this.setBound=function(){};this.setKeyword=function(){};this.setSubNumber=function(a){g=a?
a.trim():a};this.hideTitle=function(){l.$("upper").hide()};this.setVisible=function(a){l.toggle(a)};var m=null,k=null,v=null;this.setGuideData=function(a,b,d,e){l.show();m=a[0]||{};k=a[1]||{};v=e||"";f=b;l.$("upper").show();l.$("upperwrap").removeClass("wrap");l.$("upperlabel").empty().removeClass("homonyms").hide();l.$("uppertext").empty().removeClass("text");l.$("lower").show();l.$("lowerwrap").removeClass("wrap");l.$("lowerlabel").empty().removeClass("homonyms").hide();l.$("lowertext").empty().removeClass("text").off("click");
j&&j.remove&&(j.remove(),j=null);c()}}function Ed(a,b){function c(a){a.preventDefault();var b=jQuery("body"),a=j.hasClass("HIDDEN");b.trigger("click.filterListHide");j.toggleClass("HIDDEN",!a);g.toggleClass("expand",a);b.off("click.filterListHide");if(a)b.on("click.filterListHide",function(a){g.get(0)!==a.target&&!jQuery.contains(g.get(0),a.target)&&(j.addClass("HIDDEN"),g.toggleClass("expand",!1),b.off("click.filterListHide"))})}function d(a){a.preventDefault();a=jQuery(a.currentTarget).data("type");
e.notify(a)}var e=this.onClickOption=new n,f=F("MyFilterSelectBoxView",b).appendTo(a),g=f.$("label"),j=f.$("options");0<j.find(">li").length&&(g.click(c),j.find(">li").click(d))}function uc(a){var b=F("NoBusView",{target:"BUSSTOP"==a?"\uc815\ub958\uc7a5":"\ubc88\ud638"});this.getPane=function(){return b}}function Ba(a){fa(this,h,"div","NoRouteView");var b=F("NoRouteContentView");this.onSearchBtnClick=new n;var c=null;b.$("fiyBtn").click(function(){c.channel="ROUTE_NORESULT";Application.fiyFrameController.open(c);
p.click("route","go_noresult_"+c.rawInfo.routeType+"_fiy")});a===Ba.TRANSIT_METHOD&&this.addClass("NoRouteView_type2");this.addChild(b);this.setTitle=function(a){b.$("titleInfo").html(a)};this.setFiyData=function(a){c=a};this.setWalkFiyData=function(a){a.routeType="walk";a.noResult=!0;a.searchInfo={mode:"walk",searchMode:a.method,option:a.option};jQuery(a.waypoints).each(function(a,b){b.x=b.coords.getX();b.y=b.coords.getY()});a.noResultData={start:{name:a.waypoints[0].name,x:a.waypoints[0].x,y:a.waypoints[0].y},
end:{name:a.waypoints[a.waypoints.length-1].name,x:a.waypoints[a.waypoints.length-1].x,y:a.waypoints[a.waypoints.length-1].y}};c={type:"route",rawInfo:a}};this.setBikeFiyData=function(a){a.routeType="bike";a.noResult=!0;a.searchInfo={mode:"bike",searchMode:a.method,option:a.option};jQuery(a.waypoints).each(function(a,b){b.x=b.coords.getX();b.y=b.coords.getY()});a.noResultData={start:{name:a.waypoints[0].name,x:a.waypoints[0].x,y:a.waypoints[0].y},end:{name:a.waypoints[a.waypoints.length-1].name,x:a.waypoints[a.waypoints.length-
1].x,y:a.waypoints[a.waypoints.length-1].y}};c={type:"route",rawInfo:a}};this.setDesc=function(a){a?(b.$("noRouteDesc").css("display","block"),b.$("noRouteDesc").html(a)):b.$("noRouteDesc").css("display","none")};this.setLink=function(a){a?(b.$("link").attr("href",a.url),b.$("link").text(a.text),b.$("link").removeClass("HIDDEN")):b.$("link").addClass("HIDDEN")};this.setIntercityBox=function(a){b.$("intercityBox").show().html(a)};this.hideDesc=function(){b.$("noRouteDesc").hide()}}function Qa(a){fa(this,
Xb);this.onPage=new n;this.panel_=h.$(a);this.prev_=h.$(a+".prev");this.next_=h.$(a+".next");this.btn1_=h.$(a+".no1");this.btn2_=h.$(a+".no2");this.btn3_=h.$(a+".no3");this.btn4_=h.$(a+".no4");this.btn5_=h.$(a+".no5");this.prev_.onClick.add(this.showPrev5_,this);this.next_.onClick.add(this.showNext5_,this);this.btn1_.onClick.add(this.showPage1_,this);this.btn2_.onClick.add(this.showPage2_,this);this.btn3_.onClick.add(this.showPage3_,this);this.btn4_.onClick.add(this.showPage4_,this);this.btn5_.onClick.add(this.showPage5_,
this)}function pa(a,b){fa(this,ma);this.flagType_=a;this.typeImgUrl_=(a===M.ORIGIN_WHICH_?ma.ORIGIN:a==M.VIA_WHICH_?ma.VIA:ma.DEST)||ma.ORIGIN;this.placeModel=b;this.dssPlaceObj=null;var c=this.panel_=new h("li");c.addClass("PlaceFlagItem");c.addClass("clickArea");b.pointExtension&&c.addClass("aoi");c.onClick.add(function(a){jQuery(a.target).hasClass("clickArea")&&this.clickHandler_()},this);c.onEnter.add(this.panelEnter_,this);c.onLeave.add(this.panelLeave_,this);var d=this.infoPanel_=new h("div",
"infopanel");d.addClass("clickArea");var e=this.flagInfoLayer_=new Za(Za[a]);this.flagInfoLayer_.getPane().addClass("FlagItemInfoLayer-xsmall");e.onClick.add(function(){this.clickHandler_()},this);e.setVisible(!1);var f=this.selectedFlag_=new h("span","flag"),g=this.markerIndex_=new h("span","markerIndex","");f.addClass(a);d.addChild(f);d.addChild(g);f=this.name_=new h("a");f.addClass("INACTIVE");f.onClick.add(function(){this.clickHandler_()},this);g=this.category_=new h("span","subcategory");d.addChild(new h("strong",
"",[f,g]));f=this.address_=new h("span","address");d.addChild(f);this.infoPanel_.addChild(this.subAddress_=new h("span","subAddress"));f=this.phone_=new h("span","phone");d.addChild(f);var g=this.dot_=new h("span","ICON-middot"),j=this.roadview_=new h("a","roadview","\ub85c\ub4dc\ubdf0");j.setExternalLink("#none");j.onClick.add(this.clickRoadview_,this);this.infoPanel_.addChild(new h("div","contact",[f,g,j]));c.addChild(d);c.addChild(e.getPane());this.active_=this.hover_=!1;this.onOver=new n;this.onOut=
new n;this.onDupDataClick=new n}function qd(a){function b(a,b){var c={};b&&(c=jQuery.extend({},c,b));var d=Na.cpg+","+(Ob+1);c.name=ha;c.confirmid=S;c.cpg=d;c.tab=Na.tab;c.in_map=Na.in_map;c.sorttype=Na.sorttype;c.mkey=Na.mkey;c.analysis=Na.analysis;Na.srcid&&(c.srcid=Na.srcid);void 0!=Na.cidx&&(c.cidx=Na.cidx);a?z.log("search_q_click_"+a,Ka,c):z.log("search_q_click",Ka,c)}function c(){W=!0;l.notify();e()}function d(){W=!1;m.notify();e();P.setVisible(!1)}function e(){x.toggleClass("PlaceItem-ACTIVE",
!(!W&&!Ga))}if(!(this instanceof qd))return new arguments.callee;var f=this.onAction=new n,g=this.onCategory=new n,j=this.onRoadViewWithCourse=new n,l=this.onOver=new n,m=this.onOut=new n,k=this.onRoadview=new n,h=this.onFlagClick=new n,o=this.onFavorite=new n,r=this.onDupDataClick=new n,x=F("PlaceItemView"),q=x.$("btnsWrap"),s=x.$("fav"),u=x.$("name"),w=x.$("roadview"),C=x.$("storeview"),O=x.$("image"),I=x.$("phone"),R=x.$("freecall"),Y=x.$("subcategory"),G=x.$("wrapAddress"),E=x.$("address"),K=
x.$("rating"),Z=x.$("scoreNum"),na=x.$("star"),Da=x.$("numberofscore"),xa=x.$("review"),aa=x.$("numberofreview"),A=x.$("gasinfo"),y=x.$("icon"),B=x.$("moreview"),D=x.$("intercity"),N=x.$("wrapCourseInfo"),T=x.$("website"),H=x.$("openhour"),$=x.$("tvshowInfo"),L=x.$("realEstates"),ia=x.$("routeBtn"),W=!1,Ga=!1,Oa=!0,Ca,ha,S,Ob,Eb,cb,lb=null,mb=null,Pa=null,Ka="",Na=null,J=null,P=new Za;q.append(P.getPane());P.onClick.add(function(a){h.notify(a);b(a==M.ORIGIN_WHICH_?"start":"end")});P.setVisible(!1);
ia.on("click",function(a){a.stopPropagation();p.click("mapsearch","search_route");P.setVisible(!0)});x.mouseenter(c);x.mouseleave(d);var Q=function(){Application.roadviewController.getActive()&&Application.roadviewController.close();f.notify(this);0<Ca&&3!=Ca?b("ad"):b()}.bind(this);x.click(function(a){P.setVisible(!1);jQuery(a.target).hasClass("clickArea")&&Q()});s.click(function(){var a="place",b="search_all";J&&(J.isSubway&&(a="subway_station"),J.isPlaceTab&&(b="search_place_tab"));p.click("favorite",
[a,b]);o.notify()});u.click(Q);w.click(function(){Application.roadviewController.setViewpointWithMarker(mb,Application.keywordSearchController.model_.places[Ob],mb.pan,mb.tilt,Ob+1,Application.keywordSearchController.model_.isThemeMode());Application.infoWindowManager.close();require("log/Tiara").log("/fake/search_roadview");k.notify();j.notify(S);p.click("roadview","by_mapsearch");var a=lb.getX().toFixed(0),c=lb.getY().toFixed(0),a={panoid:mb.panoId,wx:a,wy:c,region:Application.localInfoController.getHCodeForLog()};
b("roadview",a)});C.click(function(){Application.roadviewController.showStoreView(Pa,0,null,Application.keywordSearchController.model_.isThemeMode());p.click("storeview","enter_by_result");b("storeview",{storeid:Pa});k.notify()});O.click(function(){Application.roadviewController.getActive()&&Application.roadviewController.close();f.notify(this)}.bind(this));Y.click(function(){d();g.notify()});xa.click(function(){b("review")});Da.click(function(){b("star")});R.click(function(){b("freecall")});B.click(function(){b("detail")});
H.click(function(){b("timeinfo")});this.getId=function(){return S};this.getPane=function(){return x};this.setHover=function(a){W=!!a;e()};this.setActive=function(a){Ga=!!a;e()};this.getActive=function(){return Ga};this.setSeq=function(a){Ob=a};this.setIcon=function(a,b){Ca=a;1===a?(y.addClass("num"),y.text(b)):y.text(String.fromCharCode(96+b).toUpperCase())};this.setAoiIcon=function(a,b){this.setIcon(a,b)};this.setCoords=function(a){lb=a};this.setOutLink=function(a){S=a.id;Eb=a.getLandingUrl();Da.attr("href",
a.getDaumPlaceUrl("#comment"));xa.attr("href",a.getDaumPlaceUrl("#review"));var b="";switch(a.outsrcId){case "agency":b="\uc911\uac1c\uc5c5\uc18c";break;case "land":case "apt":case "officetel":case "villa":case "oneroom":case "land_hotissue":case "bunyang":b="\ubd80\ub3d9\uc0b0";break;default:b="\uc0c1\uc138\ubcf4\uae30"}B.text(b).attr("href",Eb);a.subway&&K.find(">span, >a").filter(":not(.moreview)").remove()};this.setImage=function(a,b){3==a?Oa=!1:(!a||!b?(Oa=!1,O.hide()):b&&(Oa=!0,O.attr("src",
b).parent().show()),x.toggleClass("imgVisible",Oa))};this.setName=function(a,b){ha=a;u.attr("title",a);x.$("screenOutName").text(a);if(b){var c=a.toLowerCase().indexOf(b.toLowerCase());if(0<=c){c=[c,c+b.length,a.length];c.sort(function(a,b){return a-b});u.html(a.substring(0,c[0])+"<strong>"+a.substring(c[0],c[1])+"</strong>"+a.substring(c[1],c[2]));return}var d=b.replace(/\s/g,""),c=a.toLowerCase().indexOf(d.toLowerCase());if(0<=c){c=[c,c+d.length,a.length];c.sort(function(a,b){return a-b});u.html(a.substring(0,
c[0])+"<strong>"+a.substring(c[0],c[1])+"</strong>"+a.substring(c[1],c[2]));return}}u.set(a)};this.setRoadview=function(a){a&&(mb=a,w.show())};this.setStoreview=function(a){a&&(Pa=a,C.before('<span class="ICON-middot"></span>').show())};this.setIntercity=function(a,b,c){a&&(D.before('<span class="ICON-middot"></span>').show(),D.click(function(){p.click("intercity","intercity_by_mapsearch");var d=c.replace(/\s/g,"");require("server")[a]({id:b,name:d})}))};this.setExactData=function(a){a&&(T.attr("href",
a).show(),T.click(function(){z.log("search_q_click_homepage",Ka,{name:ha,confirmid:S})}))};this.setPhone=function(a){a&&(I.set(a),I.after('<span class="ICON-middot"></span>').show())};this.setCategory=function(a){if(a){cb=a.id||null;Y.toggleClass("clickable",!!a.id);var b=String.stripTags(a.name).split(" > ").filter(Boolean).pop();Y.set(b);Y.show();a.id||Y.off("click")}else Y.hide()};this.setCourseinfo=function(a){a&&a.dest&&(N.show(),F("PlaceItemCourseInfo",a).appendTo(N))};this.setAddress=function(a,
b){if(!a&&!b)G.hide();else if(G.show(),b)if(E.attr("title",b),E.text(b),a){var c=x.$("otherAddr").show();c.attr("title",a);c.text("(\uc9c0\ubc88) "+a)}else x.$("otherAddr").hide();else a&&(E.attr("title",a),E.text(a))};this.setScoreReviewCheckin=function(a,b,c){a=a.toFixed(1);na.width(13.6*a);Z.attr("title",a+"\uc810").text(a).toggleClass("num0","0.0"==a);b=String.formatNumber(b)+"\uac74";Da.set(b);aa.set(String.formatNumber(c))};this.setGas=function(a){if(a){O.parent().hide();K.hide();A.empty();
var b={"\ud718\ubc1c\uc720":a.gasPrice,"\uace0\uae09":a.premiumGasPrice,"\uacbd\uc720":a.dieselPrice,LPG:a.lpgPrice};23==Application.keywordSearchController.placeSortOptions_.getOption()&&a.lpgPrice&&(b["\uace0\uae09"]=null);var a=[],c;for(c in b)b[c]&&a.push(c+" "+String.formatNumber(b[c])+"\uc6d0");A.text(a.join(", ")).show()}};this.setFavorite=function(b){a.createFavorite(s,t.createFromPlace(b))};this.setDupData=function(a){if(a){x.addClass("PlaceItem-DUP");var b=F("DupListView"),e=b.$("duplist");
e.mouseenter(d);e.mouseleave(c);b.show();b.$("dup_cnt").text(a.length);b.$("dupToggle").click(function(a){var c=jQuery(a.currentTarget),a=!c.hasClass("on");e.toggle(a);c.toggleClass("on",a);if(a)jQuery(document).one("mousedown touchstart",function(a){!e.is(a.target)&&(0===e.has(a.target).length&&b.$("dupToggle").get(0)!=a.target)&&(e.hide(),c.removeClass("on"))})});a.forEach(function(a,c){if(a.name){var d=new qe(a,1==c%2);d.getPane().appendTo(e);d.onClick.add(function(a){Ga=!1;r.notify(a);e.hide();
b.$("dupToggle").removeClass("on")})}});b.appendTo(x)}};this.setKeyword=function(a){Ka=a};this.setOpenhour=function(a){if(a){var b=a.object("realtime"),c="Y"===b.text("open"),d="Y"===b.text("breaktime"),e="Y"===b.text("holiday"),f="853"==cb||"681"==cb,g="",j="";mergeStrFunc=function(a,b){return a.join(b||" ").replace(/(\s)+/g," ").trim()};if(!e&&"Y"!=b.text("onlyDisplay")){var l=b.object("currentPeriod"),k=l.find("timeList");d&&(k=[l.object("matchedTime")]);k.forEach(function(a){a instanceof Wa&&
(g&&(g+=" &middot; "),a=[a.text("timeName"),a.text("dayOfWeek"),a.text("timeSE")],d&&a.shift(),g+=mergeStrFunc(a," "))})}if(e||f)a=a.find("offdayList"),e&&(a=[b.object("matchedHoliday")]),a.forEach(function(a){if(a instanceof Wa){var b=a.find("dateList"),c=a.text("weekAndDay"),d="";b.forEach(function(a){d&&(d+=", ");d+=a.text("value")});j&&(j+=", ");a=f&&d&&c?[a.text("holidayName"),d+"("+c+")"]:[a.text("holidayName"),c||d];j+=mergeStrFunc(a," ")}});if(g||j){a=g;j&&(0!==j.indexOf("\ud734\ubb34\uc77c")&&
(j="\ud734\ubb34\uc77c "+j),a+=a?", "+j:j);var l="",k=null,m=b.number("secondsUtilOpen");(b=b.text("datetime"))&&14===b.length&&(k=parseInt(b.substr(8,2)));e?l="\ud734\ubb34\uc77c":d?l="\ube0c\ub808\uc774\ud06c\ud0c0\uc784":c?(l="\uc601\uc5c5\uc911",a=a.replace(/^(\uc601\uc5c5\uc2dc\uac04)\s/,"")):null!==k&&0<m&&(6<=k||7200>=m)?l="\uc601\uc5c5\uc804":c||(l="\uc601\uc5c5\uc885\ub8cc");l&&(a=a.replace(RegExp("^"+l+"\\s"),""));H.$("periodStatus").text(l);H.$("periodTxt").html(a).attr("href",Eb+"?openhour=1");
H.$("periodWarp").show();H.show()}}};this.setTVShowInfo=function(a){if(a){$.show();var b=a[0]+" "+a[1]+" "+a[2];$.$("tvtxt").attr("title",b);14<a[0].length?$.$("tvtxt").text(a[0]+" "+a[1]+"..."):$.$("tvtxt").text(b)}};this.setTiaraObj=function(a){J=a};this.setDssPlaceObj=function(a){Na=a};this.dssClickHandler=function(a){b(a)};this.setRealEstates=function(a){if(a){var b=[],c=a.split("|");["\ub9e4\ub9e4","\uc804\uc138","\uc6d4\uc138"].forEach(function(a,d){b.push(a+" "+(c[d]||0))});L.text(b.join(", ")).show()}};
this.noAdReview=function(){x.$("score").hide();x.$("scoreGroove").hide();xa.hide();x.$("reviewGroove").hide();$.hide()};this.setMapPlus=function(a){a.isSpecial="special"==a.ad_style;x=F("MapPlusItemView",a);var b=function(b,c){if(!b)return!1;var d={type:b,platform:"PC",q:a.q,ad_style:a.ad_style};c&&(d.click=c);a.rcode&&(d.regionid=a.rcode);z.sendLog(d)};x.on("click",".link",function(a){a=jQuery(a.currentTarget).data();b("ad_search_mapplus_click",a.type)});b("ad_search_mapplus_impression")}}function ff(a,
b,c){var d=this.onClick=new n,e=this.onRemove=new n,f=this.onLike=new n,g=this.onReport=new n,j=c?"other":"my",l={1:"\ubcc4\ub85c\uc608\uc694",2:"\uc870\uae08 \uc544\uc26c\uc6cc\uc694",3:"\ubcf4\ud1b5\uc774\uc5d0\uc694",4:"\uc88b\uc544\uc694",5:"\ucd5c\uace0\uc608\uc694"},m=require("url").DAUM_PLACE+b.confirmId,k="S"!==b.status,h="A"===b.placeStatus&&!k,o="T"===b.status,r="A"===b.status,l=b.contents||l[b.star]||"",x=l.replace(/\r/g,"").replace(/\n/g," "),c=jQuery.extend({},b,{starWidth:13.6*b.star+
"px",isPhoto:!!(b.photos&&0<b.photos.length),isMoreText:200<x.length,contents:l,clippedContents:String.cut(x,200),dateText:b.date.split(" ")[0].replace(/-/g,"."),link:m+"#comment?edit",isDisabled:k,isEdit:h,isTempByOwner:o&&!c,isTempByOther:o&&c,isAdminDelete:r,isDisabledSummaryUi:r||o&&c,isOtherPage:c,likeCount:b.likeCount||"",isOtherAndDisabled:c&&k,like:b.like&&!k});c.isPhoto&&(c.photos=c.photos.map(function(a,c){return{link:m+"?type=kakaomapcomment&basis="+b.reviewId+"&pidx="+c+"#comment",thumbUrl:require("url").TENTH_THUMB+
"C70x70.q70/?fname="+encodeURIComponent(a.url)}}),h=c.photos.length,4<h&&(c.photos.splice(4),c.photos[3].photoTotalCnt=h));var a=F("ReviewItemView",c).appendTo(a),c=a.$("more"),q=a.$("setting"),h=a.$("link"),o=a.$("photos"),s=a.$("contents"),u=a.$("originContents"),r=a.$("moreText"),l=a.$("contractText"),x=a.$("report"),w=a.$("modify"),C=a.$("remove"),O=a.$("like");c.click(function(a){a.preventDefault();p.click(j,["review","more"]);q.show()});h.click(function(){p.click(j,["review","place_tooltip"]);
d.notify({type:"place",key:b.confirmId})});O.click(function(){if(b.status==="S"){var a=!b.like;p.click(j,["review",a?"like":"unlike"]);f.notify({param:{reviewId:b.reviewId,confirmId:b.confirmId,like:a},callback:function(){(b.like=a)?b.likeCount++:b.likeCount--;O.toggleClass("ACTIVE",a).find(".num").text(b.likeCount>0?b.likeCount:"")}})}});r.click(function(){if(!k){p.click(j,["review","unfold_comment"]);s.hide();u.show()}});l.click(function(){p.click(j,["review","fold_comment"]);u.hide();s.show()});
x.click(function(){p.click(j,["review","more","review_report"]);g.notify({type:"review",querystring:"?reviewId="+b.reviewId+"&confirmId="+b.confirmId})});w.click(function(){p.click(j,["review","more","review_edit"])});C.click(function(){p.click(j,["review","more","review_delete"]);e.notify({reviewId:b.reviewId,confirmId:b.confirmId})});o.on("click","a",function(){p.click(j,["review","picture"])});q.find("li").click(function(){q.hide()})}function md(a){fa(this,h,"a","RoadviewPreview");this.onValidAreaOver=
new n;this.onOutAreaOver=new n;this.onEmpty=new n;this.thumnail_=a;a=this.imagePanel_=new h("img");a.toPane().attr({width:120,height:100});a.setSrc(this.thumnail_);a.addClass("roadviewImage");this.addChild(a);a=this.roadViewPreviewIcon=new h("div");a.addClass("roadViewPreviewIcon");this.addChild(a);jQuery(this.getElement()).on("mouseover",".roadviewImage, .roadViewPreviewIcon",this.overValidArea.bind(this));jQuery(this.getElement()).on("mouseover",this.overRoadViewEmptyPanel.bind(this));this.onEnter.add(this.overRoadViewEmptyPanel,
this)}function Ce(a){function b(a){Application.isLoadingViewShow||(d&&(e=a,p.click("route","go_"+a)),c.notify(d))}if(!(this instanceof arguments.callee))return new arguments.callee(a);var c=new n;this.onChange=c;var d=!1,e="",f=F("RouteMethodTabView").appendTo(a);f.$("car").click(La(b,"car"));f.$("transit").click(La(b,"transit"));f.$("walk").click(La(b,"walk"));f.$("bike").click(La(b,"bike"));this.getActive=function(){return d};this.setActive=function(a){a!=d&&(d=a,f.toggleClass("RouteMethodTabView-active",
!!a),this.clearEstimateTime());return this};this.clearEstimateTime=function(){f.removeClass("RouteMethodTabView-time");return this};this.setEstimateTime=function(){if(d)return f.addClass("RouteMethodTabView-time"),this};this.setIndex=function(a){e=a;f.$("car").toggleClass("car-active","car"==a);f.$("transit").toggleClass("transit-active","transit"==a);f.$("walk").toggleClass("walk-active","walk"==a);f.$("bike").toggleClass("bike-active","bike"==a);return this};this.getIndex=function(){return e}}function Ia(){fa(this,
h,"div","RoutePoiControlView RoutePoiControlView-via");this.onChange=new n;this.cctvContainer_=new h("div","cctvBtn");this.cctvBtn_=new h("button","cctvImg","CCTV");var a=new h("span","coach_theme coach_cctv");this.cctvContainer_.addChild(this.cctvBtn_);this.cctvContainer_.addChild(a);this.cctvBtn_.onClick.add(this.clickCctv_,this);this.cctvClickable(!0);this.addChild(this.cctvContainer_);this.accidentContainer_=new h("div","accidentBtn");this.accidentBtn_=new h("button","accidentImg","\uc0ac\uace0\u00b7\uacf5\uc0ac");
a=new h("span","coach_theme coach_accident");this.accidentContainer_.addChild(this.accidentBtn_);this.accidentContainer_.addChild(a);this.accidentBtn_.onClick.add(this.clickAccident_,this);this.accidentClickable(!0);this.addChild(this.accidentContainer_);this.gasContainer_=new h("div","gasBtn");this.gasBtn_=new h("button","gasImg","\uc8fc\uc720\uc18c");a=new h("span","coach_theme coach_oil");this.gasContainer_.addChild(this.gasBtn_);this.gasContainer_.addChild(a);this.gasBtn_.onClick.add(this.clickGas_,
this);this.gasClickable(!0);this.addChild(this.gasContainer_);this.serviceContainer_=new h("div","serviceBtn");this.serviceBtn_=new h("button","serviceImg","\ud734\uac8c\uc18c");a=new h("span","coach_theme coach_rest");this.serviceContainer_.addChild(this.serviceBtn_);this.serviceContainer_.addChild(a);this.serviceBtn_.onClick.add(this.clickService_,this);this.serviceClickable(!0);this.addChild(this.serviceContainer_);this.trafficContainer_=new h("div","trafficBtn");this.trafficBtn_=new h("button",
"trafficImg","\uad50\ud1b5\uc815\ubcf4");a=new h("span","coach_theme coach_traffic");this.trafficContainer_.addChild(this.trafficBtn_);this.trafficContainer_.addChild(a);this.trafficBtn_.onClick.add(this.clickTraffic_,this);this.trafficClickable(!0);this.addChild(this.trafficContainer_)}function nb(a,b,c){function d(a){return jQuery("#"+a.replace(/\./g,"\\."))}fa(this,Xb);a&&(this.panel_=d(a),this.list_=d(a+".list"),this.more_=d(a+".more"),console.assert("function"==typeof b),this.factory_=b,this.onAction=
new n,this.onMore=new n,this.more_.click(this.clickMore_.bind(this)),this.itemView_=[],this.buttonFactory_=c)}function Jc(a){fa(this,Xb);this.onOption=new n;(this.panel_=h.$(a)).addClass("Sort")}function nd(a,b){console.assert(b&&b.length);fa(this,Xb);this.onClose=new n;this.onSwitch=new n;var c=this.panel_=new h("div","SkyviewHistoryLegend");c.addChild(new h("div","left"));var d=new h("div","body"),e=new h("strong"),f=(new h("span")).addClass("num");f.addText(a+"\ub144");e.addChild(f);e.addText(" \ucd2c\uc601\uc9c0\uc5ed");
d.addChild(e);e=new h("img");e.toPane().attr({width:109,height:104});e.setSrc("//t1.daumcdn.net/localimg/localimages/07/2016/pc/sky/sky_"+a+".png");d.addChild(e);var g=new h("ul");b.forEach(function(a){var b=new h("li");b.addText(a);g.addChild(b)});d.addChild(g);e=new h("a");e.addClass("closerBtn");e.onClick.add(this.clickCloser_,this);d.addChild(e);c.addChild(d);c.addChild(new h("div","right"))}function ue(a){fa(this,Xb);this.onKeyword=new n;this.panel_=h.$(a);this.list_=h.$(a+".list")}function Ic(a){fa(this,
Xb);this.id_=a;this.panel_=h.$(a);this.candidate_=h.$(a+".candidate");this.candidate_.onClick.add(this.clickCandidate_,this);this.onClick=new n}function Lc(){fa(this,h,"div","SubwayFunctionToolBar");var a=this.print_=new h("a","print",["\uacbd\ub85c\uc778\uc1c4"]);a.onClick.add(this.clickPrint_,this);var b=this.favorite_=new h("a","favorite"),c=new h("span","ico_fav");c.addChild(new h("span","num","0"));b.addChild(c);b.addChild(" \uc990\uaca8\ucc3e\uae30");b.onClick.add(this.clickFavorite_,this);
c=this.showMap_=new h("a","showFiy",["\uc9c0\ub3c4 \uc815\ubcf4 \uc218\uc815"]);c.onClick.add(this.clickshowMap_,this);this.addChild(a);this.addChild(b);this.addChild(c);this.onClick=new n}function gf(a){function b(){var b=a.firstNode,c=jQuery('<p class="detailStartEndNode"></p>'),d=Q.subwayCode[b.subwayId]||[],d=b.name+"("+d[1]+")";b.time.substring(0,5);c.append(jQuery('<span class="startIcon"></span>'));c.append(jQuery('<span class="name">'+d+"</span>"));o.append(c);var e=jQuery('<ul class="detailSectionsView"></ul');
k.forEach(function(a,b){if("NORMAL"===a.type){var c=null;k[b+1]&&"TRANSFER"==k[b+1].type&&(c={time:k[b+1].time,walkTime:k[b+1].walkTime});c=new hf(a,c);e.append(c.getPanel())}});o.append(e);b=a.lastNode;c=jQuery('<p class="detailStartEndNode boldBottom"></p>');d=Q.subwayCode[b.subwayId]||[];d=b.name+"("+d[1]+")";b.arrTime.substring(0,5);c.append(jQuery('<span class="time">'+b.arrTime+"</span>"));c.append(jQuery('<span class="endIcon"></span>'));c.append(jQuery('<span class="name">'+d+"</span>"));
o.append(c);h=!0}var c=this.onSelected=new n,d=F("SubwayRouteResultItemView"),e=!1,f=d.$("time"),g=a.totalTimeMinutes||0,j=a.totalTimeHours||0;j&&(f.append(jQuery('<span class="num">'+j+"</span>")),f.append(jQuery('<span class="hourTxt">\uc2dc\uac04 </span>')));g%60&&(f.append(jQuery('<span class="num">'+g%60+"</span>")),f.append(jQuery('<span class="minitueTxt">\ubd84 </span>')));g=jQuery('<span class="routeInfo"></span>');g.append(jQuery('<span class="num">'+a.stationCount+"</span>"));g.append(jQuery('<span class="countFstTxt">\uac1c</span>'));
g.append(jQuery('<span class="countLstTxt">\uc5ed</span>'));g.append(jQuery('<span class="comma">, </span>'));a.transferCount?(g.append(jQuery('<span class="transfer">\ud658\uc2b9 </span>')),g.append(jQuery('<span class="num">'+a.transferCount+"</span>")),g.append(jQuery('<span class="cntTxt">\ud68c</span>'))):(g.append(jQuery('<span class="transfer">\ud658\uc2b9</span>')),g.append(jQuery('<span class="noTransfer">\uc5c6\uc74c</span>')));var j=jQuery('<span class="state"></span>'),l=0;a.isFastest&&
2>l&&(j.append(jQuery('<span class="isFastest">\ucd5c\ub2e8\uc2dc\uac04</span>')),l++);a.isMinTransfer&&2>l&&(0!=l&&j.append(document.createTextNode(", ")),j.append(jQuery('<span class="isMinTransfer">\ucd5c\uc18c\ud658\uc2b9</span>')),l++);a.fastestArrival&&2>l&&(0!=l&&j.append(document.createTextNode(", ")),j.append(jQuery('<span class="fastestArrival">\ube60\ub978\ub3c4\ucc29</span>')),l++);a.optimisticDeparture&&2>l&&(0!=l&&j.append(document.createTextNode(", ")),j.append(jQuery('<span class="optimisticDeparture">\ucd5c\uc801\ucd9c\ubc1c</span>')),
l++);g.append(j);f.append(g);f=d.$("fare");g="\uc694\uae08\uc815\ubcf4\uc5c6\uc74c";a.cardFare&&(g="\uce74\ub4dc "+String.formatNumber(a.cardFare)+"\uc6d0");a.cashFare&&(a.cardFare&&(g+="<span> | </span>"),g+="\ud604\uae08 "+String.formatNumber(a.cashFare)+"\uc6d0");f.html(g);var m=d.$("outLineView"),k=a.sectionRoutes,f=k[k.length-1],j=f.nodes[f.nodes.length-1];k.forEach(function(a){if(a.id&&a.type!="TRANSFER"){var b=Q.subwayCode[a.id]||[],c=jQuery('<p class="outLineNode '+b[0]+'"><span class="icon"></span><span class="line"></span><span class="endIcon"></span></p>'),
d=a.nodes[0],b=d.name+"("+b[1]+")",d=d.time.substring(0,5);c.append(jQuery('<span class="time">'+d+"</span>"));b=jQuery('<span class="name">'+b+"</span>");a.hasExpressTrain&&a.expressTrainType&&b.append(jQuery('<span class="trainType trainType_'+a.expressTrainType+'">\uc5f4\ucc28\uc885\ub958</span>'));c.append(b);if(d=="--"){c.addClass("noTime");c.append(jQuery('<span class="redInfo">\uc5f4\ucc28 \uc6b4\ud589 \uc885\ub8cc</span>'))}else if(a.noTimeText){c.addClass("noTime");c.append(jQuery('<span class="redInfo">'+
a.noTimeText+"</span>"))}m.append(c)}});f=jQuery('<p class="outLineNode"></p>');g=j.name+"("+(Q.subwayCode[j.subwayId]||[])[1]+")";j=j.arrTime.substring(0,5);f.append(jQuery('<span class="time">'+j+"</span>"));f.append(jQuery('<span class="name">'+g+"</span>"));m.append(f);d.hover(function(){e||d.addClass("SubwayRouteResultItem-HOVER")},function(){e||d.removeClass("SubwayRouteResultItem-HOVER")});var h=!1;d.find(".clickArea").on("click",function(){e=!e;d.toggleClass("SubwayRouteResultItem-DETAIL",
e);d.toggleClass("SubwayRouteResultItem-HOVER",!e);if(e){c.notify();h||b()}});var o=d.$("detailView");this.getPanel=function(){return d};this.setActive=function(a){d.toggleClass("SubwayRouteResultItem-ACTIVE",a)};this.setDetail=function(a){e=a;d.toggleClass("SubwayRouteResultItem-DETAIL",e);d.removeClass("SubwayRouteResultItem-HOVER");e&&!h&&b()}}function hf(a,b){var c="TRANSFER"==a.type,d=Q.subwayCode[a.id]||[],e=F("SubwayRouteSectionItemView");e.addClass(d[0]);var f=e.$("line");c&&(f.removeClass("line").addClass("transfer"),
e.$("endIcon").hide());var g=e.$("infoWrap");a.time&&e.$("time").text(a.time);a.name&&(f=jQuery('<a href="#">'+a.name+"</a>"),f.on("click",function(){a.nodes[0]&&a.nodes[0].id&&open(require("url").DAUM_PLACE+a.nodes[0].id)}),e.$("name").append(f),e.$("name").append(c?" \ud558\ucc28":" \uc2b9\ucc28"),c||a.hasExpressTrain&&a.expressTrainType&&e.$("name").append(jQuery('<span class="trainType trainType_'+a.expressTrainType+'">\uc5f4\ucc28\uc885\ub958</span>')));c||("--"==a.time?e.$("name").after(jQuery('<p class="redInfo">\uc5f4\ucc28 \uc6b4\ud589 \uc885\ub8cc</p>')):
a.noTimeText&&e.$("name").after(jQuery('<p class="redInfo">'+a.noTimeText+"</p>")));!c&&a.direction?e.$("direction").text(d[1]+" "+a.direction):c&&a.walkTime&&e.$("direction").text("\ub3c4\ubcf4\ub85c \uc774\ub3d9 ("+(parseInt(a.walkTime/60)||1)+"\ubd84)");a.fastTransferInfo&&e.$("fastTransfer").text("\ube60\ub978 \ud658\uc2b9 "+a.fastTransferInfo);var j=!1,f=e.$("stationCount"),l=a.nodes,m=l.length;if(0<m-1&&!c){f.text(m-1+"\uac1c\uc5ed \uc774\ub3d9");if(1==m-1)f.addClass("noStationCount");else f.on("click",
function(){j=!j;g.toggleClass("nodeDetail",j);e.toggleClass("SubwayRouteSectionItem-DETAIL",j)});var k=e.$("nodes");k.addClass("detail_"+d[0]);l.forEach(function(a,b){if(!(b==0||b>=m-1)){var c=jQuery('<li class="node"><span class="dot"></span><span class="time">'+a.time+'</span><span class="name">'+a.name+"</span></li>");k.append(c)}})}else f.hide();b&&g.append(jQuery('<p class="walkTransfer">\ub3c4\ubcf4\ub85c \uc774\ub3d9, '+Math.round(b.walkTime/60)+'\ubd84 <span data-id="time" class="time">'+
b.time+"</span></p>"));e.hover(function(){e.addClass("SubwayRouteSectionItem-HOVER")},function(){e.removeClass("SubwayRouteSectionItem-HOVER")});this.getPanel=function(){return e}}function Gd(a){this.item=a;this.name_=a.name;a=this.panel_=new h("strong");a.setText(this.name_);a.onClick.add(this.showStationInfo_,this)}function pb(a,b,c,d){function e(a){w&&w!=a&&w.removeClass("showSubList");C=w=null;b.hide();o.removeClass("ThemePoiControlView_fst ThemePoiControlView_sec")}function f(a){s&&(a&&s[0]==
a[0])&&(s=a);s&&s!=a&&s.removeClass("poi_active");u=s=null;e(a);R.find("button").removeClass("btn_active")}function g(a){x.notify(a);d.log("/fake/theme")}function j(a){h();R.find("button:has(.ico_"+a.type+")").addClass("btn_active");s=I.find(".poi_item:has(."+a.type+")").addClass("poi_active");o.addClass("ThemePoiControlView_activated");var b={};pb.THEME_POIS.some(function(c){if(c.type==a.type)return b=c,!0});u=b.id||pb.THEME_SUB[b.name][a.sub||0].id;g({id:u,type:a.type,dimg:a.dimg})}function l(a){h();
var b=null;pb.THEME_POIS.some(function(c){if(a==c.id)b={id:a,type:c.type};else if(""==c.id){var d=pb.THEME_SUB[c.name];d&&d.forEach(function(d){d.id==a&&(b={id:a,type:c.type})})}return b});b&&(s=I.find(".poi_item:has(."+b.type+")").addClass("poi_active"),u=b.id,g(b))}function m(){G&&clearTimeout(G);E&&clearTimeout(E);E=G=null}function k(){b.hide();var a=jQuery(".poi_item",o);a.removeClass("showSubList");o.toggleClass("ThemePoiControlView_activated",a.hasClass("poi_active"));o.removeClass("ThemePoiControlView_active ThemePoiControlView_routeActive");
o.removeClass("ThemePoiControlView_fst ThemePoiControlView_sec");m()}function h(){f();o.removeClass("ThemePoiControlView_active ThemePoiControlView_activated");R.find("button").removeClass("btn_active");jQuery(".poi_item",o).removeClass("poi_active");jQuery(".poi_item",o).removeClass("poi_hover");jQuery(".poi_item",o).removeClass("showSubList");q.notify()}var o=jQuery("<div>").addClass("ThemePoiControlView");o.css("width","50px");o.append('<h3><a href="#none" class="btn_poi">\uc8fc\ubcc0</a></h3>');
var r=o,x=this.onPoiActive=new n,q=this.onPoiClear=new n;this.onThemeToIndex=new n;o.append(b.getElement());b.hide();var s=null,u=null,w=null,C=null,O=jQuery("<div/>").addClass("Wrap").appendTo(o);o.append('<strong class="screen_out">\uc8fc\ubcc0\ud0d0\uc0c9 \ubaa9\ub85d</strong>');var I=jQuery("<ul>").appendTo(O);pb.THEME_POIS.forEach(function(a,c){var d=jQuery('<li><button type="button" class="btn_item"><span class="'+a.type+'"></span>'+a.name+"</button></li>").addClass("poi_item").data("type",
0==c%2?"fst":"sec");pb.THEME_SUB[a.name]&&d.find("button").append('<span class="ico_arr"></span>');d.click(function(c){c.stopPropagation();pb.THEME_SUB[a.name]?(e(d),d.toggleClass("showSubList").hasClass("showSubList")&&(w=d,C=a.type,o.addClass("ThemePoiControlView_"+d.data("type")),c=pb.THEME_SUB[a.name],0<c.length&&(b.setData(c,a.dimg),b.setActive(u)))):(f(d),d.toggleClass("poi_active").hasClass("poi_active")?(p.click("dotsearch",a.type),s=d,u=a.id,g(a)):q.notify())});I.append(d)});var R=jQuery("#info\\.main\\.around"),
Y=R.find("ul.list_around");pb.HOME_THEME_POIS.forEach(function(a){var b=jQuery('<li><button type="button" class="btn_around"><span class="ico_'+a.type+'"></span><span class="txt_around">'+a.name+"</span></button></li>");b.click(function(b){b.stopPropagation();p.click("left",["dotsearch",a.type]);R.find("button:has(.ico_"+a.type+")").hasClass("btn_active")?h():j(a)});Y.append(b)});c.onShow.add(function(){o.addClass("ThemePoiControlView-OFF")});c.onCloseRoadview.add(function(){o.removeClass("ThemePoiControlView-OFF")});
jQuery('<li class="bottom"></li>').appendTo(I);b.onClick.add(function(a){var b={type:C,id:a.id,dimg:a.dimg},c=w;f();s=c;u=a.id;s.addClass("poi_active");g(b)});b.onClear.add(function(){q.notify();f()});var G=null,E=null;r.hover(function(){m();o.hasClass("ThemePoiControlView_active")||(G=setTimeout(function(){o.addClass("ThemePoiControlView_active");o.addClass("ThemePoiControlView_active");m()},30))},function(){m();o.hasClass("ThemePoiControlView_active")&&!b.getVisible()&&(E=setTimeout(k,30))});this.setRouteControlView=
function(a){a?o.addClass("ThemePoiControlView_route"):o.removeClass("ThemePoiControlView_route")};this.getRouteView=function(){return a};this.getElement=function(){return o[0]};this.getActive=function(){return s?!0:!1};this.getAcitveId=function(){return u};this.setThemeToObject=function(a){j(a)};this.setThemeToId=function(a){l(a)};this.clearAll=function(){h()}}function Zc(){fa(this,h,"div");this.addClass("TransitFunctionToolBar");var a=this.print_=new h("a");a.addClass("print");a.setText("\uacbd\ub85c\uc778\uc1c4");
a.onClick.add(this.clickPrint_,this);var b=this.favorite_=new h("a","favorite"),c=new h("span","ico_fav");c.addChild(new h("span","num","0"));b.addChild(c);b.addChild(" \uc990\uaca8\ucc3e\uae30");b.onClick.add(this.clickFavorite_,this);c=this.alook_=new h("a");c.addClass("alook");c.setText("\uacbd\ub85c \ud55c\ub208\uc5d0");c.onClick.add(this.clickAlook_,this);this.addChild(a);this.addChild(c);this.addChild(b);this.onClick=new n}function jf(a){function b(a,b){var c=v.$("interList"),d=new ve(a,b,!0);
s.push(d);c.append(d.getPane());d.onClick.add(function(){g(b,!0)},this);return d}function c(a){for(var b="",c="",d=0,e=0,f="",b="",g=0;g<a.length;g++)if(c=a[g].vehicleType,c!=D.TRANSFER_WALK&&c!=D.TRANSFER_CUSTOM){if(a[g].fare||a[g].taxiFare)d+=1*(a[g].fare||a[g].taxiFare).replace(/,/gi,"").replace("\uc6d0","");if(a[g].time){var c=a[g].time,c=c.replace(/ /gi,""),j=c.indexOf("\uc2dc\uac04"),l=c.indexOf("\ubd84"),k=0;-1<j&&(k+=60*c.substr(0,j));-1<l&&(j=-1<j?j:-2,k+=1*c.substr(j+2,l-(j+2)));e+=k}if(!d&&
!e){w.html("\uc694\uae08\uc815\ubcf4 \uc5c6\uc74c");return}}e&&(a=Math.floor(e/60),g=e%60,f=(0===a?f+(g+"\ubd84 "):f+(a+"\uc2dc\uac04 "+g+"\ubd84 "))+"\uc18c\uc694");d&&(b+="\uc57d "+d.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+"\uc6d0");w.append(f);f&&w.append('<span class="bar"></span>');w.append(b)}function d(a,b){var c=v.$("interList"),d=new ve(a,b,!1);c.append(d.getPane());s.push(d);d.onClick.add(function(){g(b)},this);return d}function e(b){var c=a.end;c.text("type");var d=b.$("startSummaryIcon"),
e=b.$("startName"),f="";a.time&&(f+=a.time);a.fare&&f&&(f+=", ");l==D.TRANSFER_CAR?(d.addClass("taxi"),e.text(c.text("name")+"\uae4c\uc9c0 \ud0dd\uc2dc\ub85c \uc774\ub3d9"),a.taxiFare&&(f&&(f+=", "),f+="\uc694\uae08 \uc57d "+a.taxiFare),a.distance&&(f&&(f+=", "),f+="\uac70\ub9ac "+a.distance),f?b.$("moreRouteTxt").set(f):b.$("moreRouteWrap").addClass("HIDDEN")):l==D.TRANSFER_WALK?(d.removeClass("INTERCITY").addClass("walk"),e.text(c.text("name")+"\uae4c\uc9c0 \ub3c4\ubcf4\ub85c \uc774\ub3d9"),a.distance&&
(f&&(f+=", "),f+=a.distance+" \uc774\ub3d9"),f?b.$("moreRouteTxt").set(f):b.$("moreRouteWrap").addClass("HIDDEN")):(f&&b.$("custom_inter_time").text(f),b.$("transInterTypeInfo").hide(),u.hide());b.$("oneItem").click(function(){o.notify()})}function f(){C=new h("ol","public_detail");O=[];a.publicSteps.forEach(function(b,c){var d=null;b.walk&&b.type!=Q.OTHER?(b.walkGroup.walkGuide=!1,d=new Fc(b.walkGroup)):d=new we(b);C.addChild(d.getPane());c==a.publicSteps.length-1&&d.setLast();0==c&&d.setFirst();
d.onClick.add(function(){g(c)},this);O.push(d)},this);C.appendTo(v);C.hide()}function g(a,b){b?q.notify({idx:a,isLast:b}):q.notify(a)}console.assert(a instanceof D||void 0!==a.length);var j=null;void 0!==a.length&&(j=a,a=j[0]);var l=this.vehicleType=a.vehicleType,m=a.routeType,k=!1;l==D.TRAIN&&(k=!0);var v=F("TransitInterPointItemView",{isInterTraffic:m==D.INTERCITY?!0:!1,isCustomType:l==D.TRANSFER_CUSTOM?!0:!1,isOneLineSummary:l==D.TRANSFER_WALK||l==D.TRANSFER_CAR?!0:!1,longInterval:a.longInterval,
hasReservation:a.reservation||k,destination:a.end.text("name")}),o=this.onClick=new n,r=this.onOver=new n,x=this.onOut=new n;this.onPointClick=new n;this.onPointOver=new n;this.onPointOut=new n;this.onDetailBtnForLog=new n;var q=this.onChildPointClick=new n;this.onInterChildPointClick=new n;var s=this.interSubItems=[],u=v.$("trans_type_header"),w=v.$("trans_inter_time"),C=k=null,O=[];v.click(function(a){var b=jQuery(a.target);l==="AIRPLANE"?p.click("route","go_public_flightcell"):l==="TRAIN"?p.click("route",
"go_public_traincell"):l==="TRANSFER_CAR"?p.click("route","go_public_taxicell"):l==="INTERCITY_BUS"||l==="EXPRESS_BUS"?p.click("route","go_public_exbuscell"):l==="FERRY"&&p.click("route","go_public_shipcell");if(!b.hasClass("reservation_btn")&&!(b.hasClass("detailBtn")||b.closest(".public_detail").length>0)){o.notify();a.stopPropagation()}});v.hover(function(){r.notify()},function(){x.notify()});(function(){var b;if(l=="TRAIN"){b=a.subType;var c="";b=="KTX"?c="KTX":b=="ITX"?c="ITX":b=="SRT"?c="SRT":
b=="\uc0c8\ub9c8\uc744"?c="SAEMAEUL":b=="\ubb34\uad81\ud654"?c="MUGUNGHWA":b=="\ub204\ub9ac\ub85c"?c="NURIRO":b=="\ud1b5\uadfc"?c="TONGGEUN":b=="ITX\uc0c8\ub9c8\uc744"?c="ITXSAEMAEUL":b=="DMZtrain"&&(c="DMZT");b=c}else b=l;c="";b==="TRANSFER_PUBLICTRAFFIC"?c="\uc2dc\ub0b4\uad6c\uac04":b==="EXPRESS_BUS"?c="\uace0\uc18d\ubc84\uc2a4":b==="INTERCITY_BUS"?c="\uc2dc\uc678\ubc84\uc2a4":b==="KTX"||b==="ITX"||b==="SRT"?c=b:b==="SAEMAEUL"?c="\uc0c8\ub9c8\uc744":b==="MUGUNGHWA"?c="\ubb34\uad81\ud654":b==="NURIRO"?
c="\ub204\ub9ac\ub85c":b==="AIRPLANE"?c="\ud56d\uacf5":b==="FERRY"?c="\uc5ec\uac1d\uc120":b==="TRANSFER_CAR"?c="\ud0dd\uc2dc":b==="TRANSFER_WALK"?c="\ub3c4\ubcf4":b==="TONGGEUN"?c="\ud1b5\uadfc":b==="ITXSAEMAEUL"?c="ITX \uc0c8\ub9c8\uc744":b==="DMZT"&&(c="DMZtrain");u.addClass(b);u.set(c)})();this.pointItemViews_=[];if(l==D.TRANSFER_PUBLICTRAFFIC)k=new Hd(a.publicSummaries),v.append(k.getPane().removeClass("clickArea").addClass("detail_summary")),f(),this.pointItemViews_=O,c([a]),C&&C.show(),k&&k.getPane().hide();
else if(m==D.PUBLICTRAFFIC)e(v),c([a]);else{m=0;if(j){for(m=0;m<j.length;m++)this.pointItemViews_.push(d(j[m],m));m=j.length-1;c(j)}else this.pointItemViews_.push(d(a,m)),c([a]);this.pointItemViews_.push(b(j?j[j.length-1]:a,m))}this.setItemActive=function(a){if(a)switch(this.vehicleType){case D.EXPRESS_BUS:case D.INTERCITY_BUS:p.click("route","go_public_expressbuscell");break;case D.TRAIN:p.click("route","go_public_traincell");break;case D.AIRPLANE:p.click("route","go_public_flightcell");break;case D.FERRY:p.click("route",
"go_public_shipcell");break;case D.TRANSFER_CAR:p.click("route","go_public_taxicell");break;case D.TRANSFER_WALK:p.click("route","go_public_walkcell");break;case D.TRANSFER_CUSTOM:p.click("route","go_public_noticell")}};this.setItemHighlight=function(){};this.getPane=function(){return v};this.deActiveDetailRoute=function(){v.$("moreRouteWrap").removeClass("open")};this.setLast=function(){v.addClass("TransitInterPointItem-LAST")}}function ve(a,b,c){function d(){var c=m.$("detailIcoWrap"),d=m.$("summaryIcon"),
e=m.$("name"),f=a.getIconClassName();d.addClass(f);c.addClass("getoff");e.set(a.end.text("name"));m.click(function(){g.notify({interCitySubIdx:b,sub:1})})}function e(a){var b=-1,b=a.indexOf("\uc2dc\uac04")+2;return 1===b?a:a.substr(0,b)+" "+a.slice(b,a.length)}function f(){var c=a.start,d=a.end,f=c.text("type");d.text("type");var j=m.$("tp_line"),l=m.$("moreRouteTxt"),h=m.$("moreRouteWrap"),d=m.$("nameWrap"),s=m.$("summaryIcon"),u=m.$("name"),w=m.$("reservationBtn"),C=!1;a.vehicleType==D.TRAIN&&(C=
!0);m.click(function(){0===b||void 0===b?g.notify():g.notify({interCitySubIdx:b})});var n=a.getIconClassName();s.addClass(n);j.addClass(n);f&&(f=f.toLowerCase(),s.addClass(f));u.text(c.text("name"));c="";a.time&&(c+=e(a.time));a.fare&&(c&&(c+=", "),c+="\uc694\uae08 \uc57d "+a.fare);c&&(h.removeClass("HIDDEN"),l.set(c));(c=a.getLabelClassName())&&d.append(jQuery('<span class="ico_subway '+c+' ">'+a.interTypeName+"</span>"));if(a.reservation||C)(a.vehicleType==D.TRAIN||C)&&w.addClass("not_realtime"),
w.removeClass("HIDDEN"),a.vehicleType===D.TRAIN?w.text("\uc6b4\ud589\uc815\ubcf4"):w.text("\uc2e4\uc2dc\uac04 \uc608\ub9e4"),w.click(function(){var b=Application.transitRouteSearchController.panel_.dssObject_;b&&z.log("path_transit_click_timetable",b.q,{tab:b.tab,mkey:b.mkey,cpg:b.cpg,qidx:b.qidx});if(a.vehicleType==D.TRAIN)if(a.subType=="SRT"){p.click("route","go_public_intercityinfo_train_srt");A.open("http://www.srail.co.kr")}else{p.click("route","go_public_intercityinfo_train");A.open("http://www.letskorail.com")}else{b=
{};if(a.start){b.s_id=a.start.text("id");b.s_name=a.start.text("name")}if(a.end){b.e_id=a.end.text("id");b.e_name=a.end.text("name")}a.vehicleType==D.FERRY?p.click("route","go_public_intercityreservation_ship"):p.click("route","go_public_intercityreservation_bus");require("server").interCityTimetable(b)}})}var g=this.onClick=new n,j=this.onOver=new n,l=this.onOut=new n,m=F("TransitInterPointSubItemView");c?d():f();(function(){m.hover(function(){j.notify()},function(){l.notify()})})();this.getPane=
function(){return m}}function yb(a){fa(this,h,"li","TransitRouteItem");this.addClass("InterTransitRouteItem");this.busLineBtnClick=new n;this.onPointClick=new n;this.onDestination=new n;this.onWalkDetail=new n;this.onDetail=new n;this.onOver=new n;this.onOut=new n;this.onWalkRoadview=new n;this.route_=a;this.onChildPointClick=new n;this.itemIndexCount=0;this.addChild(new h("div","top_line"));var b=(new h("div","title")).addClass("clickArea");this.addChild(b);var c=a.totalTime,d=(c-c%60)/60,e=new h("span",
"time");d&&(e.addChild(new h("span","num",d)),e.addChild(new h("span","hourTxt","\uc2dc\uac04 ")));"0"!=(c%60).toString()&&(e.addChild(new h("span","num",(c%60).toString())),e.addChild(new h("span","minitueTxt","\ubd84")));b.addChild(e);var c=new h("div","transTypeInfo"),d=new h("span","trans_type"),e="",f=a.subType||a.type;0<a.transfers&&!a.transferOneType&&(f="TRANSFER");"EXPRESS_BUS"===f?e="\uace0\uc18d\ubc84\uc2a4":"INTERCITY_BUS"===f?e="\uc2dc\uc678\ubc84\uc2a4":"KTX"===f?e="KTX":"ITX"===f?e=
"ITX":"SRT"===f?e="SRT":"SAEMAEUL"===f?e="\uc0c8\ub9c8\uc744":"MUGUNGHWA"===f?e="\ubb34\uad81\ud654":"NURIRO"===f?e="\ub204\ub9ac\ub85c":"AIRPLANE"===f?e="\ud56d\uacf5":"FERRY"===f?e="\uc5ec\uac1d\uc120":"TAXI"===f?e="\ud0dd\uc2dc":"WALK"===f?e="\ub3c4\ubcf4":"TRANSFER"===f?e="\uc2dc\uc678\uad6c\uac04":"TONGGEUN"===f?e="\ud1b5\uadfc":"ITXSAEMAEUL"===f?e="ITX \uc0c8\ub9c8\uc744":"DMZT"===f&&(e="DMZ train");d.setText(e+" ");c.addChild(d);d=new h("span","inter_time");d.setText(a.timeText.replace("\uc2dc\uac04",
"\uc2dc\uac04 "));d.addChild(new h("span","bar"));e="";e=a.fare?"\uc694\uae08 \uc57d "+a.fare:"\uc694\uae08\uc815\ubcf4 \uc5c6\uc74c";d.addText(e);c.addChild(d);c.addClass("clickArea");b.addChild(c);c=this.detailButton_=new h("span","right_detail",new h("a","detail"));c.onClick.add(this.clickDetail_,this);b.addChild(c);this.addChild((new Hd(a.summaries)).getPane());b=this.transitlist_=new h("ol","");this.pointItemViews_=[];this.addChild(b);this.onClick.add(this.clickSelf_,this);this.bounds_=a.bounds;
this.onEnter.add(function(){this.getActive()||this.addClass("TransitRouteItem-OVER");this.onWrapOver.notify()},this);this.onLeave.add(function(){this.getActive()||this.removeClass("TransitRouteItem-OVER");this.onWrapOut.notify()},this);this.addChild(new h("div","bottom_line"));this.onWrapOver=new n;this.onWrapOut=new n;this.onDetailBtnForLog=new n}function we(a){function b(){if(null==a.roadview)j.hide();else{var b=new Rb(j);b.setThumnail(a.roadview.thumbnail);b.onClick.add(function(){e.notify(null)});
b.onOver.add(function(){w=!0});b.onLeave.add(function(){null!=b&&(b=null);w=!1;g.notify()})}}console.assert(a instanceof Q);var c=F("TransitPointItemView",{isNodes:0!=a.nodes.length&&!a.isInterPublic?!0:!1,nodes:a.nodes,nodeCode:a.subwayCode?a.subwayCode:"buscode",isPublicPoint:a.isInterPublic?!1:!0,isInterPublic:a.isInterPublic?!0:!1,isOther:a.type==Q.OTHER?!0:!1}),d=this.onClick=new n,e=this.onRoadview=new n,f=this.onOver=new n,g=this.onOut=new n,j=c.$("roadview");c.$("busArrivalBtn");var l=c.$("subwayLineBtn"),
m=c.$("name"),k=c.$("summaryIcon"),h=c.$("tp_line"),o=c.$("desc");c.$("tip");var r=c.$("moreRoute"),x=c.$("detailRoute"),q=c.$("vehicles"),s=!1,u=!1,w=!1;c.click(function(b){b=jQuery(b.target);!b.hasClass("vehicle")&&(!b.hasClass("subwaylineBtn")&&!b.hasClass("nodeName"))&&(a.subway?p.click("route","go_public_subwaycell"):a.busStop&&p.click("route","go_public_busstopcell"),d.notify())});c.hover(function(){f.notify()},function(){w||g.notify()});a.action!=Q.GETOFF?(c.$("moreRouteTxt").text(a.time+", "+
(a.nodes.length+1)+"\uac1c "+(a.subway?"\uc5ed ":"\uc815\ub958\uc7a5 ")+"\uc774\ub3d9"),0!=a.nodes.length&&!a.isInterPublic&&r.click(function(b){s?(c.$("moreRouteWrap").removeClass("open"),x.hide(),s=!1):(c.$("moreRouteWrap").addClass("open"),x.show(),s=!0,p.click("route",a.bus?"go_public_bus_routeopen":"go_public_subway_routeopen"));b.stopPropagation()})):c.$("moreRouteWrap").addClass("HIDDEN");a.action==Q.GETOFF&&c.$("detailIcoWrap").addClass("getoff");k.addClass(a.subway?"SUBWAYSTATION":"BUSSTOP");
a.subway&&(k.addClass(a.subwayCode),h.addClass(a.subwayCode+"_line"));m.text("BUS"==a.type?a.name+" \uc815\ub958\uc7a5 "+a.actionName:a.name+" "+a.actionName);(function(){if(a.vehicles&&a.vehicles.length!=0){q.show();var b=a.vehicles.filter(function(a){return a.id!="SES27"||a.subType!="EXPRESS"?a.visible:false});if(a.type=="BUS"){var c="",d="";b.forEach(function(b,e){var f=b.lineType;c==f?f="no":c=f;f="";f=d===b.lineType?jQuery('<a href="#" >'+(b.parentName?b.parentName:b.name)+"</a>"):jQuery('<a href="#" ><span class="ico_bus '+
b.lineType+'" ></span>'+(b.parentName?b.parentName:b.name)+"</a>");e!=0&&q.append('<span class="comma">, </span>');f.click(function(c){p.click("route","go_public_bus_busroute");a.busStop&&a.busStop.id&&Application.busLineController.setBusStop(a.busStop.id,"",b.startOrder);Application.busLineController.setData(b.id,true);c.stopPropagation()});q.append(f);d=b.lineType});o.hide()}else if(b.length==1&&b[0].subType=="GENERAL")q.hide();else{q.show();b.forEach(function(a){jQuery("<span></span>").addClass(a).appendTo(q)})}}})();
a.isInterPublic||b();(function(){if(!a.subway||a.action==Q.GETOFF)l.hide();else{var b=a.subwayStation.id;b&&l.toggleClass("only",!a.roadview).click(function(a){a.preventDefault();open(require("url").DAUM_PLACE+b+"#timeTableSection");p.click("route","go_public_timetable");(a=Application.transitRouteSearchController.panel_.dssObject_)&&z.log("path_transit_click_timetable",a.q,{tab:a.tab,mkey:a.mkey,cpg:a.cpg,qidx:a.qidx})})}})();(function(){if(a.subway){if(a.desc){c.find(".descWrap").show();o.show().text(a.desc)}if(a.vehicles){var b=
a.vehicles.filter(function(a){return a.id!="SES27"||a.subType!="EXPRESS"?a.visible:false}),d=c.$("subwayTypes");if(b.length==1&&b[0].subType=="GENERAL")d.hide();else{d.show();b.forEach(function(a){jQuery('<li class="'+a.subType.toLowerCase()+'"/>').appendTo(d)})}}if(a.tip){b=jQuery('<span class="tip" data-id="tip">'+a.tip+"</span>");c.find(".descWrap").append("<br/>").append(b)}}})();a.nextOther&&h.hide();a.type==Q.OTHER&&(c.$("pointItemWrap").hide(),m=c.$("otherTime"),k=c.$("otherTitle"),m.text(a.time),
k.text(a.endLocation.text("name")+"\uae4c\uc9c0 \uc774\ub3d9"));this.setItemActive=function(a){u=a;c.toggleClass("TransitPointItem-ACTIVE",u)};this.setItemHighlight=function(a){u||c.toggleClass("TransitPointItem-ACTIVE",a)};this.getPane=function(){return c};this.deActiveDetailRoute=function(){c.$("moreRouteWrap").removeClass("open");x.hide();s=false};this.setLast=function(){c.addClass("TransitPointItemView-LAST")};this.setFirst=function(){c.addClass("TransitPointItemView-FIRST")}}function bb(a){fa(this,
h,"li","TransitRouteItem");this.busLineBtnClick=new n;this.onPointClick=new n;this.onDestination=new n;this.onWalkDetail=new n;this.onDetail=new n;this.onOver=new n;this.onOut=new n;this.onWalkRoadview=new n;this.route_=a;var b=(new h("div","title")).addClass("clickArea");this.addChild(b);var c=a.time,d=90>c?1:Math.round(c/60),e=(d-d%60)/60,c=new h("span","time");e&&(e=new h("span","num",e),c.addChild(e),c.addChild(new h("span","hourTxt","\uc2dc\uac04 ")));"0"!=(d%60).toString()&&(d=new h("span",
"num minute",(d%60).toString()),c.addChild(d),c.addChild(new h("span","minitueTxt","\ubd84 ")));d=new h("span","walkTime");a.walkingTime&&(e=a.walkingTime,d.addChild(new h("span","walkTitleTxt","\ub3c4\ubcf4")),d.addChild(new h("span","num",90>e?1:Math.round(e/60))),d.addChild(new h("span","minitueTxt","\ubd84")));a.transfers?(a.walkingTime&&d.addChild(new h("span","bar")),d.addChild(new h("span","transfer","\ud658\uc2b9")),d.addChild(new h("span","num transferCnt",a.transfers)),d.addChild(new h("span",
"cntTxt","\ud68c"))):(a.walkingTime&&d.addChild(new h("span","bar")),d.addChild(new h("span","transfer","\ud658\uc2b9")),d.addChild(new h("span","noTransfer","\uc5c6\uc74c")));d.addChild(new h("span","bar"));e=new h("span","",a.fare?"\uc694\uae08 "+a.fare:"\uc694\uae08\uc815\ubcf4 \uc5c6\uc74c");d.addChild(e);c.addChild(d);b.addChild(c);c=this.detailButton_=new h("span","right_detail",new h("a","detail"));c.onClick.add(this.clickDetail_,this);b.addChild(c);this.addChild((new Hd(a.summaries)).getPane());
b=this.transitlist_=new h("ol","");this.pointItemViews_=[];this.addChild(b);this.onClick.add(this.clickSelf_,this);this.bounds_=a.bounds;this.onEnter.add(function(){this.getActive()||this.addClass("TransitRouteItem-OVER");this.onWrapOver.notify()},this);this.onLeave.add(function(){this.getActive()||this.removeClass("TransitRouteItem-OVER");this.onWrapOut.notify()},this);this.addChild(new h("div","bottom_line"));this.onWrapOver=new n;this.onWrapOut=new n}function Hd(a){function b(a,b){var c=b.locationName,
d=null;if("SUBWAYSTATION"==b.type){var e=[];b.vehicles&&(e=b.vehicles.filter(function(a){return"SES27"!=a.id||"EXPRESS"!=a.subType?a.visible:!1}),c+="("+b.vehicles[0].name+")");var k=a.$("subwayTypes");1==e.length&&"GENERAL"==e[0].subType?(k.hide(),b.vehicles[0].direction&&(d=jQuery('<span class="direction" >'+b.vehicles[0].direction+" \ubc29\uba74</span>"))):(k.show(),e.forEach(function(a){var b=a.subType.toLowerCase();jQuery('<li class="'+a.subType.toLowerCase()+'">'+(b==="general"?"\uc77c\ubc18":
b==="express"?"\uae09\ud589":"")+"</li>").appendTo(k)}))}else if("INTERCITY"==b.type)if(b.isTransfer&&b.subType)k=a.$("subwayTypes"),e=b.subType.toLowerCase(),"itxsaemaeul"===e&&(e="itx"),e&&(jQuery('<li class="intercity_inner '+e+'" ></li>').appendTo(k),k.show());else{if(b.vehicle&&"GETOFF"!==b.action&&(k=a.$("subwayTypes"),e=D.getLabelClassName(b.vehicle)))jQuery('<li class="intercity_inner '+e+'" ></li>').appendTo(k),k.show()}else if(b.vehicles){var h=a.$("busVehicles").show(),e=b.vehicles.filter(function(a){return a.visible}),
o="",r="";e.slice(0,5).forEach(function(a,b){0!=b&&h.append(", ");var c=a.lineType;o==c?r=jQuery('<a href="#" >'+(a.parentName?a.parentName:a.name)+"</a>"):(o=c,r=jQuery('<a href="#" ><span class="ico_bus '+c+'" ></span>'+(a.parentName?a.parentName:a.name)+"</a>"));r.appendTo(h)});5<e.length&&jQuery('<span class="moreVehicle"> ...</span>').appendTo(h);b.displayId&&(d=jQuery('<span class="direction" >'+b.displayId.replace(/-/gi,"")+"</span>"))}a.$("name").text(c);d&&a.$("name").append(d)}var c=a.length-
1,d=jQuery("<div/>").addClass("TransitRouteOutlineView").addClass("clickArea"),e=jQuery("<div/>").addClass("SummaryDetail").appendTo(d);d.$("summaryName");a.forEach(function(a){var d=F("TransitRouteOutlineItemView");d.$("summaryDesc").addClass(a.type.toLowerCase());b(d,a);if(a.type){var j=d.$("summaryIcon");j.addClass(a.typeCode);var l=d.$("transitline");"SUBWAYSTATION"==a.type?(j.addClass(a.type),l.addClass(a.typeCode+"_line"),("subway_j"==a.typeCode||"subway_ky"==a.typeCode||"subway_ml"==a.typeCode||
"subway_ui"==a.typeCode)&&d.$("summaryDesc").addClass("subwayLargeIcon")):"INTERCITY"==a.type?j.addClass(Zb.getIconClassName(a.vehicle)):j.addClass(a.type)}a.action==Q.GETOFF_TRANSFER?d.addClass("getoff_transfer"):a.action==Q.GETOFF&&c==a.index&&(d.$("summaryDesc").removeClass("subwayLargeIcon"),d.addClass("getoff"));d.appendTo(e)});this.getPane=function(){return d}}function ra(a){fa(this,h,"div","TransitRouteResultView");this.onItem=new n;this.onPointClick=new n;this.busLineBtnClick=new n;this.onDestination=
new n;this.onWalkDetail=new n;this.onItemDetail=new n;this.onOver=new n;this.onOut=new n;this.onSearchBtnClick=new n;this.onChildPointClick=new n;this.currentTab_=3;this.currentInterTab_=4;this.currentBoundTab_=0;this.transitRouteItemView_=a;this.onWrapOver=new n;this.onWrapOut=new n;this.dssObject_={};this.below_="";this.dssQIndex_=0}function Xb(){}function kf(){if(!(this instanceof arguments.callee))return new arguments.callee;var a=this.onClick=new n,b=new h(F("WalkFunctionToolBarView"));this.favorite_=
b.getElement().$("favorite");this.favorite_.click(function(){a.notify({id:"favorite",fav:this.fav_})}.bind(this));b.getElement().$("print").click(function(){a.notify({id:"print"})});b.getElement().$("alook").click(function(){a.notify({id:"alook"})});this.getPane=function(){return b};this.updateFav=function(a){a&&(this.fav_=a);if(this.fav_){if(a=Application.favoriteController.findFavorite(this.fav_)){var b=10>a.count?a.count:"10";this.favorite_.find(".num").attr("class","num num"+b).text(a.count)}this.favorite_.toggleClass("favorite-active",
!!a)}}}function xe(a,b){function c(a){99<a&&s.addClass("bigIndex");s.$("seq").text(a)}function d(a){var b=jQuery('<a href="#none" data-id="roadview" class="roadviewWrap roadview">\ub85c\ub4dc\ubdf0</a>'),c=new Rb(b);c.setThumnail(a.thumbnail);c.onClick.add(function(){l.notify(r)},this);c.onOver.add(function(){x=!0});c.onLeave.add(function(){null!=c&&(c=null);x=!1;e(!1);j.notify()},this);s.$("icoRight").append(b)}function e(a){s.toggleClass("WalkGroupPointItemView-ACTIVE",!!a)}var f=this.onClick=new n,
g=this.onMouseover=new n,j=this.onMouseout=new n,l=this.onRoadview=new n,m=b.seq||0,k=b.desc||"\uc81c\ubaa9\uc5c6\uc74c",h=b.action||null,o=b.rotationCode||null,r=b.roadview||null,x=!1,q=!1,s=F("WalkGroupPointItemView");s.appendTo(a);b.roadview&&d(b.roadview);m&&c(m);b.getSummary()&&s.$("title").addClass("walkTitle").set(b.getSummary());s.$("desc").set(k);(function(a,b){var c=s.$("action");if(a&&-1!=a.indexOf("EXIT")&&b)c.addClass("action-"+b);else if(a&&(a=a.replace("EXIT","ENTER")),position_=Yb.ACTION_LIST[a],
void 0!=position_){c.css("backgroundPosition","-30px "+-30*position_+"px");var d=jQuery("<i/>");d.appendTo(c);d.css({marginTop:-(25*position_)+"px",marginLeft:"0px"})}else c.addClass("action-"+(b||"STRAIGHT"))})(h,o);s.click(function(){q=!0;f.notify()});s.mouseenter(function(){q||(e(!0),g.notify())});s.mouseleave(function(){!q&&!x&&(e(!1),j.notify())}.bind(this));this.setHighlight=function(a){q||e(a)};this.setActive=function(a){q=a;e(a)};this.setLastItem=function(){s.addClass("WalkGroupPointItemView-LAST")};
this.getPane=function(){return s}}function tc(a,b,c){function d(){w?(s.removeClass("on"),x.show(),q.hide(),w=!1,h.notify(!1)):(s.addClass("on"),x.hide(),q.show(),f(!1),w=!0,h.notify(!0));r.toggleClass("WalkTransitItemView-DETAIL",w);p.click("route","go_"+("walk"==c?"walk_group":"publick_walk")+(w?"_show":"_hide"))}function e(a){w=!!a;s.toggleClass("on",w);x.toggle(!w);q.toggle(w);r.toggleClass("WalkTransitItemView-DETAIL",w)}function f(a){r.toggleClass("WalkPointGroupView-ACTIVE",!!a)}function g(a){q.empty();
u=a.map(function(b,c){var d=new xe(q,b);c==a.length-1&&d.setLastItem();d.onClick.add(function(){j.notify(c)});d.onMouseover.add(function(){l.notify(c)});d.onMouseout.add(function(){m.notify(c)});d.onRoadview.add(function(a){k.notify(a)});return d})}if(!(this instanceof arguments.callee))return new arguments.callee(a,b,c);var j=this.onClick=new n,l=this.onMouseover=new n,m=this.onMouseout=new n,k=this.onRoadview=new n,h=this.onDetail=new n,o=this.onWalkSummaryClick=new n,r=null,x=null,q=null,s=null,
u=[],w=!1;if(!c||"walk"==c){var r=F("WalkPointGroupView").appendTo(a),C=b.points[0].seq,O=b.points[b.points.length-1].seq;ec(r.$("groupNumber"),"walkList",C,O);ec(r.$("groupNumber"),"walkListOn",C,O)}else"transit"==c&&(r=F("WalkTransitItemView").appendTo(a),r.find(".walkBrief").click(function(){o.notify()}),r.$("title").click(function(){o.notify()}));x=r.$("briefdesc");O=b.time/3600|0;C="";O&&(C+=O+"\uc2dc\uac04 ");O=(b.time/60|1)%60;r.$("time").set(C+=O+"\ubd84");r.$("distance").set(String.formatDistance(b.distance));
q=r.$("detail");q.hide();s=r.$("detailBtn");s.hide();b.walkGuide&&(s.show(),s.click(d),"transit"!=c&&r.$("groupNumber").click(d));(C=b.start+"~"+b.end)?x.show().set(C):x.hide();r.mouseenter(function(){if(!w){f(true);l.notify(null)}});r.mouseleave(function(){if(!w){f(false);m.notify(null)}});g(b.points);this.setDetailActive=e;this.setItem=g;this.getPane=function(){return r};this.setActive=function(a,b){f(false);b&&e(b);u.length!=0&&(a==null?u[0].setActive(b):u[a].setActive(b))};this.setHighlight=function(a,
b){w&&a!=null?u[a].setHighlight(b):w||f(b)};this.deactivateAll=function(){f(false);u.forEach(function(a){a.setActive(false)})};this.dehighlightAll=function(){f(false);u.forEach(function(a){a.setHighlight(false)})};this.getGroupInfo=function(){return{detailActive:w,pos:r.offset()}};this.getItem=function(a){return u[a]};this.isGroupPoints=function(){return u.length==0};this.hide=function(){r.hide()}}function Id(a,b,c){function d(a){99<a&&k.addClass("bigIndex");k.$("seq").text(a)}function e(a){var c=
jQuery("<a class=roadview />"),d=new Rb(c);d.setThumnail(a.thumbnail);d.onClick.add(function(){z.logRoadview("route_walk_rv",a.panoId,b.coords,Application.localInfoController.getHCodeForLog());m.notify(q)},this);d.onOver.add(function(){s=!0});d.onLeave.add(function(){null!=d&&(d=null);s=!1;f(!1);l.notify()},this);k.$("roadview").append(c)}function f(a){k.toggleClass("WalkPointItemView-ACTIVE",!!a)}if(!(this instanceof arguments.callee))return new arguments.callee(a,b,c);var g=this.onClick=new n,j=
this.onMouseover=new n,l=this.onMouseout=new n,m=this.onRoadview=new n,k=F("WalkPointItemView").appendTo(a),h=b.seq||0,o=b.desc||"\uc81c\ubaa9\uc5c6\uc74c",r=b.action||null,x=b.rotationCode||null,q=b.roadview||null,s=!1;h&&d(h);b.getSummary()&&k.$("title").addClass("title").set(b.getSummary());k.$("desc").set(o);(function(a,b){var c=k.$("action"),d=["EXIT_SUBWAY_ELEVATOR"];a&&b&&-1!==a.indexOf("EXIT")&&-1===d.indexOf(a)?c.addClass("action-"+b):(a&&(a=a.replace("EXIT","ENTER")),position_=Yb.ACTION_LIST[a],
void 0!=position_?(c.css("backgroundPosition","-30px "+-30*position_+"px"),d=jQuery("<i/>"),d.appendTo(c),d.css({marginTop:-(25*position_)+"px",marginLeft:"0px"})):c.addClass("action-"+(b||"STRAIGHT")))})(r,x);q&&e(q);var u=!1;k.click(function(){u=!0;g.notify();p.click("route","go_walk_textpoint")});k.mouseenter(function(){u||(f(!0),j.notify())});k.mouseleave(function(){!u&&!s&&(f(!1),l.notify())}.bind(this));this.setHighlight=function(a){u||f(a)};this.setActive=function(a){u=a;f(a)};this.getPane=
function(){return k}}function ye(a){function b(){I=!0;var a=0;j=O.points.map(function(b,c){var d=null;if("start"==b.seq||"goal"==b.seq||"through"==b.seq)return d=require("view/StartEndPointItemView"),b.confirmid=O.waypoints[a++].id,d=new d(b),d.getPane().appendTo(w),d.onClick.add(function(a){l.notify({index:c,sub:a})},this),d;b instanceof Ac?(d=tc(w,b,"walk"),d.onDetail.add(function(a){a&&x.notify({index:c,coords:b.points[0].coords})})):d=Id(w,b);d.onClick.add(function(a){l.notify({index:c,sub:a})});
d.onMouseover.add(function(a){o.notify({index:c,sub:a})});d.onMouseout.add(function(a){r.notify({index:c,sub:a})});d.onRoadview.add(function(a){h.notify(a)});return d})}function c(){var a=jQuery("#info\\.body").scrollTop(),b=a+(q.offset().top-170),a=0.5*Math.abs(b-a);3E3<a&&(a=1E3);jQuery("#info\\.body").animate({scrollTop:b},a,function(){})}function d(){j.forEach(function(a){a instanceof tc?a.deactivateAll():a.setActive&&a.setActive(!1)})}function e(){j.forEach(function(a){a instanceof tc?a.dehighlightAll():
a.setHighlight&&a.setHighlight(!1)})}function f(a){var b=C,c=A.document.documentElement.clientTop,d=b.scrollTop(),a=a.offset().top-b.offset().top+d-c;C.scrollTop(a-C.outerHeight()/2)}function g(a){a&&!I&&b();s=a;q.toggleClass("WalkRouteItem-DETAIL",s)}if(!(this instanceof ye))return new arguments.callee(a);var j=[],l=this.onWalkPoint=new n,m=this.onHover=new n,k=this.onDetail=new n,h=this.onRoadview=new n,o=this.onWalkPointMouseover=new n,r=this.onWalkPointMouseout=new n,x=this.onWalkPointDetail=
new n,q=F("WalkRouteItemView");q.appendTo(a);var s=!1,u=q.$("summary"),w=q.$("list"),C=jQuery("#info\\.body"),O=null;u.hover(function(){m.notify(!0)},function(){m.notify(!1)});u.on("click",function(){g(!s);k.notify(s);if(s){var a=(O.routeMode||"").toLowerCase();p.click("route","go_walk_"+a)}else p.click("route","go_walk_innerdetail_close");Application.windowController.onHeightChange.notify()});this.setData=function(a){if(O=a){q.show();var b=q.$("time"),c=q.$("distance"),d=q.$("mode"),e="",f=q.$("selectedBar");
"BROAD_FIRST"===a.routeMode?e="\ud070\uae38\uc6b0\uc120":"SHORTEST"===a.routeMode?e="\ucd5c\ub2e8\uac70\ub9ac":"ACCESSIBLE"===a.routeMode&&(e="\ud3b8\uc548\ud55c\uae38");d.set(e);f.addClass(a.routeMode);b.children().remove();d=a.time;d=90>d?1:Math.round(d/60);if(e=(d-d%60)/60)jQuery("<span/>").addClass("num").set(e).appendTo(b),jQuery("<span/>").addClass("text").set("\uc2dc\uac04 ").appendTo(b);d%=60;0<d&&(jQuery("<span/>").addClass("num").set(d).appendTo(b),jQuery("<span/>").addClass("text").set("\ubd84").appendTo(b));
c.children().remove();b=a.distance/1E3;0<=b&&(1<b?(jQuery("<span/>").addClass("num").set(b.toFixed(1)).appendTo(c),jQuery("<span/>").addClass("text").set("km").appendTo(c)):(jQuery("<span/>").addClass("num").set(1E3*b).appendTo(c),jQuery("<span/>").addClass("text").set("m").appendTo(c)));c=q.$("info");b=q.$("facilities");d=q.$("calories");e=[];a.bridge&&e.push("\uc721\uad50 "+a.bridge+"\ud68c");a.underground&&e.push("\uc9c0\ud558\ub3c4 "+a.underground+"\ud68c");a.stair&&e.push("\uacc4\ub2e8 "+a.stair+
"\ud68c");(e=e.join(" + "))?b.text(e):b.hide();a.calories?(e&&c.addClass("addInfo"),d.text(a.calories+"kcal\uc18c\ubaa8")):d.hide();w.empty()}else q.hide()};var I=!1;this.setItemActive=function(a,b){d();var c=j[a.index];if(c instanceof Id||c instanceof tc)c instanceof tc?(c.setActive(a.sub,b),f(c.getItem(a.sub).getPane())):(c.setActive(b),f(c.getPane()))};this.setHighlight=function(a,b){e();var c=j[a.index];if(c instanceof Id||c instanceof tc)c instanceof tc?null==a.sub?(c.setHighlight(null,b),f(c.getPane())):
(c.setHighlight(a.sub,b),c.getGroupInfo().detailActive?f(c.getItem(a.sub).getPane()):f(c.getPane())):(c.setHighlight(b),f(c.getPane()))};this.getItem=function(a){return j[a]};this.setHover=function(a){q.toggleClass("WalkRouteItem-HOVER",a)};this.animationScroll=function(){c()};this.setDetail=function(a){g(a)};this.isDetailOpen=function(){return s};this.getPanel=function(){return q}}function lf(a){if(!(this instanceof arguments.callee))return new arguments.callee(a);this.onOptionChange=new n;this.onCheckboxChange=
new n;var b=this.onWalkPoint=new n,c=this.onItemHover=new n,d=this.onItemDetail=new n,e=this.onRoadview=new n,f=this.onWalkPointMouseover=new n,g=this.onWalkPointMouseout=new n,j=this.onWalkPointDetail=new n;this.onSearchBtnClick=new n;this.onDestination=new n;var l=F("WalkRouteResultView");l.appendTo(a);var m=l.$("list"),k=null,v=0,o=null,r=[],x=null;this.goToTopBtn=l.$("goToTop");this.goToTopBtn.on("click",function(){h.$("info.body").scrollTo(0)});l.$("fixRoute").click(function(){var a={routeType:"walk",
searchInfo:{mode:"walk"}};a.start={name:o.waypoints[0].name,x:o.waypoints[0].coords.getX(),y:o.waypoints[0].coords.getY()};var b=o.waypoints.length;a.end={name:o.waypoints[b-1].name,x:o.waypoints[b-1].coords.getX(),y:o.waypoints[b-1].coords.getY()};a.waypoints=o.waypoints;jQuery(a.waypoints).each(function(a,b){b.x=b.coords.getX();b.y=b.coords.getY()});a.walkRoutes=[];a.isSelectRoute=!1;jQuery(o.walkRoutes).each(function(b,c){var d=jQuery.extend({},c.raw);d.isDetailOpen=r[b].isDetailOpen();d.isDetailOpen&&
(a.isSelectRoute=!0);a.walkRoutes.push(d)});a.bound=o.raw.bound;Application.fiyFrameController.open({type:"route",rawInfo:a});p.click("route","go_walk_fiy")});this.setData=function(a){a?(o=a,x=null,l.show(),m.empty(),r=a.walkRoutes.map(function(a,l){var h=new ye(m);h.setData(a);h.onWalkPoint.add(function(a){b.notify(a)});h.onHover.add(function(a){x?(h.setHover(a),c.notify({index:l,hover:a})):a&&(k&&k!=h&&(k.setHover(!1),c.notify({index:v,hover:!1})),h.setHover(!0),c.notify({index:l,hover:!0}));a&&
(k=h,v=l)});h.onDetail.add(function(a){k&&k!=h&&(k.setHover(!1),c.notify({index:v,hover:!1}));r.forEach(function(b,c){l!=c?b.setDetail(false):b.setDetail(a)});d.notify({index:l,detail:a})});h.onRoadview.add(function(a){e.notify(a)});h.onWalkPointMouseover.add(function(a){f.notify(a)});h.onWalkPointMouseout.add(function(a){g.notify(a)});h.onWalkPointDetail.add(function(a){j.notify(a)});return h}),Application.windowController.onHeightChange.notify()):l.hide()};this.setItemActive=function(a,b){x&&x.setItemActive(a,
b)};this.initDetailedItem=function(){x=null};this.setDetailedItem=function(a){x=null;x=r[a];setTimeout(function(){x&&x.animationScroll&&x.animationScroll()},100)};this.setHighlight=function(a,b){x&&x.setHighlight(a,b)};this.getItem=function(a){return x?x.getItem(a):null};this.initHover=function(){r[0]&&(r[0].setHover(!0),k=r[0],v=0)};this.show=function(){l.show()}}function Fc(a){function b(){o?(m.removeClass("detailOn"),l.hide(),o=!1,x.notify(!1),p.click("route","go_public_walk_hide")):(m.addClass("detailOn"),
l.show(),o=!0,x.notify(!0),p.click("route","go_public_walk_show"));q.toggleClass("WalkTransitItemView-DETAIL",o)}function c(a){o=!!a;m.toggleClass("on",o);l.toggle(o);q.toggleClass("WalkTransitItemView-DETAIL",o)}function d(a){q.toggleClass("WalkTransitItemView-ACTIVE",a)}var e=this.onClick=new n,f=this.onMouseover=new n,g=this.onMouseout=new n,j=this.onRoadview=new n,l=null,m=null,k=null,h=[],o=!1,r=!1,x=this.onDetail=new n,q=F("WalkTransitItemView");q.find(".WalkTransitItemViewWrap").click(function(a){p.click("route",
"go_public_walkcell");e.notify(null);a.stopPropagation()});q.$("summary").click(function(){r=!0});if(0!=a.points.length){var k=a.points[0].seq,s=a.points[a.points.length-1].seq;ec(q.$("groupNumber"),"walkList",k,s);ec(q.$("groupNumber"),"walkListOn",k,s)}var k=90>a.time?1:Math.round(a.time/60),s=(k-k%60)/60,u="";s&&(u+=s+"\uc2dc\uac04 ",(k-=60*s)||(k=1));q.$("time").set(u+=k+"\ubd84");q.$("distance").set(String.formatDistance(a.distance)+" \uc774\ub3d9");l=q.$("detail");l.hide();m=q.$("detailBtn");
m.hide();a.walkGuide&&(m.show(),m.click(b),q.$("groupNumber").click(b));s="";""!=a.summary?s=a.desc:""!=a.start&&(s=a.start+"~"+a.end);k=q.$("title");k.set(s);q.mouseenter(function(){if(!r){d(true);f.notify(null)}});q.mouseleave(function(){if(!r){d(false);g.notify(null)}});this.setDetailActive=c;this.setItem=function(a){l.empty();c(true);a.forEach(function(b,c){var d=new xe(l,b);c==a.length-1&&d.setLastItem();d.onClick.add(function(){e.notify(c)});d.onMouseover.add(function(){f.notify(c)});d.onMouseout.add(function(){g.notify(c)});
d.onRoadview.add(function(a){j.notify(a)});h.push(d)})};this.setDetail=function(a,b){c(b)};this.setActive=function(a,b){if(a){if(a.sub!=null){if(h.length==0)return;h[a.sub].setActive(b)}else d(b);r=b}};this.setHighlight=function(a,b){o&&a!=null?h[a].setHighlight(b):o||d(b)};this.deactivateAll=function(){d(false);h.forEach(function(a){a.setActive(false)})};this.dehighlightAll=function(){d(false);h.forEach(function(a){a.setHighlight(false)})};this.getGroupInfo=function(){return{detailActive:o,pos:q.offset()}};
this.getItem=function(a){return h[a]};this.isGroupPoints=function(){return h.length!=0};this.hide=function(){q.hide()};this.setLast=function(){q.addClass("WalkTransitItemView-LAST")};this.setFirst=function(){q.addClass("WalkTransitItemView-FIRST")};this.getPane=function(){return q}}ac.fetchMapOption_=function(a){var b={},c;a.wx&&a.wy?c=new daum.maps.Coords(a.wx,a.wy):a.x&&a.y?c=new daum.maps.Coords(a.x,a.y):a.urlX&&a.urlY?c=new daum.maps.Coords(a.urlX,a.urlY):a.URLX&&a.URLY?c=new daum.maps.Coords(a.URLX,
a.URLY):a.pos?(c=a.pos.split("|"),c=new daum.maps.Coords(c[0],c[1])):A.t_mapx&&A.t_mapy&&(c=new daum.maps.Coords(String.base92(A.t_mapx),String.base92(A.t_mapy)));c&&(b.center=c);c=a.level||a.urlLevel||a.URLLEVEL||a.z||void 0;void 0!==c&&(b.level=c);if(a={TYPE_MAP:daum.maps.MapTypeId.ROADMAP,TYPE_SKYVIEW:"true"==a.map_hybrid?daum.maps.MapTypeId.HYBRID:daum.maps.MapTypeId.SKYVIEW}[a.map_type])b.mapTypeId=a;return b};ac.prototype.readParams=function(a){var b=ac.fetchMapOption_(a);b.center&&this.map.setCenter(b.center);
b.level&&this.map.setLevel(b.level);b.mapTypeId&&this.map.setMapTypeId(b.mapTypeId);this.readRestParams_(a,b.center||this.map.getCenter())};ac.prototype.readRestParams_=function(a,b){function c(){var c=a.panoid||0,d=(a.store||"").split("_"),e=a.pan||0,f=a.tilt||0,g=a.zoom||0;if(c||a.panoid)ab.exists(c,function(a){var d=new zb(100,function(){d.stop();var j={coords:b,panoId:c,pan:e,tilt:f,zoom:g};a?Application.roadviewController.show(j):Application.roadviewController.client_.getNearestPanoId(b,[30,
40,50,70,100,150,250,350,450,900,1800,3600,7200,14400,28800][Application.map.getLevel()],function(a){a&&(j.panoId=a,Application.roadviewController.show(j))})},!0);d.start()});else if(d&&d[0]){var j;if(a.pan||a.tilt||a.zoom)j={pan:e,tilt:f,zoom:g};var l=new zb(100,function(){l.stop();Application.roadviewController.showStoreView(d[0],d[1],j,null,a.q?!1:!0)},!0);l.start()}}"on"===a.layer_setting&&this.mapControlView.clickLayerMain();if("3d"===a.map_type)alert("3D\uc9c0\ub3c4\ub294 \uce74\uce74\uc624\ub9f5 \uc571\uc5d0\uc11c \uc81c\uacf5\ub429\ub2c8\ub2e4.");
else if("safedriving"===a.map_type)alert("\uc548\uc804\uc8fc\ud589\ubaa8\ub4dc\ub294 \uce74\uce74\uc624\ub9f5 \uc571\uc5d0\uc11c \uc81c\uacf5\ub429\ub2c8\ub2e4.");else if(void 0!==a.quicktab||void 0!==a.w3w)alert("\uce74\uce74\uc624\ub9f5 \uc571\uc5d0\uc11c \uc81c\uacf5\ub429\ub2c8\ub2e4.");else{if(a.kakaomapScheme){var d=a.kakaomapScheme.split("?");if("open"===d[0]&&d[1]){var d=String.parseUrlEncoded(d[1]),e=d.page;if("theme"===e||"folder"===e||"bookmark"===e){A.location.href=A.location.origin+"?target=other&folderid="+
(d.folderid||d.themeid);return}}}a.editProfile&&this.layerProfileEditController.show();if("theme"===a.page)alert("\ud14c\ub9c8\uc9c0\ub3c4\ub294 \uce74\uce74\uc624\ub9f5\uc571\uc5d0\uc11c \uc81c\uacf5\ub429\ub2c8\ub2e4.");else{a.page&&this.keywordSearchController.setDefaultPage(a.page);a.theme&&((a.minX&&(a.minY&&a.maxX&&a.maxY)&&(d=new daum.maps.Coords(a.minX,a.maxY),e=new daum.maps.Coords(a.maxX,a.minY),this.map.setBounds(new daum.maps.CoordsBounds(d,e))),6==a.theme)?this.keywordSearchController.setKeyword("\uc544\ud30c\ud2b8\ub2e8\uc9c0"):
(d=y.THEMEID[a.theme])&&this.mainMapController.themePoiControlView.setThemeToObject({type:d}));a.issue&&this.issueMapController.setIssue(a.issue);if(a.name){var f;f=B.createAddress(b);f.setMap(this.map);f.setPosition(b);var g=new Ma;g.name=a.name;g.coords=b;this.infoWindowManager.createPoint(g,f,b);daum.maps.event.addListener(f,"click",function(){this.infoWindowManager.createPoint(g,f,b)}.bind(this));this.keywordSearchController.itemIdMarker=f}if(!a.urlX&&(!a.wx&&!a.x)&&a.bt){for(var e=a.bt.split(","),
j=new daum.maps.CoordsBounds,d=0;d<e.length;d+=2){var l=new daum.maps.Coords(e[d],e[d+1]);j.extend(l)}this.map.setBounds(j)}if(a.q){var m=this.keywordSearchController;m.setOneTimeCoords({urlX:a.urlX,urlY:a.urlY,urlLevel:a.urlLevel});jQuery("#search\\.keyword\\.query").blur();a.srcid&&m.setFilterId(a.srcid);a.local_code&&m.setLocalCode(a.local_code);if("tot"==a.service){var k={};["rcode","center","qa_type"].forEach(function(b){a[b]&&(k[b]=a[b])});m.setKeywordParams(k);d=y.ALL;e="";"bus"===a.tab?(d=
y.BUSES,e="bus_tab"):"busstop"===a.tab&&(d=y.BUSSTOPS,e="busstop_tab");m.setKeyword(a.q,d);z.logSearchIn(e)}a.sort&&m.setDefaultSort(Number(a.sort));d=null;e=!1;a.sidx&&(d=a.sidx);a.tailGb&&(d="1",e=!0);a.cidx&&(d=a.cidx,e=!0);null!=d&&m.setDefaultLiterally(d,e);a.itemId&&m.setHighlightId(a.itemId);"true"==a.currentBound?(jQuery("#search\\.keyword\\.query").val(a.q),m.setTrackBounds(!0)):a.panoid||a.store||a.urlX&&a.urlY||a.rv?m.setKeywordWithoutJump(a.q):a.tab?(d=a.tab,"place"==d?("dangol"==a.service&&
(k={},["cate_id","region_code","service"].forEach(function(b){a[b]&&(k[b]=a[b])}),m.setKeywordParams(k)),m.setKeyword(a.q,y.PLACE),z.logSearchIn("place_tab")):"address"==d||"Y"==a.addrTab?(m.setKeyword(a.q,y.ADDRESS),z.logSearchIn("address_tab")):"bus"===a.tab?(d=y.BUSES,e="bus_tab",m.setKeyword(a.q,d)):"busstop"===a.tab?(d=y.BUSSTOPS,e="busstop_tab",m.setKeyword(a.q,d)):("review"==d||a.b_srcid)&&m.setKeywordWithoutJump(a.q)):m.setKeyword(a.q);a.page&&this.keywordSearchController.setDefaultPage(a.page);
p.click("morningstar","start",{param1:a.q})}a.thememap&&(m=this.keywordSearchController,d=m.themeMapController_,d.setHideActive(!0),a.thememapId&&(a.itemId&&d.setSelectedThememapId(a.itemId),a.urlX&&a.urlY?d.setThememapId(a.thememapId):d.setThememapIdWithJump(a.thememapId)),m.changeActive_());a.busnumsrch&&(this.busSearchController.setActive(!0),d="",a.gname&&(d+=a.gname+" "),this.busSearchController.findName(d+a.busnumsrch));a.busfavoritesrch&&(this.busSearchController.setActive(!0),this.busSearchController.reset(),
this.busSearchController.findOneByCode(a.busfavoritesrch));a.busrgnsrch&&(this.busSearchController.setActive(!0),this.busSearchController.findRegion(a.busrgnsrch));a.busstopsrch&&(this.busSearchController.setActive(!0),d="",a.gname&&(d+=a.gname+" "),this.busSearchController.findStop(d+a.busstopsrch));a.busInfoId&&(this.busSearchController.setActive(!0),this.busSearchController.findByOne(a.busInfoId));switch(a.target){case "subway":if(!a.REGION){e=rb.regionList.length;for(d=0;d<e;d++)if(rb.regionList[d].cityid===
a.STARTID.substr(0,3)){a.REGION=rb.regionList[d].id;break}}d=this.subwaySearchController.searchController.REGION_CODE;e=this.subwaySearchController.searchController.REGION_ID.indexOf(a.REGION);-1===e&&(e=d.indexOf(a.REGION||"SES"));this.subwaySearchController.setRegion(e);this.subwaySearchController.setActive(!0);if(a.STARTID&&a.ENDID||a.STARTNAME&&a.ENDNAME){if(a.routingType||a.dailyType||a.time)this.subwaySearchController.setBoxOptions({routingType:a.routingType||"",dailyType:a.dailyType||"",time:a.time||
""});a.STARTNAME&&a.ENDNAME?this.subwaySearchController.findRouteByName(a.STARTNAME,a.ENDNAME,a.STARTID,a.ENDID):this.subwaySearchController.shareUrlParser(a)}break;case "traffic":if(a.busnumsrch||a.busrgnsrch||a.busInfoId)break;if("2"==a.opt){m=this.busSearchController;m.setActive(!0);break}m=this.flagSearchController;m.setActive(!0);m.setDefaultModeTransit();a.transitOption?this.transitRouteSearchController.setModeIndex(a.transitOption):this.transitRouteSearchController.setModeIndex(3);a.transitBoundMode?
this.transitRouteSearchController.setBoundMode(a.transitBoundMode):this.transitRouteSearchController.setBoundMode(0);break;case "car":m=this.flagSearchController;m.setActive(!0);switch(a.carOption){case "1":m.setDefaultOption(Va.OPTIMAL);break;case "2":m.setDefaultOption(Va.SHORTEST)}break;case "walk":m=this.flagSearchController;m.setActive(!0);m.setDefaultModeWalk();break;case "bike":case "bicycle":m=this.flagSearchController;m.setActive(!0);m.setDefaultModeBike();break;case "my":m=this.favoriteController;
d=function(){m.setActive(true);this.authController.isLogin()&&a.tab&&m.setMyTab(a.tab)}.bind(this);m.openLoginPopup(d)&&d();break;case "other":if(a.mapuserid||a.folderid)m=this.favoriteController,m.showOtherFolder(a)}if(a.rt){m=this.flagSearchController;m.setActive(!0);for(var j=(a.rtIds||"").split(","),l=(a.rtTypes||"").split(","),h=new gb,e=a.rt.split(","),o=d=0;d<e.length;d+=2,++o){var r=a["rt"+(o+1)];h.waypoints[o]=null;e[d]?(h.waypoints[o]=new vb(new daum.maps.Coords(e[d],e[d+1]),r,j[o],o,l[o]),
this.map.setCenter(new daum.maps.Coords(e[d],e[d+1]))):r&&y.findPosition(r,function(a,b,c){if(c){h.waypoints[a]=new vb(c,b);m.setFlagSearch(h);m.setRoute()}else m.noResultPlace(a,b)}.bind(this,o,r))}if(a.panoid||a.store)if(h.isOriginDest()){var n=function(){c();m.onLoadedRoute.remove(n)};m.onLoadedRoute.add(n)}else c();m.setFlagSearch(h);m.setRoute()}a.confirmid&&qa.find(a.confirmid,function(b){this.map.setCenter(b.coords);if(a.rv=="on"){if(b.roadview){var c=b.roadview;this.roadviewController.setViewpointWithMarker(c,
b,c.pan,c.tilt,0);Lb.find(b.coords,function(a){var d="";if(a&&a.hcode)d=a.hcode.code;z.logRoadview("qs_roadview",c.panoId,b.coords,d,{id:b.id})})}}else b&&!a.store&&this.infoWindowManager.createPlace(b)},this);a.sv&&this.mainMapController.setStoreviewActive();if(a.panoid||a.store)a.rt||c();if(a.subwayId){var q=new Xa;q.id=a.subwayId;q.fetchDetail(function(){this.map.setCenter(q.coords);this.infoWindowManager.createSubwayStation(q)},this)}a.SHOWMARK&&"false"!=a.SHOWMARK&&(f=B.createAddress(b),f.setMap(this.map));
a.itemId&&(!a.q&&!a.thememap||a.q&&a.srcid&&a.srcid!=a.itemId)&&qa.findPlace(a.itemId,function(b){if(b){this.map.setCenter(b.coords);var c=new daum.maps.Marker({zIndex:3,position:b.coords,image:new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2018/pc/img/marker_spot.png",new daum.maps.Size(36,50),new daum.maps.Point(18,50)),clickable:true});c.setMap(this.map);this.infoWindowManager.createPlace(b,c);a.action==="addFavorite"&&setTimeout(function(){this.favoriteController.add(t.createFromPlace(b))}.bind(this),
500);daum.maps.event.addListener(c,"click",function(){this.infoWindowManager.createPlace(b,c)}.bind(this));this.keywordSearchController.itemIdMarker=c}},this);a.titag&&alert("\ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");a.mapJson&&(new zc(this.map)).parse(a.mapJson);a.rTarget&&(d=a.rTarget.split(",",2),this.roadviewController.showNearby((new daum.maps.LatLng(d[0],d[1])).toCoords(),100));"REALTRAFFIC"==a.map_attribute&&this.mainMapController.setTrafficLineActive(!0);
a.traffic_state&&(this.mainMapController.setTrafficActiveForState(a.traffic_state),a.traffic_cctvId&&this.mainMapController.setTrafficCctvId(a.traffic_cctvId));a.busStopId&&setTimeout(function(){ga.find(a.busStopId,function(b){this.map.setCenter(b.coords);if(a.busInfoId){Application.map.setLevel(3);Application.infoWindowManager.createBusStop(b,a.busInfoId)}else this.infoWindowManager.createBusStop(b)},this)}.bind(this),1E3);"on"===a.map_terrain&&this.mainMapController.setTerrain(!0);"on"===a.map_bicycle&&
this.mainMapController.setBike(!0);if(a.airType||a.map_weather)d=a.airType||a.map_weather,(a.urlX||a.wx||a.x)&&"wea"!=d&&this.airMapTileController.setNoJump(),-1<"wea khai ysand pm10 o3 no2 co so2".split(" ").indexOf(d)&&this.mainMapController.setWeather(!0,d);a.map_usedistrict&&this.mainMapController.setUsedistrict(!0,a.map_usedistrict);"on"===a.map_indoor&&(this.mainMapController.setIndoor(!0),this.map.setLevel(a.level||a.urlLevel||a.URLLEVEL||a.z||void 0))}}};ac.prototype.fixTitleBug=function(){if("ActiveXObject"in
A)jQuery(document).on("mouseup","object",function(){document.title="\uce74\uce74\uc624\ub9f5"})};define("Application","options view/FrameDecorator manager/ViewLayout controller/WeatherWindowController map/InfoWindowManager controller/AuthController controller/MainMapController params controller/WindowController controller/LocalInfoController controller/BusLineController controller/FlagSearchController controller/KeywordSearchController controller/SubwaySearchController controller/BusSearchController controller/RoadviewController controller/HomeInfoController controller/FiyFrameController controller/FavoriteController controller/CarRouteSearchController controller/TransitRouteSearchController map/Map controller/IssueMapController controller/FlagController controller/SearchTabController controller/LocalPlatformAdController log/LogHistory manager/AoiManager facade/SearchTabFacade controller/RelatedAddressController controller/WhatsHereController controller/AirMapTileController controller/HistoryController controller/LayerProfileController controller/ProfileController view/RoutePoiControlView controller/ShareController model/Weather controller/LayerProfileEditController controller/WalkthroughController controller/CoachmarkController view/MapControlView".split(" "),
H(ac));"use strict";define("main",["jquery","module","server"],function(a,b){var c=b.config();define("params",[],c.params);define("options",[],c.options);define("themeKeywords",[],c.options.themeSearch);A.__daumISSUE="Y"==c.options.event_notice?!0:!1;if("object"!=typeof swfobject||!swfobject.hasFlashPlayerVersion("9.0.0")){a("html").addClass("NOFLASH");A.__daumNOFLASH=!0;if("object"==typeof swfobject&&(swfobject.ua.mac||swfobject.ua.win))swfobject.ableflash=!0;var d=a('<div class="FlashPlayerDownload noSubway"><span class="close">\ub2eb\uae30</span><a class="download" href="http://get.adobe.com/flashplayer/" target=_blank>\ucd5c\uc2e0\ubc84\uc804 \ub2e4\uc6b4\ub85c\ub4dc</a><a class="helplink" href="http://kakaomap.tistory.com/110" target=_blank>\uc124\uce58\uc644\ub8cc \ud6c4\uc5d0\ub3c4 \uacc4\uc18d \uc124\uce58\ubb38\uad6c\uac00 \ub728\ub294 \uacbd\uc6b0</a></div>').appendTo("#view\\.subway\\.flash");
d.find(".close").on("click",function(){d.hide()})}var e=c.options;document.referrer.split("?")[0]===e.loginUrl.split("?")[0]&&(1===e.isLogin&&0===e.isMapUser)&&(A.location.href=require("url").SIGNUP);require("Application log/Tiara util/nohash controller/MapappController map/MiniMapTypeControl map/MiniZoomControl map/MapTileManager controller/AoiController".split(" "),function(b,d,e){A.Application=b;b=a(document);d.load(b);e.load(b);c.params.special&&require(["controller/SpecialController"])});!c.params.target&&
(!c.params.store&&"ROADVIEW"!=c.params.map_attribute&&!c.params.panoid&&!c.params.special&&"content"!=c.params.guide&&!c.params.rv&&!c.params.airType)&&require(["controller/TriangleNoticeController"]);jQuery(".Outgoing a").click(function(){p.click("navi","related_services")})});"use strict";Object.keys||(Object.keys=function(a){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push(c);return b});Object.create||(Object.create=function(a,b){function c(){}console.assert(!b,"Object.create is emulated: no second argument support.");
c.prototype=a;return new c});Array.isArray||(Array.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"});Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c=this.length>>>0,b=Number(b)||0,b=b<0?Math.ceil(b):Math.floor(b);for(b<0&&(b=b+c);b<c;b++)if(b in this&&this[b]===a)return b;return-1});Array.prototype.filter||(Array.prototype.filter=function(a,b){for(var c=this.length>>>0,d=[],e=0;e<c;e++)if(e in this){var f=this[e];a.call(b,f,e,this)&&d.push(f)}return d});
Array.prototype.forEach||(Array.prototype.forEach=function(a,b){for(var c=this.length>>>0,d=0;d<c;d++)d in this&&a.call(b,this[d],d,this)});Array.prototype.every||(Array.prototype.every=function(a,b){for(var c=this.length>>>0,d=0;d<c;d++)if(d in this&&!a.call(b,this[d],d,this))return false;return true});Array.prototype.some||(Array.prototype.some=function(a,b){for(var c=0,d=this.length>>>0;c<d;c++)if(c in this&&a.call(b,this[c],c,this))return true;return false});Array.prototype.map||(Array.prototype.map=
function(a,b){for(var c=this.length>>>0,d=Array(c),e=0;e<c;e++)e in this&&(d[e]=a.call(b,this[e],e,this));return d});Array.prototype.reduce||(Array.prototype.reduce=function(a,b){var c=this.length>>>0,d=0;if(arguments.length<2){do{if(d in this){b=this[d++];break}if(++d>=c)throw new TypeError;}while(1)}for(;d<c;d++)d in this&&(b=a.call(null,b,this[d],d,this));return b});Array.prototype.reduceRight||(Array.prototype.reduceRight=function(a,b){var c=(this.length>>>0)-1;if(arguments.length<2){do{if(c in
this){b=this[c--];break}if(--c<0)throw new TypeError;}while(1)}for(;c>=0;c--)c in this&&(b=a.call(null,b,this[c],c,this));return b});Function.prototype.bind||(Function.prototype.bind=function(a){var b=this,c=Ub(arguments,1);return function(){return b.apply(a,c.concat(Ub(arguments)))}});Date.now||(Date.now=function(){return+new Date});"undefined"==typeof console&&(console={});["log","info","warn","assert","debug"].forEach(function(a){console[a]||(console[a]=Function())});String.prototype.trim||(String.prototype.trim=
function(){return this.replace(/^\s+|\s+$/g,"")});String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/,"")});String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/,"")});A.location.origin||(A.location.origin=A.location.protocol+"//"+A.location.host);"use strict";require.attach=function(){throw new URIError("no defined module: "+url);};A.console={};["log","info","warn","assert","debug"].forEach(function(a){console[a]=Function()});
define("server",["jquery","url"],function(a,b){function c(a,b){var c={};c[a]=b;return c}var d=location.pathname.replace(/[^\/]+$/,""),e={};a.each({searchTheme:{url:b.LOCAL_SEARCH_DAUM_NET+"/theme.daum?output=json&category=Y",dataType:"jsonp"},searchBusStopWithBounds:{url:b.LOCAL_SEARCH_DAUM_NET+"/search_bus.daum?output=json&category=Y",dataType:"jsonp"},searchBus:{url:b.LOCAL_SEARCH_DAUM_NET+"/search_bus.daum?type=bus",dataType:"jsonp"},search:{url:b.LOCAL_SEARCH_DAUM_NET+"/map.daum",dataType:"jsonp"},
searchAddress:{url:b.LOCAL_SEARCH_DAUM_NET+"/search_addr.daum",dataType:"jsonp"},searchBusStop:{url:b.LOCAL_SEARCH_DAUM_NET+"/search_bus.daum?type=busStop",dataType:"jsonp"},searchOpenhour:{url:b.SEARCH_OPENHOUR,dataType:"jsonp"},reverseGeocoding:{url:b.RAPI_WEATHER+"?inputCoordSystem=WCONGNAMUL&outputCoordSystem=WCONGNAMUL&version=2&service=map.daum.net",dataType:"jsonp",timeout:1E3},reverseGeoHcoding:{url:b.RAPI_HCODE+"?format=normal&inputCoordSystem=WCONGNAMUL&outputCoordSystem=WCONGNAMUL&service=map.daum.net",
dataType:"jsonp",timeout:1E3},reverseGeoBcoding:{url:b.RAPI_BCODE+"?format=normal&inputCoordSystem=WCONGNAMUL&outputCoordSystem=WCONGNAMUL&service=map.daum.net",dataType:"jsonp",timeout:1E3},whatsHere:{url:b.OLD_ADDRESS+"?inputCoordSystem=wcongnamul",dataType:"jsonp"},regionCode:{url:b.RAPI_CHILD_CODES+"?service=map.daum.net",dataType:"jsonp"},weather:{url:"weather/info",paramKey:"hcode",dataType:"jsonp"},weatherList:{url:"weather/list",traditional:true,dataType:"jsonp"},weatherDetail:{url:b.WEATHER_DETAIL,
dataType:"jsonp"},placeById:{url:"/etc/placeInfo.api?output=json",paramKey:"confirmid",dataType:"jsonp"},searchPlaceById:{url:b.LOCAL_SEARCH_DAUM_NET+"/srcid.daum",paramKey:"id",dataType:"jsonp"},poi:{url:b.MAP2_DAUM_NET+"/map/ndmpoidata.service?COORDSTM=WCONGNAMUL&FORMAT=NDMPOIPLACEJSON",dataType:"jsonp"},stationInfo:{url:"subway/station.json",paramKey:"stationId",dataType:"jsonp"},realestate:{url:"etc/houseAreaInfo.json",paramKey:"danjiid",dataType:"json"},realestateAgency:{url:"etc/houseAgencyInfo.json",
paramKey:"confirmid",dataType:"jsonp"},houseBunyang:{url:"etc/houseBunyangInfo.json",paramKey:"id",dataType:"jsonp"},blogReview:{url:"etc/reviewSource",paramKey:"url",dataType:"xml"},roadviewData:{url:b.STV_MAPS_DAUM_NET+"/roadview-search/searchNodeInfo.do?TYPE=w&CALLBACK=?&OUTPUT=json",paramKey:"ID",dataType:"jsonp"},roadviewPreview:{url:b.STV_MAPS_DAUM_NET+"/roadview-search/searchNodeInfo?SEARCH_TYPE=2&TYPE=w&CALLBACK=?&OUTPUT=json",dataType:"jsonp"},roadviewSmart:{url:b.STV_MAPS_DAUM_NET+"/roadview-search/searchNodeInfo?SEARCH_TYPE=3&TYPE=w&CALLBACK=?&OUTPUT=json",
dataType:"jsonp"},roadviewStation:{url:b.STV_MAPS_DAUM_NET+"/roadview-search/searchStationNodeInfo?OUTPUT=json&CALLBACK=?&SEARCH_TYPE=4&TYPE=w",dataType:"jsonp"},storeviewData:{url:b.STV_MAPS_DAUM_NET+"/roadview-search/storeview?type=w&output=jsonp",paramKey:"vId",dataType:"jsonp"},route:{url:"route/route.json",traditional:true,dataType:"jsonp"},carRoute:{url:"route/car.json?roadside=ON",traditional:true,dataType:"jsonp"},carSetRoute:{url:"route/carset.json?roadside=ON",traditional:true,dataType:"jsonp",
addParamStr:true},transitRoute:{url:"route/publictrans.json",traditional:true,dataType:"jsonp"},transitRoute2:{url:"route/pubtrans.json?inputCoordSystem=WCONGNAMUL&outputCoordSystem=WCONGNAMUL&service=map.daum.net",traditional:true,dataType:"jsonp"},walkRoute:{url:"route/walk.json",traditional:true,dataType:"jsonp"},walkSetRoute:{url:"route/walkset.json",traditional:true,dataType:"jsonp"},bikeSetRoute:{url:"route/bikeset.json",traditional:true,dataType:"jsonp"},busInfo:{url:"bus/info.json?output=json",
paramKey:"busline",dataType:"jsonp"},busLineStop:{url:"bus/stopbus.json",dataType:"jsonp"},busStop:{url:"bus/stop.json",paramKey:"busstopid",dataType:"jsonp"},transitBusStop:{url:"bus/stop.json",dataType:"jsonp"},busStopGroup:{url:"bus/overlapbusstop.json",paramKey:"groupBusStopId",dataType:"jsonp"},busStopsInBounds:{url:"bus/search/busregion.json",dataType:"jsonp"},busLinesInBounds:{url:"search/busscreen.json",dataType:"jsonp"},placesInBounds:{url:b.PLACE_IN_BOUNDS+"/ndmclick/poi.json?place=true&address=true&publictraffic=true&inputCoordSystem=WCONGNAMUL&outputCoordSystem=WCONGNAMUL&service=map.daum.net",
dataType:"jsonp"},traffic:{url:b.R_MAPS_DAUM_NET+"/realtraffic/getRealTrafficInfo.service?output=JSON&service=map.daum.net",dataType:"jsonp"},accident:{url:"traffic/accident.json",dataType:"jsonp",scriptCharset:"EUC-KR"},cctv:{url:"traffic/cctvListInBox",dataType:"jsonp"},cctvUrl:{url:"traffic/cctvEncodeUrl",paramKey:"id",dataType:"text"},subwayRoute:{url:b.SUBWAY_ROUTER_HOST+"/subwayroute/route.json?service=map.daum.net",dataType:"jsonp"},subwayStation:{url:"subway/searchSubwayStationName.json?outputCoordSystem=WCONGNAMUL",
dataType:"jsonp"},subwayStationInfo:{url:"subway/subwayStationInfo",paramKey:"stationId",dataType:"popup",width:690,height:665},intercityBus:{url:"pubtrans/intercity/timetable",dataType:"popup",width:900,height:597,options:{noscroll:true,resizable:true}},ferry:{url:"pubtrans/intercity/timetable",dataType:"popup",width:900,height:597,options:{noscroll:true,resizable:true}},island:{url:"pubtrans/intercity/timetable",dataType:"popup",width:900,height:597,options:{noscroll:true,resizable:true}},interCityTimetable:{url:"pubtrans/intercity/timetable",
dataType:"popup",width:900,height:597,options:{noscroll:true,resizable:true}},busTerminalAt:{url:"pubtrans/search/BusTerminalByXY.json",dataType:"json"},profileInfo:{url:"profile/info.json",dataType:"json"},profileUpdate:{url:"profile/update.json",dataType:"json",addParamStr:true,type:"POST"},favoriteFolderInfo:{url:"folder/info.json",dataType:"json"},favoriteFolderList:{url:"folder/list.json",dataType:"json"},favoriteFolderAdd:{type:"POST",url:"folder/add.json",dataType:"json",contentType:"application/json"},
favoriteFolderDelete:{type:"POST",url:"folder/delete.json",dataType:"json",contentType:"application/json"},favoriteFolderUpdate:{type:"POST",url:"folder/update.json",dataType:"json",contentType:"application/json"},favoriteFolderAddView:{type:"POST",url:"folder/addview.json",dataType:"json",contentType:"application/json"},favoriteFolderSubscribe:{type:"POST",url:"folder/subscribe.json",dataType:"json",contentType:"application/json"},favoriteList:{url:"favorite/list.json",dataType:"json"},favoriteAdd:{type:"POST",
url:"favorite/add.json",dataType:"json",contentType:"application/json"},favoriteDelete:{type:"POST",url:"favorite/delete.json",dataType:"json",contentType:"application/json"},favoriteUpdate:{type:"POST",url:"favorite/update.json",dataType:"json",contentType:"application/json"},favoriteHomeList:{url:"favorite/home.json",dataType:"json"},favoriteHomeEdit:{type:"POST",url:"favorite/homeedit.json",dataType:"json",contentType:"application/json"},favoriteRouteKey:{type:"POST",url:"favorite/routekey.json",
dataType:"json",contentType:"application/json"},myPlaceList:{url:"favorite/myplace/list.json",dataType:"json"},myPlaceAddUpdate:{type:"POST",url:"favorite/myplace/addupdate.json",dataType:"json",contentType:"application/json"},myPlaceDelete:{type:"POST",url:"favorite/myplace/delete.json",dataType:"json",contentType:"application/json"},favoriteAddBusline:{type:"POST",url:"favorite/busline/add.json",dataType:"json",contentType:"application/json"},favoriteDeleteBusline:{type:"POST",url:"favorite/busline/delete.json",
dataType:"json",contentType:"application/json"},reviewList:{url:"review/list.json",dataType:"json"},reviewLike:{type:"POST",url:"review/like.json",dataType:"json",addParamStr:true},reviewDelete:{type:"POST",url:"review/delete.json",dataType:"json",addParamStr:true},join:{type:"POST",url:"/user/join.json",dataType:"json",addParamStr:true},agree:{type:"POST",url:"/user/agree.json",addParamStr:true,dataType:"json"},leave:{type:"POST",url:"/user/leave.json",dataType:"json"},favoriteMigrationInfo:{url:"/favorite/migrationInfo.json",
dataType:"json"},favoriteCopy:{url:"favorite/kakao/copy2kakao",paramKey:"seq",dataType:"json"},favoriteUser:{url:"favorite/user",dataType:"json"},favoriteViewAllToggle:{url:"favorite/toggle/daum_view_poi",dataType:"json"},favoriteSelect:{type:"POST",url:"favorite/select",dataType:"json"},favoriteDaumList:{url:"/favorite/kakao/list?service=DAUM",dataType:"json"},favoriteHometoggle:{type:"POST",url:"favorite/kakao/hometoggle",dataType:"json"},afterLogin:{url:d+"afterLogin.jsp",dataType:"popup",width:400,
height:260,options:{name:"LOGIN",noscroll:true}},shortUrl:{url:"/shorturl/create.json",dataType:"json"},placeLineList:{url:"etc/lineGeoData",processData:false,dataType:"json"},issue:{url:"contents/issue.daum",dataType:"json"},thememapList:{url:b.THEME_PLACE_DAUM_NET+"/theme/list.json",dataType:"jsonp",cache:false},thememapPlaceList:{url:b.THEME_PLACE_DAUM_NET+"/theme/placelist.json",dataType:"jsonp",cache:false},thememapInfo:{url:b.THEME_PLACE_DAUM_NET+"/theme/info.json",dataType:"jsonp",cache:false},
thememapPlaceTipList:{url:b.THEME_PLACE_DAUM_NET+"/api/tipList.json",dataType:"jsonp",cache:false},thememapPlaceVote:{url:b.THEME_PLACE_DAUM_NET+"/theme/place/votegood.json",dataType:"jsonp",cache:false},getHcodeShape:{url:b.RAPI_AREA_HCODE+"?outputCoordSystem=WCONGNAMUL&service=map.daum.net"},getBcodeShape:{url:b.RAPI_AREA_BCODE+"?outputCoordSystem=WCONGNAMUL&service=map.daum.net"},getJibunShape:{url:"/etc/areaAddressInfo.json?output=JSON&inputCoordSystem=WCONGNAMUL&outputCoordSystem=WCONGNAMUL"},
getRealestateShape:{url:"/etc/houseShapeInfo.json",dataType:"json"},roadviewVideoView:{url:"https://rvroute.map.daum.net/route.daum",dataType:"jsonp"},indoorPolygon:{url:"/etc/indoor/polygon.json",dataType:"json"},suggestPubTran:{url:b.SUGGEST_PUBTRAN,dataType:"json"}},function(d,g){e[d]=function(d,e,f){var k=a.extend({},g);k.paramKey&&d!=null&&(d=c(k.paramKey,d));if(k.dataType=="popup"){f=k.url;f=f+(/\?/.test(f)?"&":"?");f=f+a.param(d||{});console.info("popup: "+f);ob(f,k.width,k.height,k.options)}else{k.contentType==
"application/json"&&(d=JSON.stringify(d));if(f&&typeof f=="function")k.error=f;if(/apihub\.daum\.net/.test(k.url)){k.url=k.url+(/\?/.test(k.url)?"&":"?");k.url=k.url+("appkey="+b.API_KEY)}if(k.addParamStr){k=a.extend({},k,{url:k.url+d.addParamData});d=d.params}a.ajax(a.extend({timeout:k.timeout||5E3,cache:true,dataType:"jsonp",data:d,success:function(a){if(console.groupCollapsed){console.groupCollapsed("server: "+k.url);console.dir(d);console.dir(a);console.groupEnd()}e(!("dataType"in k)||/json/.test(k.dataType)?
new Wa(a):k.dataType=="xml"?new mc(a):a)}},k))}}});return e});define("url",function(){var a=A.location.protocol+"//"+A.location.host,a={API_KEY:"58a17d105b919acb0647305c46f0cadc",MAP_DAUM_NET:"https://map.kakao.com",DMAPS:"https://dmaps.kakao.com",R_MAPS_DAUM_NET:"https://r.maps.daum-img.net",STV_MAPS_DAUM_NET:"https://rv.maps.daum.net",MAP2_DAUM_NET:"https://map2.daum.net",THEME_PLACE_DAUM_NET:"https://place.map.kakao.com",SUBWAY_ROUTER_HOST:"https://ssl.daumcdn.net/subwayroute.map",PLACE_IN_BOUNDS:"https://ssl.daumcdn.net/click.map.daum.net",
TILE_AIR_INFO:"https://airinfo.map.kakao.com",TILE_SEARCH_IMG_NET:"https://tilesrch.map.daum.net",LOCAL_SEARCH_DAUM_NET:"https://search.map.daum.net/mapsearch",SUGGEST:"https://apihub.daum.net/local-suggest/v2/top_suggest.json",SUGGEST_ROUTE:"https://apihub.daum.net/local-suggest/v2/route_suggest.json",SUGGEST_PUBTRAN:"/etc/suggest/publictraffic.json",SEARCH_OPENHOUR:"https://apihub.daum.net/place/v1/openhour/overall.json",OLD_ADDRESS:"https://apihub.daum.net/geocode/v1/old-address.json",WEATHER_DETAIL:"https://apihub.daum.net/weather/v2/weather.json?extra=air",
RAPI_AREA_HCODE:"https://apihub.daum.net/region-code/v2/shapes.json",RAPI_AREA_BCODE:"https://apihub.daum.net/region-code/v2/shapes.json",RAPI_HCODE:"https://apihub.daum.net/region-code/v2/hcode.json",RAPI_BCODE:"https://apihub.daum.net/region-code/v2/bcode.json",RAPI_CHILD_CODES:"https://apihub.daum.net/region-code/v2/childCodes.json",RAPI_WEATHER:"https://apihub.daum.net/region-code/v2/regionWithWeather.json",FIY_SERVER_URL:"//fiy.kakao.com/fiy/",EMBED_ROUGHMAP_URL:"//place.map.kakao.com/roughmap/pcRoughMap.daum",
DAUM_PLACE:"https://place.map.kakao.com/",POSTCODE_MAP_DAUM_NET:"http://postcode.map.daum.net",DMAPS_DISPATCH:"http://dmaps.kr",TENTH_THUMB:"//t1.daumcdn.net/thumb/",CONNECT_ACCOUNT:"https://member.daum.net/kakaoaccount/linkform.daum?url="+A.location.href,LOGOUT:"https://accounts.kakao.com/logout?continue="+a,MMAP:"https://mmap.kakao.com",SIGNUP:a+"/user/signup"};typeof __overrideURL=="function"&&__overrideURL(a);return a});Pb.prototype.infomarkers_=[];Pb.prototype.activate=function(){if(!this.zoomHandler_){Jb.findAll(this.loadAll_,
this);this.zoomHandler_=this.updateVisibility.bind(this);daum.maps.event.addListener(this.map_,"zoom_changed",this.zoomHandler_)}};Pb.prototype.updateVisibility=function(){var a=this.map_.getLevel();this.infomarkers_.forEach(function(b){b.updateVisibility(a)})};Pb.prototype.loadAll_=function(a){this.onTimestamp.notify(a.timestamp);this.infomarkers_=a.map(Pb.createInfoMarker.bind(this));this.updateVisibility()};Pb.createInfoMarker=function(a){a=new fe(a,"realtraffic","alert");a.setMap(this.map_);return a};
Pb.disposeInfoMarker=function(a){a.setMap(null)};Pb.prototype.deactivate=function(){daum.maps.event.removeListener(this.map_,"zoom_changed",this.zoomHandler_);delete this.zoomHandler_;Application.infoWindowManager.closeToType("accident");this.infomarkers_.forEach(Pb.disposeInfoMarker);delete this.infomarkers_};define("controller/AccidentController",["map/Map"],H(Pb));Hc.AIRTILES="airinfo_khai airinfo_pm10 airinfo_pm25 airinfo_ysnd airinfo_o3 airinfo_no2 airinfo_co airinfo_so2".split(" ");Hc.AIRTYPE=
"khai pm10 pm25 ysand o3 no2 co so2".split(" ");define("controller/AirMapTileController","options map/Map map/MapTileManager view/LayerLegendView controller/LocalInfoController controller/WeatherWindowController controller/WeatherMarkerController".split(" "),H(Hc));ka.prototype.TYPE={PLACE:1,ADDRESS:2};ka.prototype.onLineOver=function(a,b){var c=this.getPanels(),d=a.model,e=b.aoiManager_,f=b.miniTooltipManager_;if(c){c.overlayLayer.style.cursor="pointer";d.aoiLineCoords=e.getMouseCoords();f.createAoiLine(d);
f.open()}};ka.prototype.onLineOut=function(a){var b=this.getPanels(),c=a.miniTooltipManager_;if(b)b.overlayLayer.style.cursor="";c.close();a.mousedownSearchResult=null};ka.prototype.onLineDown=function(a){this.mousedownSearchResult=a};ka.prototype.registerSearchResult=function(a){this.searchResultMap_[a.model.id]=a};ka.prototype.disablePolylineEvent=function(){this.polylineEventDisabled=true};ka.prototype.enablePolylineEvent=function(){this.polylineEventDisabled=false};ka.prototype.handleClick=function(){this.miniTooltipManager_.close();
if(this.mousedownSearchResult!==null){this.onAoiMousedown.notify(this.mousedownSearchResult);this.mousedownSearchResult=null;return true}return false};ka.prototype.callAfterLoad=function(a){this.doAfterLoad_=a};ka.prototype.setMapEvent=function(){this.removeMapEvent();daum.maps.event.addListener(this.map_,"idle",this.onIdle)};ka.prototype.removeMapEvent=function(){daum.maps.event.removeListener(this.map_,"idle",this.onIdle)};ka.prototype.initModel_=function(){this.aoiMap_={};this.searchResultMap_=
{}};ka.prototype.find=function(a){qa.findPath(a,this.load_.bind(this,this.TYPE.PLACE),this);this.onFind.notify(this)};ka.prototype.findAddress=function(a){this.load_(this.TYPE.ADDRESS,Ma.getAoiModel(a));this.onFind.notify(this)};ka.prototype.loadCache_=function(a){if(a){this.aoiMap_[a.id]=a;a.resetMarkerPosition&&a.resetMarkerPosition();this.drawLine_(a.id);this.doAfterLoad_&&this.doAfterLoad_();this.doAfterLoad_=null}};ka.prototype.load_=function(a,b){var c,d;if(b){d=b.id;c=this.searchResultMap_[d];
if(this.aoiMap_[d]){var e=this.aoiMap_[d];e.clearLineOverlay();if(e.endMarker){e.endMarker.start.setMap(null);e.endMarker.end.setMap(null);this.aoiMap_[d]=null}}this.aoiMap_[d]=new this.Aoi_(b,c,a);this.drawLine_(d);this.delayAfterLoad.trigger()}};ka.prototype.getAoi=function(){return this.aoiMap_[cid]};ka.prototype.setMarker=function(a){var b=this.aoiMap_[a],a=b.getVisibleMarkerPosition(),b=(b=b.searchResult)?b.marker:null;a&&b&&b.setPosition(a)};ka.prototype.getMarkerPosition=function(a){return(a=
this.aoiMap_[a])&&a.markerPosition?a.markerPosition:null};ka.prototype.getCoordsBounds=function(a){return this.aoiMap_[a]?this.aoiMap_[a].getCoordsBounds():null};ka.prototype.setAllMarker=function(){for(var a in this.aoiMap_)this.aoiMap_[a].id&&this.setMarker(a)};ka.prototype.drawLine_=function(a,b){var c=this.aoiMap_[a],d=this.map_.getLevel(),e=this.map_.getBounds(),f={zIndex:-1,strokeColor:"#F267B2",strokeOpacity:1,strokeWeight:10};c.clearLineOverlay();d=c.getSimplePaths(d);if(e.intersects(c.getCoordsBounds())){b&&
jQuery.extend(f,b);d.forEach(function(a){f.path=a;a=new daum.maps.Polyline(f);this.setPolylineEvent_(a,c.searchResult,c.type);c.overlay.add(a)},this);this.setEndMarker_(a,!!b&&!!b.highlight)}};ka.prototype.setPolylineEvent_=function(a,b){if(!this.polylineEventDisabled&&b){daum.maps.event.addListener(a,"mousedown",this.onLineDown.bind(this,b));daum.maps.event.addListener(a,"mouseover",this.onLineOver.bind(a,b,this));daum.maps.event.addListener(a,"mouseout",this.onLineOut.bind(a,this))}};ka.prototype.setEndMarker_=
function(a,b){var c=this.aoiMap_[a],d=c.startPoint,e=c.endPoint,f=['<div class="AoiStartEnd"></div>','<div class="AoiStartEnd selected"></div>'];if(c.endMarker)if(b){c.endMarker.start.setContent(f[1]);c.endMarker.end.setContent(f[1])}else{c.endMarker.start.setContent(f[0]);c.endMarker.end.setContent(f[0])}else c.endMarker={start:new daum.maps.Billboard({content:f[0],position:d,xAnchor:0.5,yAnchor:0.5}),end:new daum.maps.Billboard({content:f[0],position:e,xAnchor:0.5,yAnchor:0.5})};c.endMarker.start.setMap(this.map_);
c.endMarker.end.setMap(this.map_)};ka.prototype.setEndMarkerZIndex_=function(a,b){var c=this.aoiMap_[a].endMarker;if(c){c.start.setZIndex(b);c.end.setZIndex(b)}};ka.prototype.highlightEndMarker_=function(a){this.setEndMarkerZIndex_(a,3)};ka.prototype.resetEndMarker_=function(a){this.setEndMarkerZIndex_(a,0)};ka.prototype.redrawLines=function(){var a=this.selectedItem_?this.DIMMED_LINE_OPTION:null,b;for(b in this.aoiMap_)if(this.selectedItem_==b){this.drawLine_(b,this.HIGHLIGHT_LINE_OPTION);this.highlightEndMarker_(b)}else{this.drawLine_(b,
a);this.resetEndMarker_(b)}};ka.prototype.highlight=function(a){for(var b in this.aoiMap_)if(a==b){this.drawLine_(a,this.HIGHLIGHT_LINE_OPTION);this.highlightEndMarker_(b)}else{this.drawLine_(b,this.DIMMED_LINE_OPTION);this.resetEndMarker_(b)}};ka.prototype.getId=function(){return this.id_};ka.prototype.show=function(){if(this.isBounds_&&this.bounds_){this.roadviewController_.close();this.map_.setBounds(this.bounds_)}this.resetMarkerPositions();this.redrawLines();this.setAllMarker()};ka.prototype.hide=
function(){for(var a in this.aoiMap_)this.hideThis(a)};ka.prototype.hideThis=function(a){var a=this.aoiMap_[a],b=a.searchResult;(b=b?b.marker:null)&&b.getMarker().setMap(null);a.hideLineOverlay();if(a.endMarker){a.endMarker.start.setMap(null);a.endMarker.end.setMap(null)}};ka.prototype.getAoi=function(a){return this.aoiMap_[a]};ka.prototype.clear=function(){for(var a in this.aoiMap_)this.clearThis(a);this.initModel_();this.selectedItem_=null;this.onClear.notify()};ka.prototype.clearAddress=function(){for(var a in this.aoiMap_)a&&
a.search("addr")>-1&&this.clearThis(a);this.selectedItem_=null};ka.prototype.clearThis=function(a){var b=this.aoiMap_[a],c=b.searchResult,c=c?c.marker:null;this.aoiMap_[a]=null;c&&c.getMarker().setMap(null);b.clearLineOverlay();if(b.endMarker){b.endMarker.start.setMap(null);b.endMarker.end.setMap(null)}delete this.aoiMap_[a]};ka.prototype.clickListItem=function(a){this.clickMarker(a);this.aoiMap_[a]&&this.aoiMap_[a].resetMarkerPosition()};ka.prototype.clickAddressItem=function(a,b){this.clearAddress();
b?this.callAfterLoad(function(){this.clickListItem(a.id)}.bind(this)):this.callAfterLoad(function(){var b=this.getCoordsBounds(a.id);b&&this.map_.setBounds(b);this.clickListItem(a.id)}.bind(this));this.findAddress(a)};ka.prototype.clickMarker=function(a){this.selectedItem_=null;this.highlight(a);this.selectedItem_=a};ka.prototype.setHighlightMode=function(a){this.clickMarker(a)};ka.prototype.resetMarkerPositions=function(){var a,b,c;for(c in this.aoiMap_){b=this.aoiMap_[c];(a=(a=b.searchResult)?a.marker:
null)&&a.setPosition(b.markerPosition)}};ka.prototype.dimAll=function(){this.highlight(-1)};define("controller/AoiController",[],H(ka));define("controller/AreaSearchController",["map/Map"],function(a){return new function(a){var c;function d(a,b,c){o[a]=c;c.id=a;c.markerCoords=b;var d=c.bounds.getNorthEast(),e=c.bounds.getSouthWest(),f=c.markerCoords.getX(),b=c.markerCoords.getY(),g=Math.abs(d.getX()-f),d=Math.abs(d.getY()-b),j=Math.abs(e.getX()-f),e=Math.abs(e.getY()-b);if(Math.sqrt(Math.pow(g,2)+
Math.pow(d,2))>Math.sqrt(Math.pow(j,2)+Math.pow(e,2))){f=f-g;b=b-d}else{f=f+j;b=b+e}c.bounds.extend(new daum.maps.Coords(f,b));if(s[a])s[a]();s[a]=null}function e(d){if(d=d==c?o[r]:o[d]){var e=a.getLevel(),f={strokeWeight:1,strokeColor:" #F267B2",strokeOpacity:1},g=u[d.id],j,l=a.getBounds();j=l.getSouthWest();l=l.getNorthEast();j=l.getX()-j.getX()+(l.getY()-j.getY());var l=d.bounds.getSouthWest(),k=d.bounds.getNorthEast();j=k.getX()-l.getX()+(k.getY()-l.getY())>=j;if(g){if(e>9)f.strokeWeight=3;if(n)if(n==
d.id){f.fillColor="#F267B2";f.fillOpacity=0.25}else{f.fillOpacity=0;f.strokeOpacity=0.4}if(j)f.fillOpacity=0;g.setOptions(f)}}}function f(){e(r)}function g(c,d){var f=o[c];if(f){if(f.path.length){var g=false;a.getBounds();m();if(!d){f.isJibun?a.setLevel(3):a.setBounds(f.bounds);a.setCenter(f.markerCoords);g=true}u[f.id].setPath(f.path);u[f.id].setMap(a);e(f.id);l();r=f.id;f=g}else f=false;return f}return false}function j(a){for(id in o)o[id]instanceof ib&&u[id]&&u[id].setMap(null);if(!a)q=n=r=""}
function l(){m();daum.maps.event.addListener(a,"zoom_changed",f)}function m(){daum.maps.event.addListener(a,"zoom_changed",f);daum.maps.event.removeListener(a,"zoom_changed",f)}function k(a){var b=a.id,c=o[b],e=d.bind(this,b,a.coords);if(c!=null)e(c);else{u[b]||(u[b]=new daum.maps.Polygon);a instanceof qa||a instanceof gc?ib.fetchByCid(a.id,e):a.dataType=="2"?a.bhtype.search("B")>-1?ib.fetchByBCode(a.bcode,e):ib.fetchByHCode(a.hcode,e):(a.dataType=="1"||a.dataType=="5")&&ib.fetchByCoords(a.coords.getX(),
a.coords.getY(),e)}}function h(a,b){b?n=a:q=n=a;e(n)}c=1;var o={},r="",n="",q="",s={},u={};this.renderById=function(a,b){return g(a,b)};this.clearMap=function(){return j()};this.setMapEvent=function(){return l()};this.clearMapEvent=function(){return m()};this.fetch=function(a){return k(a)};this.focus=function(a,b){return h(a,b)};this.blurAll=function(a){h(c,a)};this.restoreFocus=function(){h(q)};this.onSearchTabChange=function(a){switch(a){case 0:g(r);break;case 1:case 2:case 3:j(true);m()}};this.callAfterLoad=
function(a,b){s[a]=b};this.getAreaSearch=function(a){return o[a]};this.cacheJibun=function(a,b){var c=new ib(b,true);c.id=a;o[a]=c;u[a]||(u[a]=new daum.maps.Polygon)}}(a)});"use strict";define("controller/AuthController",["options"],H(function(a){var b=!!a.isLogin,c=!!a.isMapUser;this.request=function(a){if(this.isLogin())a();else if(b&&!c)A.location.href=require("url").SIGNUP;else{require("server").afterLogin();A.__setLogin=function(e){e=e||{};b=!!e.isLogin;c=!!e.isMapUser;if(this.isLogin()){a&&
a();Application.homeInfoController.updateLoginProfile(e);Application.profileController.loadInfo()}else A.location.href=require("url").SIGNUP}.bind(this)}};this.isLogin=function(){return b&&c};this.setLoggedOff=function(){c=b=false}}));define("controller/BikeRouteSearchController",["map/Map","controller/RoadviewController","controller/WindowController","log/Tiara"],H(function(a,b,c,d){function e(a){var b=a.seq,c={index:1,sub:null};E.points.some(function(a,d){if(a.seq==b){c.index=d;return true}if(a.points)return a.points.some(function(a,
e){if(a.seq==b){c.index=d;c.sub=e;return true}})});N.setItemActive(c,true);T.setItemActive(c,true)}function f(){T.setClickable(false)}function g(){T.setClickable(true)}function j(){var a=Db();ia.show();var b=Application.flagSearchController.getWaypoints();Kb.find(b,function(b){Application.aoiManager.clearAll();a.dispose();if(K!==b&&(!K||!b||!b.error)){K=b;ua=true;aa&&c.updateHeight()}D.notify();var d=Application.flagSearchController.getWaypoints();b.error||Application.historyController.addRoute(Application.historyController.TYPE_LIST.BIKE,
d);z.log("search_path_bike",d.map(function(a){return a.name+"_"+a.coords.getX().toFixed(0)+","+a.coords.getY().toFixed(0)+"_"+(a.pointType=="PLACE"?a.id:"")}),b.error?{cnt:0,mode:b.resultErrorCode}:{cnt:1,mode:""})});var d=t.createBikeFromWaypoints(b);t.findRouteKey(d,function(a){if(a.text("status.code")===t.RESULT_CODE.SUCCESS)d.key=a.text("result");$.updateFav(d)}.bind(this))}function l(a,b){var c=a.index,d=a.sub;if(d!=null){d=d+b;if(!E.points[c].points[d]){c=c+b;d=null}}else c=c+b;E.points[c]instanceof
yc&&d==null&&(d=b>0?0:E.points[c].points.length-1);return E.points[c]==null?null:{index:c,sub:d}}function m(a){var b=a.sub,c=E.points[a.index];c instanceof yc&&(c=c.points[b]);Application.map.setCenter(c.coords);var d={x:0,y:11},b=null;if(c.seq=="start"||c.seq=="goal"||c.seq=="through"){d={x:27,y:27};b=Application.infoWindowManager.createStartEndPointInfo(c,{x:20,y:21});b.onCloseBtn.add(function(){Application.infoWindowManager.closeWithoutNotify()})}else b=Application.infoWindowManager.createBikePointInfo(c,
d);b.onPrev.add(k,this);b.onNext.add(k,this);c=l(a,-1);a=l(a,1);b.setButtons(c,a)}function k(a){if(a){N.setItemActive(a,true);N.setHighlight(a,true);T.setItemActive(a,true);m(a)}}function v(){u();Application.infoWindowManager.close();if(K&&aa){if(K.error){T.setData(null);var a=Ba.getNoBikeResultByType(K.resultErrorCode);W.setTitle(a.text);W.setDesc(a.desc);W.setLink(a.link);W.setBikeFiyData(K);W.show()}else{Y(true);N.setData(K);o();r();ua&&R();x(true);q(0,true);N.initHover()}d.log("/fake/routing_bike")}}
function o(){var a=Application.flagSearchController.getWaypoints(),b=a[0].coords,c=a[a.length-1].coords;K.bikeRoutes.forEach(function(a){var d=[],e=Kb.getModeLineColor(a.routeMode),f=Kb.getModeOutLineColor(a.routeMode);a.sectionPoints.forEach(function(a){d=d.concat(a)});a=new daum.maps.Polyline({strokeWeight:10,strokeColor:f,strokeOpacity:0.9,additionalStyles:[{strokeWeight:"6",strokeOpacity:"1",strokeColor:e}],path:d});Z.push(a);a=d[d.length-1];e=new daum.maps.Polyline({strokeColor:"#3396ff",strokeOpacity:0.4,
strokeWeight:10,path:[b,d[0]]});Da.push(e);a=new daum.maps.Polyline({strokeColor:"#3396ff",strokeOpacity:0.4,strokeWeight:10,path:[a,c]});xa.push(a)})}function r(){K.bikeRoutes.forEach(function(a){var b=[],c="",d=[];a.sectionPoints.forEach(function(e,f){e.forEach(function(g,j){var l=a.sectionPointTypes[f][j],k=e.length-1==j;if(c!=""&&c!=l||k){d.push(g);b.push(new daum.maps.Polyline({strokeWeight:10,strokeColor:"#ffffff",strokeOpacity:1,additionalStyles:[{strokeWeight:8,strokeOpacity:1,strokeColor:c==
"BIKE"?"#EE63AE":"#3396ff"},{strokeStyle:"longdash",strokeWeight:1,strokeColor:"#ffffff",strokeOpacity:1}],path:d.splice(0)}))}d.push(g);c=l})});na.push(b)})}function x(b){if(b){Z.forEach(function(b){b.setMap(a)});Da.forEach(function(b){b.setMap(a)});xa.forEach(function(b){b.setMap(a)});ua&&R()}else{Z.forEach(function(a){a.setMap(null)});Da.forEach(function(a){a.setMap(null)});xa.forEach(function(a){a.setMap(null)});na.forEach(function(a){a.forEach(function(a){a.setMap(null)})})}}function q(b,c){var d=
Z[b],e=na[b],f=Da[b],g=xa[b];if(f&&g){f.setMap(null);g.setMap(null)}if(E){if(K.bikeRoutes.indexOf(E)!=b&&d)if(c){d.setMap(a);f.setMap(a);g.setMap(a)}else d.setMap(null)}else if(d&&e){if(c){d.setMap(null);e.forEach(function(b){b.setMap(a)})}else{d.setMap(a);e.forEach(function(a){a.setMap(null)})}f.setMap(a);g.setMap(a)}}function s(c){E=null;N.initDetailedItem();T.setData(null);Ga.clear();Y(true);E=K.bikeRoutes[c];N.setDetailedItem(c);T.setData(E);var d=[];E.points.forEach(function(a){if(a instanceof
yc){var b=[];a.points.forEach(function(a){b.push(a.coords)});d.push(b)}else d.push(a.coords)});E.sectionPoints.length<6&&E.sectionPoints.forEach(function(b,c){var e=new fc(c,a,b,d);e.onCoords.add(w);Ga.add(e)});W.hide();ua&&R();E&&E.hasRoadviewInfo?b.setRouteData("bike",E.raw):b.setRouteData("bike",null)}function u(){N.setData(null);T.setData(null);W.hide();Ga.clear();Y(false);b.setRouteData("bike",null);na.forEach(function(a){a.forEach(function(a){a.setMap(null)})});na.length=0;Z.forEach(function(a){a.setMap(null)});
Z.length=0;Da.forEach(function(a){a.setMap(null)});Da.length=0;xa.forEach(function(a){a.setMap(null)});xa.length=0}function w(a){B.notify(a)}function C(){b.setRouteData("bike",null);b.onCheckpoint.remove(function(a){aa&&e(a)});aa=false;G.hide();ia.hide();N.setData(null);T.setData(null);W.hide();Ga.clear();Y(false);na.forEach(function(a){a.forEach(function(a){a.setMap(null)})});Z.forEach(function(a){a.setMap(null)});Da.forEach(function(a){a.setMap(null)});xa.forEach(function(a){a.setMap(null)})}function O(){ob("etc/print_car.jsp?type=bike",
680,870)}function I(a){if(a)Application.favoriteController.add(a,"bike_route_results");else if(a=Application.flagSearchController.getWaypoints()){var b=t.createWalkFromWaypoints(a);t.findRouteKey(b,function(a){if(a.text("status.code")===t.RESULT_CODE.SUCCESS)b.key=a.text("result");Application.favoriteController.add(b,"bike_route_results")}.bind(this))}}function R(){Application.roadviewController.getActive()&&Application.roadviewController.close();E?Application.map.setBounds(E.bounds):Application.map.setBounds(K.bounds)}
function Y(a){a?$.getPane().show():$.getPane().hide();c.updateHeight()}if(!(this instanceof arguments.callee))return new arguments.callee(a);var G=jQuery("#info\\.bikeRoute"),E=null,K=null,Z=[],na=[],Da=[],xa=[],aa=false,y=this.onSearchBtnClick=new n,B=this.onAddStop=new n,D=this.onResult=new n,ua=true,N=Ze(G),T=Re(a),H=h.$("moreGroupview"),$=this.toolbar_=Xe();$.onClick.add(function(a){switch(a.id){case "print":p.click("route","go_bike_print");O();break;case "favorite":p.click("favorite",["go_bike",
"route_results"]);I(a.fav);break;case "alook":p.click("route","go_bike_once_view");R()}});$.getPane().hide();hb.addChild($.getPane());var L=setInterval(function(){if(A.Application&&Application.favoriteController){Application.favoriteController.onChangeItem.add(function(){this.toolbar_.updateFav()}.bind(this));clearInterval(L)}}.bind(this),500),ia=F("BikeRouteLegend");jQuery("#view\\.map").append(ia);N.onItemHover.add(function(a){q(a.index,a.hover)});N.onItemDetail.add(function(a){if(a.detail){x(false);
s(a.index);Application.mainMapController.tool.onClickTool.remove(f);Application.mainMapController.tool.onComplete.remove(g);Application.mainMapController.tool.onClickTool.add(f);Application.mainMapController.tool.onComplete.add(g)}else{E=null;N.initDetailedItem();T.setData(null);Ga.clear();x(true);q(a.index,true);Application.mainMapController.tool.onClickTool.remove(f);Application.mainMapController.tool.onComplete.remove(g)}});N.onBikePoint.add(function(c){b.close();a.getLevel()>3&&a.setLevel(3);
c.sub!=null?a.setCenter(E.points[c.index].points[c.sub].coords):a.setCenter(E.points[c.index].coords);N.setItemActive(c,true);T.setItemActive(c,true);m(c)});N.onBikePointMouseover.add(function(a){T.setHighlight(a,true)});N.onBikePointMouseout.add(function(a){T.setHighlight(a,false)});N.onRoadview.add(function(a){b.show(a);p.click("route","go_bike_roadview")});N.onBikePointDetail.add(function(b){a.setLevel(3);a.setCenter(E.points[b.index].points[0].coords);N.setItemActive({index:b.index,sub:0},true);
T.setItemActive({index:b.index,sub:0},true);m({index:b.index,sub:0})});N.onSearchBtnClick.add(function(a){y.notify(a)});N.onDestination.add(function(){a.setCenter(E.points.slice(-1)[0].coords);Application.keywordSearchController.setActive(true);Application.keywordSearchController.findSurround();p.click("route","go_bike_nearplace");ua=false});T.onClick.add(function(a){H.hide();N.setItemActive(a,true);N.setHighlight(a,true);m(a)});T.onMouseover.add(function(a){N.setHighlight(a,true);if(a.sub!=null){var a=
N.getItem(a.index),b=a.getGroupInfo();if(!b.detailActive){b=a.getGroupInfo();if(b.pos.top>97){H.setPosition(b.pos.left+260,b.pos.top-12);H.show()}}}});T.onMouseout.add(function(a){N.setHighlight(a,false);H.hide()});T.onClickWithZoomIn.add(function(b){N.setItemActive({index:b.index,sub:0},true);T.setItemActive({index:b.index,sub:0},true);m({index:b.index,sub:0});a.setLevel(3);a.setCenter(E.points[b.index].points[0].coords)});this.find=function(){j()};var W=Ba.createBike();W.onSearchBtnClick.add(function(a){y.notify(a)});
W.hide().appendTo(G);var Ga=new oa(a);this.setActive=function(a){if(a){b.onCheckpoint.add(function(a){aa&&e(a)});aa=true;G.show();ia.show();if(E){N.show();a=K.bikeRoutes.indexOf(E);s(a)}else v()}else C();c.updateHeight();return this};this.clearRoute=function(){K=E=null;C()};this.getActive=function(){return aa};this.getRoute=function(){return K};this.printRoute=function(){return E||K.bikeRoutes[0]};this.print=O;this.adjustMap=function(){R()};c.onHeightChange.add(function(){if(this.getActive()&&N.goToTopBtn){var a=
h.$("info.body").getElement();a.scrollHeight>a.clientHeight?N.goToTopBtn.show():N.goToTopBtn.hide()}},this)}));Vb.prototype.activate=function(){this.view_.setActive(true);this.view_.clickSelf_();this.click_()};Vb.prototype.click_=function(){if(!this.busLine_&&!this.loading_){U.findBusLine(this.id_,this.load_,this);this.loading_=true}else this.view_.setData(this.busLine_)};Vb.prototype.load_=function(a){this.busLine_=a;this.overlays_.add(new daum.maps.Polyline({strokeColor:"#ffffff",strokeOpacity:1,
strokeWeight:12,additionalStyles:[{strokeWeight:"8",strokeOpacity:"1",strokeColor:"#3396ff"},{strokeStyle:"longdash",strokeWeight:"1",strokeColor:"#ffffff",strokeOpacity:"1"}],path:a.linePath_}));var b=new daum.maps.CoordsBounds;a.linePath_.forEach(b.extend,b);this.bounds_=b;this.view_.setData(this.busLine_);this.show()};Vb.prototype.show=function(){if(this.view_.getActive()&&this.bounds_){Application.roadviewController.close();Application.roadviewController.removeLastMarker();Application.map.setBounds(this.bounds_);
this.overlays_.show()}};Vb.prototype.hide=function(){this.overlays_.hide();this.view_.setActive(false)};Vb.prototype.getId=function(){return this.id_};Vb.prototype.setDetail=function(){};Sa.displayFlag=!0;Sa.prototype.setData=function(a,b){Sa.displayFlag=true;this.busline=a;this.tiaraBusLayer_=b||false;U.findBusLine(this.busline,this.load_,this)};Sa.prototype.setDataWithLoad=function(a){this.busline=a.id;this.tiaraBusLayer_=Sa.displayFlag=true;this.load_(a)};Sa.prototype.setBusStop=function(a,b,c){this.view_.setSpot(a,
b,c)};Sa.prototype.update_=function(){Sa.displayFlag&&U.findBusLine(this.busline,this.loadVehicles_,this);this.tiaraBusLayer_?p.click("businfo","bus_tooltip_update"):p.click("route","go_public_buslayer_update")};Sa.prototype.changeActive_=function(){if(this.getActive()){this.view_.show();require("log/Tiara").log("/fake/infowindow")}else{this.view_.hide();Sa.displayFlag=false}};Sa.prototype.closeLayer=function(){this.setActive(false);Sa.displayFlag=false};Sa.prototype.load_=function(a){this.data_=
a;this.view_.setTiaraFlag(this.tiaraBusLayer_);this.view_.setData(a);this.setActive(true);this.view_.appendTo(jQuery("#view\\.map"));this.view_.highlightView_&&this.view_.highlightToBusStop();this.view_.scrollView_&&this.scrollToBusStop();A.Application&&Application.historyController.addBusLine(Application.historyController.TYPE_LIST.BUS_LINE,a)};Sa.prototype.scrollToBusStop=function(){this.view_.scrollToBusStop()};Sa.prototype.busLineItemViewClick_=function(a){Application.infoWindowManager.close();
var b=a.order||0;ga.find(a.id,function(a){Application.map.setLevel(3);Application.map.panTo(a.coords);setTimeout(function(){Application.infoWindowManager.createBusStop(a,this.busline,b)}.bind(this),250)},this);this.tiaraBusLayer_?p.click("businfo","bus_tooltip_busstop"):p.click("route","go_public_buslayer_busstop")};Sa.prototype.totalPath=function(){this.closeLayer();var a=Application.busSearchController;a.setActive(true);a.findByOne(this.data_.id);p.click("businfo","bus_tooltip_entire_route")};Sa.prototype.loadVehicles_=
function(a){this.view_.setVehicles(a.vehicles,a.busStops,a.realtimeState)};define("controller/BusLineController",["view/BusLineView"],H(Sa));ba.prototype.regionList=[{id:"11",name:"\uc11c\uc6b8\ud2b9\ubcc4\uc2dc",label:"\uc11c\uc6b8",code:"seoul"},{id:"26",name:"\ubd80\uc0b0\uad11\uc5ed\uc2dc",label:"\ubd80\uc0b0",code:"pusan"},{id:"27",name:"\ub300\uad6c\uad11\uc5ed\uc2dc",label:"\ub300\uad6c",code:"daegu"},{id:"28",name:"\uc778\ucc9c\uad11\uc5ed\uc2dc",label:"\uc778\ucc9c",code:"incheon"},{id:"29",
name:"\uad11\uc8fc\uad11\uc5ed\uc2dc",label:"\uad11\uc8fc",code:"kwangju"},{id:"30",name:"\ub300\uc804\uad11\uc5ed\uc2dc",label:"\ub300\uc804",code:"daejeon"},{id:"31",name:"\uc6b8\uc0b0\uad11\uc5ed\uc2dc",label:"\uc6b8\uc0b0",code:"ulsan"},{id:"36",name:"\uc138\uc885\ud2b9\ubcc4\uc790\uce58\uc2dc",label:"\uc138\uc885",code:"sejong"},{id:"41",name:"\uacbd\uae30\ub3c4",label:"\uacbd\uae30",code:"kyonggi"},{id:"42",name:"\uac15\uc6d0\ub3c4",label:"\uac15\uc6d0",code:"kangwon"},{id:"43",name:"\ucda9\uccad\ubd81\ub3c4",
label:"\ucda9\ubd81",code:"chungbook"},{id:"44",name:"\ucda9\uccad\ub0a8\ub3c4",label:"\ucda9\ub0a8",code:"chungnam"},{id:"45",name:"\uc804\ub77c\ubd81\ub3c4",label:"\uc804\ubd81",code:"jeonbuk"},{id:"46",name:"\uc804\ub77c\ub0a8\ub3c4",label:"\uc804\ub0a8",code:"jeonnam"},{id:"47",name:"\uacbd\uc0c1\ubd81\ub3c4",label:"\uacbd\ubd81",code:"kyungbook"},{id:"48",name:"\uacbd\uc0c1\ub0a8\ub3c4",label:"\uacbd\ub0a8",code:"kyungnam"},{id:"50",name:"\uc81c\uc8fc\ub3c4",label:"\uc81c\uc8fc",code:"jeju"}];
ba.prototype.regionMap={};ba.prototype.createMap_=function(){this.regionList.forEach(function(a){this.regionMap[a.id]=a;a.subregion&&a.subregion.forEach(function(a){this.regionMap[a.id]=a},this)},this)};ba.prototype.createElements_=function(){var a,b,c=document.getElementById("info.bus.region.subLocal.button"),d=document.getElementById("search.busLocal");this.regionList.forEach(function(e){a=document.createElement("li");a.id="search.busLocal."+e.code;a.innerHTML=e.label;d.appendChild(a);if(e.subregion){b=
document.createElement("ul");b.id="search."+e.code+"Local";b.className="BusSubLocal HIDDEN";c.appendChild(b);e.subregion.forEach(function(c){a=document.createElement("li");a.id="search.busLocal."+c.id;a.innerHTML=c.name;b.appendChild(a)})}})};ba.prototype.result=[];ba.prototype.inBounds_=!1;ba.prototype.isInBounds=function(){return this.inBounds_};ba.prototype.changeActive_=function(){if(this.getActive()){h.$("info.bus").setVisible(true);h.$("info.bus.searchBoxNumber").setVisible(true);this._viewLayout.setMapOnly();
this.map_.setKeyboardShortcuts(true);if(this.result_&&this.result_[0]){this.panel_.show();if(this.activeController_){this.activeItemView_.setActive(true);this.activeController_.show();this.landmarkMarkers_.show();Application.busLineController.setData(this.activeController_.getId(),true)}}else this.loadView_()}else if(this.activeController_){this.landmarkMarkers_.hide();this.activeController_.hide()}};ba.prototype.changeTab_=function(a){if(!this.setUrlFlag_){this.reset();Application.infoWindowManager.close();
a<3&&p.click("businfo",["bus_navi",["busname","busstop","region"][a]])}};ba.prototype.showBusLocalBox_=function(){var a=h.$("info.bus.region.local.button");if(a.hasClass("buslocal-ACTIVE"))ca.$("search.busLocal").hide();else{ca.$("search.busLocal").show();a.addClass("buslocal-ACTIVE");ca.$("search.busLocal").noCloseUIPanel(a)}};ba.prototype.showBusSubLocalBox_=function(){var a=this.regionMap[this.busLocal.getValue()].code+"Local",b=h.$("info.bus.region.subLocal.button");if(jQuery(".BusSubLocal:not(.HIDDEN)").length===
0){ca.$("search."+a).show();b.addClass("busSublocal-ACTIVE");ca.$("search."+a).noCloseUIPanel(b)}else ca.$("search."+a).hide()};ba.prototype.busTypeChanged_=function(a){this.busTab_.setIndex(a)};ba.prototype.subLocalChanged_=function(a){this.scode=a.value;h.$("info.bus.region.subLocal").setText(a.text);for(var b in this.regionMap)if(this.regionMap[b].subregion){ca.$("search."+this.regionMap[b].code+"Local").hide();h.$("info.bus.region.subLocal").setClass("melt",true)}this.submitRegion_()};ba.prototype.busLocalChanged_=
function(a){this.hcode=a.value;var b=this.regionMap[this.hcode];this.scode=a.subregionId||b.defaultSubregionId||0;if(b.subregion&&b.subregion.length>1){h.$("info.bus.region").addClass("subregion");ca.$("search.busLocal").addClass("INSUB");h.$("info.bus.region.subLocal").setClass("melt",true);if(!this.regionMap[this.scode])this.scode=b.subregion[0].id}else{h.$("info.bus.region").removeClass("subregion");ca.$("search.busLocal").removeClass("INSUB");if(!this.regionMap[this.scode]&&b.subregion)this.scode=
b.subregion[0].id;delete b.subregion}this.submitRegion_();h.$("info.bus.region.local").setText(a.text);h.$("info.bus.region.subLocal").setVisible(b.subregion).setText(this.scode===0?"\uc2dc/\uad70\uc744 \uc120\ud0dd\ud558\uc138\uc694":this.regionMap[this.scode].name);ca.$("search.busLocal").hide();h.$("info.bus.region.local").setClass("melt",true)};ba.prototype.setPanel_=function(){this.panel_.show()};ba.prototype.setRegionName=function(a){this.regionName_=a;this.setUrlFlag_=true};ba.prototype.submit_=
function(){h.$("info.route.searchBox.number.name").removeClass("BUSSEARCH-ACTIVE");Application.busLineController.closeLayer();var a=this.setUrlFlag_?this.regionName_:null;this.setUrlFlag_=false;this.regionInfo_={};this.typeInfo_={};this.landmarkMarkers_.clear();if(this.guideSelected_)this.guideSelected_=false;else this.qaTypeForBusStop_=this.qaTypeForBusNumber_=null;this.inBounds_=false;var b=this.busTab_.getIndex();this.busNumber_=b==0?h.$("info.route.searchBox.number.name").getValue():h.$("info.route.searchBox.stop.name").getValue();
if(!this.busNumber_){b==0?alert("\ubc84\uc2a4\ubc88\ud638\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694!"):alert("\ubc84\uc2a4\uc815\ub958\uc7a5\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694!");return false}var c=this.regionInfo_.id,d=this.typeInfo_.id;this.dssBusObj={pg:1,regionname:a,regionid:c,typeid:d,mkey:this.createMKey()};switch(b){case 0:this.mode_="number";this.preNumber_=h.$("info.route.searchBox.number.name").getValue();this.dssBusObj.qatype=this.qaTypeForBusNumber_;U.findAll(this.busNumber_,
1,{regionName:a,regionId:c,typeId:d,qaType:this.qaTypeForBusNumber_},this.loadNumberData,this);p.click("businfo","num_search",{param1:this.busNumber_});break;case 1:this.mode_="stop";this.preStop_=h.$("info.route.searchBox.stop.name").getValue();this.dssBusObj.qatype=this.qaTypeForBusStop_;ga.findAllByName(this.busNumber_,1,{regionName:a,regionId:c,typeId:d,qaType:this.qaTypeForBusStop_},this.loadStopData_,this);p.click("businfo","busstop_search",{param1:this.busNumber_});break;default:assert("Invalid mode: "+
this.mode_)}this.paginationView_.setPage(1);h.$("info.bus.searchBox.number.submit").focusAndSelect();h.$("info.bus.searchBox.stop.submit").focusAndSelect();Application.mainMapController.clearThemePoiControlView()};ba.prototype.findName=function(a){this.setUrlFlag_=true;h.$("info.route.searchBox.number.name").setValue(a);this.busTypeChanged_(0);this.submit_()};ba.prototype.findStop=function(a){this.setUrlFlag_=true;h.$("info.route.searchBox.stop.name").setValue(a);this.busTypeChanged_(1);this.submit_()};
ba.prototype.findOneByCode=function(a){this.findBus_=this.favoriteBus_=a;this.mode_="number";this.inBounds_=false;U.findBusLine(a,this.loadBusLineData_,this)};ba.prototype.loadBusLineData_=function(a){h.$("info.bus.filter").removeAllChildren();this.busMessageView_.setVisible(false);var b;b=[];b.push(a);this.loadData_(b)};ba.prototype.findByOne=function(a){this.busTypeChanged_(0);this.findBus_=a;require("server").busInfo(a,this.findByOne_.bind(this))};ba.prototype.findByOne_=function(a){this.mode_=
"number";this.inBounds_=false;this.busNumber_=a.text("name");h.$("info.route.searchBox.number.name").setValue(this.busNumber_);U.findOne(this.busNumber_,this.findBus_,this.loadNumberData,this);this.paginationView_.setPage(1)};ba.prototype.submitRegion_=function(){p.click("businfo","region_search");this.landmarkMarkers_.clear();this.regionInfo_={};this.typeInfo_={};this.qaTypeForBusStop_=this.qaTypeForBusNumber_="";h.$("info.bus.list").removeAllChildren();this.paginationView_.getPanel().hide();var a=
this.regionMap[this.hcode].subregion?true:false;if(a&&!this.scode){alert("\uc9c0\uc5ed \uc120\ud0dd\uc744 \ud655\uc778\ud558\uc138\uc694");return false}var b=!a?this.hcode:this.scode,c=this.regionMap[this.hcode].name;a&&(c=c+(" "+this.regionMap[this.scode].name));h.$("info.bus.filter").removeAllChildren();this.busMessageView_.setData("",{guideType:"bus_tab_region",keyword:c});this.busMessageView_.setVisible(true);this.mode_="region";this.regionCode_=b;U.findAllInRegion(b,1,this.loadData,this);this.paginationView_.setPage(1);
Application.mainMapController.clearThemePoiControlView();require("log/Tiara").log("/fake/bus_busHcodeSearchResult")};ba.prototype.setMessage=function(a,b,c){h.$("info.bus.title").setVisible(!(a.count===0&&a.regions.length===1&&a.types.length===1));this.loadBusMessage_(a);h.$("info.bus.count").removeAllChildren().addChild(new h("em","cnt",a.count||""));var d=h.$("info.bus.filter");d.removeAllChildren();var e=["BUS-REGION","BUS-TYPE"];if(a.types.length>2){var f=a.types.map(function(a){return a.name}),
f=hd(f),g=this.typeInfo_.name?this.typeInfo_.name:a.types[0].name;f.setLabel(g);g=f.getPane();g.addClass("BusFilterSelectBoxView-"+e.pop());d.addChild(g);f.onSelect.add(function(d){this.typeInfo_=a.types[d];d=a.qaType;z.log("search_q_type",this.busNumber_,{typeid:"filter",tab:this.mode_=="number"?"busname_realbus":"busstop_realbus",regionid:this.regionInfo_.id,bustypeid:this.typeInfo_.id});this.mode_=="number"?this.qaTypeForBusNumber_=d:this.qaTypeForBusStop_=d;this.paginationView_.setPage(1);this.dssBusObj=
{pg:1,regionname:this.regionName_,regionid:this.regionInfo_.id,typeid:this.typeInfo_.id,qatype:d,mkey:this.createMKey()};b(this.busNumber_,1,{regionName:this.regionName_,regionId:this.regionInfo_.id,typeId:this.typeInfo_.id,qaType:d,mkey:this.createMKey()},c,this)},this)}if(a.regions.length>2){f=a.regions.map(function(a){return a.name});f=hd(f);g=this.regionName_?this.regionName_:this.regionInfo_.name?this.regionInfo_.name:a.regions[0].name;f.setLabel(g);g=f.getPane();g.addClass("BusFilterSelectBoxView-"+
e.pop());d.addChild(g);f.onSelect.add(function(d){this.regionInfo_=a.regions[d];d=a.qaType;z.log("search_q_type",this.busNumber_,{typeid:"filter",tab:this.mode_=="number"?"busname_realbus":"busstop_realbus",regionid:this.regionInfo_.id,bustypeid:this.typeInfo_.id});this.mode_=="number"?this.qaTypeForBusNumber_=d:this.qaTypeForBusStop_=d;this.dssBusObj={pg:1,regionname:this.regionName_,regionid:this.regionInfo_.id,typeid:this.typeInfo_.id,qatype:d,mkey:this.createMKey()};this.paginationView_.setPage(1);
b(this.busNumber_,1,{regionName:this.regionName_,regionId:this.regionInfo_.id,typeId:this.typeInfo_.id,qaType:d,mkey:this.createMKey()},c,this)},this)}d.addChild(new h("span","bar_area"));this.paginationView_.setTotal(a.pageCount/15)};ba.prototype.loadBusMessage_=function(a){this.busMessageView_.setVisible(true);this.busMessageView_.setData(a.originalKeyword,a.currentGuide,a.nextGuide)};ba.prototype.loadNumberData=function(a){this.loadData_(a.buses);this.setMessage(a,U.findAll,this.loadNumberData);
this.sendDssLog(this.dssSearchInType||"search_bus_number",this.busNumber_,{cnt:a.count||0});this.regionName_=this.dssSearchInType="";require("log/Tiara").log("/fake/bus_number_result")};ba.prototype.loadStopData_=function(a){this.loadData_(a.busStops);this.setMessage(a,ga.findAllByName,this.loadStopData_);this.sendDssLog(this.dssSearchInType||"search_bus_station",this.busNumber_,{cnt:a.count||0});this.regionName_=this.dssSearchInType="";require("log/Tiara").log("/fake/bus_stop_result")};ba.prototype.loadData_=
function(a){this.result_=a;this.loadView_()};ba.prototype.loadView_=function(){var a=this.result_;Application.roadviewController.close();Application.roadviewController.removeLastMarker();h.$("info.bus.search").show();h.$("info.bus.title").hide();var b=h.$("info.bus.list");if(this.activeController_){this.activeController_.hide();this.activeController_=null}if(a&&a[0]){this.setPanel_();this.noBusView_.hide();b.show();b.removeAllChildren();this.itemTotalLength=a.length;(this.items=a.map(this.mode_===
"stop"?this.createStopItemView_:this.createItemView_,this)).forEach(b.addChild,b);h.$("info.noBus").hide()}else if(a){b.hide();if(this.mode_=="number"){this.noBusView_.show();this.noBusNameView_.hide()}else if(this.mode_=="stop"){this.noBusView_.hide();this.noBusNameView_.show()}h.$("info.noBus").show()}else this.introView_.show();this.findBus_=null;this.paginationView_.setTotal(0)};ba.prototype.loadData=function(a){this.hcode=this.hcode.toString();this.setPanel_(true);this.loadData_(a.buses);this.paginationView_.setTotal(a.count/
15);this.paginationView_.getPanel().show();z.log("search_bus_region",this.regionMap[this.hcode].name,{cnt:a.count||0})};ba.prototype.reset=function(){if(this.activeController_){this.activeController_.hide();this.activeController_=null}h.$("info.bus.region.local").setClass("melt",false);h.$("info.bus.region.subLocal").setClass("melt",false);h.$("info.bus.region").removeClass("subregion");ca.$("search.busLocal").removeClass("INSUB");h.$("info.route.searchBox.number.name").setValue("");h.$("info.route.searchBox.stop.name").setValue("");
h.$("info.bus.region.local").setText("\uc9c0\uc5ed\uc744 \uc120\ud0dd\ud558\uc138\uc694");h.$("info.bus.region.subLocal").setText("\uc2dc/\uad70\uc744 \uc120\ud0dd\ud558\uc138\uc694").hide();jQuery("#info\\.bus\\.searchBox\\.number\\.submit, #info\\.bus\\.searchBox\\.stop\\.submit").removeClass("active");this.landmarkMarkers_.clear();this.preStop_=this.preNumber_=this.favoriteBus_=this.result_=null;this.regionInfo_={};this.typeInfo_={};this.qaTypeForBusStop_=this.qaTypeForBusNumber_=null;this.guideSelected_=
false;this.dssBusObj=null;this.dssSearchInType="";this.getActive()&&this.introView_.show()};ba.prototype.findRegion=function(a){this.setUrlFlag_=true;var b={text:"\uc9c0\uc5ed\ubcc4",value:2};this.busTypeChanged_(2);if(this.regionMap[a.substring(0,2)]){this.hcode=a.substring(0,2);b.text=this.regionMap[this.hcode].label;b.value=this.hcode;this.busLocal.setText_(b.text);this.busLocal.setValue_(b.value);b.subregionId=a==this.hcode?this.regionMap[a].defaultSubregionId:a;this.busLocalChanged_(b)}};ba.prototype.openBusStop_=
function(a){Application.infoWindowManager.close();var b=a.order||0;ga.find(a.id,function(a){Application.map.setLevel(3);Application.map.panTo(a.coords);setTimeout(function(){Application.infoWindowManager.createBusStop(a,this.busLineId_.id,b)}.bind(this),250)}.bind(this))};ba.prototype.setPage=function(a){var b=this.regionName_||null,c=this.regionInfo_.id||"",d=this.typeInfo_.id||"";this.dssBusObj={pg:a,regionname:b,regionid:c,typeid:d,mkey:this.createMKey()};switch(this.mode_){case "number":this.dssSearchInType=
"search_bus_number_paging";this.dssBusObj.qatype=this.qaTypeForBusNumber_;U.findAll(this.busNumber_,a,{regionName:b,regionId:c,typeId:d,qaType:this.qaTypeForBusNumber_},this.loadNumberData,this);break;case "bounds":U.findInBounds(this.bounds_,a,this.loadInBounds_,this);break;case "region":U.findAllInRegion(this.regionCode_,a,this.loadData,this);break;case "stop":this.dssSearchInType="search_bus_station_paging";this.dssBusObj.qatype=this.qaTypeForBusStop_;ga.findAllByName(this.busNumber_,a,{regionName:b,
regionId:c,typeId:d,qaType:this.qaTypeForBusStop_},this.loadStopData_,this);break;default:assert(false)}h.$("info.body").scrollTo(0)};ba.prototype.createItemView_=function(a,b,c){var d=new Pd(this.buttonFactory_);d.setData(a);var e=new Vb(a.id,d);d.onClick.add(function(){Application.busLineController.setActive(false);this.landmarkMarkers_.clear();this.createLandmark_(a.landmarks);this.busLineId_=a;var c=this.activeController_;if(c!=e){c&&c.hide();this.activeController_=e;this.activeItemView_=d;e.show();
Application.busLineController.setData(a.id,true);this.landmarkMarkers_.show();Application.historyController.addBusLine(Application.historyController.TYPE_LIST.BUS_LINE,a);p.click("businfo","bus_number");if(this.mode_==="number")this.sendDssLog("search_bus_number_click",this.busNumber_,{name:this.busLineId_.name,addr:this.busLineId_.region,cpg:","+this.itemTotalLength+","+(b+1)});else if(this.mode_==="region"){c=this.regionMap[this.hcode].name;c=c+(this.regionMap[this.hcode].subregion?" "+this.regionMap[this.scode].name:
"");z.log("search_bus_region_click",c,{name:this.busLineId_.name,addr:this.busLineId_.region,cpg:","+this.itemTotalLength+","+(b+1)})}}else Application.busLineController.setData(a.id,true)},this);if(this.findBus_===a.id||c.length==1){e.activate();this.busLineId_=a;this.activeController_=activeController=e;this.activeItemView_=d;Application.busLineController.setData(a.id,true);Application.historyController.addBusLine(Application.historyController.TYPE_LIST.BUS_LINE,a)}return d.getPane()};ba.prototype.createStopItemView_=
function(a,b){var c=new Qd(this.buttonFactory_,true);c.setData(a);c.onClick.add(function(){ga.find(a.id,function(a){Application.map.setCenter(a.coords);Application.map.setLevel(3);Application.infoWindowManager.createBusStop(a)});p.click("businfo","busstop");this.sendDssLog("search_bus_station_click",this.busNumber_,{name:a.name,addr:a.region,cpg:","+this.itemTotalLength+","+(b+1)})},this);c.onFlagClick.add(function(b){this.onFlagClick.notify({type:b,item:a})},this);return c.getPane()};ba.prototype.createLandmark_=
function(a){a&&a.forEach(function(a){this.landmarkMarkers_.add(B.createLandmark(a.coords));var c=new nc;c.setData("BUSLANDMARK",a.coords,'<span class="name">'+a.name+"</span>");this.landmarkMarkers_.add(c)},this)};ba.prototype.getBusNumberKeyword=function(){return h.$("info.route.searchBox.number.name").getValue()};ba.prototype.getBusStopKeyword=function(){return h.$("info.route.searchBox.stop.name").getValue()};ba.prototype.getMode=function(){return this.mode_};ba.prototype.getFavoriteBus=function(){return this.favoriteBus_};
ba.prototype.getRegionCode=function(){return this.regionCode_};ba.prototype.getRegionName=function(){return this.regionName_};ba.onSuggestParseItem=function(a){var b=a[0];switch(a[0]){case "BI":b=a[1];a=String.format('%s <span style="color:#ddd">|</span> <span style="color:#aaa">%s</span>',a[1],a[2]);break;case "BN":b=a[2];default:a=String.format("%h",b)}return[a,b]};ba.prototype.sendDssLog=function(a,b,c){c=jQuery.extend({},this.dssBusObj,c||{});c.regionname=c.regionname||"";c.regionid=c.regionid||
"";c.bustypeid=c.typeid||"";c.qatype=c.qatype||"";if(c.cpg)c.cpg=c.pg+c.cpg;z.log(a,b,c)};ba.prototype.createMKey=function(){return+new Date+"_"+Math.ceil(Math.random()*32767)};define("controller/BusSearchController","map/Map manager/ViewLayout factory/ButtonFactory manager/MapSuggest options controller/HistoryController".split(" "),H(ba));ja.prototype.find=function(){if(!this.mode_)this.mode_=V.REALTIME;if(!this.option_)this.option_=V.OPTION_NONE;this.find_()};ja.prototype.getRoute=function(){return this.routeset_};
ja.prototype.clearRoute=function(){this.routeset_=this.route_=null;this.hideRoute_()};ja.prototype.clearDetailRoute=function(){this.route_=null;this.panel_.initDetailedItem();this.hideDetailRoute_()};ja.prototype.hideRoute_=function(){this.hideDetailRoute_();this.routePoiControlView.hide();this.panel_&&this.panel_.hide();this.noResultView_&&this.noResultView_.hide()};ja.prototype.hideDetailRoute_=function(){this.infoWindowManager_.close();this.accidentMarkers_.hide();this.cctvMarkers_.hide();this.gasStationMarkers_.hide();
this.restAreaMarkers_.hide();this.themePoiControlView_.setRouteControlView(false);this.controlView_.getTraffic()&&!this.mapTypeControl_.isTrafficActive()&&this.layerLegend_.setLegend("traffic",false);this.checkpoints_.hide();this.overlays_.hide();this.trafficLines_.hide();this.noticeLine_.hide();this.wholeLine_&&this.wholeLine_.setMap(null);this.panel_&&this.panel_.initDetailedItem();this.roadviewController_.setRouteData("car",null);this.setToolBarVisible(false);this.setExtraCopyright(false);this.previewLines.forEach(function(a){a.setMap(null)});
this.previewHoverLines.forEach(function(a){a.setMap(null)});this.previewStartLines.forEach(function(a){a.setMap(null)});this.previewEndLines.forEach(function(a){a.setMap(null)})};ja.prototype.find_=function(a){this.route_=null;var b=Application.flagSearchController.getWaypoints();b?V.find(b,this.mode_,this.option_,function(b){Application.aoiManager.clearAll();var d=Application.flagSearchController.getWaypoints();if(!b&&(this.option_==V.OPTION_FREEWAY||this.option_==V.OPTION_BIKE)){this.routeset_&&
this.routeset_.option?this.panel_.setOptionPanel(this.routeset_.method,this.routeset_.option):this.panel_.setOptionPanel(V.REALTIME,V.OPTION_NONE);alert("\uc120\ud0dd\ud55c \uc635\uc158\uc5d0 \ud574\ub2f9\ud558\ub294 \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.")}else{b.resultCode==""&&Application.historyController.addRoute(Application.historyController.TYPE_LIST.CAR,d);this.routeset_=b;this.dirty_=true;a?this.load_():this.onResult.notify();d=Application.flagSearchController.getWaypoints();z.log("search_path_car",
d.map(function(a){return a.name+"_"+a.coords.getX().toFixed(0)+","+a.coords.getY().toFixed(0)+"_"+(a.pointType=="PLACE"?a.id:"")}),b.error?{cnt:0,mode:b.resultCode}:{cnt:1,mode:""})}},this):this.load_(null)};ja.prototype.isLoaded=function(){return!!this.routeset_};ja.prototype.clearData_=function(){this.checkpoints_.clear();this.overlays_.clear();this.trafficLines_.clear();this.noticeLine_.clear();this.wholeLine_&&this.wholeLine_.setMap(null);this.accidentMarkers_.clear();this.cctvMarkers_.clear();
this.gasStationMarkers_.clear();this.restAreaMarkers_.clear();this.route_=null;this.previewHoverLines.forEach(function(a){a.setMap(null)});this.previewHoverLines.length=0;this.previewLines.forEach(function(a){a.setMap(null)});this.previewLines.length=0;this.previewStartLines.forEach(function(a){a.setMap(null)});this.previewStartLines.length=0;this.previewEndLines.forEach(function(a){a.setMap(null)});this.previewEndLines.length=0;this.roadviewRoute_=null};ja.prototype.load_=function(){var a=this.routeset_;
this.infoWindowManager_.close();Application.windowController.showInfoAndTop();this.clearDetailRoute();this.clearData_();this.panel_.setDaumNotice(false);this.panel_.setNoResult(false);require("log/Tiara").log("/fake/routing_carSearch");if(a.error){this.noResultView_&&this.noResultView_.detach();this.noResultView_=Ba.createCar(a.resultCode,a);h.$("info.flagsearch").addChild(this.noResultView_);this.panels_.add(null,this.noResultView_);this.noResultView_.onSearchBtnClick.add(function(a){this.onSearchBtnClick.notify(a)},
this);this.noResultView_.setVisible(true);this.toolBar_&&this.setToolBarVisible(false);this.panel_.setNoResult(true);this.routePoiControlView.hide();Application.flagSearchController.flagSearchResultController.howTo.hide()}else{this.roadviewRoute_=a.carRoutes[0];this.panel_.setData(a);this.panel_.show();this.toolBar_.show();this.setPreviewHoverLine(0,true);this.panel_.initHover()}};ja.prototype.setDetailRoute=function(a){this.clearDetailRoute();this.checkpoints_.clear();this.overlays_.clear();this.trafficLines_.clear();
this.noticeLine_.clear();this.wholeLine_&&this.wholeLine_.setMap(null);this.accidentMarkers_.clear();this.cctvMarkers_.clear();this.gasStationMarkers_.clear();this.restAreaMarkers_.clear();this.route_=this.routeset_.carRoutes[a];this.panel_.setDetailedItem(a);(a=this.route_)&&a.hasRoadviewInfo?this.roadviewController_.setRouteData("car",a.raw):this.roadviewController_.setRouteData("car",null);this.themePoiControlView_.setRouteControlView(a.accidents!==null);if(!this.toolBar_){Application.favoriteController.onChangeItem.add(function(){this.toolBar_.updateFav()}.bind(this));
var b=this.toolBar_=new Xc;b.onClick.add(this.handleToolbar_,this);hb.addChild(b)}this.setToolBarVisible(true);var b=Application.flagSearchController.getWaypoints(),c=t.createCarFromWaypoints(b,this.mode_==V.REALTIME?"realtime":this.mode_==V.SHORTEST?"dist":"time");t.findRouteKey(c,function(a){if(a.text("status.code")===t.RESULT_CODE.SUCCESS)c.key=a.text("result");this.toolBar_.updateFav(c)}.bind(this));var d=[],b=V.getSourceLineColor(a.source);a.checkpoints.forEach(function(a){d=d.concat(a.points)});
a.checkpoints.forEach(this.createTrafficLine_,this);this.wholeLine_=new daum.maps.Polyline({strokeWeight:10,strokeColor:"#004997",strokeOpacity:1,additionalStyles:[{strokeWeight:"8",strokeOpacity:"1",strokeColor:b},{strokeStyle:"longdash",strokeWeight:"1",strokeColor:"#ffffff",strokeOpacity:"1"}],path:d});var e=d[0],f=d[d.length-1],b=Application.flagSearchController.getWaypoints(),g=b[b.length-1].coords;this.noticeLine_.add(new daum.maps.Polyline({strokeColor:"#3396ff",strokeOpacity:0.4,strokeWeight:10,
path:[b[0].coords,e]}));this.noticeLine_.add(new daum.maps.Polyline({strokeColor:"#3396ff",strokeOpacity:0.4,strokeWeight:10,path:[f,g]}));var j=[];a.checkpoints.forEach(function(a){a.coords&&j.push(a.coords)});a.sectionPoints.length<6&&a.sectionPoints.forEach(function(a,b){this.createEditableRoute_(a,b,j)},this);a.checkpoints.forEach(this.createNumber_,this);this.noticeLine_.show();this.fitRouteInMap_();if(a.accidents){this.themePoiControlView_.setRouteControlView(true);this.loadRoadside_(a)}else{this.trafficLines_.hide();
this.wholeLine_&&this.wholeLine_.setMap(this.map_);this.themePoiControlView_.setRouteControlView(false)}this.layerLegend_.setClickableLabel(true);this.layerLegend_.setLegend("traffic",this.controlView_.getTraffic());this.routePoiControlView.show()};ja.prototype.loadPreviewLines=function(){var a=new daum.maps.CoordsBounds,b=Application.flagSearchController.getWaypoints(),c=b[0].coords,d=b[b.length-1].coords;this.routeset_.carRoutes.forEach(function(b){var f=[],g=V.getSourceLineColor(b.source),j=V.getSourceOutLineColor(b.source);
b.checkpoints.forEach(function(a){f=f.concat(a.points)});f.forEach(function(b){a.extend(b)});this.previewLines.push(new daum.maps.Polyline({strokeWeight:10,strokeColor:j,strokeOpacity:1,additionalStyles:[{strokeWeight:"6",strokeOpacity:"1",strokeColor:g}],path:f}));b=f[f.length-1];this.previewStartLines.push(new daum.maps.Polyline({strokeColor:"#3396ff",strokeOpacity:0.4,strokeWeight:10,path:[c,f[0]]}));this.previewEndLines.push(new daum.maps.Polyline({strokeColor:"#3396ff",strokeOpacity:0.4,strokeWeight:10,
path:[b,d]}))},this);this.previewLinesBounds=a};ja.prototype.loadPreviewHoverLines=function(){this.routeset_.carRoutes.forEach(function(a){var b=[],c=V.getSourceLineColor(a.source);a.checkpoints.forEach(function(a){b=b.concat(a.points)});this.previewHoverLines.push(new daum.maps.Polyline({strokeWeight:7,strokeColor:"#000",strokeOpacity:1,additionalStyles:[{strokeWeight:"5",strokeOpacity:"1",strokeColor:c},{strokeStyle:"longdash",strokeWeight:"1",strokeColor:"#ffffff",strokeOpacity:"1"}],path:b}))},
this)};ja.prototype.setPreviewLines=function(a){if(a){this.previewLines.forEach(function(a){a.setMap(this.map_)},this);this.previewStartLines.forEach(function(a){a.setMap(this.map_)},this);this.previewEndLines.forEach(function(a){a.setMap(this.map_)},this);this.map_.setBounds(this.previewLinesBounds)}else{this.previewLines.forEach(function(a){a.setMap(null)});this.previewStartLines.forEach(function(a){a.setMap(null)},this);this.previewEndLines.forEach(function(a){a.setMap(null)},this);this.previewHoverLines.forEach(function(a){a.setMap(null)})}};
ja.prototype.setPreviewHoverLine=function(a,b){var c=this.previewLines[a],d=this.previewHoverLines[a],e=this.previewStartLines[a],f=this.previewEndLines[a];if(e&&f){e.setMap(null);f.setMap(null)}if(this.route_){if(this.routeset_.carRoutes.indexOf(this.route_)!=a&&c)if(b){c.setMap(this.map_);e.setMap(this.map_);f.setMap(this.map_)}else c.setMap(null)}else if(c&&d){if(b){c.setMap(null);d.setMap(this.map_)}else{c.setMap(this.map_);d.setMap(null)}e.setMap(this.map_);f.setMap(this.map_)}};ja.prototype.loadRoadside_=
function(a){a.accidents.forEach(this.createAccident_,this);var b=!!a.accidents[0];this.controlView_.setAccident(this.map_.getLevel()<7&&b);this.controlView_.accidentClickable(b);a.cctvs.forEach(this.createCctv_,this);b=!!a.cctvs[0];this.controlView_.setCctv(this.map_.getLevel()<7&&b);this.controlView_.cctvClickable(b);this.gasStationLoaded_=false;this.controlView_.setGas(false);this.controlView_.gasClickable(!!a.gasStations[0]);a.restAreas.forEach(this.createRestArea_,this);this.controlView_.setService(false);
this.controlView_.serviceClickable(!!a.restAreas[0])};ja.prototype.accidentInfoClickHandler_=function(a){this.accidentMarkers_.markers_.forEach(function(b){if(a==b.accident_.id){this.controlView_.setAccident(true);this.map_.setCenter(b.getMarker().getPosition());b.clickMarker()}},this)};ja.prototype.createAccident_=function(a){this.accidentMarkers_.add(new fe(a,"route","go_car_accident_get"))};ja.prototype.createCctv_=function(a){this.cctvMarkers_.add(new Nc(a,this.miniTooltipManager_,"route","go_car_CCTV_get"))};
ja.prototype.createGasStation_=function(a){var b=B.createGasStation(a.coords);daum.maps.event.addListener(b,"click",function(){qa.find(a.id,function(a){a&&this.infoWindowManager_.createPlace(a,b)},this);p.click("route","go_car_gas_station_get")}.bind(this));this.gasStationMarkers_.add(b)};ja.prototype.createRestArea_=function(a){var b=B.createRestArea(a.coords);daum.maps.event.addListener(b,"click",function(){qa.find(a.id,function(a){a&&this.infoWindowManager_.createPlace(a,b)},this);p.click("route",
"go_car_service_station_get")}.bind(this));this.restAreaMarkers_.add(b)};ja.prototype.createTrafficLine_=function(a){console.assert(Array.isArray(a.points));if(a.points[0]){var b;switch(a.traffic){case L.LIGHT:b="#10bf00";break;case L.MODERATE:b="#ffce00";break;case L.MEDIUM:b="#ff7200";break;case L.HEAVY:b="#ff223d";break;default:b="#a8a8a8"}this.trafficLines_.add(new daum.maps.Polyline({strokeWeight:10,strokeColor:"#004997",strokeOpacity:0.7,additionalStyles:[{strokeWeight:8,strokeColor:b,strokeOpacity:1},
{strokeWeight:1,strokeColor:"#ffffff",strokeOpacity:1,strokeStyle:"longdash"}],path:a.points,pathHint:a.hints}))}};ja.prototype.createEditableRoute_=function(a,b,c){a=new fc(b,this.map_,a,c);a.onCoords.add(this.addStop_,this);this.overlays_.add(a)};ja.prototype.createJoint_=function(a,b){if(a){var c=B.createStop(a);c.setMap(this.map_);this.overlays_.add(c);c=B.createStopRemover(a);c.setMap(this.map_);this.overlays_.add(c);daum.maps.event.addListener(c,"click",this.removeStop_.bind(this,b))}};ja.prototype.createNumber_=
function(a,b){var c=new Wb(a.seq,a.coords,2),d=this.panel_.getCheckpoints()[b];d instanceof Ec&&d.setMarker(c);c.onClick&&c.onClick.add(function(){this.openFlagInfoWindow_(b);this.panel_.setIndex(b)},this);this.checkpoints_.add(c)};ja.prototype.changeActive_=function(){if(this.getActive())if(this.route_){this.panel_.show();this.setDetailRoute(this.routeset_.carRoutes.indexOf(this.route_))}else this.load_();else this.hideRoute_();Application.windowController.onHeightChange.notify()};ja.prototype.fitRouteInMap_=
function(){var a=this.route_;if(a){this.roadviewController_.getActive()&&Application.roadviewController.close();var b=a.bounds,b=new daum.maps.CoordsBounds(b.getSouthWest(),b.getNorthEast()),c=a.origin.coords;c&&b.extend(c);(a=a.dest.coords)&&b.extend(a);this.map_.setBounds(b)}};ja.prototype.setTraffic=function(a){this.controlView_.setTraffic(a)};ja.prototype.handleMethod_=function(){this.mode_=this.panel_.getMode();this.option_=this.panel_.getOption();switch(this.mode_){case V.REALTIME:p.click("route",
"go_car_realtraffic");break;case V.OPTIMAL:p.click("route","go_car_suggest");break;case V.SHORTEST:p.click("route","go_car_minimum");break;default:console.assert(false)}switch(this.option_){case V.OPTION_FREEWAY:p.click("route","go_car_free");break;case V.OPTION_BIKE:p.click("route","go_car_except")}this.find_(true)};ja.prototype.doFavorite_=function(a){if(a)Application.favoriteController.add(a,"car_route_results");else if(a=Application.flagSearchController.getWaypoints()){var b=t.createCarFromWaypoints(a,
this.mode_==V.REALTIME?"realtime":this.mode_==V.SHORTEST?"dist":"time");t.findRouteKey(b,function(a){if(a.text("status.code")===t.RESULT_CODE.SUCCESS)b.key=a.text("result");Application.favoriteController.add(b,"car_route_results")}.bind(this))}};ja.prototype.print=function(){ob("etc/print_car.jsp",680,870);p.click("route","go_car_print")};ja.prototype.activateMarker_=function(a){a=this.checkpoints_.at(a);a.setActive&&a.setActive(true);return a};ja.prototype.nearbyButtonClick_=function(a){a=this.route_.checkpoints.indexOf(a);
this.openFlagInfoWindowAndZoom_(a);this.panel_.setIndex(a)};ja.prototype.showStartEndInfo=function(a){return Application.infoWindowManager.createStartEndPointInfo(a,{x:20,y:21})};ja.prototype.openFlagInfoWindow_=function(a){var b=this.route_.checkpoints[a],c=this.activateMarker_(a),d=null;if(b.seq=="start"||b.seq=="through"||b.seq=="goal"){d=this.showStartEndInfo(b);d.onCloseBtn.add(function(){infoWindowManager.closeWithoutNotify()})}else d=this.infoWindowManager_.createCarInfoInfo(b,c);d.setButtons(this.route_.checkpoints[a-
1],this.route_.checkpoints[a+1]);d.onPrev.add(function(){this.nearbyButtonClick_(this.route_.checkpoints[a-1])},this);d.onNext.add(function(){this.nearbyButtonClick_(this.route_.checkpoints[a+1])},this);c&&c.setActive&&d.onClose.add(function(){c.setActive(false)});p.click("route","go_car_mappoint")};ja.prototype.openFlagInfoWindowAndZoom_=function(a){this.roadviewController_.close();var b=this.route_.checkpoints[a],c=this.activateMarker_(a),d=null;if(b.seq=="start"||b.seq=="through"||b.seq=="goal"){d=
this.showStartEndInfo(b);d.onCloseBtn.add(function(){this.infoWindowManager_.closeWithoutNotify()}.bind(this))}else d=this.infoWindowManager_.createCarInfoInfo(b,c);d.setButtons(this.route_.checkpoints[a-1],this.route_.checkpoints[a+1]);this.map_.setCenter(b.coords);d.onPrev.add(function(){this.nearbyButtonClick_(this.route_.checkpoints[a-1])},this);d.onNext.add(function(){this.nearbyButtonClick_(this.route_.checkpoints[a+1])},this);p.click("route","go_car_tooltip_move")};ja.prototype.addStop_=function(a){this.onAddStop.notify(a)};
ja.prototype.removeStop_=function(){this.mode_=V.REALTIME;this.option_=V.OPTION_NONE;this.find_()};ja.prototype.handleToolbar_=function(a){switch(a.id){case "print":this.print();break;case "alook":p.click("route","go_car_once_view");this.fitRouteInMap_();break;case "favorite":p.click("favorite",["go_car","route_results"]);this.doFavorite_(a.fav);break;case "delete":p.click("route","go_car_route_delete");Application.flagSearchController.reset();break;default:console.assert(false)}};ja.prototype.transitRoutesCount_=
0;ja.prototype.handleControlView_=function(){if(this.getActive()){this.infoWindowManager_.close();if(this.controlView_.getTraffic()){this.trafficLines_.show();this.wholeLine_&&this.wholeLine_.setMap(null);this.layerLegend_.setDate(new Date);this.layerLegend_.setClickableLabel(true);this.layerLegend_.setLegend("traffic",true)}else{this.trafficLines_.hide();this.wholeLine_&&this.wholeLine_.setMap(this.map_);this.layerLegend_.setClickableLabel(false);this.layerLegend_.setLegend("traffic",false)}this.controlView_.getAccident()?
this.accidentMarkers_.show():this.accidentMarkers_.hide();this.controlView_.getCctv()?this.cctvMarkers_.show():this.cctvMarkers_.hide();if(this.controlView_.getGas()){if(!this.gasStationLoaded_){this.route_.gasStations.forEach(this.createGasStation_,this);this.gasStationLoaded_=true}this.gasStationMarkers_.show()}else this.gasStationMarkers_.hide();this.controlView_.getService()?this.restAreaMarkers_.show():this.restAreaMarkers_.hide()}};ja.prototype.handleRoadviewCheckpoint_=function(a){this.route_.checkpoints.some(function(b,
c){if(b.seq==a.seq){this.panel_.setIndex(c);return true}},this)};ja.prototype.setExtraCopyright=function(a){a?this.map_.setAdditionalCopyrights(["HYUNDAI MnSOFT"]):this.map_.setAdditionalCopyrights([])};ja.prototype.getMethod=function(){switch(this.mode_){case V.OPTIMAL:return 1;case V.SHORTEST:return 2}return 0};ja.prototype.setToolBarVisible=function(a){if(this.toolBar_){a?this.toolBar_.setVisible(true):this.toolBar_.setVisible(false);Application.windowController.updateHeight()}};ja.prototype.setMode=
function(a){this.mode_=a};define("controller/CarRouteSearchController","map/Map view/LayerLegendView view/ThemePoiControlView map/InfoWindowManager map/MiniTooltipManager controller/RoadviewController view/CarRouteResultView map/MapTypeControl controller/WindowController view/RoutePoiControlView controller/FlagSearchController".split(" "),H(ja));fb.prototype.infomarkers_=[];fb.prototype.activate=function(){if(!this.zoomHandler_){this.zoomHandler_=this.updateVisibility.bind(this);this.idleHandler_=
xb(20,this.fetch_.bind(this)).trigger;this.fetch_();this.setMapEvent()}};fb.prototype.fetch_=function(){var a=this.map_.getBounds(),b=a.getSouthWest(),a=a.getNorthEast();Ib.findAll(this.loadAll_,this,{level:this.map_.getLevel(),minX:b.getX(),maxX:a.getX(),minY:b.getY(),maxY:a.getY()})};fb.prototype.updateVisibility=function(){var a=this.map_.getLevel();this.infomarkers_.forEach(function(b){b.updateVisibility(a)})};fb.prototype.loadAll_=function(a){this.infomarkers_.forEach(fb.disposeInfoMarker);this.cctvs_=
a;this.infomarkers_=a.map(fb.createInfoMarker,this);this.updateVisibility();this.feedback_()};fb.prototype.feedback_=function(){if(this.callback_&&this.cctvs_){this.callback_();this.callback_=null}};fb.prototype.findId=function(a){this.callback_=function(){this.cctvs_.some(function(b,c){if(b.id==a){this.infomarkers_[c].clickMarker();return true}},this)};this.fetch_()};fb.createInfoMarker=function(a){a=new Nc(a,this.miniTooltipManager_,"realtraffic","cctvbutton");a.setMap(this.map_);return a};fb.disposeInfoMarker=
function(a){a.setMap(null)};fb.prototype.deactivate=function(){this.removeMapEvent();delete this.zoomHandler_;delete this.idleHandler_;Application.infoWindowManager.closeToType("cctv");this.infomarkers_.forEach(fb.disposeInfoMarker);delete this.infomarkers_;this.cctvs_=null};fb.prototype.setMapEvent=function(){daum.maps.event.addListener(this.map_,"zoom_changed",this.zoomHandler_);daum.maps.event.addListener(this.map_,"idle",this.idleHandler_)};fb.prototype.removeMapEvent=function(){daum.maps.event.removeListener(this.map_,
"zoom_changed",this.zoomHandler_);daum.maps.event.removeListener(this.map_,"idle",this.idleHandler_)};define("controller/CctvController",["map/Map","map/MiniTooltipManager"],H(fb));define("controller/CoachmarkController",["map/InfoWindowManager","controller/WalkthroughController","view/WalkthroughView","controller/FlagSearchController"],H(function(a,b,c,d){function e(a,d){var e=new db(a),f=function(){e.show();jQuery.cookie(d,true,{expires:3650})};e.onClose.add(function(){c.onClose.remove(f)});b.willShow()?
c.onClose.add(f):f()}function f(a,b){var c=new db(a),e=function(){if(d.getActive()){c.show();jQuery.cookie(b,true,{expires:3650})}};c.onClose.add(function(){d.onActive.remove(e)});d.onActive.add(e)}function g(b,c){var d=new db(b),e=function(a){var b=a.infoWindow;setTimeout(function(){var a=jQuery(b.getPane()).find(".InfoWindowToolbar .fav").offset(),e=-1;if(b instanceof sd)e=115;else if(b instanceof Xd){var f=b.getPane().find(".InfoWindowToolbar > a").length;f===2?e=90:f===3&&(e=53)}else if(b instanceof
be||b instanceof de){f=b.getPane().find(".InfoWindowToolbar > a").length;f===2?e=115:f===3&&(e=69)}if(e!==-1){d.setButtonWidth(e);d.show(a);jQuery.cookie(c,true,{expires:3650})}},a.delay)};d.onClose.add(function(){a.onShow.remove(e)});a.onShow.add(e)}this.regist=function(a){for(var b=0;b<db.TYPE_LIST.length;b++){var c=db.TYPE_LIST[b],d="coachmark:"+c;if(!jQuery.cookie(d)||a)c===db.TYPE_LAYER?e(c,d):c===db.TYPE_FIND_WAY?f(c,d):c===db.TYPE_BOOKMARK&&g(c,d)}}}));define("controller/FavoriteController",
"map/Map manager/ViewLayout controller/AuthController controller/FavoriteRegisterController map/InfoWindowManager controller/RoadviewController controller/KeywordSearchController controller/MainMapController controller/BusLineController controller/SubwaySearchController view/FavoriteManageView view/FavoriteListView view/FavoriteStaticManageView log/Tiara manager/AoiManager controller/HistoryController controller/ProfileController controller/ReviewController util/Storage util/DateFormat controller/ShareController".split(" "),
H(function(a,b,c,d,e,f,g,j,l,m,k,v,o,r,x,q,s,u,w,C,O){function I(){$a?Za=nb.scrollTop():Sa=db.scrollTop()}function R(a){if(!Ja){if(a&&a.text("mapUserId")&&pa!==a.text("mapUserId")){pa=a.text("mapUserId");Ta=a.bool("migrationFlag");w.getItem(t.VIEW_ON_MAP_PRIFIX+pa)||ua(0,true);Ab?typeof Ab==="function"?Ab(G):Ab instanceof Array&&Ab.forEach(function(a){typeof a==="function"&&a(G)}):K(G);Da()}else Ab&&typeof Ab==="function"&&Ab();y()}Ja=true;Ab=null}function Y(a){c.isLogin()&&s.loadInfo(function(b){typeof a===
"function"&&a(b)})}function G(a){var b=a&&a instanceof Array;if(!sa||Fa!==t.VIEW_MODE.DETAIL||b){var c=F();b?E(a,true):c.length>0?t.findAll(function(a){if(a&&a.list){var b=a.list.map(function(a){if(Ha[a.folderId]){a.icon=Ha[a.folderId];if(a.icon.toString()==="11")a.color="06"}return a});E(b);wa=a.favIdMap||{};ya.notify();hb=a.homeList;y()}},{folderIds:c,type:t.FOLDER_TYPE.MY}):E([])}}function E(b,c){b=b||[];H();cb(true);var d=new daum.maps.CoordsBounds,e=[];b.forEach(function(a){if(["T","A"].indexOf(a.status)===
-1&&wb.indexOf(a.type)!==-1){if(!a.marker){Ya="fav";a.marker=M(a)}e.push(a.marker);kb[a.folderId]||(kb[a.folderId]=[]);kb[a.folderId].push(a);c&&d.extend(new daum.maps.Coords(a.x,a.y))}});e.length>0&&yb.setMarkers(e);c||F().forEach(function(a){kb[a]||(kb[a]=[])});d.isEmpty()||a.setBounds(d,70)}function K(a){var b=t.findFolder,c={sort:ib.folder},d=Fa===t.VIEW_MODE.FOLDER;if(d){if($a)c.mapUserId=Qa}else{b=t.findAll;c={folderIds:[Ua.folderId],type:$a?"S":"M"}}b(function(b){if(b&&!b.status){if(Ra===t.VIEW_MODE.FOLDER&&
Fa===t.VIEW_MODE.DETAIL&&Ua.status!=="T"&&Ua.folderId>0){Ua.viewCount++;require("server").favoriteFolderAddView({folderId:Ua.folderId},function(){})}Z(b,a)}else if(!d&&["NOT_AUTHORIZED","NO_KAKAO_LOGIN"].indexOf(b.status)===-1){alert("\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \ud3f4\ub354\uc785\ub2c8\ub2e4.");ld()}},c)}function Z(a,b){var c=Fa===t.VIEW_MODE.FOLDER;cb(true);eb=a.list;if(c){pa||eb.some(function(a){if(a.folderType==="M"&&a.folderId===0){pa=a.mapUserId;return true}});if(eb[0]&&eb[0].folderId===
0){if(pa!==eb[0].mapUserId){alert("\ub85c\uadf8\uc778 \uc815\ubcf4\uac00 \ubcc0\uacbd\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");Ja=false;Y();return}Oa(eb)}}if(a.favIdMap){wa=a.favIdMap||{};ya.notify()}na();Ra=Fa;typeof b==="function"?b(a):b instanceof Array&&b.forEach(function(b){typeof b==="function"&&b(a)})}function na(a){if(sa||$a){a||(a=jb[Fa]);eb=eb||[];var b,c,d,e={},f=Fa===t.VIEW_MODE.FOLDER;if(f){c=["all","folder","theme"];b={folder:{name:"\ud3f4\ub354",list:["M","S"],count:0},theme:{name:"\ud14c\ub9c8",
list:["T"],count:0}};var g=F();d=jQuery.grep(eb,function(c){var d=a==="all"||b[a].list.indexOf(c.folderType)!==-1;if(c.folderType==="T")c.icon="11";c.isMyFolder=c.mapUserId===pa;c.isFixed=g.indexOf(c.folderId)!==-1;if(!c.isMyFolder)c.isSubscribe=La.indexOf(c.folderId)!==-1;Object.keys(b).some(function(a){if(b[a].list.indexOf(c.folderType)!==-1){b[a].count++;return true}});return d});e={viewOnMapFolderIds:g};if($a){e.prevScrollPos=Za||0;Za=0}else{e.prevScrollPos=Sa||0;Sa=0}}else{c=["all","place","route",
"bus","roadview"];b={place:{name:"\uc7a5\uc18c",list:["point","place","address","subwaystation"],count:0},route:{name:"\uae38\ucc3e\uae30",list:["route_car","route_pubtrans","route_walk","route_bicycle","route_subway"],count:0},bus:{name:"\ubc84\uc2a4",list:["busstop","busline"],count:0},roadview:{name:"\ub85c\ub4dc\ubdf0",list:["roadview","storeview"],count:0}};d=jQuery.grep(eb,function(c){var d=a==="all"||b[a].list.indexOf(c.type)!==-1;Object.keys(b).some(function(a){if(b[a].list.indexOf(c.type)!==
-1){b[a].count++;return true}});if(Ua.folderType==="T"){Ua.icon="11";c.color="06"}return d});if(ib[t.VIEW_MODE.DETAIL]===t.DISPLAY1)d.sort(function(a,b){return a.display1<b.display1?-1:a.display1>b.display1?1:0});else{d.sort(function(a,b){return a.seq>b.seq?-1:a.seq<b.seq?1:0});d.sort(function(a,b){return a.createdAt>b.createdAt?-1:a.createdAt<b.createdAt?1:0})}g=F();Ua.isMyFolder=Ua.mapUserId===pa;Ua.isFixed=g.indexOf(Ua.folderId)!==-1;if(!Ua.isMyFolder)Ua.isSubscribe=La.indexOf(Ua.folderId)!==-1;
e={folderInfo:Ua}}if(d.length===0&&a!=="all")la("all");else{var j=[];d=jQuery.grep(d,function(a){var b=a.status==="D"||a.status==="A";b&&j.push(a);return!b});d=d.concat(j);if(Ra!==Fa)if(f)G();else{G(eb);eb.length===0&&(kb[Ua.folderId]=[])}b.all={name:"\uc804\uccb4",count:eb.length};var l={sortName:ib[Fa]===t.DISPLAY1?"\uc774\ub984\uc21c":"\ub4f1\ub85d\uc21c",selected:{name:b[a].name,count:b[a].count},opts:[]};c.forEach(function(c){var d=b[c];d.count>0&&l.opts.push({type:c,name:d.name,count:d.count,
selected:c===a})});if($a){c=ma[ma.length-1];e.selectInfo=c?c.item:{}}jQuery.extend(e,{filterData:l,isOtherPage:$a,mapUserId:pa,isMigration:Ta});v.setList(Fa,d,e);jb[Fa]=a;d=oa();d=d.pageType+"_"+d.viewFakeType;require("log/Tiara").log("/fake/"+d)}}}function Da(){require("server").myPlaceList({},function(a){if(t.isSuccess(a)){var b={};a.find("result").forEach(function(a){a=a.raw();b[a.type.toLowerCase()]=a});xa(b)}})}function xa(a){sb={};if(a.home){sb.home=Jd(a.home,"home");v.setStaticData("home",
sb.home);Ea.notify({mode:"home",data:sb.home})}if(a.company){sb.company=Jd(a.company,"company");v.setStaticData("company",sb.company);Ea.notify({mode:"company",data:sb.company})}y()}function aa(a){t.findHome(function(b){hb=b;y();typeof a==="function"&&a(b)})}function y(){var a=[];sb=sb||{};a.push(sb.home||{myplace_type:"HOME"});a.push(sb.company||{myplace_type:"COMPANY"});hb&&hb.length>0&&(a=a.concat(hb));d.setData(a);S()}function D(a,b){if(Q()){var c=a.folderIds,d=a.folderInfo||{};!c&&d.folderId&&
(c=[d.folderId]);require("server").favoriteFolderSubscribe({folderIds:c,onOff:a.onOff},function(e){if(t.isSuccess(e)){if(a.onOff){La=La.concat(c);if(F().length<t.MAX_VIEW_ON_MAP_COUNT&&d.folderId){Ha[d.folderId]=d.icon;ua(d.folderId)}if(!b&&confirm("\ud3f4\ub354 \uad6c\ub3c5\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc9c0\uae08 \ud655\uc778\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){Sa=0;ra();if(!sa){Ia.setActive(true);return}}}else{b||alert("\ud3f4\ub354 \uad6c\ub3c5\uc774 \ucde8\uc18c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");
c.forEach(function(a){La.splice(La.indexOf(a),1);T(a)})}I();K()}else{var e=e.text("status.code"),f="",g=false;if(e===t.RESULT_CODE.OVER_MAX_COUNT)f="\uad6c\ub3c5\uc744 \ud3ec\ud568, \uc990\uaca8\ucc3e\uae30 \ud3f4\ub354\ub294 \ucd5c\ub300 100\uac1c\uae4c\uc9c0 \ubcf4\uc720\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.";else if(e===t.RESULT_CODE.NOT_EXIST_ITEM){f="\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \ud3f4\ub354\uc785\ub2c8\ub2e4.";g=true}!b&&f&&alert(f);Fd(g)}})}else p.click("login",["other",(a.isCP?"theme":
"folder")+"_follow"])}function F(){return!pa?[]:JSON.parse(w.getItem(t.VIEW_ON_MAP_PRIFIX+pa))||[]}function ua(a,b){if(pa&&a===parseInt(a)){var c=F();if(c.indexOf(a)===-1){if(c.length>=t.MAX_VIEW_ON_MAP_COUNT)alert("\uc9c0\ub3c4 \uc704\uc5d0 \ud45c\uc2dc\ud560 \ud3f4\ub354\ub294 \ucd5c\ub300 "+t.MAX_VIEW_ON_MAP_COUNT+"\uac1c\uae4c\uc9c0 \uc120\ud0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.");else{c.unshift(a);c=c.splice(0,t.MAX_VIEW_ON_MAP_COUNT);w.setItem(t.VIEW_ON_MAP_PRIFIX+pa,JSON.stringify(c))}b||
G()}}}function N(a,b){pa&&a===parseInt(a)&&kb[a].forEach(function(c,d){if(parseInt(c.seq)===b){lb(c);kb[a].splice(d,1);$();return true}})}function T(a){if(pa&&a===parseInt(a)){var b=F(),c=b.indexOf(a);if(c!==-1){b.splice(c,1);w.setItem(t.VIEW_ON_MAP_PRIFIX+pa,JSON.stringify(b));if(Fa===t.VIEW_MODE.FOLDER&&kb[a]){kb[a].forEach(function(a){lb(a)});kb[a]=null;$()}}}}function H(){Object.keys(kb).forEach(function(a){kb[a]&&kb[a].forEach(function(a){lb(a)})});kb={};$()}function $(){var a=[];Object.keys(kb).forEach(function(b){kb[b]&&
kb[b].forEach(function(b){b.marker&&a.push(b.marker)})});yb.setMarkers(a)}function L(){console.log("showItemFailAlert");setTimeout(function(){alert("\ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")},100)}function ia(a){cb();a.type!=="route_subway"&&m.getActive()&&g.setActive(true);l.closeLayer();e.close();j.setRoadviewLineActive(false);j.mapTypeControl_.setRoadview(false);f.getActive()&&f.close();var b=zb[a.type];b?b.show(a):console.assert(false)}function W(a,b,c){var d=
null;if(a){if(wa[a]&&b&&wa[a][b]){d=wa[a][b].length>0?wa[a][b]:null;c>0&&d&&d.some(function(a){if(a.seq===c){d=a;return true}})}}else d=wa;return d}function Ga(a,b){var c=b.buslines,d=b.type,e=b.key,f=b.seq,g=b.folderId;if(d&&e&&parseInt(f)===f){var j=d==="busstopline";j&&(d="busstop");var l=W(d,e);switch(a){case "U":var k={folderId:g,seq:f},m=false;if(j)k.busLines=c;if(l){l.forEach(function(a){if(a.seq===f){m=true;if(j&&a.busLines){var b=jQuery.grep(a.busLines.split(","),function(a){return c!=a});
b.push(c);k.busLines=b.join(",")}jQuery.extend(a,k)}});m||l.push(k)}else{wa[d]||(wa[d]={});wa[d][e]||(wa[d][e]=[]);wa[d][e].push(k)}break;case "D":j?l.some(function(a){if(a.seq===f){var b=jQuery.grep(a.busLines.split(","),function(a){return c!=a});a.busLines=b.join(",");return true}}):l.some(function(a,b){a.folderId===g&&wa[d][e].splice(b,1)})}}}function Oa(a){if(a instanceof Array){var b=[];Ha={};La=a.map(function(a){(["T","A","D"].indexOf(a.status)!==-1||a.status==="P"&&a.folderType==="S")&&b.push(a.folderId);
Ha[a.folderId]=a.folderType==="T"?"11":a.icon||t.DEFAULT_ICON;return a.folderId});F().forEach(function(a){(La.indexOf(a)===-1||b.indexOf(a)!==-1)&&T(a)})}}function Ca(a){var b,c={},d=a.type==="busstopline";b=W(d?"busstop":a.type,a.key);if(!b||!(b instanceof Array))return null;b.forEach(function(b){if(d){if(b.busLines&&b.busLines.split(",").indexOf(a.buslines)!==-1)c[b.folderId]=b.seq}else c[b.folderId]=b.seq});return Object.keys(c).length===0?null:jQuery.extend({},a,{count:b.length,folderIdMap:c})}
function ha(a){!(a instanceof t)&&!a.myplace_type&&(ub=a)}function S(){qb.forEach(function(a){a.setMap(null)});qb=[];Object.keys(sb).forEach(function(b){var c=sb[b];if(c){if(!c.marker){c.marker=B.createStatic(new daum.maps.Coords(c.x,c.y),c.myplace_type);daum.maps.event.addListener(c.marker,"click",function(){Ya="static";ia(c)})}c.marker.setMap(a);qb.push(c.marker)}})}function M(b){var c,d=b.x&&b.y?new daum.maps.Coords(b.x,b.y):b.model.coords;if(Ya=="fav"){c=b.icon||Ha[b.folderId]||t.DEFAULT_ICON;
if(Ua&&Ua.icon)c=Ua.icon;var e=jQuery('<div class="FavoriteMarkerTooltip">    <div class="marker_fav type'+b.color+'">        <span class="marker_fav_ico '+t.ICON_MAP[c]+'"></span>    </div></div>');c=B.createFavorite(d,e.get(0));if(b.display1){var f=new nc(a);f.setData("FAVORITE",d,'<span class="name">'+String.format("%h",b.display1)+"</span>");e.on("mouseover",function(){a.setCursor("pointer");f.show();xb=f});e.on("mouseout",function(){a.setCursor(null);f.hide()})}e.on("click",function(){b.display1&&
f.hide();p.click($a&&Fa==t.VIEW_MODE.DETAIL?"other":"my",["favorite","poi_click",b.type]);Gc(b)})}else if(Ya==="static"){S();c=b.marker}else{c=B.createHere(d);daum.maps.event.addListener(c,"click",function(){ia(b)})}return c}function J(b){if(!b.marker){b.marker=M(b);a.setCenter(b.marker.getPosition())}if(b.status==="A"||b.status==="T"||Application.isLoadingViewShow===true)b.marker.setMap(null);else{b.marker.setMap(a);switch(b.type){case "place":e.createPlace(b.model,b.marker);break;case "point":case "address":e.createAddress(b.model,
b.marker);break;case "subwaystation":e.createSubwayStation(b.model,b.marker);break;case "busstop":e.createBusStop(b.model,null,null,b.marker);break;case "busstopline":e.createBusStop(b.model,b.lineid,null,b.marker)}}}function cb(a){ub&&(!a||ub instanceof t)&&lb(ub)}function lb(a){a.marker&&a.marker.setMap(null);a.model&&Aa.getAoi(a.model.id)&&Aa.clearThis(a.model.id)}function mb(a,b){typeof b==="function"&&t.findFolder(function(c){var d=[],e=[],f=[],g=F(),j=null,l=[],k=null;if(a instanceof Array)k=
a[0].folderId;else if(a.type==="busstopline"){if(j=W("busstop",a.key)){l=[];j.forEach(function(b){b.busLines&&b.busLines.split(",").indexOf(a.buslines)!==-1&&l.push(b.folderId)})}}else(j=W(a.type,a.key))&&(l=j.map(function(a){return a.folderId}));c.list.forEach(function(a){a.isSelected=k===a.folderId;a.isSaved=l.indexOf(a.folderId)!==-1;a.isFixed=g.indexOf(a.folderId)!==-1;a.icon=a.folderType==="T"?"11":a.icon||t.DEFAULT_ICON;a.folderType==="M"?f.push(a):e.push(a)});d=d.concat(f).concat(e);b(d)},
{})}function Pa(a){!a&&eb.length>=100?alert("\ucd5c\ub300 100\uac1c\uae4c\uc9c0 \uc0dd\uc131 \uac00\ub2a5\ud569\ub2c8\ub2e4."):Q()&&k.showAddFolderView(a,{viewOnMapCount:F().length})}function Ka(a){Q()&&mb(a,function(b){k.showFolderSelectView(a,b)})}function Na(a){var b=jQuery("#info\\.my");b.find("#info\\.my\\.intro").toggle(a);b.find(".favorite_interlock, .FavoriteMethodType").toggle(!a)}function P(){var a=jQuery("#info\\.my\\.footer");if(sa=this.getActive()){h.$("info.my").setVisible(true);var d=
jQuery("#info\\.my");b.setMapOnly();if(c.isLogin()){d=function(b){Na(false);if(Bb.getIndex()===0){a.show();$a&&ra();Fa===t.VIEW_MODE.DETAIL?K(function(a){G(a.list)}):K(b)}};Ja?d():Ab=d}else{a.hide();Na(true);d.on("click",".link_my",function(){p.click("login",["menu_my","empty_page"]);Q(P.bind(this))}.bind(this))}}else{Fa===t.VIEW_MODE.DETAIL&&G();a.hide()}Application.windowController.updateHeight()}function Q(a){if(c.isLogin())return true;c.request(function(){Y(function(b){Na(false);d.callbackLogin();
Da();a=a?[a,G]:G;if($a){$a=false;var c=Fa;if(Qa===b.text("mapUserId")){ob.hide();A.Application&&Application.favoriteController.setActive(true)}else{Fa=t.VIEW_MODE.FOLDER;K(function(){$a=true;Fa=c;K(a)})}}else K(a)})});return false}function U(a){Fa=(Ua=a||null)?t.VIEW_MODE.DETAIL:t.VIEW_MODE.FOLDER}function la(a){var b=oa();p.click(b.pageType,[b.viewType,"sort1",a]);jb[Fa]=a;na(a)}function V(a){if(a){var b=[],c=[];if(a instanceof Array)a.forEach(function(a){b.push(a);c.push(a)});else{bb=function(){k.showResultView("add")};
if(a.type==="busstopline"){var d=Ca({type:"busstop",key:a.key});if(d&&d.folderIdMap[a.folderId]){a=jQuery.extend({},a,{seq:d.folderIdMap[a.folderId]});t.addBusline({seq:a.seq,busline:a.buslines},function(a){return function(b){ca(b,a,false)}}([a]))}else{d=jQuery.extend({},a,{type:"busstop"});t.favCUD("C",[d],function(a){return function(b){ca(b,a,false)}}([a]))}}else{b.push(a);c.push(a)}}b.length>0?t.favCUD("C",b,function(a){return function(b){ca(b,a)}}(c)):p.click("fav",a.type+"like_favorite")}}function ca(a,
b){var c=a.text("status.code"),d=t.deduplicationStatus(a),e=t.isSuccess(a),d=d.indexOf(t.RESULT_CODE.SUCCESS)!==-1,f=Fa===t.VIEW_MODE.FOLDER,g="";if(e||d){c=a.find("req");c.length===0&&(c=[a.object("req")]);c.forEach(function(a,c){b[c].seq=a.number("seq")});var j=0;b.forEach(function(a){if(!(a.seq<=0)){var b=a.type==="busstopline",c=b?"busstop":a.type,d=a.folderId;if(!a.isEdit)a.createdAt=C.now("yyyy-MM-dd HH:mm:ss");Ga("U",a);if(!f&&parseInt(Ua.folderId)===d){var e=W(c,a.key,a.seq),g=eb.some(function(c,
d){if(c.seq===a.seq){b?c.buslines=e.busLines:t.ALLOW_UPDATE_FIELD_ARR.forEach(function(b){eb[d][b]=a[b]});return true}});if(!g){a=jQuery.extend({},a,{type:c});g=new t(new Wa(a));if(b)g.buslines=e.busLines;eb.push(g)}na()}else if(f){g=eb.some(function(a){if(a.folderId===d){a.favoriteCount++;return true}});na()}if(kb[d]){N(d,a.seq);if(wb.indexOf(c)!==-1){a.type=c;g=new t(new Wa(a));Ya="fav";g.marker=M(g);kb[d].push(g);$()}}j++}});ya.notify();g="\uc990\uaca8\ucc3e\uae30\uac00 \uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4.";
if(j>0){e||G();aa()}else g="\uc990\uaca8\ucc3e\uae30 \uc800\uc7a5\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc\ud6c4 \uc7ac\uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."}else g=c===t.RESULT_CODE.DUPLICATE_ITEM?"\uc774\ubbf8 \uc990\uaca8\ucc3e\uae30\uc5d0 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4":c===t.RESULT_CODE.OVER_FAVORITE_MAX_COUNT||c===t.RESULT_CODE.OVER_MAX_COUNT?b[0].type==="busstopline"?"\ud55c \uc815\ub958\uc7a5\uc5d0\ub294 \ucd5c\ub300 6\uac1c\uc758 \ubc84\uc2a4\ub178\uc120\uc744 \uc990\uaca8\ucc3e\uae30\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.":
"\uc990\uaca8\ucc3e\uae30\ub294 \ucd5c\ub300 "+(b[0].folderId===0?"500":"100")+"\uac1c\uae4c\uc9c0 \uc800\uc7a5 \uac00\ub2a5\ud569\ub2c8\ub2e4.":["NOT_AUTHORIZED","NO_KAKAO_LOGIN"].indexOf(c)!==-1?"":a.text("message")||a.text("status.message");typeof pb==="function"?pb(a,b):e&&typeof bb==="function"?bb(a,b):g&&alert(g);bb=pb=null}function X(a){var b=false;(a instanceof Array?!a[0].seq:!a.seq)?(b=confirm("\uc120\ud0dd\ud55c \ud3f4\ub354\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c? \uc0ad\uc81c\uc2dc \ud3f4\ub354\uc5d0 \uc800\uc7a5\ud55c \uc990\uaca8\ucc3e\uae30\ub3c4 \ud568\uaed8 \uc0ad\uc81c\ub429\ub2c8\ub2e4."))&&
da(a):ja(a);return b}function da(a){var b=[],c=[];a instanceof Array||(a=[a]);a.forEach(function(a){var d=a.folderId;if(d){b.push(d);c.push(a)}});b.length>0&&t.folderCUD("D",{folderIds:b},function(a){return function(b){ba(b,a)}}(c))}function ba(a,b){var c=t.deduplicationStatus(a),d=t.isSuccess(a),c=c.indexOf(t.RESULT_CODE.SUCCESS)!==-1;if(d||c){d||partSuccList.forEach(function(a){a.text("status")!==t.RESULT_CODE.SUCCESS&&b.some(function(c,d){c&&a.number("folderInfo.folderId")===c.folderId&&(b[d]=
null)})});var e=0;b.forEach(function(a){if(a){T(a.folderId);e++}});Fa=t.VIEW_MODE.FOLDER;K();c="\ud3f4\ub354\uac00 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.";if(e>0){if(!d){G();c="\uc77c\ubd80 \ud3f4\ub354 \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc\ud6c4 \uc7ac\uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."}aa()}else c="\ud3f4\ub354 \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc\ud6c4 \uc7ac\uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.";alert(c)}pb=null}
function ja(a){var b=[],c=[];if(a instanceof Array)a.forEach(function(a){var d=a.seq||a.folderIdMap[a.folderId];if(d){b.push(d);a.seq=d;c.push(a)}});else{var a=Ca(a),d=a.seq||a.folderIdMap[a.folderId];if(d){bb=function(){k.showResultView("remove",null)};if(a.type=="busstopline"){var e=Ca({type:"busstop",key:a.key});if(e){a=jQuery.extend({},a,{seq:e.folderIdMap[a.folderId]});t.removeBusline({seq:d,busline:a.buslines},function(a){return function(b){ka(b,a)}}([a]))}}else{b.push(d);a.seq=d;c.push(a)}}}b.length>
0&&t.favCUD("D",{seqs:b},function(a){return function(b){ka(b,a)}}(c))}function ka(a,b){var c=t.deduplicationStatus(a),e=t.isSuccess(a),c=c.indexOf(t.RESULT_CODE.SUCCESS)!==-1,f=Fa===t.VIEW_MODE.FOLDER;if(e||c){e||partSuccList.forEach(function(a){a.text("status")!==t.RESULT_CODE.SUCCESS&&b.some(function(c,d){c&&a.number("favoriteInfo.seq")===c.seq&&(b[d]=null)})});var g=0;b.forEach(function(a){if(a){var b=a.type==="busstopline",c=b?"busstop":a.type,e=a.seq,j=a.folderId;b||d.remove(e);Ga("D",a);if(!f&&
parseInt(Ua.folderId)===j){var l=W(c,a.key,a.seq);eb.forEach(function(a,c){if(parseInt(a.seq)===e)if(b)a.buslines=l.busLines;else{lb(a);eb.splice(c,1)}});na()}else if(f){eb.some(function(a){if(a.folderId===j){a.favoriteCount--;return true}});na()}kb[j]&&N(j,a.seq);g++}});ya.notify();c="\uc990\uaca8\ucc3e\uae30\uac00 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.";if(g>0){if(!e){G();c="\uc77c\ubd80 \uc990\uaca8\ucc3e\uae30 \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc\ud6c4 \uc7ac\uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."}aa()}else c=
"\uc990\uaca8\ucc3e\uae30 \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud558\uc600\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc\ud6c4 \uc7ac\uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.";e&&typeof bb==="function"?bb(a,b):c&&alert(c)}bb=null}function ta(a){require("server").favoriteHomeEdit(a,function(b){ea(b,a)})}function ea(a,b){if(t.isSuccess(a)){if(Fa===t.VIEW_MODE.DETAIL&&parseInt(Ua.folderId)===b.folderId){eb.some(function(a){if(a.seq===b.seq){a.isHome=!!b.onOff;return true}});na()}fb?ta(fb):alert(b.onOff?"\ud648 \ubaa9\ub85d\uc5d0 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4.":
"\ud648 \ubaa9\ub85d\uc5d0\uc11c \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}else a.text("status.code")===t.RESULT_CODE.OVER_MAX_COUNT&&aa(function(a){k.showAddHomeView({selectedList:a,addData:b})});fb=null}function ra(){$a=false;ma=[];Qa=null;U(null);jb[Fa]="all";ib[Fa]=t.CREATE_AT}function Ba(){U();K()}function ld(a){a=a||{};if(a.isClose){te();sa?K():G()}else{var b=ma.pop();if(!a.item||b&&b.item.folderId===a.item.folderId)b=ma.pop();if(b){Za=b.scrollPos||0;Gc(b.item,b.isTargetUser,true)}else v.otherPageClose()}}
function Fd(a){a?$a&&Fa===t.VIEW_MODE.DETAIL?ld():Ba():K()}function te(){if($a){ra();ob.hide()}}function va(a){var b=this,c="";K(function(d){typeof profileInitCallback==="function"&&profileInitCallback();d.list.some(function(d){if(d.folderId===a){if($a)d.status==="A"||d.status==="T"?c="\uc2e0\uace0 \ucc98\ub9ac\ub41c \ud3f4\ub354\uc785\ub2c8\ub2e4.":Gc(d,false);else if(d.status==="A")c="\uc2e0\uace0 \ucc98\ub9ac\ub41c \ud3f4\ub354\uc785\ub2c8\ub2e4.";else{U(d);b.setActive(true)}return true}})||(c=
"\uc720\ud6a8\ud558\uc9c0 \uc54a\ub294 \ud3f4\ub354\uc785\ub2c8\ub2e4.");if(c){ld.call(b,{isClose:true});alert(c)}Db.disposeAll()})}function za(a){Gc(a,true)}function Gc(a,b,c){if(a)if(a.seq){Ya="fav";ia(a)}else{jb={folder:"all",detail:"all"};ib={folder:t.CREATE_AT,detail:t.CREATE_AT};Qa=($a=a.mapUserId!==pa)?a.mapUserId:null;U(!b?a:null);!$a&&!sa&&A.Application?Application.favoriteController.setActive(true):K();if($a){var d=ma.pop();if(d){if(!c&&d.viewMode===t.VIEW_MODE.FOLDER)d.scrollPos=nb.scrollTop();
ma.push(d)}else Sa=db.scrollTop();ma.push({item:a,isTargetUser:!!b,viewMode:Fa})}else{Fa===t.VIEW_MODE.DETAIL&&(Sa=db.scrollTop());ma=[]}}}function ze(a){if(v.hasStaticData(a.staticMode)){Ya="static";ia(a.data)}else if(Q()){o.setIdentity(a.staticMode);o.showAddView(false,null)}else p.click("login",["home","register_"+(item.myplace_type==="HOME"?"home":"company")])}function mf(a){require("server").myPlaceAddUpdate({poi_id:a.data.key,poi_type:a.data.type.toLowerCase(),myplace_type:a.staticMode=="home"?
"HOME":"COMPANY",display1:a.data.display1,x:a.data.x,y:a.data.y},function(b){if(t.isSuccess(b)){sb[a.staticMode]=Jd(a.data,a.staticMode);v.setStaticData(a.staticMode,sb[a.staticMode]);Ea.notify({mode:a.staticMode,type:"update",data:a.data});y();alert(a.staticMode==="home"?"\uc9d1 \uc8fc\uc18c\uac00 \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4.":"\ud68c\uc0ac \uc8fc\uc18c\uac00 \ub4f1\ub85d\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}else o.showAddView()})}function Jd(a,b){return{key:a.key||a.poiId,type:a.poiType?
a.poiType.toLowerCase():a.type,myplace_type:b=="home"?"HOME":"COMPANY",display1:a.display1,x:a.x,y:a.y}}function oa(a){var a=a||{},b={pageType:$a?"other":"my",viewType:Fa===t.VIEW_MODE.FOLDER?"folder":"favorite",viewFakeType:Fa===t.VIEW_MODE.FOLDER?"folder":"favoritelist"};if(a.sortType)b.sortType=a.sortType===t.CREATE_AT?"by_createdtime":"by_name";return b}fa(this,Cb);this.onActive.add(P,this);var ya=this.onChangeItem=new n,Ea=this.onChangeMyPlace=new n,Aa=x.getController(x.KEY.SEARCH),Ia=this,sa=
false,Ja=false,pa=null,Ta=false,Fa=t.VIEW_MODE.FOLDER,Ra=t.VIEW_MODE.FOLDER,Ua=null,wa={},La=[],Ha={},$a=false,ma=[],Qa=null,Za=0,Sa=0,db=jQuery("#info\\.my [data-id=list]"),nb=jQuery("#info\\.other [data-id=body]"),ob=jQuery("#info\\.other"),fb=null,eb=null,sb=null,qb=[],hb=null,jb={folder:"all",detail:"all"},ib={folder:t.CREATE_AT,detail:t.CREATE_AT},wb=["place","point","address","subwaystation","busstop"],pb=null,bb=null,Ab=null,zb={point:{show:function(a){ha(a);a.model?J(a):require("server").getJibunShape({x:a.x,
y:a.y},function(b){address=new Ma(b);address.type="point";address.oldname=b.text("old.name");address.otherName=b.text("old.name");a.model=address;J(a)})}},address:{show:function(a){ha(a);a.model?J(a):require("server").searchAddress({docid:a.key},function(b){if(b.number("total_count")>0){b=new Ma(b.find("List")[0]);a.model=b;J(a)}else L()})}},place:{show:function(a){ha(a);if(a.model){J(a);Aa.getAoi(a.model.id)&&Aa.setHighlightMode(a.model.id)}else qa.findPlace(a.key,function(b){if(b){if(b.pointExtension)if(Aa.getAoi(b.id))Aa.setHighlightMode(b.id);
else{Aa.callAfterLoad(function(){Aa.setHighlightMode(b.id)});Aa.find(b.id)}a.model=b;J(a)}else L()})}},busstop:{show:function(a){ha(a);a.model?J(a):ga.find(a.key,function(b){if(b.id){a.model=b;J(a)}else L()}.bind(this))}},busstopline:{show:function(a){var b=a.key.split("@"),c=b[0],b=b[1],d=Ca({type:"busstop",key:c});if(d){ha(d);if(a.model)J(a);else{a.marker=d.marker;a.lineid=b;ga.find(c,function(b){if(b.id){a.model=b;J(a)}else L()}.bind(this))}}else L()}},busline:{show:function(a){l.setData(a.key,
true)}},subwaystation:{show:function(a){ha(a);if(!a.model){var b=new Xa(new Wa(a));a.model=b}J(a)}},roadview:{show:function(a){var b=a.key||0,c=a.pan||0,d=a.tilt||0,e=a.zoom||0;ab.exists(b,function(g){if(g){g=new daum.maps.Coords(a.x,a.y);f.show({coords:g,panoId:b,pan:c,tilt:d,zoom:e});z.logRoadview("favorite_rv",b,g,Application.localInfoController.getHCodeForLog())}else if(a.x&&a.y){f.showNearby(new daum.maps.Coords(a.x,a.y),100);g=new daum.maps.Coords(a.x,a.y);z.logRoadview("favorite_rv",b,g,Application.localInfoController.getHCodeForLog())}})}},
storeview:{show:function(a){f.showStoreView(a.key,a.spot_id,{pan:a.pan||0,tilt:a.tilt||0,zoom:a.zoom||0})}},route_car:{show:function(a){var b=require("controller/FlagSearchController");b.setActive(true);b.reset();b.setDefaultModeCar();var c=[];(a.route_form||null).forEach(function(a,b){c.push(new vb(new daum.maps.Coords(a.x,a.y),a.name,a.key,b,a.poi_type))});a=new gb;a.waypoints=c;b.setFlagSearch(a);b.setDefaultOption(Va.REALTIME);b.setRoute()}},route_pubtrans:{show:function(a){var b=require("controller/FlagSearchController");
b.setActive(true);b.reset();b.setDefaultModeTransit();var c=[];(a.route_form||null).forEach(function(a,b){c.push(new vb(new daum.maps.Coords(a.x,a.y),a.name,a.key,b,a.poi_type))});a=new gb;a.waypoints=c;b.setFlagSearch(a);b.setRoute()}},route_walk:{show:function(a){var b=require("controller/FlagSearchController");b.setActive(true);b.reset();b.setDefaultModeWalk();var c=[];(a.route_form||null).forEach(function(a,b){c.push(new vb(new daum.maps.Coords(a.x,a.y),a.name,a.key,b,a.poi_type))});a=new gb;
a.waypoints=c;b.setFlagSearch(a);b.setRoute()}},route_bicycle:{show:function(a){var b=require("controller/FlagSearchController");b.setActive(true);b.reset();b.setDefaultModeBike();var c=[];(a.route_form||null).forEach(function(a,b){c.push(new vb(new daum.maps.Coords(a.x,a.y),a.name,a.key,b,a.poi_type))});a=new gb;a.waypoints=c;b.setFlagSearch(a);b.setRoute()}},route_subway:{show:function(a){var b,c;if(a.route_form&&a.route_form.length==2){b=a.route_form[0].key.substring(0,3);a.subwayRegion=rb.cityId[b];
a.startName=a.route_form[0].name;a.endName=a.route_form[1].name;b=a.route_form[0].key;c=a.route_form[1].key}m.searchController.setRegionId(a.subwayRegion);m.searchController.setPrefixKeyword();var d=m.searchController.REGION_ID.indexOf(a.subwayRegion);m.setRegion(d);m.setActive(true);m.findRouteByName(a.startName,a.endName,b,c)}}},Ya=null,ub={},kb={},yb=new vd(a,[],{pixelBufferSize:20,minLevel:3}),xb=null;kakao.maps.event.addListener(a,"zoom_changed",function(){if(xb){a.setCursor(null);xb.hide()}});
k.onAddFolderClick.add(function(a){var b="C",c={title:a.title,memo:a.memo,icon:a.icon,status:a.status};if(parseInt(a.folderId)===a.folderId){b="U";c.folderId=a.folderId}["\uae30\ubcf8\ud3f4\ub354","default folder"].indexOf(a.title.toLowerCase())!==-1?alert("\ub3d9\uc77c\ud55c \ud3f4\ub354\uba85\uc774 \uc874\uc7ac\ud569\ub2c8\ub2e4."):t.folderCUD(b,c,function(b){var c=b.text("status.code"),d=t.deduplicationStatus(b),e=t.isSuccess(b),f=d.indexOf(t.RESULT_CODE.SUCCESS)!==-1,g="",g=parseInt(a.folderId)===
a.folderId,d=true;if(e||f){b=a.folderId||b.number("req.folderId");a.viewOnMap?ua(b):T(b);Fa===t.VIEW_MODE.FOLDER&&K(G);g=g?"\ud3f4\ub354\uac00 \uc218\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4.":"\ud3f4\ub354\uac00 \uc0dd\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4.";if(a.referer&&a.referer.type==="folderSelect"){Ka(a.referer.fav);g=""}}else if(c===t.RESULT_CODE.NO_DAUM_LOGIN)g="\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.";else if(c===t.RESULT_CODE.DUPLICATE_ITEM){g="\ub3d9\uc77c\ud55c \ud3f4\ub354\uba85\uc774 \uc874\uc7ac\ud569\ub2c8\ub2e4.";
d=false}else g=c===t.RESULT_CODE.OVER_MAX_COUNT?"\ucd5c\ub300 100\uac1c\uae4c\uc9c0 \uc0dd\uc131 \uac00\ub2a5\ud569\ub2c8\ub2e4.":["NOT_AUTHORIZED","NO_KAKAO_LOGIN"].indexOf(c)!==-1?"":b.text("message")||b.text("status.message");g&&alert(g);d&&k.hide()})});k.onCopySelectFolder.add(function(a){pb=function(a){return function(b){var c=t.deduplicationStatus(b),d=t.isSuccess(b),e=c.indexOf(t.RESULT_CODE.SUCCESS)===-1,f=[],g=false,j=false,l=false;c.forEach(function(a){switch(a){case t.RESULT_CODE.OVER_MAX_COUNT:g=
true;break;case t.RESULT_CODE.DUPLICATE_ITEM:j=true;break;default:t.RESULT_CODE.SUCCESS||(l=true)}});g&&f.push("- \ud3f4\ub354\uc758 \ucd5c\ub300 \uc800\uc7a5 \uac1c\uc218 \ucd08\uacfc");j&&f.push("- \ub3d9\uc77c\ud55c \uc990\uaca8\ucc3e\uae30 \uc911\ubcf5");l&&f.push("- \uc54c \uc218 \uc5c6\ub294 \uc624\ub958");if(e)alert("\uc990\uaca8\ucc3e\uae30 \ubcf5\uc0ac\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.\n"+f.join("\n"));else{c="\uc77c\ubd80 \ud56d\ubaa9\uc774 \ubcf5\uc0ac\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.\n"+
f.join("\n")+"\n\n\ubcf5\uc0ac\ud55c \uc6d0\ubcf8\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?";d&&(c="\uc990\uaca8\ucc3e\uae30 \ubcf5\uc0ac\uac00 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \ubcf5\uc0ac\ud55c \uc6d0\ubcf8 \uc990\uaca8\ucc3e\uae30\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?");var k=[];b.find("statusList").forEach(function(b){if(b.text("status")===t.RESULT_CODE.SUCCESS){var b=new t(b.object("favoriteInfo")),c=Ca(b);b.folderId=a;b.seq=c.folderIdMap[a];k.push(b)}});
confirm(c)?ja(k):K()}}}(a.favItems[0].folderId);var b=a.favItems.map(function(b){b=jQuery.extend({},b,{folderId:a.folderInfo.folderId});return t.createFromFav(b)});V(b)});k.onAddClick.add(V);k.onEditClick.add(function(a){bb=function(){k.showResultView("edit",{fav:a,folderInfo:Ua})};a.isEdit=true;t.favCUD("U",{seq:a.seq,display1:a.display1,display2:a.display2,color:a.color,memo:a.memo},function(b){ca(b,[a],false)})});k.onRemoveClick.add(ja);k.onRegisterSelected.add(function(a){fb=a.addItem;ta(a.removeItem)});
k.onClickProfile.add(za);k.onClickFolderName.add(Gc);v.onClickFilter.add(la);v.onClickSort.add(function(a){var b=Fa===t.VIEW_MODE.FOLDER,c=oa({sortType:a});p.click(c.pageType,[c.viewType,"sort2",c.sortType]);ib[Fa]=a;b?K():na()});v.onRemoveItem.add(X);v.onReportItem.add(function(a){Q()?A.open("/report/popup"+a.querystring,"favorite_report","width=412,height=455"):p.click("login",["other",a.type+"_report"])});v.onRemoveSelectedItem.add(function(a){var b=Fa===t.VIEW_MODE.FOLDER,c=[],d=[];b?a.forEach(function(a){b&&
["S","T"].indexOf(a.folderType)!==-1?d.push(a.folderId):c.push(a)}):c=a;var a=c.length>0,e=true;a&&(e=X(c));e&&(b&&d.length>0)&&D({onOff:false,folderIds:d},a)});v.onCopySelectedItem.add(Ka);v.onEditItem.add(function(a,b){b&&(pb=b);if(Fa===t.VIEW_MODE.FOLDER){var c=F();a.viewOnMap=c.indexOf(a.folderId)!==-1;Pa(a)}else Q()&&k.showAddFavoriteView(a,Ua)});v.onShare.add(function(a){a.status==="P"?a.folderId===0?alert("\uae30\ubcf8\ud3f4\ub354\ub294 \ube44\uacf5\uac1c \ud3f4\ub354\ub85c \uacf5\uc720\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."):
alert("\ube44\uacf5\uac1c \ud3f4\ub354\ub294 \uacf5\uc720\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uacf5\uac1c \uc124\uc815\uc744 \ubcc0\uacbd\ud574\uc8fc\uc138\uc694."):O.show({folderId:a.folderId})});v.onFolderInfo.add(function(a){a.folderId===0?k.showFolderInfoView(a):require("server").favoriteFolderInfo({folderId:a.folderId},function(a){var b="";if(t.isSuccess(a)){a=a.object("result").raw();a.status==="A"||a.status==="T"?b="\uc2e0\uace0 \ucc98\ub9ac\ub41c \ud3f4\ub354\uc785\ub2c8\ub2e4.":a.status===
"P"&&a.mapUserId!==pa?b="\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \ud3f4\ub354\uc785\ub2c8\ub2e4.":k.showFolderInfoView(a)}else{a=a.text("status.code");a===t.RESULT_CODE.INTERNAL_PROBLEM?b="\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \ud3f4\ub354\uc785\ub2c8\ub2e4.":a===t.RESULT_CODE.NOT_EXIST_ITEM&&(b="\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \ud3f4\ub354\uc785\ub2c8\ub2e4.")}if(b){alert(b);Fd(true)}})});v.onOtherPage.add(za);v.onAddFolder.add(Pa);v.onViewOnMap.add(function(a){a.onOff?ua(a.folderId):T(a.folderId);
I();na()});v.onSubscribe.add(D);v.onRegisterItem.add(ta);v.onClickTab.add(K);v.onClickItem.add(function(a,b,c){if(a.seq){var d=oa();p.click(d.pageType,["favorite","list_click",a.type])}Gc(a,b,c)});v.onClickBack.add(Ba);v.onHistoryBack.add(ld.bind(this));v.onReviewTabClick.add(function(a){if(a){u.setMapUserId(a);u.refreshList()}});d.onClick.add(function(a){Ya=a.myplace_type?"static":"fav";if(Ya==="static")ze({staticMode:a.myplace_type.toLowerCase(),data:a});else{ia(a);ub=a}});q.onClick.add(function(a){Ya=
"history";ia(a);p.click("history",a.type)});u.onClick.add(function(a){Ya="review";ia(a)});v.onStaticRegistClick.add(function(a){var b=!(!sb||!sb[a.staticMode]);if(a.staticMode=="home"){o.setIdentity("home",b);o.showAddView(v.hasStaticData(a.staticMode),a.data)}else if(a.staticMode=="company"){o.setIdentity("company",b);o.showAddView(v.hasStaticData(a.staticMode),a.data)}});v.onStaticRemoveClick.add(function(a){require("server").myPlaceDelete({myplace_type:a.staticMode=="home"?"HOME":"COMPANY"},function(b){if(t.isSuccess(b)){v.setStaticData(a.staticMode,
null);Ea.notify({mode:a.staticMode});sb[a.staticMode]=null;alert(a.staticMode==="home"?"\uc9d1 \uc8fc\uc18c\uac00 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.":"\ud68c\uc0ac \uc8fc\uc18c\uac00 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");y()}})});v.onStaticItemClick.add(ze);v.onRegistStaticFromFavorite.add(function(a){o.setIdentity(a.staticMode);o.showAddView(v.hasStaticData(a.staticMode),a.data)});o.onUpdate.add(function(a){mf({staticMode:a.staticMode,data:{key:a.data.key||a.data.id,type:a.data.type,
display1:a.data.display1||a.data.nameOrigin,x:a.data.x||0,y:a.data.y||0}})});O.onFail.add(function(a){var b="";a.status===t.RESULT_CODE.INTERNAL_PROBLEM?b="\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \ud3f4\ub354\uc785\ub2c8\ub2e4.":a.status===t.RESULT_CODE.NOT_EXIST_ITEM?b="\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \ud3f4\ub354\uc785\ub2c8\ub2e4.":a.status===t.RESULT_CODE.REPORT_ITEM&&(b="\uc2e0\uace0 \ucc98\ub9ac\ub41c \ud3f4\ub354\uc785\ub2c8\ub2e4.");if(b){alert(b);Fd(true)}});var Bb=new tb;Bb.add(h.$("my.subtab.favorite"),
h.$("my.favorite"));Bb.add(h.$("my.subtab.static"),h.$("my.static"));Bb.add(h.$("my.subtab.review"),h.$("my.review"));u.onFail.add(function(){Bb.setIndex(0);P()});Bb.onChange.add(function(a){if(pa&&Bb.getIndex()===a){a<3&&p.click("my",["folder","home_company","review"][a]);switch(a){case 0:K();break;case 1:Da();require("log/Tiara").log("/fake/my_place");break;case 2:u.setMapUserId();u.refreshList()}jQuery("#info\\.my\\.footer").toggle(a===0)}u.setActive(a===2);Application.windowController.updateHeight()});
s.onChange.add(R);c.isLogin()||R(null);this.getShareInfo=function(){return v.getShareInfo()};this.hasFavorite=function(a){return!!Ca(a)};this.findFavorite=function(a){return Ca(a)};this.add=function(a,b){if(Q()){a=Ca(a)||a;Ka(a)}else b&&p.click("login",[b,"add_favorite"])};this.remove=function(a){Ca(a)&&X(a)};this.removeInstantMarker=cb;this.reset=function(){cb();ra();sa&&Bb.setIndex(Bb.getIndex())};this.getMyPlaces=function(){return sb};this.setMyTab=function(a){var b={favorites:0,myplaces:1,review:2};
ra();Ja?Bb.setIndex(b[a]||0):Ab=Ab?[Ab,function(){Bb.setIndex(b[a]||0)}]:function(c){K(function(){typeof c==="function"&&c();Bb.setIndex(b[a]||0)})}};this.getViewMode=function(){return Fa};this.getFavoriteIdMap=W;this.openLoginPopup=Q;this.showOtherFolder=function(a){var b=Db(),d=this;jQuery("#search\\.keyword\\.query").blur();var e=function(e){if(a.folderid){var f=parseInt(a.folderid);if(f===0)if(c.isLogin()&&pa===a.mapuserid)va.call(d,0);else{b.dispose();alert("\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \ud3f4\ub354\uc785\ub2c8\ub2e4.")}else require("server").favoriteFolderInfo({folderId:f},
function(a){if(t.isSuccess(a)){Qa=($a=a.text("result.mapUserId")!==pa)?a.text("result.mapUserId"):null;va.call(d,f)}else{var c="";a.text("status.code")===t.RESULT_CODE.NOT_EXIST_ITEM&&(c="\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \ud3f4\ub354\uc785\ub2c8\ub2e4.");c&&alert(c);b.dispose()}})}else{Qa=($a=a.mapuserid!==pa)?a.mapuserid:null;require("server").profileInfo({mapUserId:a.mapuserid},function(c){if(t.isSuccess(c)){ma.push({item:{profileImage:c.text("result.thumbnailImage"),nickName:c.text("result.nickName"),
mapUserId:a.mapuserid,profileStatus:c.text("result.profileStatus"),cp:c.bool("result.cp")},isTargetUser:true});K(function(){typeof e==="function"&&e();$a||d.setActive(true);switch(a.tab){case "review":$a?v.setOtherPageTab("review"):Bb.setIndex(2)}b.dispose()})}})}};Ja?e():Ab=function(a){K([a,e,function(){b.dispose()}])}};this.closeOtherPage=te}));"use strict";define("controller/FavoriteRegisterController",["controller/AuthController"],H(Md));"use strict";define("controller/FiyFrameController","dom/forefront jquery url map/Map map/MapTileManager controller/ShareController".split(" "),
H(function(a,b,c,d,e,f){function g(a){if(!a||!a.type||!r[a.type])return r.general;var b=r[a.type];if(a.type!="roadview"&&a.rawInfo&&a.rawInfo.roadviewFrom)b=b+("?id="+a.rawInfo.id);else if(a.type=="newPlace"){if(a.rawInfo&&a.rawInfo.x||a.mapInfo&&a.mapInfo.x)b=b+("?x="+parseInt(a.rawInfo.x||a.mapInfo.x)+"&y="+parseInt(a.rawInfo.y||a.mapInfo.y))}else a.type=="updatePlace"&&(b=b+("?id="+a.rawInfo.confirmId));b=b+((b.indexOf("?")>=0?"&":"?")+"serviceName=kakaomap&agentType=PC");if(a.channel)(a=j(a.channel))&&
(b=b+("&channelId="+a));return b}function j(a){var c=0;b(n).each(function(b,d){if(d.name==a)c=d.id});return c}function l(){var a=d.getCenter(),b=a.getX().toFixed(0),a=a.getY().toFixed(0),c=d.getLevel(),g=d.isRoadmap()?"MAPTYPE_MAP":"MAPTYPE_SKYVIEW",j=d.getMapTypeId()==daum.maps.MapTypeId.HYBRID,l=location.href.replace(/([?#].*)?$/,"?"+f.getShareQueryString()),k=location.href,m=d.getMapTypeId(),h="",o;for(o in daum.maps.MapTypeId)daum.maps.MapTypeId[o]==m&&(h=o);b={x:b,y:a,level:c,mapType:g,isHybrid:j,
copyurl:l,accessurl:k,tile:{mapTypeName:h,airType:Application.airMapTileController.getAirTileName(),poiTileInfo:Application.mainMapController.poiTileController.getTileInfo(),terrain:e.get("terrain"),overlay:e.get("overlay"),air:e.get("air"),roadview:e.get("roadview"),traffic:e.get("traffic"),bicycle:e.get("bicycle"),bicyclehybrid:e.get("bicyclehybrid"),themespring:e.get("themespring"),themefall:e.get("themefall"),theme:e.get("theme"),usedistrict:e.get("usedistrict"),bboundary:e.get("bboundary"),hboundary:e.get("hboundary"),
indoor:e.get("indoor")},userQuery:Application.keywordSearchController.getKeyword()||""};if(b.tile.bboundary&&b.tile.hboundary){o=e.getOverlayIndex("hboundary");a=e.getOverlayIndex("bboundary");b.tile.lastAddBound=o>a?"hbound":"bbound"}return b}function m(b){q&&a.close();var c=g(b);b.namespace=h;b.mapInfo=l();if(c){q=F("FiyFrame");b.type!="newPlace"&&b.type!="generalExternal"&&q.addClass("wideFrame");var d=q.$("frame");d.attr("data-fiydata",encodeURIComponent(JSON.stringify(b)));d.attr("src",c);a.create(q,
{dimmed:true,beforeClose:k});q.on("scroll",function(){q.scrollTop(0)})}}function k(){q=null;o&&o()}var h="__daum$Fiy"+(+new Date).toString(36),o=null;A[h]={onClose:function(){a.close();q=null},onSizeChanged:function(a){if(q){var b=+a.width,a=+a.height;b>jQuery(A).width()&&(b=jQuery(A).width());a>jQuery(A).height()-50&&(a=jQuery(A).height()-50);var c=q.$("frame");q.css({width:b,height:a});c.css({width:b,height:a})}},addBeforeCloseCallback:function(a){o=a}};var r={newPlace:c.FIY_SERVER_URL+"place/CsPlaceNew.kakao",
updatePlace:c.FIY_SERVER_URL+"place/CsPlaceUpdate.kakao",general:c.FIY_SERVER_URL+"map/CsGeneral.kakao",map:c.FIY_SERVER_URL+"map/CsMap.kakao",roadview:c.FIY_SERVER_URL+"map/CsRoadview.kakao",route:c.FIY_SERVER_URL+"map/CsRoute.kakao",subway:c.FIY_SERVER_URL+"map/CsTransportSubway.kakao",bus:c.FIY_SERVER_URL+"map/CsTransportBus.kakao",busStop:c.FIY_SERVER_URL+"map/CsTransportBus.kakao"},n=[{name:"CLICK_RIGHT",id:101},{name:"ICON_NEWPLACE",id:102},{name:"SEARCH_NORESULT",id:103},{name:"SEARCH_LIST_BOT",
id:104},{name:"ROUTE_NORESULT",id:105},{name:"ROUTE_LIST_BOT",id:106},{name:"TOOLTIP_PLACE",id:107},{name:"DETAIL_PLACE",id:108},{name:"LABEL_TOP",id:109},{name:"LABEL_OTHER_POPUP",id:110},{name:"DEFAULT",id:112},{name:"DETAIL_PLACE_PHOTO",id:115},{name:"TOOLTIP_ETC",id:117},{name:"TOOLTIP_ADDR",id:130},{name:"TOOLTIP_BUSSTOP",id:162},{name:"TOOLTIP_SUBWAYSTATION",id:163},{name:"DETAIL_BUS",id:164},{name:"DETAIL_SUBWAYSTATION",id:165},{name:"FROM_ROADVIEW",id:166},{name:"DETAIL_PLACE_SUBWAYSTATION",
id:168},{name:"ROUTE_LIST_SUBWAYSTATION",id:171},{name:"SIDEBAR_NEWPLACE",id:172},{name:"SIDEBAR_MODIFYMAP",id:173},{name:"SEARCH_MIDDLE_NEWPLACE",id:174},{name:"SEARCH_MIDDLE_MODIFYMAP",id:175},{name:"SEARCH_BOTTOM_NEWPLACE",id:176},{name:"SEARCH_BOTTOM_MODIFYMAP",id:177}],q=null;this.open=function(a){m(a)};this.openCsGeneralFromEvent=function(){m({type:"general",channel:"LABEL_TOP"});p.click("control","fiy")};this.openCustomerRequest=function(a){var a=a||{},b={};if(a.address){b.type="general";b.rawInfo=
{x:a.coords.getX(),y:a.coords.getY(),address:a.address,relatedAddress:a.relatedAddress,relatedPrefixAddress:a.relatedPrefixAddress,zipcode:a.zipcode,zonenum:a.zonenum,hcode:a.hcode,bcode:a.bcode,code:a.code}}else if(a.type)b.type=a.type;else if(a.confirmId){b.type="updatePlace";b.rawInfo={confirmId:a.confirmId}}else if(a.busStopId){b.type="busStop";b.rawInfo=a.rawData.raw()}else if(a.subwayId){b.type="subway";b.rawInfo={subwayId:a.subwayId,subwayLineId:a.subwayLineId,name:a.name}}else b.type=a.category==
"D"?"general":"map";if(a.coords){b.rawInfo=b.rawInfo||{};b.rawInfo.x=a.coords.getX();b.rawInfo.y=a.coords.getY()}b.channel=a.channel||"LABEL_TOP";m(b)};this.isActivated=function(){return q?true:false}}));Aa.prototype.visible_=!1;Aa.prototype.setFlagSearch=function(a){var b=a.waypoints,c=b.length-1;this.mapFlagList_.forEach(function(a){a.setMap(null)},this);b.forEach(function(a,b){var f=null,f=this.mapFlagList_[b]?this.mapFlagList_[b]:new va;f.setVisible(true);f.setMap(this.map_);this.mapFlagList_[b]=
f;a!=null?this.mapFlagList_[b].setPosition(a.coords):this.mapFlagList_[b].setMap(null);this.mapFlagList_[b].onChange.clear();this.mapFlagList_[b].onRemoveFlag.clear();this.mapFlagList_[b].onChange.add(this.changeFlag_,this);this.mapFlagList_[b].onRemoveFlag.add(this.removeFlag_,this);b==0?this.mapFlagList_[b].setType("origin"):b==c?this.mapFlagList_[b].setType("dest"):this.mapFlagList_[b].setType("via"+b)},this);this.setViaFlagCnt(a);this.mapFlagList_.length=b.length;this.viaScout_.setEnabled(b.slice(1,
-1).filter(Boolean).length<5)};Aa.prototype.setViaFlagCnt=function(a){a=a.getViaCount();this.viaCount_=Math.max(1,a)};Aa.prototype.changeFlag_=function(a){var b=a.getCoords();this.onChange.notify({index:this.getIndex_(a),coords:b})};Aa.prototype.getIndex_=function(a){return idx=this.mapFlagList_.indexOf(a)==-1?a==this.originFlag_?0:this.mapFlagList_.length-1:this.mapFlagList_.indexOf(a)};Aa.prototype.addViaFlag_=function(a){this.onAdd.notify(a.getCoords())};Aa.prototype.removeFlag_=function(a){this.onRemove.notify(this.mapFlagList_.indexOf(a))};
Aa.prototype.show=function(a){this.panel_.setClass("Fold",!a);this.setVisibleFlagPanel_(true);this.isFindWay_=a;this.setVisibleFlags_(a)};Aa.prototype.addExpandEvent_=function(){this.panel_.onEnter.add(this.expand_,this);this.panel_.onLeave.add(this.fold_,this)};Aa.prototype.expand_=function(){if(!this.expanded_&&!this.isFindWay_){this.timeout=null;this.timeout=setTimeout(function(a){return function(){a.expandAnimate_();a.expanded_=true;clearTimeout(a.timeout)}}(this),200)}};Aa.prototype.fold_=function(){this.timeout&&
clearTimeout(this.timeout);if(this.expanded_&&!this.floating_&&!this.isFindWay_){this.foldAnimate_();this.floating_=this.expanded_=false}};Aa.prototype.expandAnimate_=function(){var a=this.panel_;a.addClass("FlagAnimating");var b=jQuery(this.wrapPanel_.getElement());b.find(".viaWrap").animate({top:38},this.ANIMATE_SPEED_,function(){jQuery(this).removeAttr("style")});b.find(".destWrap").animate({top:76},this.ANIMATE_SPEED_,function(){jQuery(this).removeAttr("style");a.removeClass("Fold FlagAnimating")})};
Aa.prototype.foldAnimate_=function(){var a=this.panel_,b=jQuery(this.wrapPanel_.getElement());b.find(".viaWrap").animate({top:3},this.ANIMATE_SPEED_,function(){jQuery(this).removeAttr("style")});b.find(".destWrap").animate({top:3},this.ANIMATE_SPEED_,function(){jQuery(this).removeAttr("style");a.addClass("Fold")})};Aa.prototype.hide=function(){this.visible_=false;this.setVisibleFlagPanel_(false);this.setVisibleFlags_(false)};Aa.prototype.setVisibleFlagPanel_=function(a){(this.visible_=a)?this.wrapPanel_.show():
this.wrapPanel_.hide()};Aa.prototype.setVisibleFlags_=function(a){var b=this.mapFlagList_.length-1;this.mapFlagList_.forEach(function(c,d){d!=0&&d!=b?c.setVisible(a&&this.viaVisible_):c.setVisible(a)},this)};Aa.prototype.setViaVisible=function(a){a?this.panel_.removeClass("Flag-noVia"):this.panel_.addClass("Flag-noVia");this.viaVisible_=a&&this.visible_;this.viaFlag_.setVisible(a);var b=this.mapFlagList_.length-1;this.mapFlagList_.forEach(function(a,d){d!=0&&d!=b&&a.setVisible(this.viaVisible_)},
this)};Aa.prototype.getViaVisible=function(){return!this.panel_.hasClass("Flag-noVia")};Aa.prototype.setOrigin=function(a,b){if(a){this.originFlag_.setMap(this.map_);this.originFlag_.setCoords(a,b)}else this.originFlag_.setMap(null)};Aa.prototype.setDest=function(a,b){if(a){this.destFlag_.setMap(this.map_);this.destFlag_.setCoords(a,b)}else this.destFlag_.setMap(null)};Aa.prototype.setVia=function(a,b){this.viaFlag_.setMap(this.map_);this.viaFlag_.setCoords(a,b)};Aa.prototype.resetOrigin=function(){this.originFlag_.setMap(null)};
Aa.prototype.resetDest=function(){this.destFlag_.setMap(null)};Aa.prototype.resetVia=function(){this.viaFlag_.setMap(null)};Aa.prototype.setCollapseToggleEvent=function(){Application&&Application.windowController.onCollapseToggle.add(function(a){var b=a?420:30;this.originFlagPoint=new daum.maps.Point(b,48);this.destFlagPoint=new daum.maps.Point(b,this.viaVisible_?120:84);this.viaFlagPoint=new daum.maps.Point(b,84);if(Application.flagSearchController.active_){this.show(!a);this.setVisibleFlags_(true)}}.bind(this))};
define("controller/FlagController",["map/Map"],H(Aa));M.prototype.flagClickHandler=function(a){this.flagSearchResultController.clear();this.setWaypointWithoutRoute(a.type,a.item);this.findAoi(a.item);this.setActive(true)};M.prototype.findAoi=function(a){if(a.pointExtension||a.lineData){this.aoiController_.clear();this.aoiController_.callAfterLoad(function(){this.aoiController_.setHighlightMode(a.id);this.map_.setBounds(this.aoiController_.getCoordsBounds(a.id))}.bind(this))}a.pointExtension?this.aoiController_.find(a.id):
a.lineData&&this.aoiController_.findAddress(a)};M.ORIGIN_WHICH_="Origin";M.VIA_WHICH_="Via";M.DEST_WHICH_="Dest";M.prototype.which_=M.ORIGIN_WHICH_;M.prototype.changeActive_=function(){if(this.getActive()){h.$("info.route").setVisible(true);h.$("info.route.searchBox").setVisible(true);if(!this.withRoadview_){this._viewLayout.setMapOnly();this.withRoadview_=false;this.map_.setKeyboardShortcuts(true)}this.notifyFlagSearch_();this.handleRoute_();this.flagSearchResultController.show()}else{Db.disposeAll();
this.flagSearchResultController.hide();this.carRouteSearchController.setActive(false);this.transitRouteSearchController.setActive(false);this.walkRouteSearchController.setActive(false);this.bikeRouteSearchController.setActive(false)}};M.prototype.setFlagSearch=function(a){this.flagSearch_=a;this.notifyFlagSearch_()};M.prototype.setWaypointWithoutRoute=function(a,b){var c="",d="";if(b instanceof ga){d="BUSSTOP";c=b.id}else if(b instanceof Xa||b.subway&&b.subway.id){d="SUBWAYSTATION";c=b.subway.id}else if(b instanceof
Ma){d="ADDRESS";c=b.docid}else{d="PLACE";c=b.placeid||b.id}c=new vb(b.coords,b.name,c,null,d);a==M.ORIGIN_WHICH_?this.flagSearch_.setWaypoint(0,c):this.flagSearch_.setWaypoint(this.flagSearch_.getLastIndex(),c);this.methodView_.clearEstimateTime();this.notifyFlagSearch_();this.resetWaypoint();this.keywordSearchController.mainMapController.clearThemePoiControlView()};M.prototype.notifyFlagSearch_=function(){this.methodView_.setActive(this.flagSearch_.getValuableWaypoints().length>=2);this.flagController_.setFlagSearch(this.flagSearch_);
this.waypointSearchBoxController_.setFlagSearch(this.flagSearch_)};M.prototype.addDragViaStop_=function(a){var b=a.index+1;vb.findByCoords(a.position||null,function(a){this.flagSearch_.addWaypoint(b,a);this.flagSearch_.setWaypoints(this.flagSearch_.getValuableWaypoints());this.clearAllRoute_();this.setRoute()},this)};M.prototype.addViaFlag_=function(a){this.clearAoi();this.findByWaypoint_(a,null,null,null)};M.prototype.removeFlag_=function(a){a==0||a==this.flagSearch_.getLastIndex()?this.flagSearch_.setWaypoint(a,
null):this.flagSearch_.removeWaypoint(a);this.notifyFlagSearch_();if(this.flagSearch_.isOriginDest()){this.clearAllRoute_();this.setRoute()}else this.resetRoute_()};M.prototype.changeFlag_=function(a){var b=a.index,a=a.coords;this.onChangeFlag.notify();this.findByWaypoint_(a,null,null,b);this.aoiController_.clear()};M.prototype.addWaypointViaBox_=function(){this.flagSearch_.addWaypoint(this.flagSearch_.getLastIndex(),null);this.notifyFlagSearch_()};M.prototype.removeWaypointBox_=function(a){this.flagSearch_.removeWaypoint(a);
this.notifyFlagSearch_();a=this.flagSearch_.isViaEmpty();if(this.flagSearch_.isOriginDest()&&!a){this.clearAllRoute_();this.setRoute()}};M.prototype.changeWaypointBox_=function(a){var b=a.from,a=a.to;this.flagSearch_.isViaEmpty();this.flagSearch_.addWaypoint(a,this.flagSearch_.removeWaypoint(b));this.notifyFlagSearch_();if(this.hashMap[this.lastMethod_].getRoute()){this.clearAllRoute_();this.setRoute()}};M.prototype.resetWaypoint=function(){this.home_.show();this.clearAllRoute_();Application.infoWindowManager.close()};
M.prototype.searchWaypointBox_=function(a){var b=a.index;this.flagSearch_.activeIndex=b;var a=a.keyword,c=M.VIA_WHICH_;if(b==0)c=M.ORIGIN_WHICH_;else if(b==this.flagSearch_.getLastIndex())c=M.DEST_WHICH_;this.keywordSearchController.mainMapController.clearThemePoiControlView();this.roadviewController.close();this.flagSearchResultController.setKeyword(a,c)};M.prototype.loadFlagResult_=function(){this.methodView_.clearEstimateTime();this.flagSearch_.getValuableWaypoints().length>=2&&this.methodView_.setActive(true);
this.clearAllRoute_();Application.roadviewController.close();Application.windowController.updateHeight();Application.roadviewController.removeLastMarker()};M.prototype.setCoords_=function(a){var b=a.coords||null,c=this.flagSearch_.activeIndex,a=new vb(b,a.name||null,a.id||null,null,a.pointType||null);this.flagSearch_.setWaypoint(c,a);Application.map.setCenter(b);Application.map.setLevel(3);this.notifyFlagSearch_();this.flagSearch_.getValuableWaypoints().length>=2&&this.methodView_.setActive(true).clearEstimateTime()};
M.prototype.clearAllRoute_=function(){this.carRouteSearchController.clearRoute();this.transitRouteSearchController.clearRoute();this.walkRouteSearchController.clearRoute();this.bikeRouteSearchController.clearRoute();this.carRouteSearchController.setActive(false);this.transitRouteSearchController.setActive(false);this.walkRouteSearchController.setActive(false);this.bikeRouteSearchController.setActive(false)};M.prototype.setRoute=function(){Application&&Application.favoriteController.removeInstantMarker();
var a=this.flagSearch_.getValuableWaypoints();if(a.length>=2){this.flagSearch_.setWaypoints(a);this.notifyFlagSearch_();this.flagSearchResultController.hide();this.methodView_.setActive(false).setActive(true).setEstimateTime();h.$("info.noFlagPlace").setVisible(false);h.$("info.flagsearch").show().addClass("Flagsearch-result");this.home_.hide();this.methodView_.setIndex(this.lastMethod_);this.infoWindowManager_.close();switch(this.lastMethod_){case "car":this.carRouteSearchController.find();break;
case "transit":this.transitRouteSearchController.find();break;case "walk":this.walkRouteSearchController.find();break;case "bike":this.bikeRouteSearchController.find()}this.aoiController_.clear();this.aoiController_.callAfterLoad(this.aoiController_.clear)}};M.prototype.loadRoute_=function(){this.setMethodView_();this.onLoadedRoute.notify()};M.prototype.reset=function(){this.flagSearch_=gb.create();this.methodView_.setActive(false);this.notifyFlagSearch_();this.flagSearchResultController.clear();
Application.infoWindowManager.close();this.reset_();this.home_.show();this.isSelectFlagBtn=false};M.prototype.resetRoute_=function(){this.clearAllRoute_();this.methodView_.clearEstimateTime();this.getActive()&&h.$("info.route").setVisible(true);Application.windowController.updateHeight()};M.prototype.reset_=function(){this.waypoints_=null;this.methodView_.setActive(false);this.resetRoute_();this.aoiController_.clear()};M.prototype.getWaypoints=function(){return this.flagSearch_.getValuableWaypoints()};
M.prototype.setDefaultOption=function(a){this.carRouteSearchController.setMode(a)};M.prototype.setOrigin=function(a,b,c,d){this.findByWaypoint_(a,b,c,0,d)};M.prototype.setVia=function(a,b,c,d,e){d=d||null;if(this.flagSearch_.getViaCount()>=5){alert("\uacbd\uc720\uc9c0\ub294 \ucd5c\ub300 5\uac1c\uae4c\uc9c0\ub9cc \ucd94\uac00 \uac00\ub2a5\ud569\ub2c8\ub2e4.");return false}this.findByWaypoint_(a,b,c,d,e);return true};M.prototype.setDestination=function(a,b,c,d){this.findByWaypoint_(a,b,c,this.flagSearch_.getLastIndex(),
d)};M.prototype.findByWaypoint_=function(a,b,c,d,e){b?this.setWaypoint_(new vb(a,b,c,null,e),d):vb.findByCoords(a,function(a){this.setWaypoint_(a,d)},this)};M.prototype.clearAoi=function(){this.aoiController_.clear()};M.prototype.setWaypoint_=function(a,b){b!==null?this.flagSearch_.setWaypoint(b,a):this.flagSearch_.addFirstEmptyViaWaypoint(a);this.keywordSearchController.mainMapController.clearThemePoiControlView();this.notifyFlagSearch_();if(this.flagSearch_.isOriginDest()){this.clearAllRoute_();
this.setRoute()}};M.prototype.isComplete=function(){return this.flagSearch_.isOriginDest()};M.prototype.getViaVisible=function(){return this.flagSearch_.getViaCount()>0};M.prototype.closeRoadview_=function(){Application.roadviewController.close()};M.prototype.clickMethod_=function(a){this.methodView_.setIndex(a);this.handleRoute_();h.$("info.body").scrollTo(0)};M.prototype.handleRoute_=function(){this.lastMethod_=this.methodView_.getIndex()||this.lastMethod_;if(this.hashMap[this.lastMethod_].getRoute()){this.methodView_.setIndex(this.lastMethod_);
this.setMethodView_();this.flagSearch_.getValuableWaypoints()}else this.setRoute()};M.prototype.showValidCondition_=function(){if(this.flagSearch_.getWaypoints().length>=2&&!this.flagSearch_.getWaypoints()[0]){alert("\ucd9c\ubc1c\uc9c0\ub97c \uc815\ud655\ud788 \uc9c0\uc815\ud574\uc8fc\uc138\uc694.");this.waypointSearchBoxController_.setFocus(0)}else{alert("\ub3c4\ucc29\uc9c0\ub97c \uc815\ud655\ud788 \uc9c0\uc815\ud574\uc8fc\uc138\uc694.");this.waypointSearchBoxController_.setFocus(this.flagSearch_.getWaypoints().length-
1)}};M.prototype.setMethodView_=function(){Application.infoWindowManager.close();Application.roadviewController.close();Application.roadviewController.removeLastMarker();this.flagSearchResultController.clear();h.$("info.flagsearch").addClass("Flagsearch-result");switch(this.lastMethod_){case "car":this.transitRouteSearchController.setActive(false);this.carRouteSearchController.setActive(true);this.walkRouteSearchController.setActive(false);this.bikeRouteSearchController.setActive(false);break;case "transit":this.carRouteSearchController.setActive(false);
this.transitRouteSearchController.setActive(true);this.walkRouteSearchController.setActive(false);this.bikeRouteSearchController.setActive(false);break;case "walk":this.carRouteSearchController.setActive(false);this.transitRouteSearchController.setActive(false);this.walkRouteSearchController.setActive(true);this.bikeRouteSearchController.setActive(false);break;case "bike":this.carRouteSearchController.setActive(false);this.transitRouteSearchController.setActive(false);this.walkRouteSearchController.setActive(false);
this.bikeRouteSearchController.setActive(true);break;default:console.assert(false)}};M.prototype.doQuickSearchOrigin=function(a){this.doQuickSearch_(M.ORIGIN_WHICH_,a)};M.prototype.doQuickSearchDest=function(a){this.doQuickSearch_(M.DEST_WHICH_,a)};M.prototype.doQuickSearchOriginDest=function(a,b){this.destKeyword_=b;var c=this.modelQuick_=new y;c.setSearchBusStop(true);c.onChange.add(this.loadQuickSearchOriginDest_,this);c.setKeyword(a)};M.prototype.loadQuickSearchOriginDest_=function(){var a=this.modelQuick_.addresses[0]||
this.modelQuick_.places[0]||this.modelQuick_.reviews[0];if(a){this.setOrigin(a.coords,a.name);this.doQuickSearchDest(this.destKeyword_)}};M.prototype.doQuickSearch_=function(a,b){var c=new y;c.setSearchBusStop(true);c.onChange.add(function(){var b=c.addresses[0]||c.places[0]||c.reviews[0];if(b)switch(a){case M.ORIGIN_WHICH_:this.setOrigin(b.coords,b.name);break;case M.DEST_WHICH_:this.setDestination(b.coords,b.name);break;default:console.assert(false)}},this);c.setKeyword(b)};M.prototype.setDefaultModeCar=
function(){this.lastMethod_="car"};M.prototype.setDefaultModeTransit=function(){this.lastMethod_="transit"};M.prototype.setDefaultModeWalk=function(){this.lastMethod_="walk"};M.prototype.setDefaultModeBike=function(){this.lastMethod_="bike"};M.prototype.buildParams=function(a){if(this.carRouteSearchController.getActive()||this.transitRouteSearchController.getActive()||this.walkRouteSearchController.getActive()||this.bikeRouteSearchController.getActive()){var b=this.getWaypoints();a.rt=b.map(function(a){return a&&
a.coords?a.coords.getX().toFixed(0)+","+a.coords.getY().toFixed(0):","}).join(",");var c=b.length-1,d="",e="";b.forEach(function(b,g){if(b!=null){a["rt"+(g+1)]=b.name;d=d+((b.id?b.id:"")+(g!=c?",":""));e=e+((b.pointType&&b.pointType!="NORMAL"?b.pointType:"")+(g!=c?",":""))}});a.rtIds=d;a.rtTypes=e;if(this.carRouteSearchController.getActive()&&this.carRouteSearchController.getMethod())a.carOption=this.carRouteSearchController.getMethod();if(this.transitRouteSearchController.getActive()){a.target="traffic";
if(b=this.transitRouteSearchController.getBoundModeIndex()){a.transitBoundMode=b;a.transitOption=this.transitRouteSearchController.getInterModeIndex()}else a.transitOption=this.transitRouteSearchController.getModeIndex()}if(this.walkRouteSearchController.getActive())a.target="walk";if(this.bikeRouteSearchController.getActive())a.target="bicycle"}else if(this.getActive()){b=this.flagSearch_;if(b.isEmptyOriginDest()&&b.isViaEmpty()){b=Application.map.getCenter();a.urlX=b.getX()|0;a.urlY=b.getY()|0;
a.urlLevel=Application.map.getLevel()}else{b=b.getWaypoints();a.rt=b.map(function(a){return a&&a.coords?a.coords.getX().toFixed(0)+","+a.coords.getY().toFixed(0):","}).join(",");c=b.length-1;e=d="";b.forEach(function(b,g){a["rt"+(g+1)]=b?b.name:"";d=d+((b&&b.id?b.id:"")+(g!=c?",":""));e=e+((b&&b.pointType&&b.pointType!="NORMAL"?b.pointType:"")+(g!=c?",":""))});a.rtIds=d;a.rtTypes=e}}};M.prototype.noResultPlace=function(a,b){this.searchWaypointBox_({index:a,keyword:b});this.waypointSearchBoxController_.setSearchBox(a,
b)};M.prototype.initResultList=function(){this.flagSearchResultController.initResultList()};define("controller/FlagSearchController","map/Map manager/ViewLayout controller/CarRouteSearchController controller/FlagSearchResultController controller/TransitRouteSearchController controller/WalkRouteSearchController controller/BikeRouteSearchController map/InfoWindowManager controller/FlagController controller/KeywordSearchController controller/RoadviewController manager/AoiManager controller/WaypointSearchBoxController controller/BusSearchController".split(" "),
H(M));ea.prototype.initHistroyView=function(){this.histroyRouteView.init()};ea.prototype.initResultList=function(){this.infoRoute.show();h.$("info.flagsearch").hide()};ea.prototype.setCoords_=function(a){this.onCoords.notify(a)};ea.prototype.setPage=function(a){this.model_.setPage(a)};ea.prototype.setOption_=function(a){this.singleViewMode_=false;switch(a){case 0:this.model_.setAllMode();p.click("route",["search","all_option"]);break;case 1:this.findPlaces();z.logPathSearchIn("place_tab");break;case 2:this.findAddresses();
z.logPathSearchIn("address_tab");break;case 3:this.findBusStops();z.logPathSearchIn("bus_tab");break;default:console.assert(false)}};ea.prototype.setKeyword=function(a,b){this.model_.clear();this.group_.setActiveWithoutFeedback(0);this.model_.setKeyword(a);this.flagViewType=b||this.flagViewType};ea.prototype.findAddresses=function(){if(this.singleViewMode_){this.model_.setAddressMode(true);this.model_.setPage(2)}else this.model_.setAddressMode();this.group_.setActiveWithoutFeedback(2);p.click("route",
["search","address_option"])};ea.prototype.clickAddress_=function(a){var b=this.model_.addresses[a],c=b.id;this.setCoords_({coords:b.coords,name:b.name,id:b.docid,pointType:"ADDRESS"});this.aoiController_.clear();if(b.lineData){this.aoiController_.callAfterLoad(function(){var a=this.aoiController_.getCoordsBounds(c);a&&this.map_.setBounds(a);this.aoiController_.clickMarker(c)}.bind(this));this.aoiController_.findAddress(b)}else!this.model_.hasBounds()&&!this.model_.whatsHere&&this.map_.setCenter(b.coords);
this.clickListView_(a,"ADDRESS");p.click("route","address")};ea.prototype.findPlaces=function(){if(this.singleViewMode_){this.model_.setPlaceMode(true);this.model_.setPage(2)}else this.model_.setPlaceMode();this.group_.setActiveWithoutFeedback(1);p.click("route",["search","place_option"])};ea.prototype.showMediumTooltip_=function(a,b){this.setCoords_({coords:a.coords,name:a.name,id:a.subway?a.subway.id:a.id,pointType:a.subway?"SUBWAYSTATION":"PLACE"});this.infoWindowManager_.createPlaceWithMedium(a,
b,false,"route").onClose.add(function(){this.activeItem_=null},this)};ea.prototype.showRoadview_=function(a){this.roadviewController_.setViewpointWithMarker(a.roadview,a,a.roadview.pan,a.roadview.tilt,0,this.model_.isThemeMode())};ea.prototype.showStoreview=function(a){this.roadviewController_.showStoreView(a.storeview,0,null,this.model_.isThemeMode())};ea.prototype.clickPlace_=function(a){console.assert(a>=0);this.clickListView_(a,"PLACE");var b=this.activeItem_=this.model_.places[a],a=this.placeMarkers_.at(this.placeMarkerIndex_[a]);
this.setMarkerActive_(a);this.setCoords_({coords:b.coords,name:b.name,id:b.subway?b.subway.id:b.id,pointType:b.subway?"SUBWAYSTATION":"PLACE"});this.showMediumTooltip_(b,a);!this.model_.hasBounds()&&!this.model_.whatsHere&&this.map_.setCenter(b.coords);this.aoiController_.clear();if(b.pointExtension){this.aoiController_.callAfterLoad(function(){this.aoiController_.clickMarker(b.id);this.map_.setBounds(this.aoiController_.getCoordsBounds(b.id))}.bind(this));this.aoiController_.find(b.id)}p.click("route",
"place_name")};ea.prototype.setMarkerActive_=function(a){if(this.marker){this.marker.setZIndex(2);this.marker.setHover(false);this.marker.setActive(false)}if(a){a.setZIndex(3);a.setActive(true);this.marker=a}else this.marker=null};ea.prototype.findBusStops=function(){if(this.singleViewMode_){this.model_.setBusStopMode(true);this.model_.setPage(2)}else this.model_.setBusStopMode();this.group_.setActiveWithoutFeedback(3);p.click("route",["search","busstop_option"])};ea.prototype.clickBusStop_=function(a){var b=
this.model_.busStops[a];this.setCoords_({coords:b.coords,name:b.name,id:b.id,pointType:"BUSSTOP"});this.clickListView_(a,"BUSSTOP");p.click("route","busstop")};ea.prototype.clickAddrSuggest_=function(a){this.setKeyword(a)};ea.prototype.clear=function(){this.placeMarkers_.clear();this.activeItem_=null};ea.prototype.clickListView_=function(a,b){this.infoWindowManager_.close();this.placeListView_.setIndex(-1);this.busStopListView_.setIndex(-1);this.addressListView_.setIndex(-1);var c=null;if(a!=null){switch(b){case "ADDRESS":c=
this.addressListView_;break;case "PLACE":c=this.placeListView_;break;case "BUSSTOP":c=this.busStopListView_}c.setIndex(a)}};ea.prototype.load_=function(){this.infoWindowManager_.close();var a=this.model_,b="";this.clear();this.resetSwap_();h.$("info.flagsearch").show().removeClass("Flagsearch-result");h.$("info.flagsearch").removeClass("Flagsearch-Noresult");h.$("info.flagsearch.options").show();h.$("info.noFlagPlace").setVisible(false);this.infoRoute.hide();Application.windowController.showInfoAndTop();
a.isBusStopMode()?this.loadBusMessage_():this.loadMessage_();var c=this.spellcheckView_;if(a.spellCandidate[0]){h.$("info.flagsearch.spellcheck.titleText").show();h.$("info.flagsearch.spellcheck.title").setText(a.getKeyword());c.showCandidate(a.spellCandidate[0])}else{c.hide();this.checkAllHideInInfoFlagsearchDivided()}c="";a.isAllMode()?b=c="all":a.isPlaceMode()?b=c="place":a.isAddressMode()?b=c="address":a.isBusStopMode()&&(b=c="bus");c={tab:c};c.in_map=a.hasBounds()?1:0;c.mkey=+new Date+"_"+Math.ceil(Math.random()*
32767);c.sorttype=a.sort||0;c.analysis=a.analysis;if((a.isAllMode()||a.isPlaceMode())&&a.getCidx()!=null)c.cidx=a.getCidx();var d=new daum.maps.CoordsBounds;this.singleViewMode_=false;this.singleViewType_=null;if(a.isAllMode()){var e=0,f=["places","addresses","busStops"],g=0;f.forEach(function(b,c){if(a[b].length>0){e++;g=c}});if(e==1){this.singleViewMode_=true;this.singleViewType_=f[g]}else e==0&&h.$("info.flagsearch.options").hide()}if(a.isAllMode()&&!this.singleViewMode_){a.places.splice(5);a.addresses.splice(3);
a.busStops.splice(3)}a.isPlaceMode()&&a.places.length>0?h.$("info.flagsearch.addNewPlace").show():h.$("info.flagsearch.addNewPlace").hide();var j=this.addressListView_;j.clear();var l=jQuery.extend({},c,{cpg:a.page+","+a.addresses.length});h.$("info.flagsearch.address.cnt").setText(String.formatNumber(a.addressCount));a.addresses.forEach(function(b,c){var d=j.addItem(new ic(this.flagViewType,b,a.inferredKeyword));d.setSeq(c);d.setDssAddressObj(l)},this);j.setCount(a.addresses.length,a.isAllMode()?
a.addressCount:0);j=this.placeListView_;h.$("info.flagsearch.place.cnt").setText(String.formatNumber(a.placeCount));j.clear();var m=jQuery.extend({},c,{cpg:a.page+","+a.places.length}),k=[],v=[],o=[],r=new daum.maps.CoordsBounds;a.places.forEach(function(b,c){var e=j.addItem(new pa(this.flagViewType,b));o.push(b.id);d.extend(b.coords);e.setIndex(b.index);e.setCoords(b.coords);e.setName(String.cut(b.name,20),a.inferredKeyword);e.setRoadview(b.roadview);e.setCategory(b.category);e.setPhone(b.phone[0]);
e.setDssPlaceObj(m);if(b.newAddress){e.setAddress(b.newAddress);e.setSubAddress(b.address)}else e.setAddress(b.address);e.setDupData(b.dup_data);e.setConfirmId(b.id);e.setIntercity(b.intercity,b.intercityId,b.name);e.onDupDataClick.add(this.clickDupItem_,this);e.onOver.add(function(){f.setHover(true);if(this.activeItem_!=b){this.miniTooltipManager_.createPlace(b);this.miniTooltipManager_.open()}},this);e.onOut.add(function(){f.setHover(false);this.miniTooltipManager_.close()},this);if(b.hasCoords()){var f;
f=b.pointExtension?B.createLinecourse(b.index,b.coords):B.createPlace(b.index,b.coords);f.onClick.add(function(){this.clickPlaceMarker_(c);e.sendDssLog("_marker_place")},this);if(e){f.onClick.add(function(){e.getPanel().bringToTop()},this);f.onOver.add(function(){e.setHover(true);if(this.activeItem_!=b){this.miniTooltipManager_.createPlace(b);this.miniTooltipManager_.open()}},this);f.onOut.add(function(){e.setHover(false);this.miniTooltipManager_.close()},this)}k[c]=v.length;v.push(f);r.extend(b.coords)}},
this);for(this.placeMarkerIndex_=k.map(function(a){return v.length-1-a});v[0];)this.placeMarkers_.add(v.pop());j.setCount(a.places.length,a.isAllMode()?a.placeCount:0);j=this.busStopListView_;j.clear();a.busRecommend=="busstop"&&a.busRecommendTop&&this.swapAddressForBusStop_();var n=jQuery.extend({},c,{cpg:a.page+","+a.busStops.length});h.$("info.flagsearch.busstop.cnt").setText(String.formatNumber(a.busStopCount));a.busStops.forEach(function(a,b){var c=j.addItem(new bc(this.flagViewType,a));c.setSeq(b);
c.setDssBusStopObj(n);c.setCoords(a.coords);c.setTitle(a.name,a.direction);c.setRegion(a.region)},this);j.setCount(a.busStops.length,a.isAllMode()?a.busStopCount:0);this.paginationView_.setTotal(a.isAllMode()?0:(a.pageCount||a.addressCount||a.busStopCount)/15);this.paginationView_.setPage(a.page);this.model_.isHighway&&this.swapAddressForPlace_();if(a.busRecommend=="busstop"&&a.busRecommendTop&&this.model_.busStops[0])this.clickBusStop_(0);else if(this.model_.addresses[0]&&!this.model_.isHighway){this.roadviewController_.close();
this.clickAddress_(0)}else if(this.model_.places[0])this.clickPlace_(0);else if(this.model_.busStops[0])this.clickBusStop_(0);else{h.$("info.flagsearch.spellcheck.titleText").hide();this.noFlagPlace(a)}this.onLoad.notify();require("log/Tiara").log("/fake/search");c=jQuery.extend({},c,{});if(!d.isEmpty())c.rbounds=d.getSouthWest().getX()+","+d.getSouthWest().getY()+","+d.getNorthEast().getX()+","+d.getNorthEast().getY();if(a.trans_map_type){c.trans_map_type=a.trans_map_type;c.sq=a.spellCandidate[0]}if(this.result_click){c.result_click=
this.result_click;this.result_click=null;c.oq=this.result_click_sq;this.result_click_sq=null;c.trans_map_type=this.trans_map_type}f="start";this.flagViewType==M.VIA_WHICH_?f="via":this.flagViewType==M.DEST_WHICH_&&(f="end");if(a.isAllMode()){c.cnt=[a.placeCount,a.addressCount,a.busesCount,a.busStopCount,a.placeAdCount||0].join();c.pg=a.page;c.cids=o.join(",");z.logPathSearchWithType(a.getKeyword(),f,c)}else{c.pg=a.page;if(a.isPlaceMode())c.cids=o.join(",");z._path_type?z.logPathSearchKeyword(a.getKeyword(),
c):z.logPathSearchWithType(a.getKeyword(),f,c)}jQuery("#info\\.flagsearch .search > div.lst").removeClass("lst");b==="all"?jQuery("#info\\.flagsearch .search > div").not(".HIDDEN").filter(":last").addClass("lst"):b==="place"?this.placeListView_.getPanel().addClass("lst"):b==="address"?this.addressListView_.getPanel().addClass("lst"):b==="bus"&&this.busStopListView_.getPanel().addClass("lst")};ea.prototype.clickDupItem_=function(a){qa.findPlace(a,function(a){this.dupMarker_?this.dupMarker_.setPosition(a.coords):
this.dupMarker_=B.fakeMarker(a.coords);this.setCoords_({coords:a.coords,name:a.name,id:a.id,pointType:"PLACE"});this.showMediumTooltip_(a,this.dupMarker_)},this);this.clickListView_(null);this.setMarkerActive_(null)};ea.prototype.clickPlaceMarker_=function(a){console.assert(a>=0);var b=this.activeItem_=this.model_.places[a],c=this.placeMarkers_.at(this.placeMarkerIndex_[a]);this.clickListView_(a,"PLACE");this.setMarkerActive_(c);this.setCoords_({coords:b.coords,name:b.name,id:b.subway?b.subway.id:
b.id,pointType:b.subway?"SUBWAYSTATION":"PLACE"});this.showPlaceInfowindow_(b,c);this.aoiController_.clear();if(b.pointExtension){this.aoiController_.callAfterLoad(function(){this.aoiController_.clickMarker(b.id);this.map_.setBounds(this.aoiController_.getCoordsBounds(b.id),200)}.bind(this));this.aoiController_.find(b.id)}};ea.prototype.swapAddressForBusStop_=function(){jQuery("#info\\.flagsearch\\.busstop").insertBefore(jQuery("#info\\.flagsearch\\.address"))};ea.prototype.swapAddressForPlace_=function(){jQuery("#info\\.flagsearch\\.place").insertBefore(jQuery("#info\\.flagsearch\\.address"))};
ea.prototype.resetSwap_=function(){jQuery("#info\\.flagsearch\\.address").insertBefore(jQuery("#info\\.flagsearch\\.place"));jQuery("#info\\.flagsearch\\.busstop").insertAfter(jQuery("#info\\.flagsearch\\.place"))};ea.prototype.showPlaceInfowindow_=function(a,b){if(a.hasCoords()){var c=this.infoWindowManager_.createPlace(a,b,"route");c.onClose.add(function(){this.activeItem_=null},this);b&&b.setActive&&c.onClose.add(function(){b.setActive(false)})}else ob(a.getDaumPlaceUrl())};ea.prototype.checkAllHideInInfoFlagsearchDivided=
function(){var a=jQuery("#info\\.flagsearch\\.divided");a.height()===0?a.hide():a.show()};ea.prototype.loadMessage_=function(){var a=this.model_;h.$("info.flagsearch.correction").setVisible(a.trans_map_type=="RESULT_JUNGDAP_REDIRECT");a.trans_map_type!="RESULT_JUNGDAP_REDIRECT"&&this.checkAllHideInInfoFlagsearchDivided();if(a.originalKeyword){var b=a.getKeyword();if(a.guideMessage&&a.guideMessage.length){var c=a.guideMessage[0],d=c.region||"";d&&c.bunji&&(d=d+(" "+c.bunji));switch(c.type){case "global":case "user_location":b=
c.keyword;break;case "location_only":b=d;break;case "located_query":case "near_by_query":case "located_branch":b=d+" \uc8fc\ubcc0 "+c.keyword}}h.$("info.flagsearch.correction.orig").setText(a.originalKeyword);h.$("info.flagsearch.correction.new").setText(b);h.$("info.flagsearch.correction.orig2").setText(a.originalKeyword)}b=h.$("info.flagsearch.message");b.show();c=h.$("info.flagsearch.divided");if(a.homonyms[0]||a.guideMessage){this.messageView.setVisible(true);this.busMessageView.setVisible(false);
this.messageView.setKeyword(a.getKeyword());this.messageView.setSubNumber(a.sn_query);this.messageView.setBound(a.retry);this.messageView.setGuideData(a.guideMessage,a.homonyms,null,a.premiumKeyword);b.addChild(this.messageView.getPane());c.show()}a.trans_map_type&&this.messageView.hideTitle();this.checkAllHideInInfoFlagsearchDivided()};ea.prototype.loadBusMessage_=function(){var a=this.model_;this.busMessageView.setVisible(true);this.messageView.setVisible(false);var b=h.$("info.flagsearch.message");
b.show();this.busMessageView.setData(a.originalKeyword,a.currentGuide,a.nextGuide);b.addChild(this.busMessageView.getPane());this.checkAllHideInInfoFlagsearchDivided()};ea.prototype.findLiterally=function(){this.model_.setLiteral(true)};ea.prototype.findSnSelected=function(a){this.model_.setSnSelected(true,a)};ea.prototype.noFlagPlace=function(a){Application.flagSearchController.methodView_.setActive(false);h.$("info.flagsearch").addClass("Flagsearch-Noresult");h.$("info.noFlagPlace").setVisible(true);
h.$("info.route.intro").setVisible(false);h.$("info.noFlagPlace.keyword").setText(a.getKeyword());jQuery("#info\\.noFlagPlace #info\\.noPlace\\.daum\\.link").attr("href","http://search.daum.net/search?w=tot&DA=54X&q="+a.getKeyword());this.onNoResult.notify(this.model_.getKeyword())};ea.prototype.show=function(){this.placeMarkers_.show()};ea.prototype.hide=function(){this.placeMarkers_.hide()};ea.prototype.setTransMapTypeLog=function(a){this.trans_map_type=a;this.result_click="Y";this.result_click_sq=
this.model_.getKeyword()};define("controller/FlagSearchResultController","map/Map map/MiniTooltipManager map/InfoWindowManager controller/RoadviewController manager/AoiManager controller/HistoryController".split(" "),H(ea));define("controller/HistoryController",[],H(function(){function a(){try{A.localStorage.setItem("test","1");A.localStorage.removeItem("test");return!!A.localStorage&&!!A.JSON}catch(a){return false}}function b(a){a||(a="all");var b=Y+"disabled",b=E&&JSON.parse(localStorage.getItem(b));
return jQuery.isArray(b)&&jQuery.inArray(a,b)!==-1}function c(a){var c=Y+a,a=jQuery.inArray(a,R.route)!==-1?x.ROUTE:x.LAYER;return E&&!b(a)&&JSON.parse(localStorage.getItem(c))}function d(a,b){var c=Y+a;b.length>0?E&&localStorage.setItem(c,JSON.stringify(b)):E&&localStorage.removeItem(c)}function e(b){var c,d;if(a())for(c in q)if(q.hasOwnProperty(c)&&(!b||b==q[c])){d=Y+q[c];localStorage.removeItem(d)}}function f(a){var b=c(a.type);b.splice(a.idx,1);b.forEach(function(a,b){a.idx=b});d(a.type,b)}function g(a,
b){a instanceof Array?a.some(function(c,d){var e=j(c),f=j(b);if(JSON.stringify(e)===JSON.stringify(f)){a.splice(d,1);return true}}):a=[];a.unshift(b);a.splice(G);a.forEach(function(a,b){a.idx=b});return a}function j(a){var b=["type","key","route_form"],c={},d;for(d in a)if(a.hasOwnProperty(d)&&jQuery.inArray(d,b)!==-1)if(d=="route_form"){c[d]=[];a[d].forEach(function(a,b){var e={},f;for(f in a)a.hasOwnProperty(f)&&f!="name"&&(e[f]=a[f]);c[d][b]=e})}else c[d]=a[d];return c}function l(){var a,b,d,e=
[],f=[],g=[];for(d in q)if(q.hasOwnProperty(d)){a=q[d];b=c(a);(K[a]=b)&&jQuery.inArray(a,C)!==-1&&(e=e.concat(b));b&&jQuery.inArray(a,p)!==-1&&(f=f.concat(b));b&&jQuery.inArray(a,I)!==-1&&(g=g.concat(b))}a=function(a,b){return a.createTime<b.createTime?1:a.createTime>b.createTime?-1:0};e.sort(a);e.splice(G);K[s]=e;f.sort(a);f.splice(G);K[u]=f;g.sort(a);g.splice(G);K[w]=g;setTimeout(function(){o.notify()},1)}function m(a){if(a){if(a.key||a.route_form){var b=c(a.type),b=g(b,a);d(a.type,b)}l()}}function k(a){var b=
R[a];a&&b?b.forEach(function(a){e(a)}):e();l()}function h(a,b){var c=null,d;if(d=E)a:{for(var e in q)if(q.hasOwnProperty(e)&&a===q[e]){d=true;break a}d=false}d&&(c=jQuery.extend(true,{},{type:a,createTime:(new Date).getTime()},b));return c}var o=this.onChange=new n,r=this.onClick=new n,x=this.VIEW_TYPE={ALL:"all",LAYER:"layer",ROUTE:"route"},q=this.TYPE_LIST={BUS_STOP:"busstop",PLACE:"place",ADDRESS:"address",SUBWAY_STATION:"subwaystation",SUBWAY_STATION_NAME:"subwaystationname",BUS_LINE:"busline",
BUS_STOP_LINE:"busstopline",CAR:"route_car",TRANSIT:"route_pubtrans",WALK:"route_walk",BIKE:"route_bicycle",SUBWAY:"route_subway"},s=this.SEARCH_TYPE="search",u=this.POI_TYPE="pois",w=this.ROUTE_TYPE="route",C=[q.BUS_STOP,q.SUBWAY_STATION,q.PLACE,q.ADDRESS,q.BUS_LINE],p=[q.BUS_STOP,q.SUBWAY_STATION,q.PLACE,q.ADDRESS],I=[q.CAR,q.TRANSIT,q.WALK,q.BIKE],R={layer:[q.BUS_STOP,q.SUBWAY_STATION,q.PLACE,q.ADDRESS,q.BUS_LINE,q.SUBWAY_STATION_NAME,q.BUS_STOP_LINE],route:[q.CAR,q.TRANSIT,q.WALK,q.BIKE,q.SUBWAY]},
Y="history_list_",G=50,E=a()&&!b(),K={};l();this.TYPE_LIST=q;this.SEARCH_TYPE=s;this.POI_TYPE=u;this.ROUTE_TYPE=w;this.addPoi=function(a,b){var c=b.docid||b.id,c=h(a.toLowerCase(),{key:c.toString(),name:b.name,x:b.coords.getX(),y:b.coords.getY()});m(c)};this.addBusLine=function(a,b){var c=h(a,{key:b.id+"",name:b.name});m(c)};this.addRoute=function(a,b){if(b.length>1){var c=b[b.length-1],d=[];d.push(t.getRouteData(b[0]));a!==q.TRANSIT&&b.slice(1,-1).map(function(a){d.push(t.getRouteData(a))});d.push(t.getRouteData(c));
c=h(a,{route_form:d});m(c)}};this.addSubwayRoute=function(a,b){var c=[];c.push({name:b.sfullname,key:b.sid+"",x:0,y:0,poi_type:"SUBWAYSTATION"});c.push({name:b.efullname,key:b.eid+"",x:0,y:0,poi_type:"SUBWAYSTATION"});c=h(a,{startName:b.sname,endName:b.ename,subwayRegion:b.subwayRegion,route_form:c});m(c)};this.addSubwayStationName=function(a,b){var c=h(a,{name:b.name,key:b.stationId+"",regionId:b.regionId});m(c)};this.getHistory=function(a){return K[a]||[]};this.historyClick=function(a){a=jQuery(a.currentTarget).data();
a.type&&(a=K[a.type][a.idx]||a);r.notify(a)};this.removeHistory=function(a){a.preventDefault();a.stopPropagation();a=jQuery(a.currentTarget).data();f(a);l()};this.clearRouteHistory=function(){k(x.ROUTE)};this.clearLayerHistory=function(){k(x.LAYER)};this.disableHistory=function(b,c){if(a()){b=!!b;if(!c)c=x.ALL;var d=Y+"disabled",e=E&&JSON.parse(localStorage.getItem(d));if(jQuery.isArray(e)){var f=e.indexOf(c);f!==-1&&e.splice(f,1);b&&e.push(c)}else e=[c];localStorage.setItem(d,JSON.stringify(e));
k(c);c==x.ALL&&(E=!b)}};this.getDisabled=b}));$c.prototype.updateLoginProfile=function(a){var b=jQuery(".tit_login"),c=jQuery("#btnProfile"),d=jQuery(".snb_map .xd").parent(),e=a.loginUrl?a.loginUrl:this.options.loginUrl;if(a.isLogin===1&&a.isMapUser===1){jQuery("body").addClass("LOGIN");b.hide();d.show();c.show();c.off();c.on("click",function(){if(this.layerProfileController.isShow())this.layerProfileController.hide();else{this.layerProfileController.show();p.click("profile","show_profile")}}.bind(this))}else if(a.isMapUser===
0){b.show();d.hide();c.hide();if(a.isLogin===1){b.find("a").text("\ud68c\uc6d0\uac00\uc785");b.find("a").attr("href",require("url").SIGNUP)}else if(a.isLogin===0){b.on("click",function(){p.click("login",["map","login"]);A.location.href=e+encodeURIComponent(A.location.origin)});b.find("a").text("\ub85c\uadf8\uc778")}}};$c.prototype.loadStory_=function(){jQuery("#info\\.main\\.notice\\.more").click(function(){p.click("left","notice_more")});jQuery("#info\\.main\\.notice\\.text1").click(function(){p.click("left",
"notice_1")});jQuery("#info\\.main\\.notice\\.text2").click(function(){p.click("left","notice_2")});jQuery("#info\\.main\\.notice\\.text3").click(function(){p.click("left","notice_3")})};$c.prototype.noticeRolling_=function(){var a=jQuery("#info\\.main\\.notice .noticeList > ul");setInterval(function(){var b=a.find("li").filter(":first"),c=b.height(),d=setInterval(function(){var e=parseInt(a.css("top"),10);a.css("top",--e);if(Math.abs(e)>c){a.append(b);a.css("top",0);clearInterval(d)}},50)},5E3)};
define("controller/HomeInfoController",["map/Map","options","controller/ProfileController","controller/LayerProfileController"],H($c));"use strict";define("controller/IndoorMapController",["map/Map","map/MapTypeControl","map/MapTileManager","controller/MapToolController"],H(function(a,b,c,d){var e,f,g,j,l;function m(a){daum.maps.event.addListener(a,"mousemove",function(){if(p)return false;!C&&!I&&a.setOptions(e)});daum.maps.event.addListener(a,"mouseout",function(){if(p)return false;!C&&!I&&a.setOptions(f)})}
function k(a){for(var b=[],c=[],d=new daum.maps.CoordsBounds,a=a.split(","),e,f,g=0;g<a.length;g=g+2){e=Number(a[g]);f=Number(a[g+1]);if(!isNaN(f)){c.push(e);c.push(f);e=new daum.maps.Coords(e,f);d.extend(e);b.push(e)}}return{shape:c,coords:b,bounds:d}}function h(b){var c=w||a.getLevel()>3||!a.isRoadmap(),b=!c&&!C&&b,d=g[a.getLevel()],e;I=false;for(var l in u)if(u.hasOwnProperty(l)){var k=u[l];if(c){I=true;e=j}else e=b?f:j;k.polygon.setOptions(e);k.polygon.setOptions({strokeWeight:d})}c&&s(false)}
function o(){var b=a.getBounds(),c=[],d,e;for(e in u)if(u.hasOwnProperty(e)){d=u[e];b.intersects(d.bounds)&&c.push(e)}return c}function r(a){var b;a:{if(a instanceof daum.maps.Coords){b=o();for(var c=a.getX(),a=a.getY(),d,e,f=0;d=b[f];f++){d=u[d];e=new Ya.Polygon(d.shape);if(e.isContain(c,a)){b=d;break a}}}b=false}return!!b}function x(){return Object.keys(u).length===0?true:o().length>0?true:false}function q(b){if(C){b=b||1;a.getLevel()<b?a.setLevel(b,{animate:{complete:function(){s(false)},duration:100}}):
s(false)}}function s(a){C=a;b.setIndoor(a)}l={fillColor:"#f0f6ff",strokeColor:"#7794b6",strokeStyle:"solid"};f={fillOpacity:0.5,strokeOpacity:0.7};e={fillOpacity:0.7,strokeOpacity:0.9};j={fillOpacity:1.0E-4,strokeOpacity:1.0E-4};g={1:2,2:1.5,3:1.5};var u={},w=false,C=false,p=false,I=false,R=this.onOver=new n;(function(){Object.keys(u).length===0?require("server").indoorPolygon(null,function(b){var b=b||new Wa,b=b.find("value"),c,d,e,f,j,s,o=g[a.getLevel()];jQuery(b).each(function(b,g){c=k(g.text("coords"));
j=c.coords;s=c.shape;if(g.text("hole")){d=k(g.text("hole"));s=s.concat(d.shape);j=[c.coords,d.coords]}e=new daum.maps.Polygon({map:a,path:j});e.setOptions(l);e.setOptions({strokeWeight:o});m(e);f="p"+g.text("objectid");u[f]={shape:s,polygon:e,bounds:c.bounds}});h(true)}):h(true)})();daum.maps.event.addListener(a,"maptypeid_changed",function(){a.isRoadmap()||s(false);C=b.isIndoorActive();h(!C)});daum.maps.event.addListener(a,"zoom_changed",function(){C&&!x()?q():h(!C);var b=a.getLevel(),b=g[b];if(!C&&
b)for(var c in u)u.hasOwnProperty(c)&&u[c].polygon.setOptions({strokeWeight:b})});daum.maps.event.addListener(a,"dragend",function(){x()||q()});c.onOverlay.add(function(a){if(a!=="indoor"&&a!=="roadview"){w=c.get("bicycle")||c.get("usedistrict")||c.get("bboundary")||c.get("hboundary")||c.get("air")||c.get("traffic")||c.get("terrain")?true:false;s(false);h(true)}});d.onClickTool.add(function(){p=true});d.onComplete.add(function(){p=false});this.checkPolygonAreaContainPoint=r;this.handleClick=function(a){var b=
false;if(p||I)return false;if(r(a)){b=true;Application.infoWindowManager.closeWithoutNotify();C||s(true)}else C&&q();return b};this.compareRange=function(a){var b=false,a=r(a);!C&&a&&(b=true);R.notify(b);return a||b}}));cc.prototype.changeActive_=function(){this.getActive()&&this.placeMarkers_[0]?this.show():this.clear()};cc.prototype.clear=function(){this.placeMarkers_.forEach(function(a){a.setMap(null)})};cc.prototype.show=function(){this.placeMarkers_.forEach(function(a){a.setMap(this.map_)}.bind(this))};
cc.prototype.loadIssuedMap_=function(){var a=this.model_;this.clear();h.$("info.issue.place.issueCnt").setText(a.places.length);h.$("info.issue").show();var b=new daum.maps.CoordsBounds,c=this.issuePlaceListView_;a.places.forEach(function(a,e){var f;f=c.addItem();f.setName(a.name);f.setCoords(a.coords);f.setImage(a.imgUrl);f.setDesc(a.desc);if(a.hasCoords()){var g=null,g=e<15?B.createAddress(a.coords):B.issuePlace(a.coords);g.setMap(this.map_);g.setPosition(a.coords);daum.maps.event.addListener(g,
"click",function(){this.infowindowManager_.createIssuedPlace(a,g)}.bind(this));this.placeMarkers_.push(g);b.extend(a.coords)}},this);this.map_.setBounds(b)};cc.prototype.setIssue=function(a){this.model_.setIssue(a)};cc.prototype.clickPlace_=function(a){this.placeMarkers_.at(this.placeMarkerIndex_[a])};cc.prototype.getIssueMode=function(){return this.getActive()&&this.placeMarkers_.at(0)};define("controller/IssueMapController",["map/Map","controller/WindowController","map/InfoWindowManager"],H(cc));
define("controller/KeywordBannerController",["controller/RoadviewController"],H(function(){function a(a){var b="pubtrans/intercity/timetable";a&&(b=b+"?type=island");A.open(b,"_blank","width=900,height=597,scrollbars=no,resizable=yes")}var b=jQuery("#info\\.searchHeader\\.banner");b.on("click",".link_search",function(){switch(d){case "bus":a(false);break;case "ferry":a(true)}});var c={bus:{type:"bus",name:"\uace0\uc18d/\uc2dc\uc678\ubc84\uc2a4 \uc608\ub9e4"},intercityBus:{type:"bus",name:"\uace0\uc18d/\uc2dc\uc678\ubc84\uc2a4 \uc608\ub9e4"},
ferry:{type:"ferry",name:"\uc5ec\uac1d\uc120 \uc608\ub9e4"},island:{type:"ferry",name:"\uc5ec\uac1d\uc120 \uc608\ub9e4"}},d="";this.show=function(a){if(a){var a=c[a],f='<a href="#none" class="link_search'+(a.type==="ferry"?" ferry":"")+'">'+a.name+'<span class="ico_arr"></span></a>';b.removeClass().addClass("keywordBanner").html(f).show();d=a.type}};this.hide=function(){b.removeClass().hide()}}));J.prototype.redrawAoiIfActive_=function(){if(this.getActive()){this.aoiController_.redrawLines();this.areaSearchController_.restoreFocus()}};
J.prototype.deselectMarkers_=function(){this.placeMarkers_.setMarkerActive(-1);this.busStopMarkers_.setMarkerActive(-1);this.addressMarker_.setZIndex(2)};J.prototype.selectSubAddress_=function(a){var b=a.address,c=this.addressMarker_;c.setPosition(b.coords);c.setZIndex(5);c.setMap(null);c.id=b.id;this.deselectMarkers_();this.clickListView(this.model_.addresses.indexOf(b),"ADDRESS");this.activeItem_=b;this.relatedAddressMarker_.setMap(this.map_);this.relatedAddressMarker_.setPosition(a.coords);this.map_.panTo(a.coords);
this.infoWindowManager_.close();var d=new Ma;jQuery.extend(d,a.address);b=a.model;d.infowindowSubAddress=b;if(d.subBuildingList&&d.subBuildingList.length)d.infowindowSubBuilding=d.subBuildingList[a.index];if(d.relatedZipcode)d.zipcode=d.relatedZipcode[a.index]||d.zipcode;if(d.relatedZonenum)d.zonenum=d.relatedZonenum[a.index]||d.zonenum;d.coords=new daum.maps.Coords(b.x,b.y);d.id="id_"+b.x+b.y+d.regionId;this.infoWindowManager_.createAddress(d,this.relatedAddressMarker_,a.address);this.areaSearchController_.clearMap();
this.areaSearchController_.clearMapEvent();if(a.model.type=="old"){a=function(){this.areaSearchController_.focus(d.id);this.areaSearchController_.renderById(d.id,true)}.bind(this);if(this.areaSearchController_.getAreaSearch(d.id))a();else{this.areaSearchController_.fetch(d);this.areaSearchController_.callAfterLoad(d.id,a)}}};J.prototype.onSubAddressMarkerClick_=function(){};J.prototype.onSubAddressItemClick_=function(a){this.onSubAddressMarkerClick_=this.selectSubAddress_.bind(this,a);this.selectSubAddress_(a)};
J.prototype.onPlaceMarkerClick=function(a,b){this.clickPlaceMarker_(a);this.miniTooltipManager_.close();jQuery("body").hasClass("collapse")||b&&b.getPane().bringin();b&&b.dssClickHandler("marker_place")};J.prototype.onPlaceMarkerOver=function(a,b){a&&a.setHover(true);if(b.pointExtension){b.aoiCoords=this.aoiController_.getMarkerPosition(b.id)||b.coords;this.showMiniTooltip_(b,Ea.AOILINE);this.aoiController_.highlight(b.id)}else if(this.activeItem_!=b){this.showMiniTooltip_(b,Ea.PLACE);this.aoiController_.highlight(b.id)}this.areaSearchController_.blurAll(true)};
J.prototype.onPlaceMarkerOut=function(a){a&&a.setHover(false);this.miniTooltipManager_.close();this.aoiController_.redrawLines();this.areaSearchController_.restoreFocus()};J.prototype.setTransMapTypeLog=function(a){this.trans_map_type=a;this.result_click="Y";this.result_click_sq=this.model_.getKeyword()};J.prototype.submit_=function(){z.updateQIndex();this.whatsHereController_.clearCache();var a=this.queryPanel_.val();p.click("navi","menu_map_search",{param1:a});p.click("left_info",[jQuery("body").hasClass("collapse")?
"close":"open","search"]);if(a=="")alert("\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694.");else{h.$("info.main").show();this.infoWindowManager_.close();this.mainMapController.tileClear();this.themeMapController_.setActive(false);this.bounds_||z.log("search_q_type",a,{typeid:"window"});this.queryBtn_.blur();this.queryPanel_.blur();this.suggestInstance_.hide();this.bounds_?this.model_.setBounds(this.map_.getBounds()):this.model_.setBounds(null);this.model_.setFilterId(void 0);this.setActive(true);
this.setKeyword(a);Application.favoriteController.reset();Application.roadviewController.close();Application.roadviewController.removeLastMarker()}};J.prototype.getKeyword=function(){return this.model_.loaded?this.model_.getKeyword():""};J.prototype.getThemeId=function(){return this.model_.themeId};J.prototype.setKeywordParams=function(a){this.model_.setKeywordParams(a)};J.prototype.setKeyword=function(a,b){this.windowController_.setCollapse(false);this.model_.setKeyword(a,false,b)};J.prototype.setWhatsHereKeyword=
function(a){if(this.themeMapController_.getActive()){this.themeMapController_.setActive(false);this.changeActive_()}z.log("search_q_type",a.name,{typeid:"here"});this.bounds_=false;this.setTrackBounds(false);this.model_.setWhatsHereKeyword(a)};J.prototype.setPage=function(a){if(this.model_.isBusTabMODE()){this.busRegion?this.model_.setBusRegionId(this.busRegion.id):this.model_.setBusRegionId(null);this.busType?this.model_.setBusTypeId(this.busType.id):this.model_.setBusTypeId(null)}this.model_.setPage(a)};
J.prototype.changePlaceSortOption_=function(){z.log("search_q_type",this.model_.getKeyword(),{typeid:"option",tab:this.model_.isPlaceMode()?"place":"all",sorttype:this.placeSortOptions_.getOption()});this.model_.setSort(this.placeSortOptions_.getOption());this.model_.isThemeMode()?this.model_.setPage(1):this.model_.setPlaceMode()};J.prototype.findAll=function(){this.model_.setAllMode();this.infoHeaderView_.setOption(0)};J.prototype.findPlaces=function(){if(this.singleViewMode_){this.model_.setPlaceMode(true);
this.model_.setPage(2)}else this.model_.setPlaceMode();this.infoHeaderView_.setOption(1)};J.prototype.findAddresses=function(){if(this.singleViewMode_){this.model_.setAddressMode(true);this.model_.setPage(2)}else this.model_.setAddressMode();this.infoHeaderView_.setOption(2)};J.prototype.findBuses=function(){this.aoiController_.clear();this.busType=this.busRegion=null;if(this.singleViewMode_){this.model_.setBusMode(true);this.model_.setPage(2)}else this.model_.setBusMode();this.infoHeaderView_.setOption(3)};
J.prototype.findBusStops=function(){this.aoiController_.clear();this.busType=this.busRegion=null;if(this.singleViewMode_){this.model_.setBusStopMode(true);this.model_.setPage(2)}else this.model_.setBusStopMode();this.infoHeaderView_.setOption(4)};J.prototype.findSurround=function(){this.setTrackBounds(false);this.model_.setBounds(this.map_.getBounds());this.model_.setThemeId(12,null,"\uc8fc\ubcc0\uc815\ubcf4")};J.prototype.clickListView=function(a,b){this.infoWindowManager_.close();this.hideBusLine_();
this.placeListView_.setIndex(-1);this.busstopsListView_.setIndex(-1);this.addressListView_.setIndex(-1);var c=null;if(a!=null){switch(b){case "ADDRESS":c=this.addressListView_;break;case "PLACE":c=this.placeListView_;break;case "BUSSTOP":c=this.busstopsListView_}c.setIndex(a)}};J.prototype.clickPlace_=function(a,b){console.assert(a>=0);var c=this.placeMarkerIndex_[a],d=this.activeItem_=this.model_.places[a];this.setMarkerActive_(this.placeMarkers_,c);this.miniTooltipManager_.close();this.landmarkMarkers_.clear();
p.click("mapsearch","place_name");this.clickListView(a,"PLACE");this.areaSearchController_.clearMap();this.areaSearchController_.clearMapEvent();if(d.pointExtension){if(this.aoiController_.getAoi(d.id)){var e=this.aoiController_.getCoordsBounds(d.id);e&&!this.model_.hasBounds()&&this.map_.setBounds(e);this.aoiController_.clickListItem(d.id)}else{this.renderAllAoi_();this.aoiController_.callAfterLoad(function(){var a=this.aoiController_.getCoordsBounds(d.id);a&&!this.model_.hasBounds()&&this.map_.setBounds(a);
this.aoiController_.clickListItem.bind(this.aoiController_,d.id)}.bind(this))}this.aoiController_.setMapEvent()}else{this.areaSearchController_.blurAll();this.aoiController_.clickListItem(d.id)}c=this.placeMarkers_.at(c);this.showMediumTooltip_(d,c,b);c=function(){this.areaSearchController_.focus(d.id);if(!this.areaSearchController_.renderById(d.id)){this.map_.setLevel(3);this.map_.setCenter(d.coords)}}.bind(this);d.hasArea?this.areaSearchController_.getAreaSearch(d.id)?c():this.areaSearchController_.callAfterLoad(d.id,
c):this.areaSearchController_.clearMapEvent()};J.prototype.showMediumTooltip_=function(a,b,c){if(a){if(!a.pointExtension&&!this.model_.hasBounds()){this.map_.setLevel(c?c:3);this.map_.setCenter(a.coords)}setTimeout(function(){this.infoWindowManager_.createPlaceWithMedium(a,b,true,"search").onClose.add(function(){this.activeItem_=null},this)}.bind(this),100)}};J.prototype.showRoadview_=function(a){this.roadviewController_.setViewpointWithMarker(a.roadview,a,a.roadview.pan,a.roadview.tilt,0,this.model_.isThemeMode())};
J.prototype.showStoreview=function(a){this.roadviewController_.showStoreView(a.storeview,0,null,this.model_.isThemeMode())};J.prototype.clickPlaceMarker_=function(a){console.assert(a>=0);this.clickListView(a,"PLACE");var b=this.activeItem_=this.model_.places[a],a=this.placeMarkerIndex_[a];this.setMarkerActive_(this.placeMarkers_,a);a=this.placeMarkers_.at(a);this.showPlaceInfowindow_(b,a);this.areaSearchController_.clearMap();this.areaSearchController_.clearMapEvent();if(b.pointExtension&&!this.aoiController_.getAoi(b.id)){this.renderAllAoi_();
this.aoiController_.callAfterLoad(this.aoiController_.clickMarker.bind(this.aoiController_,b.id))}else b.hasArea&&this.areaSearchController_.getAreaSearch(b.id)?this.areaSearchController_.renderById(b.id):this.aoiController_.clickMarker(b.id)};J.prototype.onAoiMousedown_=function(a){if(a.model instanceof gc)this.clickPlaceMarker_(a.index);else if(a.model instanceof Ma){var b=this.activeItem_=this.model_.addresses[a.index];this.deselectMarkers_();this.clickListView(a.index,"ADDRESS");a=this.addressMarker_;
a.setMap(this.map_);b.lineData&&this.aoiController_.clickAddressItem(b,true);this.infoWindowManager_.createAddressWithNoPan(b,a);this.relatedAddressMarker_.setMap(null)}};J.prototype.showPlaceInfowindow_=function(a,b){a.hasCoords()?b?this.infoWindowManager_.createPlace(a,b,"search").onClose.add(function(){this.activeItem_=null},this):this.infoWindowManager_.createPlace(a):ob(a.getDaumPlaceUrl())};J.prototype.clickBusStops_=function(a,b){console.assert(a>=0);p.click("mapsearch","busstop");this.clickListView(a,
"BUSSTOP");var c=this.activeItem_=this.model_.busStops[a],d=this.busStopMarkers_.at(a);this.setMarkerActive_(this.busStopMarkers_,a);ga.find(c.id,function(a){if(a){this.roadviewController_.close();if(!b&&!this.model_.getBounds()&&!this.model_.whatsHere){this.map_.setLevel(3);this.map_.setCenter(a.coords)}this.infoWindowManager_.createBusStop(a,null,null,d)}},this);this.areaSearchController_.clearMap();this.areaSearchController_.clearMapEvent()};J.prototype.clickAddress_=function(a){console.assert(a>=
0);this.deselectMarkers_();this.landmarkMarkers_.clear();this.clickListView(a,"ADDRESS");var b=this.activeItem_=this.model_.addresses[a];b.bhtype&&b.bhtype.search("B")>-1?this.localInfoController_.setRegionCodeType("B"):this.localInfoController_.setRegionCodeType("H");var c=function(){this.areaSearchController_.focus(b.id);if(!this.areaSearchController_.renderById(b.id,!!this.oneTimeCoords)&&this.oneTimeCoords===null){this.map_.setLevel(3);this.map_.setCenter(b.coords)}this.oneTimeCoords=null}.bind(this),
d=this.addressMarker_;d.setImage(new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2018/pc/img/marker_spot.png",new daum.maps.Size(36,50),new daum.maps.Point(18,50)));d.setMap(this.map_);d.setPosition(b.coords);d.setZIndex(5);d.id=b.id;var e=this.addressListView_.getItemViews();d.item=e[a];this.aoiController_.clear();this.aoiController_.removeMapEvent();if(this.oneTimeCoords){level=this.oneTimeCoords.urlLevel;coords=new daum.maps.Coords(this.oneTimeCoords.urlX,this.oneTimeCoords.urlY);
this.map_.setLevel(level);this.map_.setCenter(coords)}else if(b.lineData)this.aoiController_.clickAddressItem(b);else if(!this.model_.getBounds()&&!this.model_.whatsHere){this.map_.setLevel(3);this.map_.setCenter(b.coords)}p.click("mapsearch","address");this.clickAddressMarker_=function(a){this.infoWindowManager_.createAddress(b,d,null,a,"search")}.bind(this);this.clickAddressMarker_(b.maybeAreaSearch);this.relatedAddressMarker_.setMap(null);this.areaSearchController_.clearMap();if(b.maybeAreaSearch)this.areaSearchController_.getAreaSearch(b.id)?
c():this.areaSearchController_.callAfterLoad(b.id,c);else{this.areaSearchController_.clearMapEvent();this.oneTimeCoords=null}};J.prototype.clickAddressMarker_=null;J.prototype.changeActive_=function(){if(this.getActive()){h.$("info.main").show();h.$("search.keyword").setVisible(true);if(!this.themeMapController_.getActive()){this._viewLayout.setMapOnly();this.map_.setKeyboardShortcuts(true)}if(this.model_.loaded&&!this.model_.coordinates){this.frontViews_.hide();this.map_.relayout();if((this.model_.isAllMode()||
this.model_.isAddressMode())&&!this.model_.target){var a=this.addressMarker_.getPosition();a&&(a.getX()&&a.getY())&&this.addressMarker_.setMap(this.map_)}this.placeMarkers_.show();this.busStopMarkers_.show();this.infoHeaderView_.show()}else{this.frontViews_.show();this.windowController_.showInfoAndTop();if(this.themeMapController_.getActive()){h.$("info.main").hide();this.themeMapController_.show()}else{this.themeMapController_.hide();(!this.queryPanel_.val()||this.model_.coordinates)&&this.model_.coordinates&&
this.addressMarker_.setMap(this.map_)}}h.$("info").scrollTo(0);this.issueMapController.setActive(true);this.mainMapController.showKeywordTile();this.itemIdMarker&&this.itemIdMarker.setMap(this.map_)}else{this.frontViews_.hide();this.infoHeaderView_.hide();this.addressMarker_.setMap(null);this.relatedAddressMarker_.setMap(null);this.placeMarkers_.hide();this.busStopMarkers_.hide();this.landmarkMarkers_.hide();this.issueMapController.setActive(false);this.mainMapController.hideKeywordTile();this.hideBusLine_();
this.themeMapController_.hide();this.itemIdMarker&&this.itemIdMarker.setMap(null)}jQuery("#titleSystemTooltip").hide();this.infoWindowManager_.close();this.windowController_.updateHeight()};J.prototype.hide=function(){this.addressMarker_.setMap(null);this.relatedAddressMarker_.setMap(null);this.placeMarkers_.hide();this.busStopMarkers_.hide();this.landmarkMarkers_.hide();this.mainMapController.hideKeywordTile()};J.prototype.hideBusLine_=function(){this.busItemController_&&this.busItemController_.hide();
this.busLineController_.setActive(false)};J.prototype.getActiveBoundsButton=function(){return this.bounds_&&this.boundsButton_.getActive()};J.prototype.toggleBounds_=function(){p.click("navi","navi_menu_map_inmapsearch");p.click("left_info",[jQuery("body").hasClass("collapse")?"close":"open","inmapsearch"]);this.setTrackBounds(this.bounds_=!this.bounds_)};J.prototype.setTrackBounds=function(a){this.boundsButton_.setActive(a);this.boundscheck.attr("checked",a);if(a){a=this.queryPanel_.val();this.model_.setBounds(this.map_.getBounds());
this.bounds_=true;if(a){if(this.themeMapController_.getActive()){this.themeMapController_.setActive(false);this.changeActive_()}this.setActive(true);this.setKeyword(a)}this.infoWindowManager_.close()}else this.model_.setBounds(null)};J.prototype.refresh_=function(){if((this.model_.isThemeMode()||this.bounds_&&this.model_.getKeyword()&&this.model_.hasBounds())&&!Application.roadviewController.getActive()&&this.getActive()&&!this.map_.getBounds().equals(this.model_.getBounds())){this.model_.setBounds(this.map_.getBounds(),
true);this.model_.setPage(1)}};J.prototype.findLiterally=function(){this.model_.setLiteral(true)};J.prototype.findSnSelected=function(a){this.model_.setSnSelected(true,a)};J.prototype.findSubKeyword_=function(a){this.setKeyword(a)};J.prototype.loadMessage_=function(){var a=this.model_,b=a.trans_map_type=="RESULT_EMPTY_REDIRECT";h.$("info.search.correction").hide();if(a.originalKeyword){var c=a.getKeyword();if(a.guideMessage&&a.guideMessage.length){var d=a.guideMessage[0],e=d.region||"";e&&d.bunji&&
(e=e+(" "+d.bunji));switch(d.type){case "global":case "user_location":c=d.keyword;break;case "location_only":c=e;break;case "located_query":case "near_by_query":case "located_branch":c=e+" \uc8fc\ubcc0 "+d.keyword}}d="'"+a.originalKeyword+"' \uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc5b4 '"+c+"'(\uc73c)\ub85c \uac80\uc0c9\ud588\uc2b5\ub2c8\ub2e4.";h.$("info.search.correction.error").setText(d);if(b){h.$("info.search.correction")._pane.find(".desc_search").html("<em>"+c+"</em> \uac80\uc0c9\uacb0\uacfc");
h.$("info.search.correction.error").show()}else{h.$("info.search.correction")._pane.find(".desc_search").html("<em>"+a.originalKeyword+"</em>\uc5d0\uc11c <em>"+c+"</em>\uc73c\ub85c \uac80\uc0c9\ud55c \uacb0\uacfc");h.$("info.search.correction.error").hide()}h.$("info.search.correction.orig2").setText(a.originalKeyword);h.$("info.search.correction.goorig").show();h.$("info.searchHeader").show();h.$("info.search.correction").show()}b=h.$("info.searchHeader.message");b.show();if(a.homonyms[0]||a.guideMessage&&
a.guideMessage.length){this.messageView.setVisible(true);this.busMessageView.setVisible(false);this.messageView.setSubNumber(a.sn_query);this.messageView.setBound(a.retry);this.messageView.setGuideData(a.guideMessage,a.homonyms,a.hasBounds(),a.premiumKeyword);b.addChild(this.messageView.getPane());h.$("info.main.options").removeClass("noUnderline")}else b.hide();if(a.hasBounds()){a.guideMessage&&a.guideMessage.length&&this.messageView.hideTitle();h.$("info.searchHeader").show();h.$("info.search.boundsTitle").show();
h.$("info.search.boundsTitle.text").setText(a.getKeyword());h.$("info.search.correction")._pane.find(".desc_search").hide()}else{h.$("info.search.boundsTitle").hide();h.$("info.search.correction")._pane.find(".desc_search").show()}a.trans_map_type&&!this.bounds_&&this.messageView.hideTitle();h.$("info.searchHeader.spellcheck").hasClass("HIDDEN")||h.$("info.searchHeader").show()};J.prototype.loadBusMessage_=function(){var a=this.model_;this.busMessageView.setVisible(true);this.messageView.setVisible(false);
h.$("info.searchHeader").show();var b=h.$("info.searchHeader.message");b.show();this.busMessageView.setData(a.originalKeyword,a.currentGuide,a.nextGuide);b.addChild(this.busMessageView.getPane())};J.prototype.setOption_=function(a){Application.roadviewController.close();h.$("info.search").hide();h.$("info.noPlace").hide();p.click("mapsearch","flag"+a,{param1:this.model_.getKeyword()});this.model_.setSort(0);this.model_.setBusRegionId(null);this.model_.setBusTypeId(null);this.singleViewMode_=this.reviewTabMode_=
false;switch(a){case 0:this.findAll();break;case 1:this.findPlaces();z.logSearchIn("place_tab");break;case 2:this.findAddresses();z.logSearchIn("address_tab");break;case 3:this.findBuses();z.logSearchIn("bus_tab");break;case 4:this.findBusStops();z.logSearchIn("busstop_tab");break;default:console.assert(false)}};J.prototype.setTabActive_=function(a){switch(a){case "route":Application.flagSearchController.setActive(true);break;case "bus":Application.busSearchController.setActive(true);break;case "subway":Application.subwaySearchController.setActive(true)}};
J.prototype.hasAoi_=function(a,b){for(var c=false,d=0;d<b;d++)if(a[d].pointExtension||a[d].lineData){c=true;break}return c};J.prototype.renderAllAoi_=function(){for(var a=this.model_.isAllMode()?Math.min(5,this.model_.places.length):this.model_.places.length,b,c=0;c<a;c++){b=this.model_.places[c];b.pointExtension&&this.aoiController_.find(b.id)}};J.prototype.checkBusKeyword=function(){var a=this.getKeyword().trim(),a=a.replace(/[-\ubc88]/g,"");return/^[0-9]+$/.test(a)};J.prototype.load_=function(){if(this.getActive()){var a=
this.model_;this.firstPlaces=this.model_.places;h.$("info.body").scrollTo(0);this.frontViews_.hide();this.addressMarker_&&this.addressMarker_.setPosition(new daum.maps.Coords(0,0));if(a.hasBounds()){a.addresses.length=0;a.addressCount=0;a.busesCount=0;a.buses.length=0;a.busStops.length=0;a.busStopCount=0}var b=a.getMode()==y.ALL;this.singleViewMode_=false;this.singleViewType_=null;if(a.isAllMode()){var c=0,d=["places","addresses","buses","busStops"],e=[false,false,false,false],f=0;d.forEach(function(b,
d){if(a[b].length>0){c++;f=d;e[d]=true}});if(c==1){this.singleViewMode_=true;this.singleViewType_=d[f]}else if(c==2&&e[2]&&e[3]){this.singleViewMode_=true;this.singleViewType_=a.busRecommend=="busname"?"buses":"busStops"}}if(a.isAllMode()&&!this.singleViewMode_){a.places.splice(5,15);a.addresses.splice(3,15);a.buses.splice(3,15);a.busStops.splice(3,15)}a.isPlaceMode()&&a.places.length>0?h.$("info.addNewPlace").setClass("info_addplace2",a.pageCount/this.PAGE_SIZE<1).show():h.$("info.addNewPlace").hide();
var d=this.getKeyword(),g=d.indexOf("\uc6b0\ud3b8\ubc88\ud638")!=-1;if(g){this.postCodeMessageKeyword=d.replace(/\uc6b0\ud3b8\ubc88\ud638/g,"").trim();h.$("info.searchHeader").show();this.postCodeMessage.show()}else this.postCodeMessage.hide();this.aoiController_.clear();this.aoiController_.setMapEvent();this.areaSearchController_.clearMap();this.areaSearchController_.clearMapEvent();this.resetSwap_();this.themeMapSearchController_.reset();this.onSearchLoad.notify();this.windowController_.updateHeight();
this.miniTooltipManager_.close();var j=this.hasAoi_(a.places,a.isAllMode()?Math.min(a.places.length,5):a.places.length)||this.hasAoi_(a.addresses,a.addresses.length),l=false;this.bounds_||this.infoWindowManager_.close();this.infoHeaderView_.show();d="";if(a.isAllMode()){this.infoHeaderView_.setOption(0);d="all"}else if(a.isPlaceMode()){this.infoHeaderView_.setOption(1);d="place"}else if(a.isAddressMode()){this.infoHeaderView_.setOption(2);d="address"}else if(a.isBusesMODE()){this.infoHeaderView_.setOption(3);
d="bus"}else if(a.isBusstopsMODE()){this.infoHeaderView_.setOption(4);d="busstop"}d={tab:d};if((a.isAllMode()||a.isPlaceMode())&&a.getCidx()!=null)d.cidx=a.getCidx();if(a.isBusTabMODE()){if(a.getQaType())d.qatype=a.getQaType();if(a.getBusRegionId())d.regionid=a.getBusRegionId();if(a.getBusTypeId())d.bustypeid=a.getBusTypeId()}d.mkey=+new Date+"_"+Math.ceil(Math.random()*32767);d.in_map=a.hasBounds()?1:0;if(a.category_){b=a.getMode()==y.ALL;d.cateid=a.category_;d.catedepth=a.categoryDepth_}d.sorttype=
a.sort||0;d.analysis=a.analysis;if(a.dssSrcId)d.srcid=a.dssSrcId;h.$("info.search").show();jQuery("#titleSystemTooltip").hide();this.addressMarker_.setMap(null);this.relatedAddressMarker_.setMap(null);this.placeMarkers_.clear();this.busStopMarkers_.clear();this.landmarkMarkers_.clear();this.issueMapController.clear();h.$("search.keyword").show();this.queryPanel_.val(a.getKeyword());var m=this.spellcheckView_;if(a.spellCandidate[0]){this.bounds_?h.$("info.searchHeader.spellcheck.titleresult").hide():
h.$("info.searchHeader.spellcheck.titleresult").show();h.$("info.searchHeader.spellcheck.title").setText(a.getKeyword());m.showCandidate(a.spellCandidate[0])}else m.hide();a.isBusTabMODE()?a.hasBounds()||this.loadBusMessage_():this.loadMessage_();this.relatedKeywordController_.hide();this.relatedKeywordController_.render(a);var k=new daum.maps.CoordsBounds,v=new daum.maps.CoordsBounds,o=new daum.maps.CoordsBounds;this.loadPlaceCategories_();var m=jQuery("#info\\.search\\.buses"),r=jQuery("#info\\.search\\.busstops");
this.busItemController_&&this.busItemController_.hide();this.busItemController_=null;this.busLineController_.setActive(false);var n=this.busesListView_;n.clear();var q=this.busstopsListView_;q.clear();if(a.busRecommend=="busname"){a.busRecommendTop?m.insertBefore(jQuery("#info\\.search\\.address")):m.insertAfter(jQuery("#info\\.search\\.place"));var s=jQuery.extend({},d,{cpg:a.page+","+a.buses.length});h.$("info.search.buses.cnt").setText(String.formatNumber(a.busesCount));a.buses.forEach(function(a,
b){var c=n.addItem();c.setSeq(b);c.setDssBusObj(s);c.setTiaraObj({isBusTab:this.model_.isBusesMODE()});c.onClick.add(function(){p.click("mapsearch","bus");this.landmarkMarkers_.clear();this.createLandmark_(a.landmarks);this.deselectMarkers_();this.clickListView(null);this.areaSearchController_.clearMap();this.areaSearchController_.clearMapEvent();this.busLineController_.setData(a.id,true);this.busItemController_&&this.busItemController_.hide();var b=new Vb(a.id,c);this.busItemController_=b;b.activate()},
this);c.setData(a)},this);n.setCount(a.buses.length,a.isAllMode()?a.busesCount:0);this.model_.isBusesMODE()&&(a.busRegions.length>2||a.busTypes.length>2)&&n.setVisible(true,false)}else n.setCount(0);if(a.busRecommend=="busstop"){a.busRecommendTop?r.insertBefore(jQuery("#info\\.search\\.address")):r.insertAfter(jQuery("#info\\.search\\.place"));var u=jQuery.extend({},d,{cpg:a.page+","+a.busStops.length});h.$("info.search.busstops.cnt").setText(String.formatNumber(a.busStopCount));a.busStops.forEach(function(a,
b){var c=q.addItem();c.setData(a);c.setIcon(b);c.setDssBusStopObj(u);c.setTiaraObj({isBusStopTab:this.model_.isBusstopsMODE()});var d=B.createBusStop(b+1,a.coords);if(a){d.onClick.add(function(){this.miniTooltipManager_.close();c&&c.getPane().bringin();this.clickBusStops_(b,true);this.areaSearchController_.clearMap();this.areaSearchController_.clearMapEvent();c.sendDssLog("marker_busstop")},this);d.onOver.add(function(){c&&c.setHover(true);this.activeItem_!=a&&this.showMiniTooltip_(a,Ea.BUSSTOP);
this.aoiController_.dimAll();this.areaSearchController_.blurAll(true)},this);d.onOut.add(function(){c&&c.setHover(false);this.activeItem_!=a&&this.miniTooltipManager_.close();this.aoiController_.redrawLines();this.areaSearchController_.restoreFocus()},this)}if(c){c.onClick.add(this.clickBusStops_,this);c.onOver.add(function(){this.setMarkerHover_(this.busStopMarkers_,b,true);this.activeItem_!=a&&this.showMiniTooltip_(a,Ea.BUSSTOP);this.areaSearchController_.blurAll(true)},this);c.onOut.add(function(){this.setMarkerHover_(this.busStopMarkers_,
b,false);this.miniTooltipManager_.close()},this)}c.onFlagClick.add(function(b){this.onFlagClick.notify({type:b,item:a})},this);this.busStopMarkers_.add(d);v.extend(a.coords)},this);q.setCount(a.busStops.length,a.isAllMode()?a.busStopCount:0);this.model_.isBusstopsMODE()&&(a.busRegions.length>2||a.busTypes.length>2)&&q.setVisible(true,false)}else q.setCount(0);m=h.$("info.search.buses.regions").removeAllChildren();r=h.$("info.search.busstops.regions").removeAllChildren();m=a.busRecommend=="busname"?
m:r;r=["BUS-REGION","BUS-TYPE"];if(a.busTypes.length>2){var w=a.busTypes.map(function(a){return a.name}),C=new hd(w),w=this.busType?this.busType.name:w[0];C.setLabel(w);w=C.getPane();w.addClass("BusFilterSelectBoxView-"+r.pop());m.addChild(w);C.onSelect.add(function(b){this.busType=b==0?null:a.busTypes[b];z.log("search_q_type",a.getKeyword(),{typeid:"filter",tab:this.model_.isBusesMODE()?"busname":"busstop",regionid:this.busRegion?this.busRegion.id:"",bustypeid:this.busType?this.busType.id:""});this.model_.setRepeatFlag(true);
this.setPage(1)},this)}else this.busType=null;if(a.busRegions.length>2){w=a.busRegions.map(function(a){return a.name});C=new hd(w);w=this.busRegion?this.busRegion.name:w[0];C.setLabel(w);w=C.getPane();w.addClass("BusFilterSelectBoxView-"+r.pop());m.addChild(w);C.onSelect.add(function(b){this.busRegion=b==0?null:a.busRegions[b];z.log("search_q_type",a.getKeyword(),{typeid:"filter",tab:this.model_.isBusesMODE()?"busname":"busstop",regionid:this.busRegion?this.busRegion.id:"",bustypeid:this.busType?
this.busType.id:""});this.model_.setRepeatFlag(true);this.setPage(1)},this)}else this.busRegion=null;m.addChild(new h("span","bar_area"));var O=this.addressListView_;h.$("info.search.address.cnt").setText(String.formatNumber(a.addressCount));m=jQuery("#info\\.search\\.address\\.retry");a.addressRetry?m.show():m.hide();O.clear();var I=jQuery.extend({},d,{cpg:a.page+","+a.addresses.length});a.addresses.forEach(function(b,c){var d=O.addItem();if(b.maybeAreaSearch&&this.drawPolygon){l=true;this.areaSearchController_.fetch(b)}d.setData(b,
a.inferredKeyword);d.setSeq(c);d.setDssAddressObj(I);d.setTiaraObj({isAddressTab:this.model_.isAddressMode()});d.onFlagClick.add(function(a){this.onFlagClick.notify({type:a,item:b})},this);b.lineData?this.aoiController_.registerSearchResult({model:b,index:c}):d.onOver.add(function(){this.aoiController_.highlight(-1)},this);d.onOver.add(function(){this.areaSearchController_.blurAll(true);this.areaSearchController_.focus(b.id,true)},this);d.onOut.add(function(){this.areaSearchController_.restoreFocus()},
this)},this);O.setCount(a.addresses.length,a.isAllMode()?a.addressCount:0);a.isThemeMode()?a.themeId==7?this.placeSortOptions_.setOptions([{name:"\ud718\ubc1c\uc720 \ucd5c\uc800\uac00\uc21c",value:20},{name:"\uacbd\uc720 \ucd5c\uc800\uac00\uc21c",value:22},{name:"LPG \ucd5c\uc800\uac00\uc21c",value:23}]):this.placeSortOptions_.setOptions([]):a.sortType=="gas"?a.gasType=="lpg"?this.placeSortOptions_.setOptions([{name:"\uac70\ub9ac\uc21c",value:0},{name:"LPG \ucd5c\uc800\uac00\uc21c",value:23}]):this.placeSortOptions_.setOptions([{name:"\uac70\ub9ac\uc21c",
value:0},{name:"\ucd5c\uc800\uac00\uc21c",list:[{name:"\ud718\ubc1c\uc720",value:20},{name:"\uace0\uae09\ud718\ubc1c\uc720",value:21},{name:"\uacbd\uc720",value:22}]}]):this.placeSortOptions_.setOptions([{name:"\uc815\ud655\ub3c4\uc21c",value:0},{name:"\uc778\uae30\ub3c4\uc21c",value:1}]);this.placeSortOptions_.setOption(a.sort);O=this.placeListView_;h.$("info.search.place.cnt").setText(String.formatNumber(a.placeCount));O.clear();var R=[],t=[];this.bannerController_.hide();var G=false,E=[],K=[],
m=a.places.length;a.hasMapPlus&&m--;var Z=jQuery.extend({},d,{cpg:a.page+","+m});a.places.forEach(function(b,c){var d;if(!G&&b.intercity){this.bannerController_.show(b.intercity);G=true;h.$("info.searchHeader").show()}if(b.level==2){d=new qd;var e=jQuery.extend(b.mapPlusData,{q:a.getKeyword()});d.setMapPlus(e);O.addItem(d)}else{d=O.addItem();K.push(b.id);o.extend(b.coords);d.setSeq(a.hasMapPlus?c-1:c);d.setKeyword(this.model_.getKeyword());d.setDssPlaceObj(Z);d.setTiaraObj({isPlaceTab:this.model_.isPlaceMode(),
isSubway:!!b.subway});d.setImage(b.level,b.imgsrc);if(b.pointExtension){d.setAoiIcon(b.level,b.index);d.setCategory(null);d.setAddress(null)}else{d.setIcon(b.level,b.index);d.setCategory(b.placeCategory);d.setAddress(b.address,b.newAddress);d.setPhone(b.phone[0])}d.setCourseinfo(b.courseinfo);d.setCoords(b.coords);d.setOutLink(b);d.setRoadview(b.roadview,b.coords);d.setStoreview(b.storeview);d.setGas(b.gas);setTimeout(function(){d.setFavorite(b)},200);d.setDupData(b.dup_data);d.setTVShowInfo(b.tvshow_info);
d.setIntercity(b.intercity,b.intercityId,b.name);d.setRealEstates(b.realEstates);d.onFlagClick.add(function(a){this.onFlagClick.notify({type:a,item:b})},this);b.level==3&&d.setExactData(b.website);b.gas||d.setScoreReviewCheckin(b.grade,b.vote,b.review);d.setName(b.name,a.inferredKeyword);b.level>0&&(b.level<3&&b.noAdReview)&&d.noAdReview();b.placeCategory&&b.placeCategory.id&&d.onCategory.add(function(){z.log("search_q_type",this.model_.getKeyword(),{typeid:"category",tab:this.model_.isPlaceMode()?
"place":"all",cateid:b.placeCategory.id});this.mainMapController.tileClear();a.setCategory(b.placeCategory)},this);if(b.hasArea){l=true;this.areaSearchController_.fetch(b)}d.onRoadViewWithCourse.add(function(){},this);d.onRoadview.add(function(){this.clickListView(c,"PLACE")},this);d.onDupDataClick.add(function(a){this.setMarkerActive_(null);this.clickListView(null);qa.findPlace(a,this.showMediumTooltip_,this)},this);if(b.hasCoords()){if(b.pointExtension){e=b.index==0?B.createExactPlace(b.coords):
B.createLinecourse(b.index,b.coords);this.aoiController_.registerSearchResult({model:b,index:c,marker:e});E.push(b)}else e=b.level==3?B.createExactPlace(b.coords):b.level==2?null:b.level==1?B.createPremiumPlace(b.index,b.coords):B.createPlace(b.index,b.coords);A.__daumEVENT2&&(b.name&&b.name.indexOf("\uc5b4\ubca4\uc838\uc2a4")!=-1)&&e.setAvengersEvent();e.onClick.add(this.onPlaceMarkerClick.bind(this,c,d));e.onOver.add(this.onPlaceMarkerOver.bind(this,d,b));e.onOut.add(this.onPlaceMarkerOut.bind(this,
d));R[c]=t.length;t.push(e);if(d){b.pointExtension?d.onOver.add(function(){this.setMarkerHover_(this.placeMarkers_,this.placeMarkerIndex_[c],true);if(this.activeItem_!=b){if(b.pointExtension){b.aoiCoords=this.aoiController_.getMarkerPosition(b.id)||b.coords;this.showMiniTooltip_(b,Ea.AOILINE)}else this.showMiniTooltip_(b,Ea.PLACE);this.aoiController_.highlight(b.id)}else this.aoiController_.redrawLines();this.areaSearchController_.blurAll(true);this.areaSearchController_.focus(b.id,true)},this):d.onOver.add(function(){this.setMarkerHover_(this.placeMarkers_,
this.placeMarkerIndex_[c],true);this.activeItem_!=b&&this.showMiniTooltip_(b,Ea.PLACE);this.aoiController_.highlight(b.id);this.areaSearchController_.blurAll(true);this.areaSearchController_.focus(b.id,true)},this);d.onOut.add(function(){this.setMarkerHover_(this.placeMarkers_,this.placeMarkerIndex_[c],false);this.miniTooltipManager_.close();this.areaSearchController_.restoreFocus()},this)}k.extend(b.coords)}}},this);O.setCount(a.places.length,a.isAllMode()?a.placeCount:0);if(K&&K.length>0){m={confirmId:K.join(",")};
if(A.ENV!=="PROD"&&A.datetime)m.datetime=A.datetime;require("server").searchOpenhour(m,function(a){O.getItemViews().forEach(function(b){if(b.getId()){var c=a.object(b.getId().toString());c&&b.setOpenhour(c)}})})}k.isEmpty()&&(k=v);for(this.placeMarkerIndex_=R.map(function(a){return t.length-1-a});t[0];)this.placeMarkers_.add(t.pop());!this.noJump_&&(a.places.length&&a.places[0].pointExtension&&(a.highlightedFirst&&a.places[0]&&a.places[0].level==0||a.places.length==1)&&!this.boundscheck.attr("checked"))&&
this.aoiController_.callAfterLoad(this.clickPlace_.bind(this,0));h.$("info.noPlace").hide().removeClass("filtered");var na=false;if(!a.coordinates&&a.addresses.length==0&&a.buses.length==0&&a.busStops.length==0&&a.places.length==0){j=a.getKeyword();if(a.hasBounds()){h.$("info.noPlaceInBounds.keyword").setText(j);h.$("info.noPlaceInBounds").show();h.$("info.main.options").removeClass("noUnderline");if(a.isAllMode())this.prevKeyword_==j?z.log("search_q_empty_in_map_drag",j):this.prevKeyword_=j}else{h.$("info.noPlace.keyword").setText(a.getKeyword());
h.$("info.search.page").hide();!g&&this.setNoKeywordView(a,true)}a.isBusTabMODE()&&(a.busRegions.length>2||a.busTypes.length>2)&&h.$("info.noPlace").addClass("filtered")}else{h.$("info.search").show();this.paginationView_.setTotal(a.isAllMode()?0:(a.pageCount||a.addressCount||a.reviewCount)/this.PAGE_SIZE);this.paginationView_.setPage(a.page);if(a.coordinates){h.$("info.main.home").show();h.$("info.searchHeader.message").hide();this.infoHeaderView_.hide();h.$("info.search").removeClass("themeMode");
this.windowController_.updateHeight();g=this.addressMarker_;j=new Ma;j.name=a.coordinatesText;j.coords=a.coordinates;this.clickAddressMarker_=this.infoWindowManager_.createPoint.bind(this,j,g,true,!!this.model_.whatsHere_);g.setPosition(a.coordinates);g.setMap(this.map_);if(!this.model_.whatsHere_){this.map_.setCenter(a.coordinates);this.map_.setLevel(3)}d.qkind="latlng";this.clickAddressMarker_()}else if(this.noJump_){if(a.addresses[0]&&!a.isHighway&&this.drawPolygon){j=a.addresses[0];this.clickListView(0,
"ADDRESS");this.activeItem_=j;g=this.addressMarker_;g.setMap(this.map_);g.setPosition(j.coords);g.setZIndex(5);g.id=j.id;j.lineData&&this.aoiController_.clickAddressItem(j,true);this.clickAddressMarker_=this.infoWindowManager_.createAddress.bind(this,j,g);this.clickAddress_(0)}}else if(!a.hasBounds()&&!(a.busRecommend=="busname"&&a.busRecommendTop)){g=a.places.length;a.hasMapPlus&&g--;if(!a.isBusTabMODE()&&a.busRecommend=="busstop"&&a.busRecommendTop&&a.busStops[0])this.clickBusStops_(0);else if(a.addresses[0]&&
!a.isHighway)this.clickAddress_(0);else if(a.places[0]&&a.places[0]&&a.places[0].level==3&&!j){this.clickPlace_(0,a.exposure_level);na=true}else if(!j&&a.highlightedFirst&&a.places[0]&&a.places[0].level==0||g==1){g=0;a.hasMapPlus&&g++;this.clickPlace_(g,a.exposure_level);na=true}else if(a.isBusTabMODE()){if(a.busRecommend=="busstop"){k=this.busStopMarkers_.getMarkerBounds();this.map_.setBounds(k,70)}}else if(!k.isEmpty()){this.map_.setBounds(k,70);this.map_.getLevel()<4&&this.map_.setLevel(4)}}}this.highlightId_&&
a.places.some(function(a,b){if(a.id==this.highlightId_){if(a.pointExtension)this.aoiController_.callAfterLoad(this.clickPlace_.bind(this,b));else{this.clickPlace_(b);na=true}return true}},this);if(!na&&E.length&&!l){this.aoiController_.enablePolylineEvent();E.forEach(function(a){this.aoiController_.find(a.id)}.bind(this));this.aoiController_.callAfterLoad(function(){this.aoiController_.setAllMarker();console.log(2)}.bind(this))}this.noJump_=false;this.highlightId_=this.filterId_=void 0;g=this.getTileParams_();
j=jQuery.extend({},d,{});j.q=a.getKeyword();this.mainMapController.setKeywordTileDssObj(j);this.mainMapController.setKeywordTile(g);this.mainMapController.showKeywordTile();a.hasBounds()||require("log/Tiara").log("/fake/search");g=a.getKeyword();d=jQuery.extend({},d,{});if(!o.isEmpty())d.rbounds=o.getSouthWest().getX()+","+o.getSouthWest().getY()+","+o.getNorthEast().getX()+","+o.getNorthEast().getY();if(a.trans_map_type){d.trans_map_type=a.trans_map_type;d.sq=a.spellCandidate[0]||a.getKeyword();
g=a.originalKeyword||a.getKeyword()}if(this.result_click){d.result_click=this.result_click;this.result_click=null;d.oq=this.result_click_sq;this.result_click_sq=null;d.trans_map_type=this.trans_map_type;g=a.originalKeyword||a.getKeyword()}a.target&&this.setTabActive_(a.target);a.isHighway&&this.swapAddressForPlace_();if(a.hasBounds()){if(j=a.getBounds())d.tbounds=j.getSouthWest().getX()+","+j.getSouthWest().getY()+","+j.getNorthEast().getX()+","+j.getNorthEast().getY();this.map_.getCenter();d.tlvl=
this.map_.getLevel()}if(b&&!z._type){d.pg=a.page;d.cids=K.join(",");d.cnt=[a.placeCount,a.addressCount,a.busesCount,a.busStopCount,a.placeAdCount||0].join();z.logSearch(g,d)}else{d.pg=a.page;if(K.length)d.cids=K.join(",");z._type?z.logSearchKeyword(g,d):z.logSearch(g,d)}z._type="";this.isPageLoad=false;this.drawPolygon=true}};J.prototype.swapAddressForPlace_=function(){jQuery("#info\\.search\\.place").insertBefore(jQuery("#info\\.search\\.address"));this.isAddressPlaceSwap_=true};J.prototype.resetSwap_=
function(){jQuery("#info\\.search\\.address").insertBefore(jQuery("#info\\.search\\.place"));this.isAddressPlaceSwap_=false};J.prototype.setMarkerActive_=function(a,b){this.deselectMarkers_();if(a&&!a.isEmpty()){a.at(b).setMap(this.map_);a.setMarkerActive(b)}};J.prototype.createLandmark_=function(a){a&&a.forEach(function(a){this.landmarkMarkers_.add(B.createLandmark(a.coords));var c=new nc;c.setData("BUSLANDMARK",a.coords,'<span class="name">'+a.name+"</span>");this.landmarkMarkers_.add(c)},this)};
J.prototype.setMarkerHover_=function(a,b,c){a.setHover(b,c)};J.prototype.showMiniTooltip_=function(a,b){switch(b){case Ea.PLACE:this.miniTooltipManager_.createPlace(a);break;case Ea.BUSSTOP:this.miniTooltipManager_.createBusStop(a);break;case Ea.AOILINE:this.miniTooltipManager_.createAoi(a)}this.miniTooltipManager_.open()};J.prototype.getTileParams_=function(){var a=null;if(this.model_.tileSearch){var b=this.model_.getCidx(),a={query:this.model_.getInferredKeyword()||this.model_.getKeyword()};if(b!=
null)a.cidx=b;(b=this.model_.getCategory())&&(a={themeId:"c"+b})}return a};J.prototype.reset=function(){this.queryPanel_.val("");z.logSearchIn("");if(this.getActive()){h.$("info.main").show();this.frontViews_.show()}h.$("info.main.home").show();h.$("info.noPlace").hide();h.$("info.searchHeader").hide();h.$("info.searchHeader.message").hide();h.$("info.search.boundsTitle").hide();h.$("info.search.correction").hide();h.$("info.addNewPlace").hide();jQuery("#titleSystemTooltip").hide();this.model_.clear();
this.searchBtn.removeClass("active");this.infoHeaderView_.hide();h.$("info.search").removeClass("themeMode");this.toggleSearchInputBg(true);this.addressMarker_.setMap(null);this.relatedAddressMarker_.setMap(null);this.placeMarkers_.clear();this.hideBusLine_();this.busStopMarkers_.clear();this.landmarkMarkers_.clear();Application.favoriteController.reset();this.bounds_=false;this.activeItem_=null;this.boundsButton_.setActive(false);this.boundscheck.attr("checked",false);this.reviewTabMode_=false;this.mainMapController.clearKeywordTile();
this.windowController_.updateHeight();Application.infoWindowManager.close();this.bannerController_.hide();this.aoiController_.clear();this.spellcheckView_.hide();this.relatedKeywordController_.hide();this.relatedAddressController_.init();this.areaSearchController_.clearMap();this.areaSearchController_.clearMapEvent();this.themeMapController_.setActive(false);this.postCodeMessage.hide();this.itemIdMarker&&this.itemIdMarker.setMap(null);this.itemIdMarker=null};J.prototype.loadPlaceCategories_=function(){var a=
this.model_,b=this.mainMapController,c=h.$("info.search.place.breadcrumb");if(a.categoryPath[0]){c.setVisible(true);c.removeAllChildren();a.categoryPath.forEach(function(d,e,f){e>0&&c.addText(" > ");var g=new h("a");e+1==f.length&&g.addClass("current");g.setText(d.name);g.onClick.add(function(){g.hasClass("current")||a.setSort(0);z.log("search_q_type",a.getKeyword(),{typeid:"category",tab:a.isPlaceMode()?"place":"all",cateid:d.id});b.tileClear();a.setCategory(d)});c.addChild(g)});if(a.categoryChildren[0]){c.addText(" > ");
var d=this.categoryChildrenTrigger_=new h("div"),e=this.moreCategory_=new h("span","morecate");d.addClass("all");d.addChild(new h("strong","screen_out","\uce74\ud14c\uace0\ub9ac \uc120\ud0dd\uc0c1\uc790"));d.addChild(new h("em","screen_out","\uc120\ud0dd\ub0b4\uc6a9 :"));var f=new h("a","allText","\uc804\uccb4");f.addChild(e);d.addChild(f);d.addChild(new h("em","screen_out","\uc120\ud0dd\uc635\uc158"));var g=this.createCategoryChildren_(a.categoryPath);d.onClick.add(function(){e.setClass("expand",
g.toggle().is(":visible"));var a=c.getWidth()-g.offset().left,b=g.width();a<b?g.css("left",a-b):g.css("left",0)},this);c.addChild(d)}}else c.setVisible(false)};J.prototype.createCategoryChildren_=function(a){var b=this.model_,c=this.mainMapController,d=this.categoryChildren_=jQuery('<ul class="CategoryChildren HIDDEN"></ul>');b.categoryChildren.forEach(function(e){jQuery('<li><a href="#">'+e.name+"</a></li>").click(function(){c.tileClear();if(a)e.depth=a.length+1;z.log("search_q_type",b.getKeyword(),
{typeid:"category",tab:b.isPlaceMode()?"place":"all",cateid:e.id});b.setCategory(e);d.remove()}).appendTo(d)});this.categoryChildrenTrigger_.toPane().append(d);return d};J.prototype.setNoKeywordView=function(a){var b=a.isReviewMode()||a.isAddressMode()||a.isBusTabMODE(),c=a.getKeyword(),a="http://search.daum.net/search?w=tot&DA=54X&q="+encodeURIComponent(c);h.$("info.noPlace.keyword").setText(c);h.$("info.noPlace.daum.link").setExternalLink(a);jQuery(h.$("info.noPlace.daum.link").getElement()).on("click",
function(){z.log("search_q_click_to_tot",c)});jQuery(h.$("info.noPlace").getElement()).insertAfter(jQuery(h.$("info.search").getElement()));h.$("info.noPlace.register").setVisible(!b);b?h.$("info.noPlace").addClass("noPlace_type2"):h.$("info.noPlace").removeClass("noPlace_type2");h.$("info.noPlace").show()};J.prototype.clickAddrSuggest_=function(a){this.setKeyword(a,this.model_.getMode())};J.prototype.setHighlightId=function(a){this.highlightId_=a};J.prototype.setKeywordWithoutJump=function(a){this.noJump_=
true;this.setKeyword(a)};J.prototype.setFilterId=function(a){this.filterId_=a;this.model_.setFilterId(a)};J.prototype.setLocalCode=function(a){this.model_.setLocalCode(a)};J.prototype.setDefaultSort=function(a){this.model_.setDefaultSort(a)};J.prototype.setDefaultLiterally=function(a,b){this.model_.setDefaultLiterally(a,b)};J.prototype.getLiterally=function(){return this.model_.getLiterally()};J.prototype.setDefaultPage=function(a){this.model_.setDefaultPage(a)};J.prototype.clickFavoriteSearch=function(a){this.activeItem_=
a;this.deselectMarkers_();this.clickListView(null)};J.prototype.setOneTimeCoords=function(a){this.oneTimeCoords=!a.urlX||!a.urlY||!a.urlLevel?null:a};define("controller/KeywordSearchController","options map/Map manager/ViewLayout controller/IssueMapController controller/WindowController map/InfoWindowManager controller/MainMapController map/MiniTooltipManager controller/RoadviewController controller/BusLineController factory/ButtonFactory controller/KeywordBannerController controller/LocalInfoController url manager/AoiManager controller/RelatedKeywordController controller/RelatedAddressController controller/ThemeMapController controller/ThemeMapSearchController controller/AreaSearchController controller/WhatsHereController controller/FiyFrameController controller/MapToolController manager/MapSuggest controller/HistoryController params".split(" "),
H(J));Kc.prototype.isShow=function(){return this.layerProfileView_.getVisible()};Kc.prototype.show=function(){this.layerProfileView_.show()};Kc.prototype.hide=function(){this.layerProfileView_.hide()};Kc.prototype.getUserInfo=function(){};define("controller/LayerProfileController",["view/LayerProfileView"],H(Kc));ad.prototype.toggle=function(){this.layerProfileEditView_.hasClass("HIDDEN")?this.layerProfileEditView_.show():this.layerProfileEditView_.hide()};ad.prototype.show=function(){this.layerProfileEditView_.show()};
ad.prototype.hide=function(){this.layerProfileEditView_.hide()};define("controller/LayerProfileEditController",["view/LayerProfileEditView"],H(ad));Gb.prototype.hasClass_=function(a,b){if(document.documentElement.classList)return a.classList.contains(b);if(a&&a.className){var c=a.className.match(/\S+/g);return c?c.indexOf(b)>=0:false}return false};Gb.prototype.mousedownHandler=function(a){a.preventDefault();var b=a.target;this.hasClass_(b,"WaypointBoxView")&&(b=jQuery(b).find(".dragArea").getElement());
if(this.hasClass_(b,"dragArea")||this.hasClass_(b.parentNode,"dragArea")){for(;b&&b.getAttribute&&b.getAttribute("sortId")==null;)b=b.parentNode;if(b&&b.getAttribute("sortId")!=null){this.targetSortId_=b.getAttribute("sortId");this.target_=this.listArr_[this.targetSortId_];this.startY_=a.clientY;this.target_.getElement().style.position="relative";jQuery(document).mousemove(this.mousemoveHandler_).one("mouseup",this.mouseupHandler.bind(this))}}};Gb.prototype.mousemoveHandler=function(a){a.preventDefault();
this.listArr_[this.targetSortId_].addClass("WaypointBoxView-Drag");var a=a.clientY,b=this.container_.getHeight(),c=this.container_.getPosition().y,a=Math.max(c,Math.min(c+b,a)),a=a-this.startY_;this.target_.setPosition(void 0,a);a=this.numberFromMove_(a);if(this.beforeMoveNum!=a){this.beforeMoveNum=a;this.rePositionPanel_(parseInt(this.targetSortId_,10),a)}};Gb.prototype.mouseupHandler=function(a){jQuery(document).off("mousemove",this.mousemoveHandler_);this.listArr_[this.targetSortId_].removeClass("WaypointBoxView-Drag");
a=this.numberFromMove_(a.clientY-this.startY_);a=Math.max(0,Math.min(this.listArr_.length-1,a));parseInt(this.targetSortId_,10)!=a?this.resortElementListArr_(parseInt(this.targetSortId_,10),a):this.listArr_[this.targetSortId_].setPosition(0,0)};Gb.prototype.numberFromMove_=function(a){a=Math.floor((a+this.CHILD_HEIGHT/2)/this.CHILD_HEIGHT);return parseInt(this.targetSortId_,10)+a};Gb.prototype.rePositionPanel_=function(a,b){this.listArr_.forEach(function(b,c){if(c!=a){b.getElement().style.position=
"relative";b.setPosition(0,0)}});b=Math.max(0,Math.min(this.listArr_.length-1,b));if(a>b)for(var c=b;c<a;c++){this.listArr_[c].getElement().style.position="relative";this.listArr_[c].setPosition(0,this.CHILD_HEIGHT)}else for(c=b;c>a;c--){this.listArr_[c].getElement().style.position="relative";this.listArr_[c].setPosition(0,-this.CHILD_HEIGHT)}};Gb.prototype.add=function(a,b){if(b==void 0)b=this.listArr_.length;this.listArr_.splice(b,0,a);this.resortElement_();return b};Gb.prototype.removeToNumber=
function(a){this.container_.removeChild(this.listArr_[a]);this.listArr_.splice(a,1);this.resortElement_()};Gb.prototype.resortElementListArr_=function(a,b){this.listArr_.splice(b,0,this.listArr_.splice(a,1)[0]);this.resortElement_();this.onChange.notify({from:a,to:b})};Gb.prototype.resortElement_=function(){this.listArr_.forEach(function(a,c){a.getElement().setAttribute("sortId",c);a.getElement().style.zindex="100";a.setPosition(0,0);a.getElement().style.position="relative";this.container_.addChild(a)},
this);var a=this.listArr_.length-1;this.listArr_[a]&&this.listArr_[a].setPosition(0,0)};"use strict";define("controller/LocalInfoController",["map/Map","model/Weather","controller/LocalPlatformAdController"],H(function(a){function b(){var b=a.getCenter();Lb.find(b,function(b){try{if(b){if(b.hcode)h=b.hcode.code;var d=o=="B"?b.bcode:b.hcode,e=d.name1,f=d.name2,g=d.name3,s=!e&&!f&&!g||a.getLevel()>12?true:false;if(d.code&&!(d.code==j&&s==l)){var u=j=d.code;l=s;k=u;m=d.regionId;q.toggleClass("shortaddr",
s);if(s){C=[];c(d.name0,"","")}else{C=[d.code1,d.code2,d.code3];c(e,f,g)}if(b.weather){z.show();var r=b.weather.temp,w=b.weather.desc;G.attr("src","//t1.daumcdn.net/localimg/localimages/07/2018/pc/weather/ico_weather"+b.weather.icon+".png");G.attr("title",w);G.attr("alt",w);G.attr("width",20);G.show();var n=parseInt(Number(r).toFixed(0)).toString();z.find(".temper").text(n+"\u2103")}else z.hide()}}}catch(E){console.log(E)}});x.removeClass("HIDDEN")}function c(a,b,c){[a,b,c].forEach(function(a,b){var c=
O[b];c.text(a);c.parent().toggle(!!a)});g.notify(a+" "+b+" "+c)}function d(c){var d=I[r].empty(),g=0,j=C[r];c||(c="0");require("server").regionCode({code:c,base_code:o},function(c){e();c.find("value").forEach(function(c){var e=jQuery('<li><span class="check"></span><a href=#>'+c.text("name")+"</a></li>").click(function(){o=c.text("type");d.hide();f();C.length==0&&a.getLevel()>12&&a.setLevel(3);a.setCenter(new daum.maps.Coords(c.number("x"),c.number("y")));require("log/Tiara").log("/fake/navi_region");
b()}).appendTo(d);if(j==c.text("code")){e.addClass("list_active");g=e.position().top}e.hover(function(){jQuery(this).addClass("list_hover")},function(){jQuery(this).removeClass("list_hover")})});d.scrollTop(g-80)});d.show()}function e(){t[r].show();var a=O[r];a.addClass("box-ACTIVE");var b=r===0?8:0,a=a.offset().left-q.offset().left+x.position().left-b;t[r].setPosition(a)}function f(){for(var a=0,b=t.length;a<b;++a){O[a].removeClass("box-ACTIVE");t[a].hide()}}var g=this.onAddress=new n,j,l,m,k,h,
o="H",r,x=jQuery("#localInfo"),q=jQuery("#localInfo\\.map"),s=jQuery("#localInfo\\.map\\.province"),u=jQuery("#localInfo\\.map\\.county"),w=jQuery("#localInfo\\.map\\.town"),C=[],O=[s,u,w],I=[jQuery("#localInfoList\\.province\\.list"),jQuery("#localInfoList\\.county\\.list"),jQuery("#localInfoList\\.town\\.list")],t=[ca.$("localInfoList.province"),ca.$("localInfoList.county"),ca.$("localInfoList.town")];t.forEach(function(a,b){a.onHide.add(function(){O[b].removeClass("box-ACTIVE")});a.noClosePane(O[b])});
[s,u,w].forEach(function(a,b){a.click(function(){r=b;var a=null;switch(r){case 0:a=null;p.click("control","location_1");break;case 1:a=C[0];p.click("control","location_2");break;case 2:a=C[1];p.click("control","location_3");break;default:console.assert(false)}if(O[r].hasClass("box-ACTIVE"))f();else{f();d(a)}})});var z=jQuery("#localInfo\\.map\\.weather"),G=jQuery("#localInfo\\.map\\.weatherIcon");daum.maps.event.addListener(a,"idle",xb(200,b).trigger);b();this.getRegionId=function(){return m};this.getCode=
function(){return k};this.getHCodeForLog=function(){return h||k};this.getRegionCodeType=function(){return o};this.setRegionCodeType=function(a){o=a};this.get3DepthAddr=function(){var a=jQuery("#localInfo\\.map\\.province"),b=jQuery("#localInfo\\.map\\.county"),c=jQuery("#localInfo\\.map\\.town");return a.text()+" "+b.text()+" "+c.text()}}));define("controller/LocalPlatformAdController",["map/Map","model/LocalPlatformAd","map/InfoWindowManager","controller/RoadviewController"],H(function(a,b,c,d){function e(b){var c=
B.localPlatformMarker(b==0?"GLOBAL":"LOCAL");daum.maps.event.addListener(c,"mouseover",function(){c.setZIndex(5);j[b].thumb.billboard.setMap(a)});daum.maps.event.addListener(c,"mouseout",function(){c.setZIndex(b==0?3:2);j[b].thumb.billboard.setMap(null)});daum.maps.event.addListener(c,"click",function(){z.logAd("ad_marker_click",j[b].data[3]);setTimeout(function(){ob(j[b].data[2]?j[b].data[2]:"https://place.map.kakao.com/"+j[b].data[3])},100)});return c}function f(){k.hide();j.forEach(function(a){a.thumb.billboard.setMap(null);
a.marker.setMap(null)})}function g(){var a=j[0],b=j[1];k.$("wrapper").attr("class");if(!a.data&&!b.data)k.animate({opacity:0},400,function(){f()});else{var c=a.data&&b.data&&l&&m?"localAdBoth":"other",d=k.hasClass("HIDDEN")?"HIDDEN":"";k.removeClass().addClass("LocalAdBanner").addClass(d).addClass(c);c=a.data&&a.data[3];d=b.data&&b.data[3];(!k.is(":visible")||a.preConfirmId!=c||b.preConfirmId!=d)&&k.show().css("opacity",0).animate({opacity:1},400);k.find(".banner").each(function(a){var b=j[a],c=!(!b.data||
!(a==0?l:m));jQuery(this).toggle(c);if(c){c=b.data[10]?b.data[10]:null;jQuery(this).find("img").attr("src",c?c:"");c=b.data[2]?b.data[2]:"https://place.map.kakao.com/"+b.data[3];jQuery(this).find(".bannerHref").attr("href",c);var d="";b.hcode&&(d=a==0?b.hcode.name2:b.hcode.name3);jQuery(this).find(".tagText").text(d);jQuery(this).find(".btnHref").attr("href",c);a=b.data[8]&&b.data[8].length>5?b.data[8]:"#";jQuery(this).find(".where").attr("href",a)}});a.preConfirmId=a.data?a.data[3]:null;b.preConfirmId=
b.data?b.data[3]:null}}var j=[logical={marker:null,banner:null,data:null,code:null,hcode:null,visible:false,thumb:null},global={marker:null,banner:null,data:null,code:null,hcode:null,visible:false,thumb:null}];daum.maps.event.addListener(a,"zoom_changed",function(){f()});var l=true,m=true,c=jQuery("#view\\.map"),k=F("LocalAdBannerView"),h=true;k.$("globalClose").click(function(){l=false;g()});k.$("logicalClose").click(function(){m=false;g()});c.append(k);k.find(".where").click(function(){var b=k.find(".where").index(this);
if(jQuery(this).attr("href")=="#"){b=new daum.maps.Coords(j[b].data[0],j[b].data[1]);a.setCenter(b)}});k.find(".banner").hover(function(){var b=k.find(".banner").index(this);j[b].marker&&j[b].marker.setZIndex(5);j[b].thumb.billboard.setMap(a)},function(){var a=k.find(".banner").index(this);j[a].marker.setZIndex(a==0?3:2);j[a].thumb.billboard.setMap(null)});k.find(".bannerHref").click(function(){var a=k.find(".bannerHref").index(this);z.logAd("ad_banner_click",j[a].data[3])});d.onShow.add(function(){m=
l=false;k.hide()});d.onCloseRoadview.add(function(){m=l=true;k.show()});j.forEach(function(a,b){a.marker=e(b);var c=b==0,d=F("LocalAdThumbnailView"),c=new daum.maps.Billboard({zIndex:c?4:3,position:new daum.maps.Coords(0,0),content:d.get(0),clickable:true});a.thumb={billboard:c,pane:d}});this.show=function(c){if(h){var c=c||{},d=c.code||Application.localInfoController.getCode();if(d)if(a.getLevel()>9||!jQuery("#search\\.tab1").hasClass("keyword-ACTIVE"))f();else{j.forEach(function(e,f){var g=e.data&&
e.data[3],j=f==0?d.substring(0,5):d.substring(0,7);if(b.find(j)){e.data=b.find(j);var l;var k=e.data;isVisible=jQuery("#search\\.tab1").hasClass("keyword-ACTIVE");if(k){l=k&&k[7].toUpperCase()=="O"?true:false;var m=k[6],k=k[5].split("-"),h=m.split("-"),m=new Date(k[0],+k[1]-1,k[2]),k=(new Date(h[0],+h[1]-1,+h[2]+1)).getTime(),h=(new Date).getTime();l=!l||!(m<=h&&h<=k)?false:true}else l=false;e.visible=l;e.code=j;e.hcode=c}else{e.visible=false;e.code=null}if(e.visible){j=new daum.maps.Coords(e.data[0],
e.data[1]);e.marker.setPosition(j);e.marker.setMap(a);if(e.data[3]==null||e.data[3]!=g){g=e.thumb;j=e.data;g.billboard.setPosition(new daum.maps.Coords(j[0],j[1]));l=j[11]?j[11]:null;g.pane.$("thumbnail").attr("src",l?l:"");g.pane.$("name").text(String.cut(j[4],8))}}else{e.data=null;e.marker.setMap(null);e.thumb.billboard.setMap(null)}});g(d)}}else f()};this.hide=function(a){f(a)};this.clear=function(){j.forEach(function(a){a.thumb&&a.thumb.billboard.setMap(null)})};this.setActive=function(a){h=a;
!a&&f()}}));da.prototype.getHistory=function(){return this.skyviewHistoryIndex_?this.YEAR[this.skyviewHistoryIndex_]:null};da.prototype.getMap=function(){return this.map_};da.prototype.dblclickMap_=function(a){var b=this.map_.getLevel(),c=this.map_.getMapTypeId();(b==0&&!this.map_.isRoadmap()||b==1&&c==daum.maps.MapTypeId.ROADMAP)&&!Application.roadviewController.getActive()&&Application.roadviewController.showByDblClick(a.coords)};da.prototype.clickMap_=function(a){this.infoWindowManager_.close();
var b=a.coords,c=a.point;this.clickHandlers_.some(function(a){return a.handleClick(b,c)})};da.prototype.isRoadviewActive=function(){return this.mapTypeControl_.isRoadviewActive()};da.prototype.isTrafficActive=function(){return this.mapTypeControl_.isTrafficActive()};da.prototype.isAccidentActive=function(){return this.mapTypeControl_.isAccidentActive()};da.prototype.isCctvActive=function(){return this.mapTypeControl_.isCctvActive()};da.prototype.isStoreviewActive=function(){};da.prototype.setStoreviewActive=
function(){};da.prototype.getUrlObject=function(){var a=this.map_.getCenter(),b=this.map_.getLevel();return{x:a.getX()|0,y:a.getY()|0,level:b,scale:0.3125*(1<<b),map_type:this.map_.isRoadmap()?"TYPE_MAP":"TYPE_SKYVIEW"}};da.prototype.rightclickMap_=function(a){this.rightclickHandlers_.some(function(b){return b.handleRightclick(a)})};da.prototype.setRoadviewLineActive=function(a){this.mapTypeControl_.overrideRoadview(a)};da.prototype.setTrafficLineActive=function(a){this.mapControlView_.setTrafficActive(a)};
da.prototype.deactivateTraffic=function(){this.mapControlView_.deactivateTraffic()};da.prototype.setTrafficActiveForState=function(a){this.mapControlView_.setTrafficActiveForState(a)};da.prototype.setTrafficCctvId=function(a){this.mapTypeControl_.setCctvId(a)};da.prototype.showCctv=function(){this.mapControlView_.showCctv()};da.prototype.showTraffic=function(){this.mapControlView_.showTraffic()};da.prototype.toolHandler_=function(a){this.mapControlView_.deactivateAll();switch(a){case za.DISTANCE:this.mapControlView_.setToolActive(a,
!this.tool.isDistance());this.tool.distance_();break;case za.AREA:this.mapControlView_.setToolActive(a,!this.tool.isArea());this.tool.area_();break;case za.RADIUS:this.mapControlView_.setToolActive(a,!this.tool.isRadius());this.tool.radius_();break;case za.NEWPLACE:this.mapControlView_.setToolActive(a,!this.tool.isNewPlace());this.tool.newPlace_();break;case za.CLEAR:this.tool.overlaysClear()}};daum.maps.MapTypeId.SKYVIEW__=daum.maps.MapTypeId.SKYVIEW;daum.maps.MapTypeId.HYBRID__=daum.maps.MapTypeId.HYBRID;
da.COPYRIGHT=function(a){var b=[new daum.maps.TilesetCopyright("TerraMetrics","TerraMetrics",9)];if(a<16)b.push(new daum.maps.TilesetCopyright("Samah","Samah",0));else{a<18&&b.push(new daum.maps.TilesetCopyright("Samah","Samah",7));b.push(new daum.maps.TilesetCopyright("\uad6d\ud1a0\uc9c0\ub9ac\uc815\ubcf4\uc6d0","NGII",0))}return b};"08 09 10 11 12 13 14 15 16 17".split(" ").forEach(function(a){da["SKYVIEW"+a]=new daum.maps.Tileset(256,256,function(b,c,d){return"//map"+Math.abs(b%4)+".daumcdn.net/map_skyview_past/20"+
a+"/L"+d+"/"+c+"/"+b+".jpg"},da.COPYRIGHT(a),true,0,14);daum.maps.Tileset.add("SKYVIEW"+a,da["SKYVIEW"+a]);daum.maps.Tileset.add("HYBRID"+a,da["SKYVIEW"+a])});da.prototype.handleHistory_=function(a){this.skyviewHistoryIndex_=a;var b=this.map_.getMapTypeId()==daum.maps.MapTypeId.HYBRID,c=[void 0,"17","16","15","14","13","12","11","10","09","08"][a]||"__";if(!this.args.hdi&&!this.args.hdh){daum.maps.MapTypeId.SKYVIEW=daum.maps.MapTypeId["SKYVIEW"+c];daum.maps.MapTypeId.HYBRID=daum.maps.MapTypeId["HYBRID"+
c]}this.map_.setMapTypeId(daum.maps.MapTypeId[b?"HYBRID":"SKYVIEW"]);this.mapTypeControl_.logMapTypeId(this.map_.getMapTypeId());this.historyLegendView_&&this.closeHistoryLegend_();b=this.YEAR=[void 0,2017,2016,2015,2014,2013,2012,2011,2010,2009,2008];c=[void 0,["\uc138\uc885","\uac15\uc6d0\ub3c4","\ucda9\uccad\ubd81\ub3c4 \uc77c\ubd80","\uacbd\uc0c1\ubd81\ub3c4","\uacbd\uc0c1\ub0a8\ub3c4","\uc804\ub77c\ub0a8\ub3c4 \uc77c\ubd80","\uc81c\uc8fc\ub3c4","\uc6b8\ub989\ub3c4/\ub3c5\ub3c4"],["\uc11c\uc6b8",
"\uacbd\uae30","\uc778\ucc9c","\uc138\uc885","\ub300\uc804","\uad11\uc8fc","\ucda9\uccad\ub3c4","\uc804\ub77c\ub3c4 \uc77c\ubd80","\uac15\uc6d0\ub3c4 \uc77c\ubd80","\uacbd\uc0c1\ub3c4 \uc77c\ubd80"],["\uc11c\uc6b8","\uacbd\uae30","\uc778\ucc9c","\uc138\uc885","\ub300\uc804","\uad11\uc8fc","\ucda9\uccad\ub3c4","\uc804\ub77c\ub3c4 \uc77c\ubd80","\uac15\uc6d0\ub3c4 \uc77c\ubd80","\uacbd\uc0c1\ub3c4 \uc77c\ubd80"],["\uac15\uc6d0\ub3c4 \uc77c\ubd80","\uc804\ub77c\ub0a8\ub3c4 \uc77c\ubd80","\uacbd\uc0c1\ub3c4"],
["\uc11c\uc6b8","\uc778\ucc9c","\uc81c\uc8fc\ub3c4","\uacbd\uae30\ub3c4 \uc77c\ubd80","\ucda9\uccad\ub0a8\ub3c4 \uc77c\ubd80","\uc804\ub77c\ub0a8\ub3c4 \uc77c\ubd80"],["\uac15\uc6d0\ub3c4","\uacbd\uc0c1\ubd81\ub3c4","\ucda9\uccad\ubd81\ub3c4","\ucda9\uccad\ub0a8\ub3c4","\uc804\ub77c\ubd81\ub3c4","\uc804\ub77c\ub0a8\ub3c4"],["\uc11c\uc6b8\ud2b9\ubcc4\uc2dc","\uc81c\uc8fc\ub3c4","6\ub300 \uad11\uc5ed\uc2dc","\uc804\ub77c\ub0a8\ub3c4 \uc77c\ubd80","\uacbd\uae30\ub0a8\ubd80","\uc804\ub77c\ubd81\ub3c4 \uc77c\ubd80",
"\ucda9\uccad\ubd81\ub3c4","\uacbd\uc0c1\ubd81\ub3c4 \ub0a8\ubd80","\ucda9\uccad\ub0a8\ub3c4","\uacbd\uc0c1\ub0a8\ub3c4 \uc77c\ubd80"],["\uc11c\uc6b8/\uacbd\uae30","6\ub300 \uad11\uc5ed\uc2dc","\uac15\uc6d0\ub3c4","\uacbd\uc0c1\ubd81\ub3c4","\uacbd\uc0c1\ub0a8\ub3c4","\ucda9\uccad\ubd81\ub3c4 \ub0a8\ubd80","\ucda9\uccad\ub0a8\ub3c4 \uc11c\ubd80","\uc804\ub77c\ubd81\ub3c4","\uc804\ub77c\ub0a8\ub3c4","\uc6b8\ub989\ub3c4"],["\uc11c\uc6b8/\uacbd\uae30","6\ub300 \uad11\uc5ed\uc2dc","\uac15\uc6d0 \ub3d9\ubd80",
"\uac15\uc6d0 \uc11c\ubd80","\ucda9\uccad\ubd81\ub3c4 \ubd81\ubd80","\ucda9\uccad\ub0a8\ub3c4","\uc804\ub77c\ubd81\ub3c4 \uc11c\ubd80","\uc804\ub77c\ub0a8\ub3c4","\uacbd\uc0c1\ubd81\ub3c4 \ub0a8\ubd80","\uacbd\uc0c1\ub0a8\ub3c4","\uc81c\uc8fc\ub3c4","\uc6b8\ub989\ub3c4/\ub3c5\ub3c4"],["\uc11c\uc6b8","6\ub300 \uad11\uc5ed\uc2dc","\uacbd\uae30\ub3c4","\uac15\uc6d0\ub3c4","\ucda9\uccad\ub0a8/\ubd81\ub3c4","\uc804\ub77c\ub0a8/\ubd81\ub3c4","\uacbd\uc0c1\ub0a8/\ubd81\ub3c4","\uc81c\uc8fc\ub3c4","\uc6b8\ub989\ub3c4/\ub3c5\ub3c4"]];
if(b[a]&&c[a]){a=this.historyLegendView_=new nd(b[a],c[a]);this.frameDecorator_.onResize.add(a.handleMapFrame.bind(a));a.onClose.add(this.closeHistoryLegend_,this);a.onSwitch.add(this.resetSkyviewHistory_,this);this.panel.find(".SkyviewHistoryLegend").remove().end().append(a.getPanel().getElement())}};da.prototype.closeHistoryLegend_=function(){if(this.historyLegendView_){this.panel.find(".SkyviewHistoryLegend").remove();this.historyLegendView_=null}};da.prototype.resetSkyviewHistory_=function(){this.mapTypeControl_.setLatestSkyview()};
da.prototype.tileClear=function(){this.keywordTileParams=null;this.clearThemePoiControlView()};da.prototype.clearThemePoiControlView=function(){this.themePoiControlView.clearAll()};da.prototype.setKeywordTile=function(a){this.keywordTileParams=a};da.prototype.setKeywordTileDssObj=function(a){this.keywordTileDssObj=a};da.prototype.showKeywordTile=function(){this.themePoiControlView.getActive()||this.setActiveKeywordTile()};da.prototype.hideKeywordTile=function(){if(!this.themePoiControlView.getActive()){this.poiTileController.clearTile();
this.setTileExtenstion(false)}};da.prototype.clearKeywordTile=function(){this.keywordTileDssObj=this.keywordTileParams=null;if(!this.themePoiControlView.getActive()){this.poiTileController.clearTile();this.setTileExtenstion(false)}};da.prototype.setActiveKeywordTile=function(){if(this.keywordTileParams&&jQuery("#info\\.main").is(":visible")){var a=this.keywordTileParams;if(a.themeId){a.dimg="ns";this.poiTileController.setThemeTile(a);this.setTileExtenstion("theme")}else{this.poiTileController.setKeywordTileDssObj(this.keywordTileDssObj);
this.poiTileController.setKeywordTile(a);this.setTileExtenstion("keyword")}}else{this.poiTileController.clearTile();this.setTileExtenstion(false)}};da.prototype.setTileExtenstion=function(a){if(a){this.mapControlView_.setExtensionVisible(true);this.mapControlView_.setKeywordTile(a)}else this.mapControlView_.setExtensionVisible(false)};da.prototype.getThemePoiControlView=function(){return this.themePoiControlView};da.prototype.setTerrain=function(a){this.mapTypeControl_.setTerrain(a);this.mapControlView_.layerButtonUpdate()};
da.prototype.isTerrain=function(){return this.mapTypeControl_.isTerrainActive()};da.prototype.setBike=function(a){this.mapTypeControl_.setBike(a);this.mapControlView_.layerButtonUpdate()};da.prototype.isBike=function(){return this.mapTypeControl_.isBikeActive()};da.prototype.isHybrid=function(){return this.mapTypeControl_.isHybridActive()};da.prototype.setWeather=function(a,b){this.mapTypeControl_.setWeather(a,b);this.mapControlView_.layerButtonUpdate()};da.prototype.getWeather=function(){return this.mapTypeControl_.getWeather()};
da.prototype.isUsedistrict=function(){return this.mapTypeControl_.isUsedistrictActive()};da.prototype.setUsedistrict=function(a,b){this.mapTypeControl_.setUsedistrictParam(a,b);this.mapControlView_.layerButtonUpdate()};da.prototype.getUsedistrict=function(){return this.mapTypeControl_.getUsedistrictParam()};da.prototype.setIndoor=function(a){this.mapTypeControl_.setIndoor(a)};da.prototype.isIndoor=function(){return this.mapTypeControl_.isIndoorActive()};define("controller/MainMapController","map/Map manager/ViewLayout controller/RoadviewLineController controller/MapToolController controller/MapCursorController controller/PoiController controller/MapMenuController map/MapTypeControl view/MapControlView view/FrameDecorator controller/IndoorMapController view/ThemePoiControlView controller/ThemePoiMarkerController controller/PoiTileController controller/LocalPlatformAdController manager/AoiManager map/InfoWindowManager map/MiniTooltipManager params view/RoutePoiControlView".split(" "),
H(da));define("controller/MapCursorController",["map/Map","controller/MapToolController","controller/PoiController","controller/PoiTileController","controller/IndoorMapController"],H(function(a,b,c,d,e){var f=false;e.onOver.add(function(b){if(f!=b){a.setCursor(b?"pointer":null);f=b}},this);var g=false;c.onOver.add(function(b){if(g!=b){a.setCursor(b?"pointer":null);g=b}},this);var j=false;d.onOver.add(function(b){if(j!=b){a.setCursor(b?"pointer":null);j=b}},this);var l="ActiveXObject"in A?"url(//i1.daumcdn.net/dmaps/apis/cursor/closedhand.cur.ico), move":
"url(//i1.daumcdn.net/dmaps/apis/cursor/closedhand.cur.ico) 7 5, url(//i1.daumcdn.net/dmaps/apis/cursor/closedhand.cur.ico), move";daum.maps.event.addListener(a,"dragstart",function(){if(f||g||j){a.setCursor(l);j&&d.showMiniTooltip(false)}});daum.maps.event.addListener(a,"dragend",function(){if(f||g||j){a.setCursor("pointer");j&&d.showMiniTooltip(true)}});daum.maps.event.addListener(a,"mousemove",function(a){if(!b.isArea()&&!(b.isDistance()||b.isRadius()|b.isNewPlace())){var f=a.coords,g=a.point;
[e,d,c].some(function(a){return a.compareRange(f,g)},this)}})}));qb.prototype.handleRightclick=function(a){this.coords_=a.coords;var a=a.point,b=h.$("view").getSize();this.pointMarker_.setPosition(this.coords_);this.pointMarker_.setMap(this.map_);this.panel_.toPane().css("cursor","default");this.panel_.show();this.panelParent_.setPosition(this.coords_);this.panelParent_.setMap(this.map_);var c=this.panel_.getSize();this.panel_.setClass("upContext",a.y+c.height>b.height);this.panel_.setClass("leftContext",
a.x+c.width>b.width);this.menu_via_.unbind("click");if(Application.transitRouteSearchController.getActive()){this.menu_via_.unbind("click");this.menu_via_.addClass("disabled")}else{this.menu_via_.click(this.viaDirection_.bind(this));this.menu_via_.removeClass("disabled")}return true};qb.prototype.hide=function(){this.panelParent_.setMap(null);this.pointMarker_.setMap(null)};qb.prototype.favorite_=function(){p.click("favorite",["point","rightmenu"]);this.hide();Ma.findWhatsHere(this.coords_,this.searchByAddressFavorite_,
this)};qb.prototype.searchByAddressFavorite_=function(a){a={type:"point",display1:a&&a.name||"",x:Math.round(this.coords_.getX()),y:Math.round(this.coords_.getY())};a.key=a.x+"|"+a.y;Application.favoriteController.add(a,"mouse_right_click")};qb.prototype.startDirection_=function(){this.windowController_.setCollapse(false);this.hide();Application.flagSearchController.setActive(true);Application.flagSearchController.clearAoi();Application.flagSearchController.setOrigin(this.coords_);p.click("rightmenu",
"select_start")};qb.prototype.viaDirection_=function(){p.click("rightmenu","select_via");this.windowController_.setCollapse(false);this.hide();Application.flagSearchController.setActive(true);Application.flagSearchController.clearAoi();Application.flagSearchController.setVia(this.coords_)};qb.prototype.endDirection_=function(){this.hide();this.windowController_.setCollapse(false);Application.flagSearchController.setActive(true);Application.flagSearchController.clearAoi();Application.flagSearchController.setDestination(this.coords_);
p.click("rightmenu","select_end")};qb.prototype.whatsHere_=function(){this.hide();this.whatsHereController_.fetch(this.coords_.getX(),this.coords_.getY(),this.loadWhatsHere_.bind(this));p.click("rightmenu","what_here")};qb.prototype.loadWhatsHere_=function(a){var b=Application.keywordSearchController;this.windowController_.setCollapse(false);b.setActive(true);if(a)b.setWhatsHereKeyword(a);else{b.reset();this.windowController_.updateHeight();h.$("info.noSuchPlace").show()}};qb.prototype.doZoom_=function(a,
b,c){this.hide();var d=this.map_,e=d.getCenter(),f=this.coords_,b=new daum.maps.Coords(b*e.getX()+c*f.getX(),b*e.getY()+c*f.getY());d.setLevel(d.getLevel()+a);d.setCenter(b)};qb.prototype.zoomIn_=function(){if(this.map_.getLevel()<=1){this.hide();alert("\ub354 \uc774\uc0c1 \ud655\ub300\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4")}else this.doZoom_(-1,0.5,0.5)};qb.prototype.zoomOut_=function(){if(this.map_.getLevel()>=za.MAX_LEVEL){this.hide();alert("\ub354 \uc774\uc0c1 \ucd95\uc18c\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4")}else this.doZoom_(1,
2,-1)};qb.prototype.strange_=function(){this.hide();Application.fiyFrameController.openCustomerRequest({type:"map",channel:"CLICK_RIGHT",coords:this.coords_});p.click("rightmenu","ndm_event")};qb.prototype.newPlace_=function(){this.hide();Application.fiyFrameController.openCustomerRequest({type:"newPlace",channel:"CLICK_RIGHT",coords:this.coords_});p.click("rightmenu","newplace")};define("controller/MapMenuController",["map/Map","controller/WindowController","controller/WhatsHereController"],H(qb));
ta.prototype.deactive_=function(){};ta.prototype.copylistToggle=function(){p.click("control","sharetool");var a=h.$("tool");if(this.copylist_.getVisible()){a.removeClass("ACTIVE");this.copylist_.hide()}else{this.copylist_.show();a.addClass("ACTIVE")}};ta.prototype.onHidelist_=function(){h.$("tool").removeClass("ACTIVE")};ta.prototype.copyUrl=function(){var a=this.shareController.createParam();a.folderid!==void 0?this.shareController.show(a):this.shareController.show();this.copylist_.hide();p.click("control",
["sharetool","url"])};ta.prototype.save_=function(a){this.copylist_.hide();this.deactive_();Application.saveMapImage=this.saveMap.bind(this);if(Application.subwaySearchController.getActive())Application.subwaySearchController.save_(a);else{ob("etc/save.jsp",400,260,{noscroll:true});p.click("control",["sharetool","save"])}};ta.prototype.copyMap_=function(a){this.copylist_.hide();if(Application.subwaySearchController.getActive())Application.subwaySearchController.scrap_(a);else{var b=Application.mainMapController.getUrlObject(),
c=this.map_.isRoadmap()?"TYPE_MAP":"TYPE_SKYVIEW",d=Application.weatherWindowController.getState(),e=this.map_.getMapTypeId()==daum.maps.MapTypeId.HYBRID,a=location.href.replace(/[?#].*/,"")+"?urlX="+b.x+"&urlY="+b.y,a=a+("&urlLevel="+b.level+"&map_type="+c+"&map_hybrid="+e);d&&(a=a+"&weather=true");b=this.getStaticImageParams(504,310);c=require("url").MAP2_DAUM_NET+"/map";c=b.type==="hybrid"?c+"/skyviewmapservice?FORMAT=PNG&RDR=HybridRender":b.type==="skyview"?c+"/skyviewmapservice?FORMAT=PNG":c+
"/mapservice?FORMAT=PNG";delete b.type;var a={baseUrl:a,imgUrl:c+"&"+jQuery.param(b)},f=F("ScrapMapFrame"),a="./etc/scrap.jsp?"+jQuery.param(a);f.$("frame").attr("src",a);this.forefront.create(f,{dimmed:true,closer:".close",beforeClose:function(){f.$("frame").attr("src","")}});p.click("control",["sharetool","scrap"])}};ta.prototype.email_=function(){this.copylist_.hide();var a=this.map_.getCenter(),b=a.getX()|0,a=a.getY()|0,c=this.map_.getLevel(),d=require("url").MAP_DAUM_NET+"?urlX="+b+"&amp;urlY="+
a+"&amp;urlLevel="+c;ob("http://hmstage.daum.net/hanmailex/Compose.daum?"+jQuery.param({BODY:'<a href="'+d+'" target=_blank><img width=630 height=350 src="'+("https://ssl.daumcdn.net/map3/staticmap/image?srs=WCONGNAMUL&amp;logo=kakao_logo&amp;scale=2&amp;center="+b+","+a+"&amp;lv="+c+"&amp;size=630x350")+'"></a><br>'}),850,600,{resizable:"yes"});p.click("control",["sharetool","mail"])};ta.prototype.print_=function(a){this.copylist_.hide();if(Application.subwaySearchController.getActive())Application.subwaySearchController.print_(a);
else if(Application.carRouteSearchController.getActive()&&Application.carRouteSearchController.route_)Application.carRouteSearchController.print();else if(Application.transitRouteSearchController.getActive()&&Application.transitRouteSearchController.route_)Application.transitRouteSearchController.setRouteToPrint(null);else if(Application.flagSearchController.walkRouteSearchController.getActive()&&Application.flagSearchController.walkRouteSearchController.printRoute())Application.flagSearchController.walkRouteSearchController.print();
else{var a=this.map_.getCenter(),b=this.map_.getMapTypeId(),c=b===daum.maps.MapTypeId.SKYVIEW?"s":b===daum.maps.MapTypeId.HYBRID?"h":"m";c!="m"&&["08","09","10","11","12","13","14","15","16","17"].some(function(a){if(daum.maps.MapTypeId.SKYVIEW==daum.maps.MapTypeId["SKYVIEW"+a]){c=c+a;return true}});a="etc/print.jsp?c="+a.getX()+","+a.getY()+","+this.map_.getLevel()+"&t="+c;ob(a,670,720);p.click("control",["sharetool","print"])}};ta.prototype.overlays_=[];ta.prototype.distanceTool_="";ta.prototype.areaTool_=
"";ta.prototype.radiusTool_="";ta.prototype.newPlaceTool_="";ta.prototype.newPlaceChannel_=null;ta.prototype.newPlaceQuery_=null;ta.prototype.distance_=function(){this.deactive_();var a=this.isDistance();if(this.workingTool_){this.workingTool_.close();this.workingTool_=null}if(a)this.onComplete.notify();else{a=new Ld(this.map_);a.onClose.add(this.drawCheck.bind(this));a.activate();this.overlays_.push(a);this.workingTool_=a;p.click("control","length1");this.onClickTool.notify()}};ta.prototype.area_=
function(){this.deactive_();var a=this.isArea();if(this.workingTool_){this.workingTool_.close();this.workingTool_=null}if(a)this.onComplete.notify();else{a=this.areaTool_=new Kd(this.map_);a.onClose.add(this.drawCheck.bind(this));a.activate();this.overlays_.push(a);this.workingTool_=a;p.click("control","area");this.onClickTool.notify()}};ta.prototype.radius_=function(a){this.deactive_();var b=this.isRadius();if(this.workingTool_){this.workingTool_.close();this.workingTool_=null}if(b)this.onComplete.notify();
else{b=this.radiusTool_=new Td(this.map_);b.onClose.add(this.drawCheck.bind(this));b.activate();this.overlays_.push(b);this.workingTool_=b;!a&&p.click("control","radius");this.onClickTool.notify()}};ta.prototype.newPlace_=function(){this.deactive_();var a=this.isNewPlace();if(this.workingTool_){this.workingTool_.close();this.workingTool_=null}if(a){this.newPlaceDeactive();this.onComplete.notify()}else{a=this.newPlaceTool_=new Sd(this.map_,this.newPlaceChannel_,this.newPlaceQuery_);a.closeCallback(this.handleRightclick.bind(this));
a.activate();this.newPlaceActive();this.overlays_.push(a);this.workingTool_=a;p.click("control","newplace");this.onClickTool.notify()}};ta.prototype.isDistance=function(){return this.workingTool_ instanceof Ld};ta.prototype.isArea=function(){return this.workingTool_ instanceof Kd};ta.prototype.isRadius=function(){return this.workingTool_ instanceof Td};ta.prototype.isNewPlace=function(){return this.workingTool_ instanceof Sd};ta.prototype.isToolActivate=function(){return!!this.workingTool_};ta.prototype.drawCheck=
function(){var a=false;this.overlays_.some(function(b){typeof b=="object"&&(b.isAlive&&b.isAlive())&&(a=true)});jQuery(".MapControlView .tools").toggleClass("tools-CLEAR",a)};ta.prototype.openNewPlaceByQuery=function(a,b){Application.fiyFrameController.open({type:"newPlace",channel:a?a:"ICON_NEWPLACE",rawInfo:{query:b||""}})};ta.prototype.newPlaceActive=function(){jQuery(".MapControlView .add_place").addClass("active_tool")};ta.prototype.newPlaceDeactive=function(){jQuery(".MapControlView .add_place").removeClass("active_tool")};
ta.prototype.clear=function(){this.deactive_();this.clear_();this.workingTool_=null};ta.prototype.clear_=function(){Application.roadviewController.close();Application.infoWindowManager.close();Application.keywordSearchController.getActive()&&Application.keywordSearchController.reset();Application.flagSearchController.getActive()&&Application.flagSearchController.reset();Application.busSearchController.getActive()&&Application.busSearchController.reset();Application.aoiManager.clearAll();Application.mainMapController.tileClear();
this.localPlatformAdController_.clear();this.onReset.notify(null)};ta.prototype.overlaysClear=function(){this.overlays_.forEach(function(a){a.close()});this.overlays_.length=0;this.workingTool_=null};ta.prototype.handleClick=function(a){if(this.workingTool_){this.newPlaceDeactive();this.workingTool_.handleClick(a);return true}return false};ta.prototype.handleUndoKeydown=function(){if(this.workingTool_&&this.workingTool_.undo){this.workingTool_.undo();return true}return false};ta.prototype.handleRightclick=
function(a){if(this.workingTool_){this.workingTool_.freeze(a);this.workingTool_=null;this.deactive_();this.newPlaceDeactive();this.onComplete.notify();this.drawCheck();return true}return false};ta.prototype.getStaticImageParams=function(a,b){var c=Application.mainMapController.getUrlObject(),d=this.map_.getCenter(),e=Application.mainMapController.getHistory(),f=Application.mainMapController.mapTypeControl_.isHybridActive(),g=d.getX()|0,d=d.getY()|0,c={SCALE:c.scale,MX:g,MY:d,type:this.map_.isRoadmap()?
"roadmap":f?"hybrid":"skyview",S:"0",IW:a,IH:b,LANG:"0",COORDSTM:"WCONGNAMUL",logo:"kakao_logo"};if(e)c.YEAR=e.toString().replace(/^\d\d/,"");return c};ta.prototype.saveMap=function(a,b){var c=null,d=null,c=typeof a!="undefined"?a:h.$("view.map").getWidth(),d=typeof b!="undefined"?b:h.$("view.map").getHeight();c>2048&&(c=2048);d>2048&&(d=2048);c="./saveMap.jsp?"+jQuery.param(this.getStaticImageParams(c,d));location.href=c};define("controller/MapToolController","map/Map controller/BusSearchController controller/FiyFrameController controller/LocalPlatformAdController dom/forefront controller/ShareController".split(" "),
H(ta));"use strict";define("controller/MapappController",["jquery","dom/forefront","core/PaneFactory"],function(a,b,c){var d=c.create("Mapapp");a("#mapapp").click(function(){b.create(d,{closer:".close"})})});Cb.prototype.setActive=function(a){a=!!a;if(this.active_!=a){this.active_=a;this.onActive.notify(null)}return this};Cb.prototype.getActive=function(){return this.active_};define("controller/NoticeController",["options","dom/forefront"],H(function(a,b){function c(a,b,c){var d=false;if(b==void 0)jQuery.cookie("noNotice"+
a.id)!=1&&(d=true);else{c=c||1;b?jQuery.cookie("noNotice"+a.id,1,{expires:0}):jQuery.cookie("noNotice"+a.id,1,{expires:c});d=b}return d}function d(){var a=F("noticePopup"),d=b.create(a);a.$("close").click(function(){c(e,false,14);d.hide()});a.appendTo("body");d.show()}var e={id:2};a.notice_popup=="Y"&&c(e)&&d()}));define("controller/PoiController",["map/Map","map/InfoWindowManager","map/MapTypeControl","controller/IndoorMapController"],H(function(a,b,c,d){function e(){var b=a.getBounds(),b={minx:b.getSouthWest().getX(),
miny:b.getSouthWest().getY(),maxx:b.getNorthEast().getX(),maxy:b.getNorthEast().getY(),level:a.getLevel()};rc.findAll(b,g)}function f(b){var c=12&0.3125*(1<<a.getLevel());return Ya(b.map(function(a){if(a.points)return a.points;var b=a.coords.getX(),d=a.coords.getY(),a=b-c,e=d-c,b=b+c,d=d+c;return[a,e,a,d,b,d,b,e]}))}function g(a){var b=a.places;if(b.length){s=b;u=f(b)}else{s.length=0;u=Ya([])}b=a.addresses;if(b.length){w=b;C=f(b)}else{w.length=0;C=Ya([])}b=a.busStops;if(b.length){O=b;I=f(b)}else{O.length=
0;I=Ya([])}a=a.subwayStations;if(a.length){t=a;Y=f(a)}else{t.length=0;Y=Ya([])}}function j(e){var f=a.getMapTypeId(),g=false;c.isIndoorActive()&&d.checkPolygonAreaContainPoint(e)&&(g=true);if(f!=daum.maps.MapTypeId.SKYVIEW&&!g||f==daum.maps.MapTypeId.SKYVIEW&&c.isHybridActive()){o=e;f=I.findAt(e.getX(),e.getY());if(f=O[f]){k(f);return true}f=Y.findAt(e.getX(),e.getY());if(f=t[f]){e=new Xa(new Wa(f));b.createSubwayStation(e);p.click("map","poiclick_subway");return true}f=u.findAt(e.getX(),e.getY());
if(f=s[f]){l(f);return true}f=C.findAt(e.getX(),e.getY());if(f=w[f]){h(f);return true}}return false}function l(c){c.confirmid&&qa.findPlace(c.confirmid,function(c){if(c){b.createPlace(c,o);p.click("map","poiclick");z.logMapLabel(c.coords,Application.localInfoController.getHCodeForLog(),c.id,{level:a.getLevel(),maptype:a.isRoadmap()?"MAP":"SKYVIEW"})}})}function h(){require("server").getJibunShape({x:o.getX(),y:o.getY()},function(a){var c=new Ma(a);c.zonenum=a.text("new_zipcode");c.oldname=a.text("old.name");
c.otherName=a.text("old.name");c.key=a.text("docid");b.createAddress(c,o)});p.click("map","poiclick_address")}function k(a){if(a.id){if(a.grouped){var c=new me;c.id=a.id;c.coords=new daum.maps.Coords(a.x,a.y);b.createBusStopGroup(c)}else ga.find(a.id,function(a){a.id&&b.createBusStop(a)});p.click("map","poiclick_busstop")}}function v(a,b){if(r==b.x&&x==b.y)return q;var c=[I,Y,u,C].some(function(b){return!!(b.findAt(a.getX(),a.getY())>=0)});r=b.x;x=b.y;q=c;G.notify(c);return c}var o=null,r=0,x=0,q=
false,s=[],u=Ya([]),w=[],C=Ya([]),O=[],I=Ya([]),t=[],Y=Ya([]),G=this.onOver=new n;daum.maps.event.addListener(a,"idle",xb(250,e).trigger);e();this.handleClick=function(a){return j(a)};this.compareRange=function(a,b){return v(a,b)}}));"use strict";define("controller/PoiTileController",["map/Map","map/InfoWindowManager","map/MiniTooltipManager","map/MapTileManager"],H(function(a,b,c,d){function e(a,b,c){var d=c,c=c+5;return d>=0&&-7488>>c<=a&&a<=68E4>>c&&-102176>>c<=b&&b<=635E3>>c}function f(){d.set("theme",
true)}function g(){l();if(s){O=true;if(I){d.set("theme",false);G()}}else j()}function j(){O=false;C=s=null;I&&d.set("theme",false)}function l(){for(var a in y)y.hasOwnProperty(a)&&delete y[a];y={}}function h(a){var b={};b.id=a.text("ID");b.name=a.text("NAME");b.category=a.text("CATE")||"";b.coords=new daum.maps.Coords(a.number("x"),a.number("y"));return b}function k(b){if(O&&I){var c=b.getX(),b=b.getY(),d=a.getLevel(),f=1<<d;B=f;var g=(b*3.2+48E4)/f,f=parseInt((c*3.2+24E4)/f/256,10),g=parseInt(g/
256,10);if(f<0||g<0||!e(f,g,d))return false;var j=d+"_"+f+"_"+g;if(y[j])A=y[j];else if(E!=d||K!=f||Z!=g){E=d;K=f;Z=g;var l=require("url").TILE_SEARCH_IMG_NET+"/tmap/"+u+"/L"+d+"/"+g+"/"+f+".png?output=jsonp";jQuery.ajax(l,{data:s,timeout:5E3,dataType:"jsonp",jsonpCallback:"L"+d+"_"+g+"_"+f,cache:true,success:function(a){y[j]=(new Wa(a)).array("value").map(h)}})}return x(c,b)}return false}function v(a){if(a&&aa){b.createPlace(a);t=a}}function o(a){if(a&&aa){b.createBusStop(a);t=a}}function r(a){N.setImage(a===
"nb"?H:a==="nr"?D:ua)}function x(b,c){var d=null;A.forEach(function(a){var e=a.coords.getX(),f=a.coords.getY(),g=1.8*B;b>e-g&&(b<e+g&&c>f-g&&c<f+g)&&(d=a)});if(d){if(!aa||aa&&d.id!=aa.id){N.setPosition(d.coords);N.setMap(a);aa=d;q(true)}}else{N.setMap(null);aa=null;q(false)}Y.notify(!!d);return!!d}function q(a){if(a&&aa){if(!t||+aa.id!=+t.id){c.openDot();c.createDot(aa)}}else c.closeDot()}var s="",u="",w="",C=null,O=false,I=true,t=null,Y=this.onOver=new n;daum.maps.MapTypeId.THEME||daum.maps.Tileset.add("THEME",
new daum.maps.Tileset(256,256,function(a,b,c){return!e(a,b,c)?"":require("url").TILE_SEARCH_IMG_NET+"/tmap/"+u+"/L"+c+"/"+b+"/"+a+".png?"+s}));d.setId("theme",daum.maps.MapTypeId.THEME);var G=xb(500,f).trigger;this.setOptions=function(a){setOptions_(a)};this.setKeywordTile=function(a){a.dimg="ns";r(a.dimg);a=jQuery.param(a);if(s!==a){s=a;u="msearch";w="keyword";g()}};this.setThemeTile=function(a){if(a.dimg){r(a.dimg);s=jQuery.param(a);u=a.themeId==="busStop"?"bsearch":"msearch";w="theme";g()}};this.clearTile=
function(){j()};this.setVisible=function(a){(I=a)&&O?f():d.set("theme",false)};this.setKeywordTileDssObj=function(a){C=a};var E=null,K=null,Z=null,A=[],y={};daum.maps.event.addListener(a,"zoom_changed",l);var B=0,aa=null;b.onClose.add(function(){t=null});var F={offset:new daum.maps.Point(5,5),spriteSize:new daum.maps.Size(8,8),spriteOrigin:new daum.maps.Point(-1,-1)},D=new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2018/img/exsearch-ico-red8_hover.png",new daum.maps.Size(10,10),
F),H=new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2018/img/exsearch-ico-blue8_hover.png",new daum.maps.Size(10,10),F),ua=new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2018/img/exsearch-ico-search-hover.png",new daum.maps.Size(10,10),F),N=new daum.maps.Marker({position:null,image:D,clickable:false});this.compareRange=function(a,b){return k(a,b)};this.handleClick=function(){var a;if(aa){if(u=="bsearch")ga.find(aa.id,o);else{qa.findPlace(aa.id,v);if(w=="keyword"){p.click("control",
"dotsearch_dotclick");if(C){a={confirmid:aa.id,tab:C.tab,in_map:C.in_map,sorttype:C.sorttype};if(C.cidx!=void 0)a.cidx=C.cidx;z.log("tile_circle_click",C.q,a)}}}p.click("dotsearch","dotclick");c.close();a=true}else a=false;return a};this.showMiniTooltip=function(a){q(a)};this.getTileInfo=function(){return{imgPath:u,paramStr:s}}}));define("controller/ProfileController",["controller/AuthController"],H(function(a){var b=this.onChange=new n,c=null;b.add(function(a){c=a});this.loadInfo=function(d){a.isLogin()&&
Tc.getInfo(function(a){if(a.text("status.code")==="SUCCESS"){c=a.object("result");b.notify(c);typeof d==="function"&&d(c)}})};this.getInfo=function(){return c}}));Fb.prototype.add=function(a){this.buttons_.push(a);a.onClick.add(this.clickButton_,this)};Fb.prototype.setActive=function(a){if(!this.buttons_[a].getActive()){this.setActiveWithoutFeedback(a);this.onChange.notify(a)}};Fb.prototype.clickButton_=function(a){var b=this.buttons_.indexOf(a.currentPanel);console.assert(b>=0);this.buttons_.forEach(function(a,
d){d!=b&&a.setActive(false)});this.onChange.notify(b)};Fb.prototype.setActiveWithoutFeedback=function(a){console.assert(this.buttons_[a]);this.buttons_.forEach(function(b,c){b.setActive(c==a)})};Fb.prototype.getButtonLength=function(){return this.buttons_.length};define("controller/RelatedAddressController",["jquery","model/RelatedAddress","view/RelatedAddressView"],function(a,b,c){function d(a,b,c){l[a]=l[a]||{};l[a][b]=c}function e(a){j.notify(a)}function f(){g.notify()}var g=new n,j=new n,l={};
return{init:function(){l={}},newList:function(a,c){var e,f,g=c.dataType,j=[];if(g==1||g==2){e="new";f="\ub3c4\ub85c\uba85"}else{e="old";f="\uc9c0\ubc88"}var l=c.relatedPrefixAddress||"";a.split(";").forEach(function(a){j.push(new b(a,e,f,l))},this);d(c.id,"parent",c);return j},renderItem:function(a,b){var g=new c(a,b);g.onItemClick.add(e);g.onFolderClick.add(f);d(b.id,"view",g);return g},onFolderClick:g,onItemClick:j}});define("controller/RelatedKeywordController",["jquery"],function(a){function b(){var b=
a(this).data("keyword");k.notify(b);c({sub_q:b})}function c(b){b=a.extend({main_q:f},b);z.log("related_search_q",null,b)}function d(){l.show();h.hide();j.removeClass(e)}var e="showMore",f=null,g=[],j=a("#info\\.related\\.keyword"),l=j.find(".more.closed"),h=j.find(".more.opened"),k=new n;l.on("click",function(){a(this).hide();h.show();j.addClass(e)});h.on("click",function(){d()});return{render:function(a){var d=a.relkey,e=j.find(".wrapKeywords"),k=[];if(d){f=a.getKeyword();c();g=d.split(",");g.forEach(function(a){k.push('<a href="#" data-keyword="'+
a+'">'+a+"</a>")});k=k.join(", ");e.html(k);e.find("a").on("click",b);j.show();e.height()>38&&l.show()}else f=null},show:function(){j.show()},hide:function(){j.hide();d()},onSubClick:k}});define("controller/ReviewController",["controller/AuthController","view/ReviewListView"],H(function(a,b){function c(a){if(!j){j=true;var b={order:v};if(q)b.mapUserId=x;if(o===1)k=[];else if(a){k.splice(Math.floor((o-1)/l)*l*h);if(k.length>0)b.reviewIndex=k[k.length-1].reviewId}else if(o%l===1&&k.length%h===0)b.reviewIndex=
k[k.length-1].reviewId;else{j=false;return}require("server").reviewList(b,d,function(){j=false})}}function d(a){if(t.isSuccess(a)){var b=a.find("result.reviews")?a.find("result.reviews").map(function(a){return a.raw()}):[];k=k.concat(b);r=a.number("result.reviewCount");e()}j=false}function e(){var a=k.slice((o-1)*h,o*h);b.setList(a,{pages:{total:r/h,index:o},filterData:{count:r,selectedSortType:v,sortNameList:{UPDATE:"\uc5c5\ub370\uc774\ud2b8\uc21c",PLACE_NAME:"\uc774\ub984\uc21c",STAR_RATING:"\ud3c9\uc810\uc21c"}},
isOtherPage:q});require("log/Tiara").log("/fake/"+(q?"other_review":"my_review"))}fa(this,Cb);this.onActive.add(function(){if(this.getActive())if(a.isLogin()){o=1;c()}else f.notify()},this);var f=this.onFail=new n,g=this.onClick=new n;b.onClickItem.add(function(a){g.notify(a)});b.onRemoveItem.add(function(a){a="?"+jQuery.param(a);require("server").reviewDelete({addParamData:a},function(a){if(t.isSuccess(a)){alert("\ud3c9\uac00\uac00 \uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");c(true)}})});b.onClickSort.add(function(a){p.click(q?
"other":"my",["review","sort",{UPDATE:"by_updatedtime",PLACE_NAME:"by_name",STAR_RATING:"by_score"}[a]]);v=a;o=1;c()});b.onClickPage.add(function(a){o=a;Math.ceil(k.length/h)<o?c():e()});b.onLikeItem.add(function(b){if(a.isLogin()){var c="?"+jQuery.param(b.param);require("server").reviewLike({addParamData:c},function(a){t.isSuccess(a)&&typeof b.callback==="function"&&b.callback()})}else{p.click("login",["other","review_like"]);a.request()}});b.onReportItem.add(function(b){if(a.isLogin())A.open("/report/popup"+
b.querystring,"review_report","width=412,height=455");else{p.click("login",["other",b.type+"_report"]);a.request()}});var j=false,l=5,h=15,k=[],v="UPDATE",o=1,r=0,x=null,q=false;this.refreshList=c;this.setMapUserId=function(a){q=!!a;x=a||null}}));X.prototype.createRoadview_=function(a){var b=require("url"),a={streetJsonUrl:b.STV_MAPS_DAUM_NET+"/roadview-search/searchNodeInfo.do?TYPE=w&OUTPUT=json&ID=",aroundJsonUrl:b.STV_MAPS_DAUM_NET+"/roadview-search/searchNodeInfo?SEARCH_TYPE=2&TYPE=w&OUTPUT=json",
storeviewInfoTagUrl:b.STV_MAPS_DAUM_NET+"/roadview-search/storeviewinfotag?output=jsonp&detail=Y&storePanoId=",mapSearchPoiApiUrl:b.LOCAL_SEARCH_DAUM_NET+"/theme.daum?category=Y&sort=2&cpage=1&page_size=15&service=roadview",serviceName:"local",pastStreetToolbar:"true",pastStreetVersion:a||"0",titlebar:"true",viewerUrl:b.ROADVIEW_SWF||"",roadviewAR:true,imageQuality:1,showBuildingInfoPopup:"true",showBuildingInfoTooltip:"true",showLandMark:"true",showAroundInfoBar:"true"};if(b.STOREVIEWDATAFLASH)a.storeviewXmlUrl=
b.STOREVIEWDATAFLASH;b=new daum.maps.Roadview(this.panel_.getElement(),a);daum.maps.event.addListener(b,"panoid_changed",this.moved_.bind(this));daum.maps.event.addListener(b,"viewpoint_changed",this.panChanged_.bind(this));X.flashCallback={onChangedFindwaySequence:this.checkpoint_.bind(this),roadviewDss:this.tiara_.bind(this),callMapJS:this.roadViewToolbar_.bind(this)};jQuery.extend(b.getBridge(),X.flashCallback);this.station_=new Ve(b,new Ue(b),this.stationInfoChanged_.bind(this));daum.maps.event.addListener(b,
"init",this.successFlashView.bind(this));return b};X.prototype.viewer_=function(){return this.normalRoadview_};X.prototype.active_=!1;X.prototype.getActive=function(){return this.active_};X.RADIUS=[30,40,50,70,100,150,250,350,450,900,1800,3600,7200,14400,28800];X.prototype.didDecoratorResize_=function(){if(this.viewer_()&&this.active_){this.viewer_().relayout();document.body.className=document.body.className+" ";var a=this.viewer_().getPosition();(a.getX()||a.getY())&&this.map_.setCenter(a)}};X.prototype.showNearby=
function(a,b){var c=require("view/FlashPlayerDownloadView");c.onClick.add(function(){this.clickFlashDownloadBtn({coords:a})}.bind(this));if(this.viewer_()){swfobject&&swfobject.ableflash&&c.show();this.walker_.setPosition(a);this.walker_.getState()&&this.walker_.release();this.client_.getNearestPanoId(a,b||X.RADIUS[this.map_.getLevel()]||X.RADIUS[0],this.jump_.bind(this,a));this.lastMarkerVisibleState_=3}else c.show()};X.prototype.openRoadview_=function(a){if(this.failed_){this.normalRoadview_.remove();
this.successView_=this.failed_=false;try{this.normalRoadview_=this.createRoadview_()}catch(b){}}Application.infoWindowManager.close();this.successView_||this.setFailTimer_();h.$("view").addClass("View-ACTIVE");if(!this.active_){if(a){this.lastCenter_=this.map_.getCenter();this.lastLevel_=this.map_.getLevel()}this._lastMarker.set(null);this.isStoreView_||Application.mainMapController.setRoadviewLineActive(true);this.panel_.removeClass("roadview-HIDDEN");this.panel_.show();this.viewer_().show();this._doRoadviewLayout();
this._windowController.updateHeight();Application.busLineController.closeLayer();this.active_=true;this.onShow.notify();this.escapeZoomLevel=this.map_.getLevel();this.map_.setLevel(3);require("log/Tiara").log("/fake/roadview_showViewer")}};X.prototype._doRoadviewLayout=function(){this.routing_&&!this.storeView_?this._viewLayout.setRoadviewWithWideMap():this._viewLayout.setRoadviewWithMiniMap();this.map_.setKeyboardShortcuts(false);this.walker_.setFloat(false)};X.prototype.stationInfoChanged_=function(a){var b=
this.station_.isActive(),c=this.station_.getInfo();if(b)if(c.type=="AREA_STORE"){this.storeName_=c.name||"\uc2a4\ud1a0\uc5b4\ubdf0";this._viewLayout.setRoadviewOnly();this.isStoreView_=true}else{this.subwayOverViewer.onSubwayEnter(c);this.subwayOverViewer.onSubwayMove(c);this.panChanged_();a=="enterArea"?p.click("roadview","enterstation"):a=="changedStation"&&p.click("roadview","changedStationMapPosition")}else if(c.type=="AREA_STORE"){Application.mainMapController.setRoadviewLineActive(true);this._viewLayout.setRoadviewWithMiniMap();
this.isStoreView_=false}else this.subwayOverViewer.onSubwayLeave()};X.prototype.panChanged_=function(){if(this.getActive()){var a=this.station_.getInfo(),b=this.viewer_().getViewpoint().pan;if(a&&a.type=="station")this.subwayOverViewer.onWalkerRotate(b);else this.walker_.setPan(b)}};X.prototype.isActivated=function(){return this.panel_.getVisible()};X.prototype.closeRoadview_=function(){if(this.active_){var a=this.walker_.getPosition();this._viewLayout.setMapOnly();this.map_.setKeyboardShortcuts(true);
this.searchBarEl.removeClass("HIDDEN");this.viewer_().hide();h.$("localInfo").show();this.walker_.setFloat(true);if(this.lastCenter_){this.map_.setCenter(this.lastCenter_);this.map_.setLevel(this.lastLevel_);this.lastCenter_=null}else this.map_.setCenter(a);Application.mainMapController.setRoadviewLineActive(false);this.onCloseRoadview.notify();this.success=this.active_=false;this.stopTimer_=null;if(!Application.mainMapController.isRoadviewActive()&&this.lastMarkerVisibleState_==3){this.lastData_=
this.viewer_().send("getAreaId")||{panoId:this.viewer_().getPanoId(),pan:0,tilt:0,zoom:0,coords:this.viewer_().getPosition()};this._lastMarker.set(this.viewer_().getPosition());this._lastMarker.setTitle(this.isStoreView_?"\uc774\uc804 \uc2a4\ud1a0\uc5b4\ubdf0 \uc9c0\uc810":"\uc774\uc804 \ub85c\ub4dc\ubdf0 \uc9c0\uc810");this.walker_.setPosition(this.viewer_().getPosition())}this.lastMarkerVisibleState_=0;this.map_.setLevel(this.escapeZoomLevel)}};X.prototype.jump_=function(a,b){this.showStartLog_&&
z.logRoadview("start_roadview",b||0,a,Application.localInfoController.getHCodeForLog());this.showStartLog_=false;if(b){this.openRoadview_();this.viewer_().setPanoId(b,a)}else if(this.getActive())this.walker_.setPosition(this.viewer_().getPosition());else if(this.walker_.getVisible()){this.walker_.setFloat(true);this.map_.panTo(a)}};X.prototype.moved_=function(){switch(this.lastMarkerVisibleState_){case 2:this.lastMarkerVisibleState_=3;break;case 0:this.lastMarkerVisibleState_=this.isStoreView_?1:
2;break;case 1:if(this.active_)this.lastMarkerVisibleState_=2}if(this.getActive()){var a=this.viewer_().getPosition();this.map_.setCenter(a);this.walker_.setFloat(false);this.walker_.setPosition(a)}};X.prototype.show=function(a,b){var c=require("view/FlashPlayerDownloadView");c.onClick.add(function(){this.clickFlashDownloadBtn({panoid:a.panoId,coords:a.coords})}.bind(this));if(this.viewer_()){swfobject&&swfobject.ableflash&&c.show();this.nodeClickLog=false;this.openRoadview_();b&&this._viewLayout.setRoadviewOnly();
this.viewer_().setPanoIdAndViewpoint(a.panoId,a,a.coords);this.walker_.release();this.walker_.show();this.walker_.setFloat(false);this.walker_.setPosition(a.coords);this.map_.setCenter(a.coords)}else c.show()};X.prototype.close=function(){this.closeRoadview_();this.subwayOverViewer.hide();this.isStoreView_=false};X.prototype.removeLastMarker=function(){this._lastMarker&&this._lastMarker.set(null)};X.prototype.copy=function(){this.copyOpen_()};X.prototype.scrap=function(){var a=document.flash_scrap_form;
ob("",560,570,{name:"roadviewScrap"});var b=this.getScrapData_();a.elements.panoid.value=b.panoId;a.elements.pan.value=b.pan;a.elements.tilt.value=b.tilt;a.elements.panoX.value=b.panoX;a.elements.panoY.value=b.panoY;a.elements.caption.value=b.caption||"";a.elements.storeId.value=b.storeId||"";a.method="post";a.action="./etc/roadviewScrap.jsp";a.target="roadviewScrap";a.submit()};X.prototype.getScrapData_=function(){if(this.viewer_()){var a=this.map_.getCenter(),b=this.viewer_().getViewpoint(),c=this.station_.getInfo(),
a={caption:c.type=="station"?c.name+"\uc5ed":c.address,panoX:a.getX()|0,panoY:a.getY()|0,panoId:this.viewer_().getPanoId(),pan:b.pan|0,tilt:b.tilt|0,zoom:b.zoom};if(this.viewer_().send("getAreaType")=="AREA_STORE"){a.storeId=this.viewer_().send("getAreaId");a.caption=this.storeName_}a.caption=encodeURI(a.caption);return a}};X.prototype.clickFlashDownloadBtn=function(a){var a=a||{},b=this.shareController.createParam();if(a.store)b.store=a.store;else if(a.panoid)b.panoid=a.panoid;else if(a.coords){b.panoid=
0;b.urlX=a.coords.getX();b.urlY=a.coords.getY()}delete b.itemId;delete b.busStopId;delete b.busInfoId;a=location.href.replace(/\?.*/,"").replace(/#(none)*$/,"")+"?"+jQuery.param(b);A.history.replaceState({},"",a)};X.prototype.setUrl=function(a){this.viewer_().send("getAreaType")=="AREA_STORE"?a.store=this.viewer_().send("getAreaId")+"_"+this.viewer_().send("getPanoId"):a.panoid=this.viewer_().getPanoId();var b=this.viewer_().getViewpoint();a.pan=b.pan.toFixed(1);a.tilt=b.tilt.toFixed(1);a.zoom=b.zoom};
X.prototype.copyOpen_=function(){this.shareController.show();p.click("roadview","viewer_url")};X.prototype.setWalkerVisible=function(a,b){a&&Application.infoWindowManager.close();a?b?this.walker_.hold():this.walker_.show():this.walker_.hide();this.walker_.setFloat(true)};X.prototype.setSubwayPanoId=function(a){this.viewer_().setPanoId(a)};X.prototype.showTooltip=function(){var a=h.$("roadviewInfoBox.tool.info");if(this.viewer_().getTooltip()){a.removeClass("infoActive");a.addClass("info");this.viewer_().setTooltip(false)}else{a.removeClass("info");
a.addClass("infoActive");this.viewer_().setTooltip(true)}p.click("roadview","viewer_poi_onoff")};X.prototype.updateFavorites=function(){this.viewer_()&&this.viewer_().send("refreshBookmark")};X.prototype.addFavorite_=function(a,b){var c=["place","busstop","busstopline","busline","roadview","storeview","subwaystation"];if(this.viewer_()&&jQuery.inArray(b.type,c)!==-1){var d;if(b.type=="busstop")ga.find(b.itemid,function(b){if(b.id){d=t.createFromBusStop(b);a.add(d)}});else if(b.type=="busstopline"){var e=
b.itemid.split("@");e.length==2&&e[0]&&ga.find(e[0],function(b){if(b.id){d=t.createFromBusStopAndBusLine(b,{id:e[1]});a.add(d)}})}else if(b.type=="place")qa.findPlace(b.itemid,function(b){if(b){d=t.createFromPlace(b);a.add(d)}});else if(b.type=="subwaystation"){var f=new Xa;f.id=b.itemid;f.fetchDetail(function(){if(f.isLoaded()){d=t.createFromPlace(f);a.add(d)}})}else if(b.type=="busline")U.findBusLine(b.itemid,function(b){if(b.id){d=t.createFromBusLine(b);a.add(d)}});else if(b.type=="storeview"||
b.type=="roadview"){var c=this.map_.getCenter(),g=this.viewer_().getViewpoint();d={x:c.getX()|0,y:c.getY()|0,pan:g.pan|0,tilt:g.tilt|0,zoom:g.zoom|0};if(this.viewer_().send("getAreaType")=="AREA_STORE"){d.type="storeview";d.key=this.viewer_().send("getAreaId");d.spot_id=this.viewer_().send("getPanoId");d.display1=this.storeName_}else{c=this.station_.getInfo();d.type="roadview";d.key=this.viewer_().getPanoId();d.display1=c.type=="station"?c.name+"\uc5ed":c.address}d.type&&a.add(d)}}};X.prototype.removeFavorite_=
function(a,b){var c=null;if(b.type&&b.itemid){c={type:b.type,key:b.itemid};if(b.type=="busstopline"){var d=b.itemid.split("@");c.key=d[0];c.buslines=d[1]}a.remove(c)}};X.prototype.setViewpointWithMarker=function(a,b,c,d,e,f){var e=b.markerImgUrl||"",g=b.markerType||"",j=b.index||0;!e&&!g&&(e="https://t1.daumcdn.net/localimg/localimages/07/2018/pc/marker_p.png");var l=require("view/FlashPlayerDownloadView");l.onClick.add(function(){this.clickFlashDownloadBtn({panoid:a.panoId,coords:a.coords})}.bind(this));
if(this.viewer_()){swfobject&&swfobject.ableflash&&l.show();this.openRoadview_(f);f=a.coords;this.lastMarkerVisibleState_=this.viewer_().getPanoId()==a.panoId?2:0;this.viewer_().setViewpointWithMarker(a.panoId,f.getX(),f.getY(),{id:b.id,storeId:b.storeview,northPan:c,tilt:d,imageUrl:e,markerType:g,markerIndex:j,label:b.name,confirmid:b.id,phone:b.phone[0]||"",address:b.address,grade:b.star,vote:b.vote,reviewCount:b.review,comment:b.desc,LAST_CATE_DEPTH:1,CATE_NAME_DEPTH1:b.category||"",last_cate_name:b.category||
"",poiImageUrl:b.imgsrc,poiNewAddress:b.newAddress,source:b.sourceName});this.walker_.setFloat(false);this.walker_.setPosition(f);f.getX()!=0&&f.getY()&&f&&this.map_.setCenter(f)}else l.show()};X.prototype.changePan_=function(){var a=this.viewer_().getViewpoint();a.pan=this.walker_.getPan();this.viewer_().setViewpoint(a)};X.prototype.tiara_=function(a,b){switch(a){case "i_flash_player_version":a=a+b.replace(/\s+/g,"").replace(/,/g,"_");break;case "i_smartJump_FPHS":a=a.replace("FPHS",b)}p.click("roadview",
a)};X.prototype.setRouteData=function(a,b){if(b||!(this.routingData_&&this.routingData_.type!=a)){var c=b?{timestamp:Date.now(),type:a,data:b}:null;this.routingData_=c;if(this.viewer_())this.viewer_().getBridge().getFindwayData=function(){return c};this.routing_=!!b}};X.prototype.checkpoint_=function(a){if(this.nodeClickLog){var b=this.viewer_().getPosition(),c=this.viewer_().getPanoId();z.logRoadview("node_click_rv",c,b,Application.localInfoController.getHCodeForLog(),{route_type:this.routingData_.type})}this.nodeClickLog=
true;this.onCheckpoint.notify(a)};X.prototype.roadViewToolbar_=function(a,b){var c=null;switch(a){case "bookmark":this.addFav_(b);break;case "urlcopy":this.copy();break;case "embedcopy":this.scrap();break;case "close":this.fiyFrameController_.isActivated()||this.close();c=this.map_.getMapTypeId();this.map_.isRoadmap()?require("log/Tiara").log("/fake/imagemap"):c==daum.maps.MapTypeId.HYBRID?c==daum.maps.MapTypeId.HYBRID__||c==daum.maps.MapTypeId.SKYVIEW__?require("log/Tiara").log("/fake/skyview"):
require("log/Tiara").log("/fake/pastview"):c==daum.maps.MapTypeId.HYBRID__||c==daum.maps.MapTypeId.SKYVIEW__?require("log/Tiara").log("/fake/skyview_hybridoff"):require("log/Tiara").log("/fake/pastview_hybridoff");break;case "report":var c=this.viewer_().getViewpointWithPanoId(),d={};if(b.type=="building"||!b.id){d={type:"roadview",rawInfo:{panoX:b.x,panoY:b.y,panoId:c.panoId,pan:c.pan,tilt:c.tilt,zoom:c.zoom}};if(b.type=="building"){p.click("roadview","tooltip_building_fiy");d.rawInfo.roadviewFrom=
"building"}else{p.click("roadview","fiy");d.rawInfo.roadviewFrom="fiybtn";d.channel="LABEL_TOP"}}else if(b.type=="busstop"){ga.find(b.id,function(a){a.id&&this.fiyFrameController_.openCustomerRequest({channel:"FROM_ROADVIEW",coords:a.coords,busStopId:a.id,rawData:a.rawData})},this);p.click("roadview","tooltip_busstop_fiy")}else if(b.type=="theme_subway"){d={type:"subway",rawInfo:{roadviewFrom:"subway",id:b.id}};p.click("roadview","tooltip_subway_fiy")}else{d={type:"updatePlace",rawInfo:{roadviewFrom:b.type||
"innerBuilding",id:b.id},channel:"TOOLTIP_PLACE"};p.click("roadview","tooltip_place_fiy")}if(!d.channel)d.channel="FROM_ROADVIEW";d.rawInfo&&this.fiyFrameController_.open(d);break;case "waypoint":this._windowController.setCollapse(false);this.onWaypoint.notify({type:b.type,coords:new daum.maps.Coords(b.x,b.y),name:b.name?unescape(b.name):void 0});break;case "showLogin":this.authController_.request();break;case "allBusLine":this.close();c=Application.busSearchController;c.setActive(true);c.findByOne(b.BUSLINE);
break;case "closeFrame":this._frameDecorator.collapse();break;case "openFrame":this._frameDecorator.expand();break;case "alert":alert(unescape(b.message||""));break;case "favoriteList":var e=null;if(A.Application)if(e=Application.favoriteController.getFavoriteIdMap()){var f=[];["place","busstop","busstopline","busline","roadview","storeview","subwaystation"].forEach(function(a){e[a]&&Object.keys(e[a]).forEach(function(b){var c={type:a,itemid:b,count:0};e[a][b].forEach(function(d){c.id=d.seq;c.count++;
a==="busstop"&&d.busLines&&d.busLines.split(",").forEach(function(a){f.push({type:"busstopline",itemid:b+"@"+a,count:1})})});c.count>0&&f.push(c)})})}return f||[];case "removeFavorite":case "addFavorite":c=this.addFavorite_.bind(this);d=[b.type];b.type==="roadview"||b.type==="storeview"?d.push(b.type+"_viewer"):d.push("roadview_viewer");p.click("favorite",d);if(A.Application){d=Application.favoriteController;d.openLoginPopup()?c(d,b):p.click("login",[b.type,"add_favorite"])}break;case "logging":b&&
b.length>1&&p.click("viewer",b)}};X.prototype.showStoreView=function(a,b,c,d,e){this.isStoreView_=true;var f=require("view/FlashPlayerDownloadView");f.onClick.add(function(){this.clickFlashDownloadBtn({store:a+(b?"_"+b:"")})}.bind(this));if(this.viewer_()){swfobject&&swfobject.ableflash&&f.show();this.openRoadview_(d);this._viewLayout.setRoadviewOnly();this.viewer_().setStoreId(a,b||0);c&&this.viewer_().setViewpoint(c);this.lastMarkerVisibleState_=e?3:0;this.map_.setLevel(3)}else f.show()};X.prototype.initFailFlashLayer_=
function(){var a=h.$("failFlashMap.close"),b=h.$("failflash");b.setVisible(false);h.$("failFlashMap.mapview").hide();h.$("failFlashMap.close").hide();a.onClick.add(function(){this.closeRoadview_();b.setVisible(false)},this);h.$("failFlashMap.mapview").onClick.add(function(){this.closeRoadview_();b.setVisible(false)},this)};X.prototype.setFailTimer_=function(){if(!this.stopTimer_){this.failed_=false;this.stopTimer_=new zb(15E3,function(){this.successView_!=true&&this.viewErrorMessage()}.bind(this),
false);this.stopTimer_.start()}};X.prototype.viewErrorMessage=function(){this.failed_=true;var a=h.$("failflash");a.setVisible(true);h.$("failFlashMap.mapview").show();h.$("failFlashMap.close").show();this.isStoreView_?a.setSrcPng("//localimg.daum-img.net/localimages/07/2010/map/popup/alert_storview.png"):a.setSrcPng("//localimg.daum-img.net/localimages/07/2010/map/popup/alert_roadview.png");this.isStoreView_=false;this.stopTimer_=null};X.prototype.CSS3D_SUPPORT=/AppleWebKit/.test(navigator.userAgent)&&
(!/Chrome/.test(navigator.userAgent)||/Android/.test(navigator.userAgent));X.prototype.successFlashView=function(){this.CSS3D_SUPPORT&&p.click("roadview","css_roadview");this.successView_=true;h.$("failflash").setVisible(false);A.Application&&Application.favoriteController.onChangeItem.add(this.updateFavorites.bind(this));this._viewLayout.onRoadviewResize.notify({force:true});this.stopTimer_&&this.stopTimer_.stop();this.stopTimer_=null;this.failed_&&!this.isStoreView_&&this._viewLayout.setRoadviewWithMiniMap();
this.panChanged_()};X.prototype.getLastLevel=function(){return this.lastLevel_};X.prototype.restore_=function(){var a=this.lastData_;if(typeof a=="string")this.showStoreView(a);else{this.lastMarkerVisibleState_=2;this.show(a)}};X.prototype.showByDblClick=function(a){this.showStartLog_=this.dbClickActive_=true;this.showNearby(a)};X.prototype.setDbClickActive=function(a){this.dbClickActive_=a};X.prototype.getDbClickActive=function(){return this.dbClickActive_};define("controller/RoadviewController",
"map/Map manager/ViewLayout view/FrameDecorator map/LastRoadviewMarker params controller/WindowController view/FlashPlayerDownloadView controller/FiyFrameController controller/AuthController controller/ShareController".split(" "),H(X));bd.prototype.active_=!1;bd.prototype.setActive=function(a){if(this.active_!=a){this.active_=!!a;a?this.mapTileManager_.set("roadview",true):this.mapTileManager_.set("roadview",false)}};bd.prototype.handleClick=function(a){if(this.active_){Application.roadviewController.showStartLog_=
true;Application.roadviewController.showNearby(a);p.click("roadview","viewer_line");return true}return false};define("controller/RoadviewLineController",["map/MapTileManager"],H(bd));Rb.prototype.setThumnail=function(a){this.thumnail_="//t1.daumcdn.net/thumb/C364x304-620"+("-0@0.33x/?fname=/map/rvdrive"+a.split("suggest")[1].replace(/\.jpg/,"")+"_DV.jpg")};Rb.prototype.overRoadView_=function(){var a=this.roadviewPreview_=new md(this.thumnail_,"overRoadview");this.infoBody.scroll(jQuery.proxy(this.outRoadView_,
this));var b=this.roadview_.offset().left,c=this.roadview_.offset().top-44;a.setPosition(b,c);a.attach();a.onLeave.add(this.outRoadView_,this);a.onEmpty.add(this.outRoadView_,this);a.onClick.add(function(){this.onClick.notify(null)},this);this.enterFixTimer_=new zb(200,this.outRoadView_.bind(this));this.enterFixTimer_.start();a.onValidAreaOver.add(function(){this.enterFixTimer_.stop()},this);this.onOver.notify()};Rb.prototype.outRoadView_=function(){if(this.roadviewPreview_!=null){this.roadviewPreview_.detach();
this.roadviewPreview_=null;this.infoBody.off("scroll",this.outRoadView_);this.onLeave.notify(null)}};"use strict";define("controller/RoughMapFrameController",["dom/forefront","url"],H(function(a,b){var c="__daum$Rough"+(+new Date).toString(36);A[c]={onClose:function(){a.close();e=null},onSizeChanged:function(a){if(e){var b=+a.width;b<600&&(b=600);b=b+52;b>jQuery(A).width()&&(b=jQuery(A).width());a=+a.height;a<300&&(a=300);a=a+227+4;a>jQuery(A).height()-50&&(a=jQuery(A).height()-50);var d=e.$("frame");
e.css({width:b,height:a,marginLeft:-(b/2)});d.css({width:b,height:a});b=d[0].contentWindow||{};b[c]&&b[c].update&&b[c].update()}}};var d=b.EMBED_ROUGHMAP_URL,e=null;this.open=function(b){b.namespace=c;e=F("RoughMapFrame");b=d+"?"+jQuery.param(b);e.$("frame").attr("src",b);a.create(e,{dimmed:true});require("log/Tiara").log("/fake/simplemap")}}));xc.prototype.showMap_=function(){Application.keywordSearchController.getActive()&&Application.keywordSearchController.reset();Application.keywordSearchController.setActive(true);
p.click("navi","menu_mapsearch");require("log/Tiara").log("/fake/searchClick")};xc.prototype.showCarRoute_=function(){Application.flagSearchController.getActive()&&Application.flagSearchController.reset();Application.flagSearchController.setActive(true);p.click("navi","menu_route");require("log/Tiara").log("/fake/carRouteClick")};xc.prototype.showBus_=function(){Application.busSearchController.getActive()&&Application.busSearchController.reset();Application.busSearchController.setActive(true);p.click("navi",
"menu_bus");require("log/Tiara").log("/fake/busClick")};xc.prototype.showSubway_=function(){Application.subwaySearchController.getActive()&&Application.subwaySearchController.reset();Application.subwaySearchController.setActive(true);p.click("navi","menu_subway");require("log/Tiara").log("/fake/subwayClick")};xc.prototype.showFavorite_=function(){Application.favoriteController.getActive()&&Application.favoriteController.reset();Application.favoriteController.setActive(true);p.click("navi","menu_my")};
define("controller/SearchTabController",[],H(xc));Qb.prototype.add=function(a,b,c){a.onClick.add(this.click_,this);a.onEnter.add(function(){a.setActive(true)});a.onLeave.add(function(){a.setActive(false)});this.buttons_.push(a);this.values_.push(b);this.texts_.push(c);if(this.values_.length==0)this.value_=b};Qb.prototype.click_=function(a){var b=this.buttons_.indexOf(a.currentPanel);this.setValue_(this.values_[b]);this.setText_(this.texts_[b]);this.notify_(a)};Qb.prototype.getText=function(){return this.text_};
Qb.prototype.setText_=function(a){this.text_=a};Qb.prototype.getValue=function(){return this.value_};Qb.prototype.setValue_=function(a){this.value_=a};Qb.prototype.notify_=function(a){this.onChange.notify({value:this.getValue(),text:this.getText(),event:a})};ya.prototype.pcParamToAppScheme=function(a){Object.keys(a);var b="",c={};if(a.target&&a.rt){var b="route",d=a.rt.split(","),e=a.rtIds.split(","),f=a.rtTypes.split(","),g=(new daum.maps.Coords(d.slice(0,2)[0],d.slice(0,2)[1])).toLatLng();c.etype=
"";c.sp=g.getLat()+","+g.getLng();c.etype=c.etype+f[0].replace("POINT","");if(d.length>4){g=(new daum.maps.Coords(d.slice(2,4)[0],d.slice(2,4)[1])).toLatLng();c.vp=g.getLat()+","+g.getLng();c.etype=c.etype+(","+f[1].replace("POINT",""))}g=(new daum.maps.Coords(d.slice(d.length-2,d.length)[0],d.slice(d.length-2,d.length)[1])).toLatLng();c.ep=g.getLat()+","+g.getLng();c.etype=c.etype+(","+f[f.length-1].replace("POINT",""));c.by=a.target;c.sn=a.rt1;c.en=a["rt"+d.length/2];if(e[0])c.sid=e[0];if(e[e.length-
1])c.eid=e[e.length-1]}else if(a.itemId){b="place";c.id=a.itemId}else if(a.busnumsrch){b="search";c.q=a.busnumsrch}else if(a.busstopsrch){b="search";c.q=a.busstopsrch}else if(a.q){b="search";c.q=a.q}else if(a.map_attribute==="ROADVIEW"&&a.panoid){b="roadview";d=(new daum.maps.Coords(a.urlX,a.urlY)).toLatLng();c.p=d.getLat()+","+d.getLng();c.id=a.panoid;c.pan=a.pan;c.tilt=a.tilt}else if(a.busStopId){b="transitInfo";c.type="busstop";c.id=a.busStopId}else if(a.subwayId){b="transitInfo";c.type="subway";
c.id=a.subwayId}else if(a.thememapId){b="open";c.page="theme";c.themeid=a.thememapId}else if(a.folderid!==void 0){b="open";c.page="bookmark";c.folderid=a.folderid}else{b="look";a=(new daum.maps.Coords(a.urlX,a.urlY)).toLatLng();c.p=a.getLat()+","+a.getLng()}return{action:b,query:c}};ya.prototype.getMapInfo=function(a){var b=this.param.urlX,c=this.param.urlY,d=Application.localInfoController.get3DepthAddr(),e=Application.map.getLevel();return{"${title}":d,"${imageUrl}":"https://ssl.daumcdn.net/map3/staticmap/image?srs=WCONGNAMUL&size=744x406&markers=symbol:default_marker%7Clocation:"+
b+","+c+"&scale=2&logo=kakao_logo&lv="+e,"${EncodingLocationUrl}":"kakaomap://look?viewType=MAP_CENTER&ctype=wcong&p="+b+","+c,"${EncodingSearchUrl}":"kakaomap://route?en="+d+"&ectype=wcong&ep="+b+","+c+"&by=CAR","${webUrl}":a.pcUrl,"${mobileWebUrl}":a.mwUrl,"${locationUrl}":a.pcUrl,"${buttonText1}":"\uc8fc\uc18c \ubc14\ub85c\uac00\uae30","${buttonText2}":"\uae38\ucc3e\uae30"}};ya.prototype.getBusNumSearchInfo=function(a){var b="",c="",c=this.options.image,b=this.param.busnumsrch;return{"${title}":b+
" \uac80\uc0c9\uacb0\uacfc","${imageUrl}":c,"${appSchemeUrl}":"kakaomap://search?viewType=LIST&q="+b,"${webUrl}":a.pcUrl,"${mobileWebUrl}":a.mwUrl,"${buttonText}":"\uac80\uc0c9\uacb0\uacfc \ubc14\ub85c\uac00\uae30"}};ya.prototype.getBusStopSearchInfo=function(a){for(var b="",c="",b=Application.busSearchController.result_,c=Math.min(b.length,5),d="",e=0;e<c;e++)d=d+("&markers=symbol:default_marker%7Clocation:"+b[e].coords.getX()+","+b[e].coords.getY());c=d?"https://ssl.daumcdn.net/map3/staticmap/image?srs=WCONGNAMUL&ctype=wcong&size=744x406&scale=2&logo=kakao_logo"+
d:this.options.image;b=this.param.busstopsrch;return{"${title}":b+" \uac80\uc0c9\uacb0\uacfc","${imageUrl}":c,"${appSchemeUrl}":"kakaomap://search?viewType=LIST&q="+b,"${webUrl}":a.pcUrl,"${mobileWebUrl}":a.mwUrl,"${buttonText}":"\uac80\uc0c9\uacb0\uacfc \ubc14\ub85c\uac00\uae30"}};ya.prototype.getSearchInfo=function(a){var b=Application.keywordSearchController.dataForShare,c="",d="",c=0,d="";if(b.address&&b.address.length>0)for(var c=Math.min(b.address.length,3),e=0;e<c;e++)d=d+("&markers=symbol:default_marker%7Clocation:"+
b.address[e].coords.getX()+","+b.address[e].coords.getY());else if(b.place&&b.place.length>0)for(var c=Math.min(5,b.place.length),e=-1,f=0;;){e++;if(f>c||e>b.place.length-1)break;if(b.place[e].markerType!=="ad"){d=d+("&markers=symbol:default_marker%7Clocation:"+b.place[e].coords.getX()+","+b.place[e].coords.getY());f++}}else if(!(b.bus&&b.bus.length>0)&&b.busStop&&b.busStop.length>0){c=Math.min(b.busStop.length,5);for(e=0;e<c;e++)d=d+("&markers=symbol:default_marker%7Clocation:"+b.busStop[e].coords.getX()+
","+b.busStop[e].coords.getY())}d=d?"https://ssl.daumcdn.net/map3/staticmap/image?srs=WCONGNAMUL&ctype=wcong&size=744x406&scale=2&logo=kakao_logo"+d:this.options.image;c=this.param.q;return{"${title}":c+" \uac80\uc0c9\uacb0\uacfc","${imageUrl}":d,"${appSchemeUrl}":"kakaomap://search?viewType=LIST&q="+c,"${webUrl}":a.pcUrl,"${mobileWebUrl}":a.mwUrl,"${buttonText}":"\uac80\uc0c9\uacb0\uacfc \ubc14\ub85c\uac00\uae30"}};ya.prototype.getAddressInfo=function(a){var b=Application.keywordSearchController.dataForShare,
c="",d="",c=void 0;b.address&&b.address.length>0&&(c="&markers=symbol:default_marker%7Clocation:"+b.address[0].coords.getX()+","+b.address[0].coords.getY());d=c?"https://ssl.daumcdn.net/map3/staticmap/image?srs=WCONGNAMUL&ctype=wcong&size=744x406&scale=2&logo=kakao_logo"+c:this.options.image;c=this.param.q;return{"${title}":c+" \uac80\uc0c9\uacb0\uacfc","${imageUrl}":d,"${appSchemeUrl}":"kakaomap://search?viewType=LIST&q="+c,"${webUrl}":a.pcUrl,"${mobileWebUrl}":a.mwUrl,"${buttonText}":"\uac80\uc0c9\uacb0\uacfc \ubc14\ub85c\uac00\uae30"}};
ya.prototype.getRegionInfo=function(a){var b=Application.infoWindowManager.getState().data,c=b.name,d="";if(b.dataType==="2")d="https://ssl.daumcdn.net/map3/smap/"+(b.bcode?"bcode":"hcode")+"/"+(b.bcode||b.hcode)+"?size=744x406&logo=kakao_logo";else var e=b.coords.getX(),f=b.coords.getY(),d="https://ssl.daumcdn.net/map3/staticmap/image?srs=WCONGNAMUL&size=744x406&markers=symbol:default_marker%7Clocation:"+e+","+f+"&scale=2&logo=kakao_logo";return{"${title}":c,"${imageUrl}":d,"${EncodingLocationUrl}":"kakaomap://search?q="+
c+"&viewType=MAP_CENTER&ctype=wcong&p="+e+","+f,"${EncodingSearchUrl}":"kakaomap://route?en="+c+"&ectype=wcong&ep="+e+","+f+"&by=CAR","${webUrl}":a.pcUrl,"${mobileWebUrl}":a.mwUrl,"${locationUrl}":a.pcUrl,"${buttonText1}":"\uc8fc\uc18c \ubc14\ub85c\uac00\uae30","${buttonText2}":"\uae38\ucc3e\uae30"}};ya.prototype.getSubwayStationInfo=function(a){var b=Application.infoWindowManager.getState().data,c="https://ssl.daumcdn.net/map3/staticmap/image?srs=WCONGNAMUL&size=744x406&markers=symbol:default_marker%7Clocation:"+
b.coords.getX()+","+b.coords.getY()+"&scale=2&logo=kakao_logo";return{"${title}":b.name+"\uc5ed","${description}":b.newAddress,"${reply}":b.review,"${imageUrl}":c,"${EncodingLocationUrl}":"kakaomap://transitInfo?id="+b.id+"&type=subway","${EncodingSearchUrl}":"kakaomap://route?eid="+b.id+"&en="+b.name+"&ectype=wcong&ep="+b.coords.getX()+","+b.coords.getY()+"&by=CAR","${webUrl}":a.pcUrl,"${mobileWebUrl}":a.mwUrl,"${buttonText1}":"\uc7a5\uc18c \ubc14\ub85c\uac00\uae30","${buttonText2}":"\uae38\ucc3e\uae30"}};
ya.prototype.getPlaceInfo=function(a){var b=Application.infoWindowManager.getState().data,c="https://ssl.daumcdn.net/map3/staticmap/image?srs=WCONGNAMUL&size=744x406&markers=symbol:default_marker%7Clocation:"+b.coords.getX()+","+b.coords.getY()+"&scale=2&logo=kakao_logo";return b.courseinfo.origin&&b.courseinfo.dest?{"${title}":b.name,"${description}":b.courseinfo.origin+" \u2194 "+b.courseinfo.dest,"${imageUrl}":c,"${EncodingLocationUrl}":"kakaomap://place?id="+b.id,"${EncodingSearchUrl}":"kakaomap://route?eid="+
b.id+"&en="+b.name+"&ectype=wcong&ep="+b.coords.getX()+","+b.coords.getY()+"&by=CAR","${webUrl}":a.pcUrl,"${mobileWebUrl}":a.mwUrl,"${locationUrl}":a.pcUrl,"${buttonText1}":"\uc7a5\uc18c \ubc14\ub85c\uac00\uae30","${buttonText2}":"\uae38\ucc3e\uae30"}:{"${title}":b.name,"${description}":b.newAddress,"${reply}":b.review,"${imageUrl}":c,"${EncodingLocationUrl}":"kakaomap://place?id="+b.id,"${EncodingSearchUrl}":"kakaomap://route?eid="+b.id+"&en="+b.name+"&ectype=wcong&ep="+b.coords.getX()+","+b.coords.getY()+
"&by=CAR","${webUrl}":a.pcUrl,"${mobileWebUrl}":a.mwUrl,"${locationUrl}":a.pcUrl,"${buttonText1}":"\uc7a5\uc18c \ubc14\ub85c\uac00\uae30","${buttonText2}":"\uae38\ucc3e\uae30"}};ya.prototype.getSubwayInfo=function(a){var b="",c="",d="",e="",f=c=rb.regionList[this.param.nowRegionIdx].cityid;f==="SES"&&(f="SES_");if(!this.param.ENDID&&!this.param.STARTID){b=rb.regionList[this.param.nowRegionIdx].name;c="kakaomap://metro?type=subwaymap&id="+c;d=b+" \uc9c0\ud558\ucca0 \ub178\uc120\ub3c4";b="\ub178\uc120\ub3c4 \ubc14\ub85c\uac00\uae30"}else{d=
"\ub178\uc120\ub3c4 \uae38\ucc3e\uae30 \uacbd\ub85c";e=this.param.STARTNAME+" \u2192 "+this.param.ENDNAME;c="kakaomap://metro?type=route&depid="+this.param.STARTID+"&arrid="+this.param.ENDID+"&routingtype="+this.param.routingType+"&dailytype="+this.param.dailyType+"&time="+this.param.time;b="\uae38\ucc3e\uae30 \uacbd\ub85c\ubcf4\uae30"}return{"${title}":d,"${description}":e,"${imageUrl}":"https://t1.daumcdn.net/localimg/localimages/07/2018/pc/subway/"+f+".png","${appSchemeUrl}":c,"${webUrl}":a.pcUrl,
"${mobileWebUrl}":a.mwUrl,"${buttonText}":b}};ya.prototype.getBusLineInfo=function(a){var b=Application.busLineController.data_,c=this.options.image;return{"${title}":b.name,"${description}":b.region+" "+b.rawData.text("routeDetailName")+" \ubc84\uc2a4","${imageUrl}":c,"${appSchemeUrl}":"kakaomap://transitInfo?id="+b.id+"&type=busline","${webUrl}":a.pcUrl,"${mobileWebUrl}":a.mwUrl,"${buttonText}":"\ubc84\uc2a4 \ub178\uc120\ubcf4\uae30"}};ya.prototype.getBusStopInfo=function(a){var b=Application.infoWindowManager.getState().data,
c="https://ssl.daumcdn.net/map3/staticmap/image?srs=WCONGNAMUL&size=744x406&markers=symbol:busstop_marker%7Clocation:"+b.coords.getX()+","+b.coords.getY()+"&scale=2&logo=kakao_logo",d=b.name,e=b.codenames,f="",g=e.length;if(g>1)for(var j=0;j<g;j++){f=f+e[j];j<g-1&&(f=f+", ")}else f=e[0]||"";return{"${title}":d,"${description}":"\ubc84\uc2a4\uc815\ub958\uc7a5 "+f,"${imageUrl}":c,"${EncodingLocationUrl}":"kakaomap://transitInfo?id="+b.id+"&type=busstop","${EncodingSearchUrl}":"kakaomap://route?eid="+
b.id+"&en="+b.name+"&ectype=wcong&ep="+b.coords.getX()+","+b.coords.getY()+"&by=CAR","${webUrl}":a.pcUrl,"${mobileWebUrl}":a.mwUrl,"${buttonText1}":"\uc815\ub958\uc7a5 \ubc14\ub85c\uac00\uae30","${buttonText2}":"\uae38\ucc3e\uae30"}};ya.prototype.getFindWayInfo=function(a){var b=this.param.rt.split(",");this.param.rtIds.split(",");var c=this.param.rtTypes.split(","),d=this.param.target,e=[],f=[];e.push(b[0]);e.push(b[1]);f.push(this.param.rt1);if(d!=="traffic"&&b.length>4){e.push(b[2]);e.push(b[3]);
f.push(this.param.rt2);c=c.slice(0,2).concat(c.slice(c.length-1,c.length))}e.push(b[b.length-2]);e.push(b[b.length-1]);f.push(this.param["rt"+b.length/2]);var g,d=b="";for(g=0;g<f.length;g++){b=b+f[g];g<f.length-1&&(b=b+" \u2192 ")}var j="?by=";if(this.param.target==="traffic"){d="\ub300\uc911\uad50\ud1b5";j=j+"publictransit"}else if(this.param.target==="car"){j=j+"car";d="\uc790\ub3d9\ucc28"}else if(this.param.target==="bicycle"){j=j+"bicycle";d="\uc790\uc804\uac70"}else if(this.param.target==="walk"){j=
j+"foot";d="\ub3c4\ubcf4"}j=j+("&sp="+e[0]+","+e[1]);j=j+"&sctype=wcong"+("&sn="+f[0]);j=j+("&stype="+c[0]);g="http://ssl.daumcdn.net/map3/staticmap/image?srs=WCONGNAMUL&size=744x406&scale=2&logo=kakao_logo&option:true"+("&markers=symbol:route_start_marker%7Clocation:"+e[0]+","+e[1]);if(c.length>2){j=j+("&vp="+e[2]+","+e[3]);j=j+"&vctype=wcong"+("&vn="+f[1]);j=j+("&vtype="+c[1]);g=g+("&markers=symbol:route_via_marker%7Clocation:"+e[2]+","+e[3])}j=j+("&ep="+e[e.length-2]+","+e[e.length-1]);j=j+"&ectype=wcong"+
("&en="+f[f.length-1]);j=j+("&etype="+c[c.length-1]);g=g+("&markers=symbol:route_end_marker%7Clocation:"+e[e.length-2]+","+e[e.length-1]);return{"${title}":d+" \uae38\ucc3e\uae30 \uacbd\ub85c","${description}":b,"${imageUrl}":g,"${appSchemeUrl}":"kakaomap://route"+j,"${webUrl}":a.pcUrl,"${mobileWebUrl}":a.mwUrl,"${buttonText}":"\uae38\ucc3e\uae30 \uacbd\ub85c\ubcf4\uae30"}};ya.prototype.getStoreViewInfo=function(a){return{"${title}":"\uc2a4\ud1a0\uc5b4\ubdf0","${description}":Application.roadviewController.storeName_,
"${imageUrl}":"https://ssl.daumcdn.net/map3/staticmap/image?srs=WCONGNAMUL&size=744x406&markers=symbol:storeview_marker%7Clocation:"+this.param.urlX+","+this.param.urlY+"&scale=2&logo=kakao_logo","${appSchemeUrl}":"kakaomap://storeview?id="+this.param.store.split("_")[0]+"&pan="+this.param.pan+"&tilt="+this.param.tilt,"${webUrl}":a.pcUrl,"${mobileWebUrl}":a.mwUrl,"${buttonText}":"\uc2a4\ud1a0\uc5b4\ubdf0 \ubc14\ub85c\uac00\uae30"}};ya.prototype.getRoadViewInfo=function(a){var b="https://ssl.daumcdn.net/map3/staticmap/image?srs=WCONGNAMUL&size=744x406&markers=symbol:roadview_marker%7Clocation:"+
this.param.urlX+","+this.param.urlY+"&scale=2&logo=kakao_logo";return{"${title}":"\ub85c\ub4dc\ubdf0","${description}":Application.localInfoController.get3DepthAddr(),"${imageUrl}":b,"${appSchemeUrl}":"kakaomap://roadview?id="+this.param.panoid+"&pan="+this.param.pan+"&tilt="+this.param.tilt+"&ctype=wcong&p="+this.param.urlX+","+this.param.urlY,"${webUrl}":a.pcUrl,"${mobileWebUrl}":a.mwUrl,"${buttonText}":"\ub85c\ub4dc\ubdf0 \ubcf4\uae30"}};ya.prototype.getFavShareInfo=function(a,b,c,d){for(var e=
"https://ssl.daumcdn.net/map3/staticmap/image?srs=WCONGNAMUL&size=744x406&scale=2&logo=kakao_logo",c=c.folderid,f=0,g=0;g<d.length&&f<5;g++)if(d[g].type==="place"||d[g].type==="address"||d[g].type==="point"||d[g].type==="subwaystation"||d[g].type==="busstop"){e=e+("&markers=symbol:default_marker%7Clocation:"+d[g].x+","+d[g].y);f++}if(f===0)e=this.options.image;d=this.options.shortUrl;f=this.mWebUrl+"/scheme/"+this.appSchemeInfo.action+"?"+jQuery.param(this.appSchemeInfo.query);return{"${title}":a.replace(/\\n/g,
" "),"${description}":b.replace(/\\n/g," "),"${imageUrl}":e,"${appSchemeUrl}":"kakaomap://open?page=bookmark&folderid="+c,"${webUrl}":d,"${mobileWebUrl}":f,"${buttonText}":"\ud3f4\ub354 \ubc14\ub85c\uac00\uae30"}};ya.prototype.getProfilePage=function(){var a=this.param.mapuserid,b=this.profileController.getInfo();require("url");var c=this.options.image,d="",e="S";if(b&&b.text("mapUserId")===a){d=(b.text("nickName")||"")+"\uc758 \ud398\uc774\uc9c0";e=b.text("profileStatus")}else{d=this.param.nickname+
"\uc758 \ud398\uc774\uc9c0";e=this.param.profileStatus}e==="A"?d="\uc2e0\uace0\uc5d0 \uc758\ud574 \uc0ad\uc81c\ub41c \ud504\ub85c\ud544\uc785\ub2c8\ub2e4.":e==="T"&&(d="\uc2e0\uace0\uc5d0 \uc758\ud574 \uc784\uc2dc \uc870\uce58\ub41c \ud504\ub85c\ud544\uc785\ub2c8\ub2e4.");c=c.indexOf("http")===0?c:"https:"+c;return{"${title}":d,"${imageUrl}":c,"${appSchemeUrl}":"kakaomap://open?page=other&mapuserid="+a,"${webUrl}":A.location.origin+"?target=other&mapuserid="+a,"${mobileWebUrl}":this.mWebUrl+"/scheme/open?page=other&mapuserid="+
a,"${buttonText}":"\ud504\ub85c\ud544 \ubc14\ub85c\uac00\uae30"}};ya.prototype.getShareType=function(a){if(this.param){var b=Application.infoWindowManager.getState();if(this.param.map_attribute==="ROADVIEW"&&this.param.panoid)return{templateArgs:this.getRoadViewInfo(a),templateId:12122};if(this.param.store)return{templateArgs:this.getStoreViewInfo(a),templateId:12122};if(this.param.itemId)return{templateArgs:this.getPlaceInfo(a),templateId:12029};if(this.param.subwayId)return{templateArgs:this.getSubwayStationInfo(a),
templateId:12029};if(this.param.busStopId)return{templateArgs:this.getBusStopInfo(a),templateId:12029};if(this.param.busInfoId)return{templateArgs:this.getBusLineInfo(a),templateId:12122};if(this.param.mapuserid)return{templateArgs:this.getProfilePage(a),templateId:12122};if(this.param.target&&this.param.rt)return{templateArgs:this.getFindWayInfo(a),templateId:12122};if(this.param.target==="subway"&&this.param.REGION)return{templateArgs:this.getSubwayInfo(a),templateId:12122};if(!this.param.thememapId)return this.param.q&&
b&&this.options.from==="tooltip"?{templateArgs:this.getRegionInfo(a),templateId:12029}:this.param.busnumsrch&&!b?{templateArgs:this.getBusNumSearchInfo(a),templateId:12122}:this.param.busstopsrch&&!b?{templateArgs:this.getBusStopSearchInfo(a),templateId:12122}:this.param.q&&this.options.from!=="tooltip"&&b&&b.data instanceof Ma?{templateArgs:this.getAddressInfo(a),templateId:12122}:this.param.q&&!b||this.param.q&&this.options.from!=="tooltip"?{templateArgs:this.getSearchInfo(a),templateId:12122}:
{templateArgs:this.getMapInfo(a),templateId:12029}}};ya.prototype.createContext=function(){var a=this.options.shortUrl||this.options.url,b="";this.appSchemeInfo&&(b=this.mWebUrl+"/scheme/"+this.appSchemeInfo.action+"?"+jQuery.param(this.appSchemeInfo.query));var b=this.getShareType({pcUrl:a,mwUrl:b}),c=null,d=null;if(b){c=b.templateArgs;d=b.templateId}else{d=12029;c={"${title}":"\uc7a5\uc18c\uba85","${description}":"hello","${like}":"23","${imageUrl}":"\uc774\ubbf8\uc9c0 Url","${EncodingLocatinUrl}":"\uc7a5\uc18c\ubc14\ub85c\uac00\uae30, \uce74\uce74\uc624\ub9f5\uc73c\ub85c \uc5f4\uae30 \uc2dc \uc0ac\uc6a9",
"${EncodingSearchUrl}":"\uae38\ucc3e\uae30, \uce74\uce74\uc624\ub9f5\uc73c\ub85c \uc5f4\uae30 \uc2dc \uc0ac\uc6a9","${webUrl}":"PC\uc5d0\uc11c \uc624\ud508 \uc2dc \uc0ac\uc6a9","${mobileWebUrl}":"\uce74\uce74\uc624\ud1a1 \uc778\uc571 \ube0c\ub77c\uc6b0\uc800\uc5d0\uc11c \uc624\ud508 \uc2dc \uc0ac\uc6a9","${buttonText1}":"\uc548\ub155","${buttonText2}":"\ud5ec\ub85c"}}return{action:"click",expandedContainer:this.viewElem,link:a,prefix:this.options.title,service_name:this.options.serviceName,url_info:{title:this.options.title,
desc:this.options.desc,imageurl:[this.options.image],type:"article"},kakaoAPI:{appkey:this.options.key,kakaoLinkData:{shareType:"sendCustom",shareData:{templateId:d,installTalk:true,templateArgs:c}}}}};ya.prototype.shareLog=function(a){p.click("control","share_"+a.name)};ya.prototype.favShareData=function(a,b){var c=this.createContext();console.log(c);a.folderid===0?t.findAll(function(d){console.log(d);if(d.list||!d.status){d=this.getFavShareInfo("\uae30\ubcf8\ud3f4\ub354","",a,d.list);c.kakaoAPI.kakaoLinkData.shareData.templateArgs=
d;c.kakaoAPI.kakaoLinkData.shareData.templateId=12122;b(c)}}.bind(this),{folderIds:[a.folderid],type:"M"}):require("server").favoriteFolderInfo({folderId:a.folderid},function(d){if(t.isSuccess(d)){console.log(d);var e=d.object("result");e.text("status")==="A"||e.text("status")==="T"?this.onFail.notify({status:t.RESULT_CODE.REPORT_ITEM}):t.findAll(function(f){console.log(f);if(f.list||!f.status){f=this.getFavShareInfo(e.text("title"),d.object("result").text("memo"),a,f.list);c.kakaoAPI.kakaoLinkData.shareData.templateArgs=
f;c.kakaoAPI.kakaoLinkData.shareData.templateId=12122;b(c)}}.bind(this),{folderIds:[a.folderid],type:e.text("status")==="P"?"M":"S"})}else this.onFail.notify({status:d.text("status.code")})}.bind(this))};ya.prototype.show=function(a){a===void 0&&(a={});var b=jQuery(this.viewElem),c=this;b.one("click",".btn_close",this.hide);b.one("click",".list_sns li",this.hide);b.one("click",".txt_copy, .txt_url",function(){c.shareMain.collapse();var a=setTimeout(function(){c.hide()},1500);b.find(".btn_close").one("click",
function(){c.hide();A.clearTimeout(a)});p.click("control","url")});var d=function(a){this.shareMain.init(this.shareMain.el,a);jQuery(this.viewElem).removeClass("HIDDEN").attr("tabindex",-1).focus().removeAttr("tabindex");this.dimmedLayer.show();this.dimmedLayer.one("click",this.hide);this.onShow.notify();this.shareMain.expand()}.bind(this),e=null;this.options.from=a.from;if(a.folderId!==void 0||a.folderid!==void 0){var f={folderid:a.folderId===void 0?a.folderid:a.folderId,target:a.target||"other"};
if(f.folderid===0)f.mapuserid=Application.profileController.getInfo().text("mapUserId");f=jQuery.extend(this.createCommonParam(),f);this.updateContext(f,function(){e=this.favShareData(f,d)}.bind(this))}else this.updateContext(null,function(){e=this.createContext();d(e)}.bind(this))};ya.prototype.hide=function(){this.param=null;jQuery(this.viewElem).addClass("HIDDEN");this.dimmedLayer.hide();this.shareMain.isHide()||this.shareMain.collapse();this.onHide.notify()};ya.prototype.getShareQueryString=function(){this.updateContext();
return this.options.url.split("?")[1]};ya.prototype.updateContext=function(a,b){var c=null,b=b||function(){};this.param=c=a?a:this.param||this.createParam();var d=location.href.replace(/\?.*/,"").replace(/#(none)*$/,"")+"?"+jQuery.param(c);this.appSchemeInfo=this.pcParamToAppScheme(c);if(this.options.url===d)b();else{this.options.url=d;d=Object.keys(c).map(function(a){return a+"="+(""+c[a]).replace(/&/g,"%26")}).join("&");require("server").shortUrl({param:d},function(a){this.options.shortUrl=a.text("url");
this.shareMain.updateContext(this.createContext());b()}.bind(this))}};ya.prototype.createCommonParam=function(){var a={};if(Application.map.isRoadmap())a.map_type="TYPE_MAP";else{a.map_type="TYPE_SKYVIEW";a.map_hybrid=Application.mainMapController.isHybrid()?"true":"false"}if(Application.mainMapController.isTerrain())a.map_terrain="on";if(Application.mainMapController.isBike())a.map_bicycle="on";if(Application.mainMapController.getWeather())a.map_weather=Application.mainMapController.getWeather();
if(Application.mainMapController.isUsedistrict())a.map_usedistrict=Application.mainMapController.getUsedistrict();if(Application.mainMapController.isIndoor())a.map_indoor="on";var b=0;Application.mainMapController.isTrafficActive()&&(b=b+Ra.TRAFFIC);Application.mainMapController.isAccidentActive()&&(b=b+Ra.ACCIDENT);Application.mainMapController.isCctvActive()&&(b=b+Ra.CCTV);if(b)a.traffic_state=b;return a};ya.prototype.createLocationParam=function(){var a=Application.map.getCenter(),b=Application.map.getLevel(),
c={};c.urlLevel=b;c.urlX=a.getX()|0;c.urlY=a.getY()|0;return c};ya.prototype.createParam=function(){var a={};Application.roadviewController.getActive()&&Application.roadviewController.setUrl(a);if(Application.mainMapController.isStoreviewActive())a.sv="1";if(Application.mainMapController.isRoadviewActive())a.map_attribute="ROADVIEW";var b=Application.infoWindowManager.getState(),c=jQuery("#info\\.other"),d=jQuery("#info\\.my\\.intro"),e=Application.keywordSearchController.getKeyword().trim()!=="";
if(b&&!(b.data instanceof Ma)&&(!Application.flagSearchController.getActive()&&!e||this.options.from==="tooltip"))if(b.id)a.itemId=b.id;else if(b.busstopid)a.busStopId=b.busstopid;else{if(b.subwayId)a.subwayId=b.subwayId}else if(Application.busLineController.view_.getVisible()){a={};a.busInfoId=Application.busLineController.data_.id;a=jQuery.extend(a,this.createLocationParam())}else if(Application.subwaySearchController.getActive()){b=Application.subwaySearchController.createUrl();jQuery.extend(a,
b)}else if(b&&b.data instanceof Ma||Application.keywordSearchController.getActive()&&e){if(c=Application.keywordSearchController.getThemeId())a.theme=c;else{c=Application.keywordSearchController.getKeyword();d=Application.keywordSearchController.themeMapController_.getActive();if(c){a.q=this.options.from==="tooltip"?b.data.name:c;if(Application.keywordSearchController.getLiterally()!=null)a.cidx=Application.keywordSearchController.getLiterally();if(Application.keywordSearchController.getActiveBoundsButton())a.currentBound=
true}else if(d){a.thememap=true;if(b=Application.keywordSearchController.themeMapController_.getActiveThemeId())a.thememapId=b}}a=jQuery.extend(a,this.createLocationParam());if(Application.roadviewController.getActive()&&Application.roadviewController.getLastLevel())a.urlLevel=Application.roadviewController.getLastLevel()}else if(Application.flagSearchController.getActive()){a.target="car";Application.flagSearchController.buildParams(a)}else if(Application.busSearchController.getActive()){switch(Application.busSearchController.getMode()){case "number":if(Application.busSearchController.getBusNumberKeyword())a.busnumsrch=
Application.busSearchController.getBusNumberKeyword();else if(Application.busSearchController.getFavoriteBus())a.busfavoritesrch=Application.busSearchController.getFavoriteBus();break;case "stop":a.busstopsrch=Application.busSearchController.getBusStopKeyword();break;case "region":a.busrgnsrch=Application.busSearchController.getRegionCode();break;default:a.target="traffic";a.opt="2"}if(Application.busSearchController.getRegionName()&&Application.busSearchController.getMode()!="region")a.gname=this.busSearchController.getRegionName();
a=jQuery.extend(a,this.createLocationParam())}else if((!c.hasClass("HIDDEN")||Application.favoriteController.getActive())&&d.is(":visible")===false){b=Application.favoriteController.getShareInfo();b.viewMode===t.VIEW_MODE.DETAIL?jQuery.extend(a,{folderid:b.folderid,target:"other"}):Application.favoriteController.getViewMode()===t.VIEW_MODE.FOLDER&&jQuery.extend(a,{target:"other",mapuserid:b.mapuserid,profileStatus:b.profileStatus,profileImage:b.profileImage,nickname:b.nickname})}else a=jQuery.extend(a,
this.createLocationParam());return a=jQuery.extend(this.createCommonParam(),a)};define("controller/ShareController",["controller/ProfileController"],H(ya));define("controller/SpecialController",["params","controller/MainMapController","controller/KeywordSearchController","controller/RoadviewController"],H(function(a,b,c,d){var e=Date.now(),f=a.special;[{value:"2",expire:"",action:function(){b.themePoiControlView.setThemeToObject({type:"culture",sub:2})}},{value:"3",expire:"",action:function(){b.themePoiControlView.setThemeToObject({type:"theme",
sub:1})}},{value:"4",expire:"",action:function(){d.show({coords:new daum.maps.Coords(792615,1135145),panoId:"1022311432",pan:25.7,tilt:2.5,zoom:-3},true)}}].forEach(function(a){f==a.value&&(e<+a.expire||a.expire=="")&&a.action()})}));rb.cityId={};rb.cateId={};rb.stationName={};rb.regionList=[{cate:"11",id:"01",name:"\uc218\ub3c4\uad8c",label:"seoul",code:"su",cityid:"SES",lines:[{name:"1\ud638\uc120",id:"SES1",label:"line1",section:"\uc778\ucc9c,\uc2e0\ucc3d-\uc18c\uc694\uc0b0"},{name:"1\ud638\uc120",
id:"SES31",section:""},{name:"1\ud638\uc120",id:"SES32",section:""},{name:"2\ud638\uc120",id:"SES2",label:"line2",section:"\uc2dc\uccad-\uc2dc\uccad"},{name:"2\ud638\uc120",id:"SES24",section:""},{name:"2\ud638\uc120",id:"SES25",section:""},{name:"3\ud638\uc120",id:"SES3",label:"line3",section:"\uc624\uae08-\ub300\ud654"},{name:"4\ud638\uc120",id:"SES4",label:"line4",section:"\ub2f9\uace0\uac1c-\uc624\uc774\ub3c4"},{name:"5\ud638\uc120",id:"SES5",label:"line5",section:"\uc0c1\uc77c,\ub9c8\ucc9c-\ubc29\ud654"},
{name:"6\ud638\uc120",id:"SES6",label:"line6",section:"\ubd09\ud654\uc0b0-\uc751\uc554"},{name:"7\ud638\uc120",id:"SES7",label:"line7",section:"\ubd80\ud3c9\uad6c\uccad-\uc7a5\uc554"},{name:"8\ud638\uc120",id:"SES8",label:"line8",section:"\ubaa8\ub780-\uc554\uc0ac"},{name:"9\ud638\uc120",id:"SES9",label:"line9",section:"\uac1c\ud654-\uc885\ud569\uc6b4\ub3d9\uc7a5"},{name:"\uacbd\ucd98",id:"SES33",label:"line33",section:"\uad11\uc6b4\ub300,\uccad\ub7c9\ub9ac-\ucd98\ucc9c"},{name:"\uacbd\uc758\uc911\uc559",
id:"SES26",label:"line26",section:"\uc6a9\ubb38-\ubb38\uc0b0"},{name:"\uacbd\uc758\uc911\uc559\uc120",id:"SES29",section:""},{name:"\uc778\ucc9c 1",id:"SES22",label:"line22",section:"\uad6d\uc81c\uc5c5\ubb34\uc9c0\uad6c-\uacc4\uc591"},{name:"\uc778\ucc9c 2",id:"SES39",label:"line39",section:"\uac80\ub2e8\uc624\ub958-\uc6b4\uc5f0"},{name:"\ubd84\ub2f9",id:"SES23",label:"line23",section:"\uc218\uc6d0-\uc655\uc2ed\ub9ac"},{name:"\uacf5\ud56d",id:"SES27",label:"line27",section:"\uc778\ucc9c\uad6d\uc81c\uacf5\ud56d-\uc11c\uc6b8\uc5ed"},
{name:"\uc218\uc778",id:"SES35",label:"line35",section:"\uc624\uc774\ub3c4-\uc778\ucc9c"},{name:"\uc2e0\ubd84\ub2f9",id:"SES34",label:"line34",section:"\uac15\ub0a8-\uad11\uad50"},{name:"\uc758\uc815\ubd80",id:"SES36",label:"line36",section:"\ubc1c\uace1-\ud0d1\uc11d"},{name:"\uc5d0\ubc84\ub77c\uc778",id:"SES37",label:"line37",section:"\uae30\ud765-\uc5d0\ubc84\ub79c\ub4dc"},{name:"\uc790\uae30\ubd80\uc0c1",id:"SES38",label:"line38",section:"\uc6a9\uc720-\uc778\ucc9c\uad6d\uc81c\uacf5\ud56d"},{name:"\uacbd\uac15",
id:"SES40",label:"line40",section:"\ud310\uad50-\uc5ec\uc8fc"},{name:"\uc6b0\uc774\uc2e0\uc124",id:"SES41",label:"line41",section:"\ubd81\ud55c\uc0b0\uc6b0\uc774-\uc2e0\uc124"},{name:"\uc11c\ud574",id:"SES42",label:"line42",section:"\uc18c\uc0ac-\uc6d0\uc2dc"}]},{id:"21",name:"\ubd80\uc0b0",label:"pusan",flashlabel:"busan",code:"bs",cityid:"PSS",lines:[{name:"1\ud638\uc120",id:"PSS1",label:"line1",section:"\ub178\ud3ec-\uc2e0\ud3c9"},{name:"2\ud638\uc120",id:"PSS2",label:"line2",section:"\uc591\uc0b0-\uc7a5\uc0b0"},
{name:"3\ud638\uc120",id:"PSS3",label:"line3",section:"\ub300\uc800-\uc218\uc601"},{name:"4\ud638\uc120",id:"PSS4",label:"line4",section:"\ubbf8\ub0a8-\uc548\ud3c9"},{name:"\uacbd\uc804\ucca0",id:"PSS10",label:"line10",section:"\uac00\uc57c\ub300-\uc0ac\uc0c1"},{name:"\ub3d9\ud574\uc120",id:"PSS11",label:"line11",section:"\ubd80\uc804-\uc77c\uad11"}]},{id:"22",name:"\ub300\uad6c",label:"daegu",code:"dg",cityid:"DGS",lines:[{name:"1\ud638\uc120",id:"DGS1",label:"line1",section:"\uc548\uc2ec-\uc124\ud654\uba85\uace1"},
{name:"2\ud638\uc120",id:"DGS2",label:"line2",section:"\uc601\ub0a8\ub300-\ubb38\uc591"},{name:"3\ud638\uc120",id:"DGS3",label:"line3",section:"\uc6a9\uc9c0-\uce60\uace1\uacbd\ub300\ubcd1\uc6d0"}]},{id:"24",name:"\uad11\uc8fc",label:"kwangju",flashlabel:"gwangju",code:"kj",cityid:"KJS",lines:[{name:"1\ud638\uc120",id:"KJS1",label:"line1",section:"\ud3c9\ub3d9-\ub179\ub3d9"}]},{id:"25",name:"\ub300\uc804",label:"daejeon",code:"dj",cityid:"DJS",lines:[{name:"1\ud638\uc120",id:"DJS1",label:"line1",section:"\ubc18\uc11d-\ud310\uc554"}]}];
rb.regionList.forEach(function(a){rb.cityId[a.cityid]=a.id;rb.cateId[a.id]=a.cate||a.id;a.lines.forEach(function(a){rb.stationName[a.id]=a.name})});define("controller/SubwayController",["controller/WindowController"],H(rb));cd.prototype.loadView=function(){var a=this.data_,b=this.panel_=new h("div");b.addClass("routeInfo");var c=new h("div","subInfo"),d=0;a.find("sectionRoutings").forEach(function(a){a.text("type")!="99"&&(d=d+(a.find("nodes").length-1))});c.addChild(new h("strong","number",d));c.addText("\uac1c\uc5ed");
this.transCnt_=new h("span","trans");c.addChild(this.transCnt_);var e=new h("span","seperate","|");c.addChild(e);c.addText("\uc57d ");var e=a.text("totalTime"),f=Math.floor(e/60),e=f/60|0,f=f%60|0;if(e>0){c.addChild(new h("strong","number",""+e));c.addText("\uc2dc\uac04 ")}if(f>0){c.addChild(new h("strong","number",""+f));c.addText("\ubd84 \uc18c\uc694")}b.addChild(c);c=new h("span","text","\uc694\uae08 : ");if(a.text("totalFare")>0){c.addText(a.text("totalFare")+"\uc6d0");c.addText(" (\uad50\ud1b5\uce74\ub4dc \uae30\uc900)");
b.addChild(c)}else c.addText(a.text("\uc900\ube44\uc911"));b.addChild(new h("br"));c=new h("span","text","\uac70\ub9ac : ");c.addText(String.formatDistance(a.number("totalDist")));a.has("walkDist")&&c.addText(" (\ub3c4\ubcf4 "+String.formatDistance(a.number("walkDist"))+" \ud3ec\ud568)");b.addChild(c)};cd.prototype.setTrans=function(a){a!=0&&this.transCnt_.setText(" ("+a+"\ud68c \ud658\uc2b9)")};cd.prototype.showMap_=function(a){this.onShowMap.notify(a);p.click("subway","route_mapview")};cd.prototype.print_=
function(a){this.onPrint.notify(a)};Ud.prototype.click_=function(){this.onClick.notify({id:this.name_,tiaraCode:this.tiaraCode_,panel:this.panel_})};Ja.prototype.didFrameResize_=function(a){this.w=a.innerWidth;this.h=a.innerHeight;this.ox=this.px-this.w/2;this.oy=this.py-this.h/2;this.viewer_.setSize(a.innerWidth,a.innerHeight);this.updateImageSize()};Ja.prototype.onSubwayEnter=function(a){this.iw=this.ih=99999;this.sId=a.id;this.viewer_.show();this.w=this.viewer_.getElement().clientWidth;this.h=
this.viewer_.getElement().clientHeight;this.imgPanel_.setSrc("//t1.daumcdn.net/localimg/localimages/07/subwaystation/"+a.imgsrc);this.GRID[2]=this.w-40;this.GRID[3]=this.w-20;h.$("view.deco.horizontal").addClass("hideFrameEvent");h.$("view.deco.vertical").addClass("hideFrameEvent");this.onEnter.notify()};Ja.prototype.onSubwayLeave=function(){this.hide();h.$("view.deco.horizontal").removeClass("hideFrameEvent");h.$("view.deco.vertical").removeClass("hideFrameEvent");this.onLeave.notify()};Ja.prototype.onMapImageLoad=
function(){this.updateImageSize()};Ja.prototype.onWalkerGrab_=function(a){a.preventDefault();var b=a.target,c=b.ownerDocument;if(b.tagName!="SPAN")return this.onMapGrab_(a);if(a.which==1){jQuery(c).on("mousemove",jQuery.proxy(this.onWalkerDrag_,this)).one("mouseup",this.onWalkerRelease_.bind(this));this.ax=a.screenX;this.ay=a.screenY;this.py=this.py-10;this.updateWalkerPosition()}};Ja.prototype.onWalkerDrag_=function(a){a.preventDefault();this.px=this.px+(a.screenX-this.ax);this.py=this.py+(a.screenY-
this.ay);this.ax=a.screenX;this.ay=a.screenY;this.updateWalkerPosition();for(a=0;a<this.GRID.length;++a)if(this.px<this.ox+this.GRID[a]){this.vx=this.WEIGHT[a];break}for(a=0;a<this.GRID.length;++a)if(this.py<this.oy+this.GRID[a]){this.vy=this.WEIGHT[a];break}!this.panTimer&&(this.vx||this.vy)?this.panTimer=setInterval(this.panInvoker.bind(this),50):this.panTimer&&(!this.vx&&!this.vy)&&this.releasePanTimer()};Ja.prototype.panInvoker=function(){this.ox=this.ox+this.vx;this.oy=this.oy+this.vy;if(this.ox>
0&&this.ox<this.iw-this.w)this.px=this.px+this.vx;if(this.oy>0&&this.oy<this.ih-this.h)this.py=this.py+this.vy;this.updateMapPosition()};Ja.prototype.releasePanTimer=function(){if(this.panTimer){clearInterval(this.panTimer);this.panTimer=0}};Ja.prototype.onWalkerRelease_=function(a){a.preventDefault();jQuery(a.target.ownerDocument).off("mousemove",this.onWalkerDrag_);this.releasePanTimer();this.request()};Ja.prototype.onMapGrab_=function(a){a.preventDefault();if(a.which==1){jQuery(a.target.ownerDocument).on({mousemove:jQuery.proxy(this.onDrag_,
this),mouseup:jQuery.proxy(this.onRelease_,this),mouseout:jQuery.proxy(this.onRelease_,this)});this.ax=a.screenX;this.ay=a.screenY;this.tol=true}};Ja.prototype.onDrag_=function(a){a.preventDefault();if(this.tol&&Math.abs(a.screenX-this.ax)>2&&Math.abs(a.screenY-this.ay))this.tol=false;if(!this.tol){this.ox=this.ox+(this.ax-a.screenX);this.oy=this.oy+(this.ay-a.screenY);this.ax=a.screenX;this.ay=a.screenY;this.updateMapPosition()}};Ja.prototype.onRelease_=function(a){a.preventDefault();doc=a.target.ownerDocument;
if(this.tol){var b=a.pageX,a=a.pageY,c=this.viewer_.getPosition();this.px=this.ox+b-c.x;this.py=this.oy+a-c.y;this.request()}jQuery(doc).off({mousemove:this.onDrag_,mouseup:this.onRelease_,mouseout:this.onRelease_})};Ja.prototype.request=function(){Uc.getNearestPanoId(new daum.maps.Point(this.px*this.SCALE|0,this.py*this.SCALE|0),this.sId,this.setPanorama.bind(this),this)};Ja.prototype.setPanorama=function(a){a&&this.onChangedPanorama.notify(a)};Ja.prototype.onSubwayMove=function(a){this.px=a.point.x/
this.SCALE;this.py=a.point.y/this.SCALE;this.ox=this.px-this.w/2;this.oy=this.py-this.h/2;this.updateMapPosition()};Ja.prototype.updateMapPosition=function(){this.ox=Math.max(0,Math.min(this.ox,this.iw-this.w));this.oy=Math.max(0,Math.min(this.oy,this.ih-this.h));this.imgPanel_.setPosition(-this.ox,-this.oy);this.updateWalkerPosition()};Ja.prototype.updateWalkerPosition=function(){this.walkerPanel_.setPosition(this.px-this.ox,this.py-this.oy)};Ja.prototype.updateWalkerDirection=function(){for(var a=
0;a<16;++a)this.walkerPanel_.removeClass("s"+a);this.walkerPanel_.addClass("s"+this.direction_)};Ja.prototype.onWalkerRotate=function(a){a=(a+11.25)/22.5%16|0;if(a!=this.direction_){this.direction_=a;this.updateWalkerDirection()}};Ja.prototype.updateImageSize=function(){this.imgPanel_.getElement();this.iw=this.imgPanel_.getSize().width;this.ih=this.imgPanel_.getSize().height;this.updateMapPosition()};Ja.prototype.show=function(){this.viewer_.show()};Ja.prototype.hide=function(){this.viewer_.hide()};
define("controller/SubwaySearchController","manager/ViewLayout controller/WindowController controller/SubwayController controller/SubwaySearchViewController view/SubwayRouteResultView controller/HistoryController controller/ShareController".split(" "),H(function(a,b,c,d,e,f,g){function j(a){s();var b=G.indexOf(a.currentPanel);O=b;M.find("li").each(function(a){jQuery(this).toggleClass("ACTIVE",a==b)});I=a=K[b];I=="01"?J.show():J.hide();if(d.getRegionId()!=a){d.setRegionId(a);c.setRegionId(a);ua.text(d.regionName[d.REGION_ID.indexOf(I)]);
h.$("info.subway").show()}}function l(a){c.isLoaded()||A.__daumNOFLASH?require("server").stationInfo(a.STARTID,function(b){require("server").stationInfo(a.ENDID,function(c){d.findOriginDestStation(b.text("simpleName"),c.text("simpleName"),a.STARTID,a.ENDID)})}):w=a}function m(a,b){if(Y=a){require("log/Tiara").log("/fake/subway_subwayLinemapSearchResult");e.setData(a);b||c.setToolbarVisible(true)}else{alert("\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4");x();q()}}function k(a){if($)a.panel.setActive(false);
else if(W==a.panel){c.clearSubwayLine();a.panel.setActive(false);W=null}else{c.displaySubwayLine(a.id);u();W=a.panel;a.panel.setActive(true);p.click("subwaybody",a.tiaraCode)}}function n(a){var b=G.indexOf(a.currentPanel),a=E[b]||E[0],b=K[b]||K[0];if(Oa!=b){c.clearObject();c.setRegionId(b);I=b;c.setObject("subway/linemap/"+a+"SubwayFlash.swf");Oa&&require("log/Tiara").log("/fake/subway_region_"+a);Oa=b}}function o(){var a=A.encodeURIComponent(c.getStartStationName()||""),b=A.encodeURIComponent(c.getEndStationName()||
""),d=A.encodeURIComponent(c.getStartStationId()||""),e=A.encodeURIComponent(c.getEndStationId()||""),f=c.getRegionId();ob("",560,540,{name:"subwayScrap"});var g=document.subway_scrap_form;g.cityCode.value=f;g.STARTNAME.value=a?a:"";g.ENDNAME.value=b?b:"";g.STARTID.value=d?d:"";g.ENDID.value=e?e:"";g.method="post";g.action="./subway/subwayLinemapLink";g.target="subwayScrap";g.submit();p.click("subway","url")}function r(){var a=c.getRegionId();Ga.attr("src","subway/subwayLinemapSave?cityCode="+a);
p.click("subway","save")}function x(){h.$("info.subway").show();h.$("info.subway.intro").show()}function q(){u();H.removeClass("expressTrain");y.removeClass("legendExpressTrain");$=false;c.clearSubwayLine();c.initSubwayFlash();c.setToolbarVisible(false);c.initSubway();t=false;Y=null}function s(){x();q();d.clear();d.updateTime()}function u(){if(W){W.setActive(false);W=null}}fa(this,Cb);var w=null,C=null,O=0,I="01",t=false,Y=null;this.searchController=d;this.controller=c;var G=this.LEGEND_BUTTON=[],
E=this.FLASH_NAME=[],K=this.CITY_CODE=[];this.onActive.add(function(){if(this.getActive()){Application.roadviewController.close();jQuery("#info\\.subway\\.searchBox").show();h.$("info.subway").show();a.setSubwayOnly();H.show();t?c.setToolbarVisible(true):d.updateTime();(!c.getStartStationName()||!c.getEndStationName())&&G[O].show();document.body.className=document.body.className;if(A.__daumNOFLASH)if(swfobject&&swfobject.ableflash)jQuery("#view\\.subway\\.flash .FlashPlayerDownload").off().on("click",
".download",function(){var a=g.createParam(),a=location.href.replace(/\?.*/,"").replace(/#(none)*$/,"")+"?"+jQuery.param(a);A.history.replaceState({},"",a)});else alert("\ubaa8\ubc14\uc77c\uc5d0\uc11c\ub294 \uc9c0\ud558\ucca0 \ub178\uc120\ub3c4\uac00 \uc81c\uacf5 \ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4")}else{jQuery("#toolList\\.copylist").removeClass("subway");jQuery("#localInfo\\.map").show();H.hide();c.setToolbarVisible(false)}},this);d.onShowRoute.add(function(a){t=true;c.setStartStationId(a.sid);
c.setStartStationName(a.sname);c.setStartCoords(new daum.maps.Coords(a.sx,a.sy));c.setEndStationId(a.eid);c.setEndStationName(a.ename);c.setEndCoords(new daum.maps.Coords(a.ex,a.ey));u();var b={fromStationId:a.sid,toStationId:a.eid,dailyType:a.dailyType,routingType:a.routingType,time:a.time};p.click("subway","route_search");z.log("search_path_subway",decodeURIComponent(a.sname)+","+decodeURIComponent(a.ename),{qt:d.regionName[d.REGION_ID.indexOf(I)]});Bd.findRoute(b,m);a=jQuery.extend({},a,{subwayRegion:d.getRegionId()});
f.addSubwayRoute(f.TYPE_LIST.SUBWAY,a);ua.text(d.regionName[d.REGION_ID.indexOf(I)]);d.enableSubmit()});d.onChangeRoute.add(function(){c.initSubwayFlash()});c.onSubwayName.add(function(a){a.name&&f.addSubwayStationName(f.TYPE_LIST.SUBWAY_STATION_NAME,a);d.setStationObject(a)});c.setRegionId(d.getRegionId()||"01");c.onLoad.add(function(){if(w){if(C){d.setBoxOptions(C);C=null}w.start&&w.end?d.findOriginDestStation(w.start,w.end,w.startId,w.endId):l(w);w=null}});c.onRouteFirstLoad.add(function(){t=true});
c.onClearSubway.add(function(){s()});c.onClearSubwayLine.add(function(){u()});c.onResetQuickLineEvent.add(function(){H.removeClass("expressTrain");y.removeClass("legendExpressTrain");$=false});e.onSelected.add(function(a){Y&&c.drawRoute(Y.startStationId,Y.endStationId,Y.raw.routes[a])});var Z=new tb;Z.onChange.add(function(){var a=K[Z.getIndex()];c.setRegionId(a);s()});var y=h.$("subwayLegend"),b=jQuery("#subwayLegend button.prev"),B=jQuery("#subwayLegend button.next"),F=h.$("subwayLegend.slide.list"),
aa=jQuery(F.getElement()),D=h.$("info.subway.region"),H=jQuery("#localInfo\\.subway\\.searchBox"),L=ca.$("localInfo.subway.searchBox.region"),ua=jQuery("#localInfo\\.subway\\.searchBox\\.regionBtn"),N=jQuery("#subwayExportBtn"),T=jQuery("#subway\\.tool"),J=H.find(".subwayExpress"),$=false,M=jQuery(L.getElement());J.on("click",function(){if($=!$){H.addClass("expressTrain");y.addClass("legendExpressTrain");p.click("subway","expresstrain")}else{H.removeClass("expressTrain");y.removeClass("legendExpressTrain")}c.clearSubwayLine();
if(W){W.setActive(false);W=null}c.showQuickLine($)});var ia=ca.$("subwayExportMenu");ia.noCloseUIPanel(h.$("subwayExportBtn"));ia.onHide.add(function(){T.removeClass("ACTIVE")});jQuery("#subway\\.tool\\.map\\.print").on("click",function(){c.printPopup();ia.hide()});jQuery("#subway\\.tool\\.map\\.save").on("click",function(){r();ia.hide()});jQuery("#subway\\.tool\\.map\\.copyurl").on("click",function(){g.show();ia.hide()});jQuery("#subway\\.tool\\.map\\.copymap").on("click",function(){o();ia.hide()});
b.on("click",function(){var a=F.getWidth(),b=aa.scrollLeft();aa.scrollLeft(b-a)});B.on("click",function(){var a=F.getWidth(),b=aa.scrollLeft();aa.scrollLeft(b+a)});N.on("click",function(){if(T.hasClass("ACTIVE")){T.removeClass("ACTIVE");ia.hide()}else{T.addClass("ACTIVE");ia.show()}});L.hide();L.noCloseUIPanel(h.$("localInfo.subway.searchBox.regionBtn"));rb.regionList.forEach(function(a,b){var c=new h("ul",a.label);a.lines.forEach(function(b){if(b.label){var d=new h("li",b.label);d.addClass(b.label+
"-INACTIVE");lineTitle=new h("a");lineTitle.setText(b.name);d.addChild(lineTitle);d.setTitle(b.section);c.addChild(d);var e=b.id.replace(/\D/g,"");(new Ud(d,b.id,a.code+(e.length>1?e:"0"+e))).onClick.add(k)}});F.addChild(c);G.push(c);E.push(a.flashlabel||a.label);K.push(a.id);var d=new h("li",a.label),e=new h("a");e.setText(a.name);d.addChild(e);d.addClass(a.label+"-INACTIVE");d.onClick.add(function(){p.click("subway",a.label+"_navi");ua.text(a.name)});D.addChild(d);Z.add(d,c);c.onShow.add(j);c.onShow.add(n);
c.hide();d=new jQuery('<li class="'+a.label+'"><a href="#">'+a.name+"</a></li>");d.on("click",function(){p.click("subway",a.label);Z.setIndex(b);ua.text(a.name)});M.append(d)});ua.on("click",function(){L.getVisible()?L.hide():L.show()});jQuery("#info\\.subway\\.remove").on("click",function(){s();p.click("subway","delete")});var W=null,Ga=new jQuery("<iframe>");Ga.addClass("saveFrame HIDDEN");jQuery("body").append(Ga);this.infoRoute=jQuery("#info\\.subway\\.intro");new Od(f,this.infoRoute,true,function(a){if(a)this.infoRoute.removeClass("Howto");
else{this.infoRoute.html('<strong class="tit_intro">\ud638\uc120\ub3c4 \uc911\uc694\ud558\uc9c0\ub9cc,<br>\uc2dc\uac04\uc774 \ub354 \uc911\uc694\ud558\ub2c8\uae4c</strong><p class="desc_intro">\uc5b8\uc81c \ucd9c\ubc1c\ud574\uc57c \ud558\ub294\uc9c0\ubd80\ud130<br>\uba87\ubd84\uc5d0 \ub3c4\ucc29\ud560\uc9c0\uae4c\uc9c0, \ud55c \ub208\uc5d0 \ud655\uc778\ud558\uc138\uc694.</p>');this.infoRoute.addClass("Howto")}}.bind(this));var Oa="";this.setRegion=function(a){O=a};this.scrap_=function(){o()};this.createUrl=
function(){var a=c.getStartStationName()||"",b=c.getEndStationName()||"",e=c.getStartStationId()||"",f=c.getEndStationId()||"",g=d.getRegionId(),j=d.getBoxOptions();return{nowRegionIdx:Z.getIndex(),REGION:g,STARTNAME:a,ENDNAME:b,STARTID:e,ENDID:f,routingType:j.routingType,dailyType:j.dailyType,time:j.time,URLLINK:true,target:"subway"}};this.save_=function(){r()};this.print_=function(){c.printPopup(void 0);p.click("subway","print")};this.reset=function(){s()};this.setBoxOptions=function(a){c.isLoaded()?
d.setBoxOptions(a):C=a};this.findRouteByName=function(a,b,e,f){G[O].show();c.isLoaded()||A.__daumNOFLASH?d.findOriginDestStation(a,b,e,f):w={start:a,end:b,startId:e,endId:f}};this.shareUrlParser=l}));define("controller/SubwaySearchViewController",["controller/SubwayController","manager/MapSuggest","controller/HistoryController"],H(function(a,b,c){function d(a){var b=a[0].replace(/\([\W\w]*\)/,"").trim(),c=a[1],d=a[3],c=b+(c?" "+c:""),a=new Wa({id:d,coords:new daum.maps.Coords(a[5],a[6]),simpleName:b}),
a=w(a);a.fullName=c;return{id:d,fullName:c,data:a}}function e(a){a&&a.preventDefault();M.find(".suggestBox").css({display:"none"});o()}function f(a){a&&a.preventDefault();Ga.find(".suggestBox").css({display:"none"});if(a=W.val()){s(a,"dest");ba.focusAndSelect()}else r("\ub3c4\ucc29\uc5ed\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",W)}function g(){var a=$.val().trim(),b=W.val().trim();a&&b?j():l()}function j(){var a=jQuery("#info\\.subway\\.searchBox\\.submit");a.replaceWith('<button id="info.subway.searchBox.submit" class="go">'+
a.html()+"</button>");jQuery("#info\\.subway\\.searchBox\\.submit").on("click",xb(500,I).trigger)}function l(){var a=jQuery("#info\\.subway\\.searchBox\\.submit");a.off();a.replaceWith('<span id="info.subway.searchBox.submit" class="go">'+a.html()+"</span>")}function m(a){D.setKeyword(a);a?ia.show():ia.hide();Z.toggleClass("PLACEHOLDER",!a)}function k(a){L.setKeyword(a);a?Oa.show():Oa.hide();y.toggleClass("PLACEHOLDER",!a)}function v(){ca.closeAll();var b=a.getCateByRegionId(Ca),b=B.SUGGEST_PUBTRAN+
(/\?/.test(B.SUGGEST_PUBTRAN)?"&":"?")+"cate=SUBN-"+b;D.setUrl(b);L.setUrl(b);D.setSubwayAreacode(Ca);L.setSubwayAreacode(Ca);H.setSubwayAreacode(Ca);ua.setSubwayAreacode(Ca)}function o(){var a=$.val();if(a){s(a,"origin");W.focusAndSelect()}else r("\ucd9c\ubc1c\uc5ed\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",$)}function r(a,b){setTimeout(function(){b.focusAndSelect();a&&alert(a)},100)}function x(b,c,e){var c=c.trim().replace(/(.*)\uc120$/,"$1").split(" "),f=c[1]||"",c=c[0];if(b&&c){var g=a.getCateByRegionId(Ca);
require("server").suggestPubTran({cate:"SUBN-"+g,q:c},function(a){if(a.find("items")){var c=[];a.find("items").forEach(function(a){a=d(a.text("value").split("|"));(!e||a.id===e)&&c.push(a)});var g=c[0]||null;f&&c.some(function(a){if(a.fullName.indexOf(f)>-1){g=a;return true}});g&&(b==="origin"?C(g.data):O(g.data))}})}}function q(a,b){var c=null;a.some(function(a){if(a.fullName===b){c=a;return true}});return c}function s(a,b){var c,d;if(b==="origin"){c=F;d=C}else{c=aa;d=O}(c=q(c,a))?d(c):x(b,a)}function u(b,
c,e,f){var g=b.trim().replace(/(.*)\uc120$/,"$1").split(" "),b=g[0],j=g[1]||"";if(b)if(c){g=a.getCateByRegionId(Ca);require("server").suggestPubTran({cate:"SUBN-"+g,q:b},function(a){if(a.find("items")){var b=[];a.find("items").forEach(function(a){a=d(a.text("value").split("|"));(!e||a.id===e)&&b.push(a)});var g=b[0]||null;j&&b.some(function(a){if(a.fullName.indexOf(j)>-1){g=a;return true}});a=true;g&&(a=C(g.data));a===true&&x("dest",c,f)}})}else r("\ub3c4\ucc29\uc5ed\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",
W);else r("\ucd9c\ubc1c\uc5ed\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",$)}function w(a){if(a){var b=new Xa;b.id=a.text("id");b.coords=new daum.maps.Coords(a.number("x"),a.number("y"));b.name=a.text("simpleName");return b}return false}function C(a){if(ha=a){c.addSubwayStationName(c.TYPE_LIST.SUBWAY_STATION_NAME,{type:"origin",fullName:ha.fullName,name:ha.name,stationId:ha.id,regionId:Ca});m(ha.name);return ha&&S?A():true}r("\ucd9c\ubc1c\uc5ed \uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.",
$);$.hasClass("PLACEHOLDER")||z.log("search_subway_start_empty",$.val(),{qt:N[T.indexOf(Ca)]})}function O(a){if(S=a){c.addSubwayStationName(c.TYPE_LIST.SUBWAY_STATION_NAME,{type:"dest",fullName:S.fullName,name:S.name,stationId:S.id,regionId:Ca});k(S.name);if(ha&&S)return A();o();return true}r("\ub3c4\ucc29\uc5ed \uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.",W);W.hasClass("PLACEHOLDER")||z.log("search_subway_end_empty",W.val(),{qt:N[T.indexOf(Ca)]})}function I(){if($.hasClass("PLACEHOLDER"))r("\ucd9c\ubc1c\uc5ed \uc785\ub825\ud574\uc8fc\uc138\uc694.",
$);else if(W.hasClass("PLACEHOLDER"))r("\ub3c4\ucc29\uc5ed \uc785\ub825\ud574\uc8fc\uc138\uc694.",W);else{var a=$.val(),b=W.val(),c="",d="";if(ha){a=ha.name;c=ha.id}if(S){b=S.name;d=S.id}S=ha=null;u(a,b,c,d)}}function t(a){X.removeClass("hourList").show();V.children().remove();if(a=="option"){V.css({width:91,left:0});[lb,mb,Pa,Ka].forEach(function(a){V.append(jQuery('<li><a href="#">'+a+"</a></li>"))})}else if(a=="day"){V.css({width:91,left:99});[P,Q,cb].forEach(function(a){V.append(jQuery('<li><a href="#">'+
a+"</a></li>"))})}else if(a=="hour"){V.css({width:71,left:198});V.addClass("hourList");for(a=0;a<24;a++)V.append(jQuery('<li><a href="#">'+(a<10?"0":"")+a+"\uc2dc</a></li>"))}else if(a=="minute"){V.css({width:71,left:277});for(a=0;a<60;a=a+5)V.append(jQuery('<li><a href="#">'+(a<10?"0":"")+a+"\ubd84</a></li>"))}}function A(){X.hide();if(!ha||!S){r("\ucd9c\ubc1c\uc5ed\uacfc \ub3c4\ucc29\uc5ed \uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.",W);return false}if(ha.id==S.id){r("\ucd9c\ubc1c\uc5ed\uacfc \ub3c4\ucc29\uc5ed\uc774 \ub3d9\uc77c\ud569\ub2c8\ub2e4.",
$);return false}var a=ea[da.text()],b=ra[ja.text()],c=pa.text().replace("\uc2dc",":")+ta.text().replace("\ubd84",":")+"00";da.text()===Ka?fa.find("span").addClass("checked"):fa.find("span").removeClass("checked");a={sid:ha.id,eid:S.id,sname:ha.name,sfullname:ha.fullName,ename:S.name,efullname:S.fullName,sx:ha.coords.getX(),sy:ha.coords.getY(),ex:S.coords.getX(),ey:S.coords.getY(),dailyType:b,routingType:a,time:c,endChecked:la};G.notify(a);ia.show();Oa.show();return true}var G=this.onShowRoute=new n,
E=this.onChangeRoute=new n,K=jQuery("#info\\.subway\\.searchBox"),Z=jQuery("#info\\.subway\\.searchBox\\.originForm"),y=jQuery("#info\\.subway\\.searchBox\\.destForm");Z.on("submit",e);y.on("submit",f);var B=require("url"),F=[],aa=[],D=new b({id:"info.subway.searchBox.origin",itemParser:function(a){var b=w(new Wa(a));b.fullName=a.fullName;F.push(b);return[a.fullName,a.fullName]},onSubmit:e,onSubmitHistory:function(a){a.trigger("click")},logKey:"subwaysuggest_start"}),H=new vc(c,c.TYPE_LIST.SUBWAY_STATION_NAME,
D,true);H.onItemClick.add(function(a){x("origin",a.name,a.key);W.focusAndSelect()});var L=new b({id:"info.subway.searchBox.dest",itemParser:function(a){var b=w(new Wa(a));b.fullName=a.fullName;aa.push(b);return[a.fullName,a.fullName]},onSubmit:f,onSubmitHistory:function(a){a.trigger("click")},logKey:"subwaysuggest_end"}),ua=new vc(c,c.TYPE_LIST.SUBWAY_STATION_NAME,L,true);ua.onItemClick.add(function(a){x("dest",a.name,a.key);ba.focusAndSelect()});var N=this.regionName=[],T=this.REGION_ID=[],J=this.REGION_CODE=
[];rb.regionList.forEach(function(a){T.push(a.id);N.push(a.name);J.push(a.cityid)});var $=jQuery("#info\\.subway\\.searchBox\\.origin"),M=jQuery("#info\\.subway\\.searchBox\\.originBox"),ia=jQuery("#info\\.subway\\.searchBox\\.originDelete");$.on("input",g).on("focus",function(){ca.closeAll();M.addClass("originFocus");Z.removeClass("PLACEHOLDER")}).on("blur",function(){M.removeClass("originFocus");ha&&m(ha.name);if($.val()){ia.show();Z.removeClass("PLACEHOLDER")}else{ia.hide();Z.addClass("PLACEHOLDER")}}).on("change",
function(a){console.log(a)});ia.on("click",function(){m("");ha=null;$.focusAndSelect()});M.find(".op").on("click",function(){$.focusAndSelect()});var W=jQuery("#info\\.subway\\.searchBox\\.dest"),Ga=jQuery("#info\\.subway\\.searchBox\\.destBox"),Oa=jQuery("#info\\.subway\\.searchBox\\.destDelete");W.on("input",g).on("focus",function(){ca.closeAll();Ga.addClass("destFocus");y.removeClass("PLACEHOLDER")}).on("blur",function(){Ga.removeClass("destFocus");S&&k(S.name);if(W.val()){Oa.show();y.removeClass("PLACEHOLDER")}else{Oa.hide();
y.addClass("PLACEHOLDER")}});Oa.on("click",function(){k("");S=null;W.focusAndSelect()});Ga.find(".dp").on("click",function(){W.focusAndSelect()});var Ca="01",ha=null,S=null;jQuery("#info\\.subway\\.searchBox\\.to").on("click",function(){var a=ha;ha=S;S=a;ha||(ha={name:""});S||(S={name:""});m(ha.name);k(S.name);ha.name&&S.name&&u(ha.name,S.name,ha.id,S.id);E.notify()});var P="\ud3c9\uc77c",Q="\ud1a0\uc694\uc77c",cb="\ud734\uc77c",lb="\ucd9c\ubc1c\uc2dc\uac04",mb="\ub3c4\ucc29\uc2dc\uac04",Pa="\uccab\ucc28\ubcf4\uae30",
Ka="\ub9c9\ucc28\ubcf4\uae30",Na=K.find(".options"),U=null,V=jQuery("#info\\.subway\\.searchBox\\.listBox"),X=ca.$("info.subway.searchBox.listBox");X.hide();V.on("click",function(a){a=jQuery(a.target);if(a[0].tagName=="LI"||a[0].tagName=="A"){text=a.text();U.find(".text").text(text);U.focus();if(U==ga){if(text==Pa||text==Ka){K.addClass("endChecked");Na.addClass("noTimeBase")}else{Na.removeClass("noTimeBase");K.removeClass("endChecked");fa.find("span").removeClass("checked")}la=text==Ka}X.hide();if(ea[text]){a=
ea[text];a.toLowerCase&&p.click("subway","routetype_"+a.toLowerCase())}}});var la=false,fa=K.find(".endCheck");fa.on("click",function(){la=!la;K.toggleClass("endChecked",la);if(la){da.text(Ka);p.click("subway","lasttrain")}else{da.text(lb);Na.removeClass("noTimeBase")}var a=$.hasClass("PLACEHOLDER")?"":$.val(),b=W.hasClass("PLACEHOLDER")?"":W.val();a&&b&&I()});X.onHide.add(function(){if(U){U.removeClass("optionBox-ACTIVE");U.removeClass("optionSmallBox-ACTIVE")}U=null});var ga=jQuery("#info\\.subway\\.searchBox\\.optionBox"),
da=ga.find(".text");X.noCloseUIPanel(h.$("info.subway.searchBox.optionBox"));ga.on("click",function(){if(U==ga)X.hide();else{X.hide();U=ga;ga.addClass("optionBox-ACTIVE");ga.after(V);t("option")}});var ba=jQuery("#info\\.subway\\.searchBox\\.dayBox"),ja=ba.find(".text");X.noCloseUIPanel(h.$("info.subway.searchBox.dayBox"));ba.on("click",function(){if(U==ba)X.hide();else{X.hide();U=ba;ba.addClass("optionBox-ACTIVE");ba.after(V);t("day")}});var ka=jQuery("#info\\.subway\\.searchBox\\.hourBox"),pa=ka.find(".text");
X.noCloseUIPanel(h.$("info.subway.searchBox.hourBox"));ka.on("click",function(){if(!la&&!Na.hasClass("noTimeBase"))if(U==ka)X.hide();else{X.hide();U=ka;ka.addClass("optionSmallBox-ACTIVE");ka.after(V);t("hour")}});var qa=jQuery("#info\\.subway\\.searchBox\\.minuteBox"),ta=qa.find(".text");X.noCloseUIPanel(h.$("info.subway.searchBox.minuteBox"));qa.on("click",function(){if(!la&&!Na.hasClass("noTimeBase"))if(U==qa)X.hide();else{X.hide();U=qa;qa.addClass("optionSmallBox-ACTIVE");qa.after(V);t("minute")}});
var ra={"\ud3c9\uc77c":"WEEKDAY","\ud1a0\uc694\uc77c":"SATURDAY","\ud734\uc77c":"HOLIDAY"},ea={"\ucd9c\ubc1c\uc2dc\uac04":"TimeBase","\ub3c4\ucc29\uc2dc\uac04":"ArrTimeBase","\uccab\ucc28\ubcf4\uae30":"FirstTrain","\ub9c9\ucc28\ubcf4\uae30":"LastTrain"};this.setPrefixKeyword=function(){v()};this.getRegionId=function(){return Ca};this.setRegionId=function(a){Ca=a;v()};this.findOriginDestStation=function(a,b,c,d){u(a,b,c,d)};this.setStationObject=function(a){if(a.name)x(a.type,a.name,a.stationId);else if(a.type===
"origin"){m("");ha=null}else if(a.type==="dest"){k("");S=null}};this.updateTime=function(){Na.removeClass("noTimeBase");K.removeClass("endChecked");la=false;var a=new Date;da.text(lb);var b=a.getDay(),c=a.getHours(),a=a.getMinutes(),a=5*Math.ceil(a/5);if(a==60){a=0;c++}if(c==24){c=0;b++}b==7&&(b=0);b==6?ja.text(Q):b==0?ja.text(cb):ja.text(P);pa.text((c<10?"0":"")+c+"\uc2dc");ta.text((a<10?"0":"")+a+"\ubd84")};this.clear=function(){S=ha=null;v();m("");k("");l();jQuery("#info\\.subway\\.searchBox\\.resultBox").hide()};
this.getBoxOptions=function(){var a=ea[da.text()],b=ra[ja.text()],c=pa.text().replace("\uc2dc","_")+ta.text().replace("\ubd84","");return{routingType:a,dailyType:b,time:c}};this.setBoxOptions=function(a){for(var b in ea)if(ea[b]==a.routingType){da.text(b);if(b==Pa)Na.addClass("noTimeBase");else if(b==Ka){K.addClass("endChecked");la=true}break}for(b in ra)if(ra[b]==a.dailyType){ja.text(b);break}if(a.time){a=a.time.split("_");a[0]&&pa.text(a[0]+"\uc2dc");a[1]&&ta.text(a[1]+"\ubd84")}};this.diableSubmit=
l;this.enableSubmit=j}));tb.prototype.togglable_=!1;tb.prototype.setTogglable=function(a){this.togglable_=a};tb.prototype.add=function(a,b){if(!this.togglable_&&this.button_.length==0){a&&a.setActive(true);b.show()}else{a&&a.setActive(false);b.hide()}this.button_.push(a);this.panel_.push(b);a&&a.onClick.add(this.clickButton_,this);b.onShow.add(this.showPanel_,this)};tb.prototype.setIndex=function(a){var b=this.panel_[a],c=!this.togglable_||!b.getVisible();b.setVisible(c);this.button_[a].setActive(c);
this.onChange.notify(a);this.index_=a};tb.prototype.clickButton_=function(a){this.setIndex(this.button_.indexOf(a.currentPanel))};tb.prototype.showPanel_=function(a){for(var a=a.currentPanel,b=0,c=this.panel_.length;b<c;++b)if(a==this.panel_[b]){this.button_[b]&&this.button_[b].setActive(true);this.index_=b}else{this.button_[b]&&this.button_[b].setActive(false);this.panel_[b].hide()}};tb.prototype.getIndex=function(){return this.index_};"use strict";define("controller/ThemeMapController",["map/Map",
"view/ThemeMapView","view/ThemeMapPlaceView","themeKeywords"],H(function(a,b,c){function d(){if(!l){g.show();if(h){b.update();b.show();c.hide()}else{b.hide();c.show()}l=true}}function e(){g.hide();l=false;b.hide();c.hide()}function f(a){h=false;b.hide();b.setThemeId(a);c.setThemeId(a);c.show();jQuery("#info\\.body").scrollTop(0)}var g=jQuery("#info\\.thememap"),j=false,l=false,h=true;this.getActive=function(){return j};this.setActive=function(a){h=true;a?d():e();j=a};this.setHideActive=function(a){(j=
a)&&b.update()};this.show=function(){d()};this.hide=function(){e()};this.getActiveThemeId=function(){return!h?c.getThemeId():false};b.onThemeClick.add(f);c.onThemeMore.add(function(){h=true;c.hide();b.update();b.show();jQuery("#info\\.body").scrollTop(0)});c.onThemeClick.add(f);this.setThememapId=function(a){c.setNoJump();f(a)};this.setThememapIdWithJump=function(a){a&&f(a)};this.setSelectedThememapId=function(a){c.setSelectedId(a)};this.setThememapPlaces=function(a){b.setThememapPlaces(a);c.setThememapPlaces(a)}}));
"use strict";define("controller/ThemeMapSearchController",["map/Map","view/ThemeMapItemView","model/ThemeMapItem","themeKeywords","controller/ThemeMapController"],H(function(a,b,c,d,e){function f(a){h.empty();l.show();a.forEach(function(a){a=new c(a);(new b(a,h)).onClick.add(function(a){jQuery("#info\\.main").hide();e.setActive(true);e.setThememapId(a);k.notify()})})}function g(a){j.length=0;var b=d[a]||[];if(b.length!=0){jQuery("#info\\.search\\.theme\\.cnt").text(b.length);require("server").thememapList({sort:"RECENT",
page:0},function(a){var c=a.find("themeList");b.forEach(function(a){var b=c.filter(function(b){return b.text("themeId")==a});j=j.concat(b)});f(j)})}}var j=[],l=jQuery("#info\\.search\\.theme"),h=jQuery("#info\\.search\\.themeList"),k=this.onClick=new n;this.setKeyword=function(a){g(a)};this.reset=function(){h.empty();l.hide()}}));"use strict";define("controller/ThemePoiMarkerController",["map/Map","map/InfoWindowManager","map/MiniTooltipManager"],H(function(a,b,c){function d(a){if(a&&v){a=b.createPlace(a,
v);b.onClose.add(function(){v=null});a.onClose.add(function(){v=null})}}function e(a){a&&v&&Application.infoWindowManager.createBusStop(a,null,null,v)}function f(){j.forEach(function(a){a.setMap(null)});j.length=0;c.clear()}function g(){if((h||k)&&k){l.setBounds(a.getBounds());k=="busStop"?l.setThemeBusStopMode():l.setThemeId(k)}}var j=[],l=new y,h="",k="",v=null,o=this.onShow=new n;l.onChange.add(function(){if(h||k){f();var b=l.places;if(k=="busStop")b=l.busStops;b.forEach(function(b){var f=B.createThemeMarker(h,
b.coords);if(f){f.setMap(a);if(b){f.onClick.add(function(){c.close();v=f;k=="busStop"?ga.find(b.id,e):qa.findPlace(b.id,d);p.click("dotsearch","markerclick")},this);if(h=="oil"&&b.gas&&b.gas.timestampText){var g=c.createGas(b);f.onOver.add(function(){g.bringToFront()});f.onOut.add(function(){g.sendToBack()})}else{f.onOver.add(function(){if(v!=f){var a=null;switch(h){case "bus":a=c.createPOIBusStop;break;case "food":a=c.createRating;break;default:a=c.createTheme}a(b);c.open();o.notify()}},this);f.onOut.add(function(){c.close()},
this)}}j.push(f)}})}});var r=xb(250,g).trigger,x=new daum.maps.Coords(685487,813958);this.setTheme=function(b){h=b.type;k=b.id;if(h=="theme"||k=="c842"){a.setLevel(12);a.setCenter(x);h=="theme"&&(h=k)}g();daum.maps.event.addListener(a,"idle",r)};this.clearTheme=function(){f();k=h=null;daum.maps.event.removeListener(a,"idle",r)}}));define("controller/TransitRouteController",["map/Map","controller/KeywordSearchController","map/InfoWindowManager","controller/RoadviewController"],H(function(a,b,c,d){function e(a){if(C){u.setActiveRouteItemView(C,
false);w.setActiveOverlay(C,false)}if(a){u.setActiveRouteItemView(a,true);w.setActiveOverlay(a,true);C=a}else C=null}function f(a,b){u.setHighlightRouteItemView(a,b);w.setHighlightOverlay(a,b)}function g(){w.setClickable(false)}function j(){w.setClickable(true)}function l(){s.buildPaths();Application.map.setBounds(s.bounds);w=ke(s.points,a);w.onWalkMarkerClick.add(function(b){var c=null,c=typeof b.index=="object"?s.points[b.index.index]:s.points[b.index];o(c,b.index);if(c.isInterPoint){a.setLevel(3);
c.vehicleType==D.TRANSFER_PUBLICTRAFFIC?a.setCenter(c.publicSteps[b.index.stepIdx].coords):a.setCenter(c.coords)}else{var d=c.walkGroup.points;a.setLevel(3);if(b.sub==null)if(d.length==0&&c.walkGroup.walkGuide)x(b.index);else{w.setWalkDetailMarker(b.index,d);a.setCenter(c.coords);return}else{r(b,d);a.setCenter(d[b.sub].coords)}u.setActiveRouteItem()}});w.onOver.add(function(a){f(a,true)});w.onOut.add(function(a){f(a,false)});w.onExpand.add(function(b){var c=null,d=null;if(typeof b=="object"){c=s.points[b.index];
d=b.stepIdx}else c=s.points[b];a.setLevel(3);if(d!=null&&c.vehicleType==D.TRANSFER_PUBLICTRAFFIC)Application.map.setCenter(c.publicSteps[d].coords);else{var e=c.targetPath;Application.map.setCenter(d==1?e[e.length-1]:e[0]||c.coords)}o(c,b)});w.onClose.add(function(){A=null});var b=s.totalPaths,c=b[0],b=b[b.length-1],d=Application.flagSearchController.getWaypoints(),e=d[0].coords,d=d[d.length-1].coords;I=new daum.maps.Polyline(O);I.setPath([e,c]);t=new daum.maps.Polyline(O);t.setPath([b,d]);I.setMap(a);
t.setMap(a)}function h(b,d){var e=c.createBusStopRoute(b,d);e.onBusStopClick.add(function(){ga.find(b.busStop.id,function(d){a.setCenter(d.coords);a.setLevel(3);var e=null,f=null;if(b.vehicles.length===1){e=b.vehicles[0].id;f=b.vehicles[0].startOrder}c.createBusStop(d,e,f)})});return e}function k(a,b){var d=null;return d=a.type==Q.OTHER?c.createIntercityInfo(a,a.walkPath[0],b):c.createWalkPointGroupInfo(a,a.walkPath[0],b)}function n(a,b,d){var e=null,e=a.targetPath;return e=!b.stepIdx||b.stepIdx==
0?c.createIntercityInfo(a,e[0],d):c.createIntercityInfo(a,e[e.length-1],d,true)}function o(b,f){w.hideTransitMediumTooltip(f);e({index:f,sub:null});A!=null&&A!=f&&w.showTransitMediumTooltip(A);var g={x:-4,y:-1},j=null,l=b.isInterPoint&&typeof f=="object"?true:false;f.stepIdx!=void 0&&(b.isInterPoint&&b.vehicleType==D.TRANSFER_PUBLICTRAFFIC)&&(b=b.publicSteps[f.stepIdx]);if(b.action==Q.DEPARTURE||b.action==Q.ARRIVAL)j=c.createStartEndPointInfo(b,{x:20,y:21});else if(b.action==Q.MOVE)j=k(b,g);else{j=
b.isInterPoint?n(b,f,g):b.type=="BUS"?h(b,g):c.createSubwayTooltip(b,g);j.onCollapse.add(function(){w.showTransitMediumTooltip(f)});A=f}j.onCloseBtn&&j.onCloseBtn.add(function(){A=null;c.closeWithoutNotify()});var r=null,u=null;if(l){r=w.getInterPrevIndex(f);u=w.getInterNextIndex(f)}j.onPrev.add(function(){w.showTransitMediumTooltip(f);if(l){var b=s.points[r.index];if(r.stepIdx>=0&&b.vehicleType==D.TRANSFER_PUBLICTRAFFIC)a.panTo(b.publicSteps[r.stepIdx].coords);else if(b.routeType==D.DEPARTURE_ARRIVAL)a.panTo(b.coords);
else{b=b.targetPath;a.panTo(r.stepIdx==1?b[b.length-1]:b[0])}o(s.points[r.index],r,true)}else{a.panTo(s.points[f-1].coords);o(s.points[f-1],f-1,true)}});j.onNext.add(function(){w.showTransitMediumTooltip(f);if(l){var b=s.points[u.index];if(u.stepIdx>=0&&b.vehicleType==D.TRANSFER_PUBLICTRAFFIC)a.panTo(b.publicSteps[u.stepIdx].coords);else if(b.routeType==D.DEPARTURE_ARRIVAL)a.panTo(b.coords);else{b=b.targetPath;a.panTo(u.stepIdx==1?b[b.length-1]:b[0])}o(s.points[u.index],u,true)}else{a.panTo(s.points[f+
1].coords);o(s.points[f+1],f+1,true)}});j.onRoadviewClick.add(function(){var a=b.roadview;d.show(a);p.click("route","go_public_tooltip_roadview");z.logRoadview("node_click_tooltip_roadview",a.panoId,b.coords,Application.localInfoController.getHCodeForLog())});l?j.setButtons(r?s.points[r.index]:null,u?s.points[u.index]:null):j.setButtons(s.points[f-1],s.points[f+1])}function r(b,c){function d(a){a=c.indexOf(a);a={index:b.index,sub:a};r(a,c);e(a)}if(b.sub!=null){var f=c[b.sub],g=Application.infoWindowManager.createWalkPointInfo(f,
{x:0,y:11});g.setButtons(c[b.sub-1],c[b.sub+1]);g.onPrev.add(d);g.onNext.add(d);a.setCenter(f.coords);a.setLevel(3);e(b)}}function x(b){var c=s.points[b].walkPath,d=s.points[b-1],e=s.points[b+1];jb.find2(new vb(c[0],""),d.bus?"BUSSTOP":d.subway?"SUBWAYSTATION":"NORMAL",new vb(c[c.length-1],""),e.bus?"BUSSTOP":e.subway?"SUBWAYSTATION":"NORMAL",e.name,function(d){if(d.error)a.setCenter(c[0]);else{s.points[b].walkGroup.points=d.points;s.points[b].walkGroup.points.pop();u.setWalkItem(b,d.points);w.setWalkDetailMarker(b,
d.points);a.setCenter(d.points[0].coords)}})}function q(){if(s){Application.roadviewController.getActive()&&Application.roadviewController.close();a.setBounds(s.bounds)}}if(!(this instanceof arguments.callee))return new arguments.callee(a,b,c);var s=null,u=null,w=null,C=null,O={zIndex:-2,strokeColor:"#3396ff",strokeOpacity:0.4,strokeWeight:10},I=null,t=null;daum.maps.event.addListener(a,"click",function(){A!==null&&w.showTransitMediumTooltip(A)});this.setView=function(b){u=b;u.onPointClick.add(function(b){d.getActive()&&
d.close();var c=s.points[b.index];if(b.sub!=null&&c.walk)r(b,c.walkGroup.points);else{a.setLevel(3);if(c.isInterPoint){b.index=w.getInterNowIndex({index:b.index,childIdx:b.sub?b.sub:0});var e=c.publicSteps&&c.publicSteps[0]?c.publicSteps[0].coords:c.coords;if(b.sub===1)e=c.arrivalCoords;Application.map.setCenter(e)}else Application.map.setCenter(c.coords);o(c,b.index)}});u.onOver.add(function(a){f(a,true)});u.onOut.add(function(a){f(a,false)});u.onItemDetail.add(function(){d.getActive()&&d.close()});
u.onWalkDetail.add(function(a){var b=s.points[a.index].walkGroup.points;c.close();a.isDetail&&b.length==0&&x(a.index)});u.onChildPointClick.add(function(b){var c=s.points[b.index],d=null;if(c.publicSteps)d=c.publicSteps[b.childIdx].coords;else{c=s.points[b.index+b.childIdx];if(b.isLast){d=c.arrivalCoords;b.childIdx=b.childIdx+1}else d=c.coords}a.setLevel(3);Application.map.setCenter(d);b=w.getInterNowIndex(b);o(c,b)})};this.showNoRoute=function(){u&&u.toggleNoMethodRoute(true)};this.hideNoRoute=function(){u&&
u.toggleNoMethodRoute(false)};this.set=function(a){if(s!==a){if(s){w.clear();u&&u.setRouteDeActive();C=A=null;I&&I.setMap(null);t&&t.setMap(null);t=I=null;Application.mainMapController.tool.onClickTool.remove(g);Application.mainMapController.tool.onComplete.remove(j)}transitWalk=(s=a)&&s.transitWalk;if(s){l();q()}Application.mainMapController.tool.onClickTool.remove(g);Application.mainMapController.tool.onComplete.remove(j);Application.mainMapController.tool.onClickTool.add(g);Application.mainMapController.tool.onComplete.add(j)}};
var A=null;this.adjustMap=function(){q()}}));Ta.defaultBoundTabIndex_=0;Ta.defaultTabIndex_=3;Ta.defaultInterTabIndex_=4;Ta.prototype.showOtherRoute_=function(a){this.otherRoute_=new daum.maps.Polyline({strokeWeight:10,strokeOpacity:0.9,strokeColor:"#54a8ff",additionalStyles:[{strokeWeight:"6",strokeOpacity:"0.9",strokeColor:"#7abbff"}],path:a.totalPaths});this.otherRoute_.setMap(Application.map)};Ta.prototype.hideOtherRoute_=function(){this.otherRoute_&&this.otherRoute_.setMap(null)};Ta.prototype.find=
function(){var a=Application.flagSearchController.getWaypoints();a&&$b.find(a,function(b){this.routes_=b.transitRoutes;this.routeStatus_=b.status;this.interRoutes_=b.interRoutes;this.interStatus_=b.interStatus;this.mkey_=b.mkey;(b.status=="OK"||b.interStatus=="OK")&&Application.historyController.addRoute(Application.historyController.TYPE_LIST.TRANSIT,a);this.onResult.notify()},this)};Ta.prototype.getRoute=function(){return this.routes_};Ta.prototype.clearRoute=function(){this.route_=this.routes_=
this.mkey_=null;this.hideRoute_()};Ta.prototype.hideRoute_=function(){this.routeController_.set(null);this.routeController_.hideNoRoute();this.toolBar_&&this.toolBar_.setVisible(false);this.panel_&&this.panel_.setVisible(false);this.noResultPanel_&&this.noResultPanel_.setVisible(false)};Ta.prototype.load_=function(){var a=this.mkey_,b=this.routes_,c=this.interRoutes_;this.infoWindowManager_.close();this.routeController_.set(null);this.hideOtherRoute_();this.windowController_.showInfoAndTop();require("log/Tiara").log("/fake/routing_public");
if(!this.toolBar_){Application.favoriteController.onChangeItem.add(function(){this.toolBar_.updateFav()}.bind(this));var d=this.toolBar_=new Zc;d.onClick.add(this.handleToolbar_,this);hb.addChild(d)}this.toolBar_.hide();var d=Application.flagSearchController.getWaypoints(),e=t.createTransitFromWaypoints(d);t.findRouteKey(e,function(a){if(a.text("status.code")===t.RESULT_CODE.SUCCESS)e.key=a.text("result");this.toolBar_.updateFav(e)}.bind(this));this.panel_.setMkey(a);if(b[0]||c[0]){if(b[0]instanceof
$b.Lazy)this.routes_=b=b.map(function(a){return a.get()});if(c[0]instanceof Zb.Lazy)this.interRoutes_=c=c.map(function(a){return a.get()});this.panel_.setBoundModeIndex(this.boundModeIndex_);if(this.boundModeIndex_){this.panel_.setModeIndex(3);this.panel_.setInterModeIndex(this.modeIndex_)}else{this.panel_.setModeIndex(this.modeIndex_);this.panel_.setInterModeIndex(4)}this.modeIndex_=3;this.boundModeIndex_=0;this.panel_.setData(b,c);this.panel_.setViaInfoVisible(Application.flagSearchController.getViaVisible());
this.panel_.show()}else{this.noResultPanel_&&this.noResultPanel_.detach();d=Application.flagSearchController.getWaypoints();this.noResultPanel_=Ba.createTransit(this.routeStatus_||this.interStatus_,d);this.panels_.add(null,this.noResultPanel_);this.noResultPanel_.onSearchBtnClick.add(function(a){this.onSearchBtnClick.notify(a)},this);h.$("info.flagsearch").addChild(this.noResultPanel_);this.routeStatus_=="ZERO_RESULTS_DISCONNECTED_NETWORK"&&this.showIntercityInfo_();this.noResultPanel_.show();this.setRoute_(-1);
z.log("search_path_transit",d.map(function(a){return a.name+"_"+Math.floor(a.coords.getX())+","+Math.floor(a.coords.getY())+"_"+(a.pointType=="PLACE"?a.id:"")}),{cnt:"0,0,0,0,0,0,0,0,0",tab:"all",mkey:a,mode:this.routeStatus_||this.interStatus_})}};Ta.prototype.showIntercityInfo_=function(){var a=Application.flagSearchController.getWaypoints();require("server").busTerminalAt({x:a[0].coords.getX().toFixed(0),y:a[0].coords.getY().toFixed(0)},function(a){if(a.find("terminalList").length!=0){var c=F("IntercityInfoView");
this.noResultPanel_.setIntercityBox(c);this.noResultPanel_.setDesc("\ud574\ub2f9 \uac80\uc0c9\uacb0\uacfc\ub294 \uc9c0\uc5ed\uac04 \uae38\ucc3e\uae30 \ub178\uc120\uc774\ubbc0\ub85c<br/> \uc544\ub798 \ud130\ubbf8\ub110 \uc6b4\ud589\uc815\ubcf4\uc5d0\uc11c \ud655\uc778\ud558\uc138\uc694");var d=c.$("intercityList");a.find("terminalList").forEach(function(a){var b=jQuery('<li><a class="info" href="#"><em class="arrow"></em>\uc2e4\uc2dc\uac04\uc608\ub9e4\uc815\ubcf4 \ubcf4\uae30</a>'+a.text("name")+"</li>");
b.find(".info").click(function(){p.click("intercity","intercity_by_transitroute");var b=a.text("id");require("server")[/^BT/.test(b)?"intercityBus":"ferry"]({id:b})});d.append(b)})}else this.noResultPanel_.hideDesc()}.bind(this))};Ta.prototype.handleToolbar_=function(a){switch(a.id){case "favorite":p.click("favorite",["go_public","route_results"]);this.doFavorite_(a.fav);break;case "delete":p.click("route","go_public_route_delete");Application.flagSearchController.reset();break;case "print":this.setRouteToPrint(this.route_);
break;case "alook":this.routeController_.adjustMap();break;default:console.assert(false)}};Ta.prototype.doFavorite_=function(a){if(a)Application.favoriteController.add(a,"public_route_results");else if(a=Application.flagSearchController.getWaypoints()){var b=t.createTransitFromWaypoints(a);t.findRouteKey(b,function(a){if(a.text("status.code")===t.RESULT_CODE.SUCCESS)b.key=a.text("result");Application.favoriteController.add(b,"public_route_results")}.bind(this))}};Ta.prototype.setRoute_=function(a){this.hideOtherRoute_();
var b=null,b=a>=this.routes_.length?this.interRoutes_[a-this.routes_.length]:this.routes_[a];this.activeIdx_=a;Application.infoWindowManager.close();this.routeController_.set(b);!b&&(this.routes_.length!==0||this.interRoutes_.length!==0)?this.routeController_.showNoRoute():this.routeController_.hideNoRoute();a===-1?this.panel_.hideFooterBtns():this.panel_.showFooterBtns();this.route_=b;if(this.toolBar_){b?this.toolBar_.show():this.toolBar_.hide();this.windowController_.updateHeight()}};Ta.prototype.changeActive_=
function(){if(this.getActive()){if(this.routes_)if(this.route_){this.routeController_.set(this.route_);this.panel_.setVisible(true);this.toolBar_.setVisible(true);require("log/Tiara").log("/fake/routing_public")}else this.load_()}else this.hideRoute_();this.panel_.below_="";this.windowController_.onHeightChange.notify()};Ta.prototype.setRouteToPrint=function(a){this.routePrinting_=a||this.route_;ob("etc/print_car.jsp?type=transit",680,870);p.click("route","go_public_print")};Ta.prototype.getModeIndex=
function(){return this.panel_?this.panel_.getModeIndex():null};Ta.prototype.getInterModeIndex=function(){return this.panel_?this.panel_.getInterModeIndex():null};Ta.prototype.getBoundModeIndex=function(){return this.panel_?this.panel_.getBoundModeIndex():null};Ta.prototype.setModeIndex=function(a){this.modeIndex_=parseInt(a)};Ta.prototype.setBoundMode=function(a){this.boundModeIndex_=parseInt(a)};define("controller/TransitRouteSearchController",["map/Map","controller/TransitRouteController","map/InfoWindowManager",
"view/TransitRouteResultView","controller/WindowController"],H(Ta));define("controller/TriangleNoticeController",["options","dom/forefront"],H(function(a,b){function c(a,b,c){var d=false;if(b==void 0)jQuery.cookie("noNotice"+a.id)!=1&&(d=true);else{c=c||1;b?jQuery.cookie("noNotice"+a.id,1,{expires:0}):jQuery.cookie("noNotice"+a.id,1,{expires:c});d=b}return d}function d(){var a=F("TriangleNotice2");a.find("a").click(function(){var a=Application.keywordSearchController,b=a.themeMapController_;b.setHideActive(true);
b.setThememapIdWithJump(106);a.changeActive_();d.hide()});var d=b.create(a);a.$("close").click(function(){p.click("triangleBanner","close");c(f,false,14);d.hide()});a.appendTo("body");d.show();a.find("a").click(function(){p.click("triangleBanner","link")})}function e(){var a=F("TriangleNotice",{link:"https://hoy.kr/3rd9"});a.find("a").css({background:'url("https://t1.daumcdn.net/section/oc/5a8b5c122fc241d7b01641bf3833aea2") no-repeat'}).click(function(){d.hide()});a.find(".link1").css({right:0,bottom:185,
width:27,height:25,"background-position-x":-206,"background-position-y":0});a.find(".link2").css({right:0,bottom:0,width:198,height:185,"background-position-x":-35,"background-position-y":-25});a.find(".link3").css({right:198,bottom:0,width:35,height:32,"background-position-x":0,"background-position-y":-178});var d=b.create(a);a.$("close").click(function(){p.click("triangleBanner","close");c(g,false,999);d.hide()});a.appendTo("body");d.show();a.find("a").click(function(){p.click("triangleBanner",
"link")})}var f={id:2},g={id:19},j=false;if(A.__daumISSUE){if(!j&&a.notice_popup=="Y"&&c(f)){j=true;d()}}else if(!j&&a.notice_popup=="Y"&&c(g)){j=true;e()}}));rd.prototype.getPanel=function(){console.assert(this.panel_.getElement);return this.panel_};define("controller/WalkRouteSearchController",["map/Map","controller/RoadviewController","controller/WindowController","log/Tiara"],H(function(a,b,c,d){function e(a){var b=a.seq,c={index:1,sub:null};E.points.some(function(a,d){if(a.seq==b){c.index=d;
return true}if(a.points)return a.points.some(function(a,e){if(a.seq==b){c.index=d;c.sub=e;return true}})});N.setItemActive(c,true);T.setItemActive(c,true)}function f(){T.setClickable(false)}function g(){T.setClickable(true)}function j(){var a=Db(),b=Application.flagSearchController.getWaypoints();Mb.find(b,function(b){Application.aoiManager.clearAll();a.dispose();if(K!==b&&(!K||!b||!b.error)){K=b;ua=true;aa&&c.updateHeight()}J.notify();var d=Application.flagSearchController.getWaypoints();b.error||
Application.historyController.addRoute(Application.historyController.TYPE_LIST.WALK,d);z.log("search_path_walk",d.map(function(a){return a.name+"_"+a.coords.getX().toFixed(0)+","+a.coords.getY().toFixed(0)+"_"+(a.pointType=="PLACE"?a.id:"")}),b.error?{cnt:0,mode:b.resultErrorCode}:{cnt:1,mode:""})});var d=t.createWalkFromWaypoints(b);t.findRouteKey(d,function(a){if(a.text("status.code")===t.RESULT_CODE.SUCCESS)d.key=a.text("result");$.updateFav(d)}.bind(this))}function l(a,b){var c=a.index,d=a.sub;
if(d!=null){d=d+b;if(!E.points[c].points[d]){c=c+b;d=null}}else c=c+b;E.points[c]instanceof Ac&&d==null&&(d=b>0?0:E.points[c].points.length-1);return E.points[c]==null?null:{index:c,sub:d}}function m(a){var b=a.sub,c=E.points[a.index];c instanceof Ac&&(c=c.points[b]);Application.map.setCenter(c.coords);var d={x:0,y:11},b=null;if(c.seq=="start"||c.seq=="goal"||c.seq=="through"){d={x:27,y:27};b=Application.infoWindowManager.createStartEndPointInfo(c,{x:20,y:21});b.onCloseBtn.add(function(){Application.infoWindowManager.closeWithoutNotify()})}else b=
Application.infoWindowManager.createWalkPointInfo(c,d);b.onPrev.add(k,this);b.onNext.add(k,this);c=l(a,-1);a=l(a,1);b.setButtons(c,a)}function k(a){if(a){N.setItemActive(a,true);N.setHighlight(a,true);T.setItemActive(a,true);m(a)}}function v(){u();Application.infoWindowManager.close();if(K&&aa){if(K.error){T.setData(null);var a=Ba.getNoWalkResultByType(K.resultErrorCode);ia.setTitle(a.text);ia.setDesc(a.desc);ia.setLink(a.link);ia.setWalkFiyData(K);ia.show()}else{y(true);N.setData(K);o();r();ua&&
R();x(true);q(0,true);N.initHover()}d.log("/fake/routing_walk")}}function o(){var a=Application.flagSearchController.getWaypoints(),b=a[0].coords,c=a[a.length-1].coords;K.walkRoutes.forEach(function(a){var d=[],e=Mb.getModeLineColor(a.routeMode),f=Mb.getModeOutLineColor(a.routeMode);a.sectionPoints.forEach(function(a){d=d.concat(a)});a=new daum.maps.Polyline({strokeWeight:8,strokeColor:f,strokeOpacity:0.9,additionalStyles:[{strokeWeight:"6",strokeOpacity:"1",strokeColor:e}],path:d});Z.push(a);a=d[d.length-
1];e=new daum.maps.Polyline({strokeColor:"#3396ff",strokeOpacity:0.4,strokeWeight:10,path:[b,d[0]]});F.push(e);a=new daum.maps.Polyline({strokeColor:"#3396ff",strokeOpacity:0.4,strokeWeight:10,path:[a,c]});D.push(a)})}function r(){K.walkRoutes.forEach(function(a){var b=[];a.sectionPoints.forEach(function(a){b=b.concat(a)});a=new daum.maps.Polyline({strokeWeight:10,strokeColor:"#ffffff",strokeOpacity:1,additionalStyles:[{strokeWeight:"8",strokeOpacity:"1",strokeColor:"#3396ff"},{strokeStyle:"longdash",
strokeWeight:"1",strokeColor:"#ffffff",strokeOpacity:"1"}],path:b});B.push(a)})}function x(b){if(b){Z.forEach(function(b){b.setMap(a)});F.forEach(function(b){b.setMap(a)});D.forEach(function(b){b.setMap(a)});ua&&R()}else{Z.forEach(function(a){a.setMap(null)});F.forEach(function(a){a.setMap(null)});D.forEach(function(a){a.setMap(null)});B.forEach(function(a){a.setMap(null)})}}function q(b,c){var d=Z[b],e=B[b],f=F[b],g=D[b];if(f&&g){f.setMap(null);g.setMap(null)}if(E){if(K.walkRoutes.indexOf(E)!=b&&
d)if(c){d.setMap(a);f.setMap(a);g.setMap(a)}else d.setMap(null)}else if(d&&e){if(c){d.setMap(null);e.setMap(a)}else{d.setMap(a);e.setMap(null)}f.setMap(a);g.setMap(a)}}function s(c){E=null;N.initDetailedItem();T.setData(null);W.clear();y(true);E=K.walkRoutes[c];N.setDetailedItem(c);T.setData(E);var d=[];E.points.forEach(function(a){if(a instanceof Ac){var b=[];a.points.forEach(function(a){b.push(a.coords)});d.push(b)}else d.push(a.coords)});E.sectionPoints.length<6&&E.sectionPoints.forEach(function(b,
c){var e=new fc(c,a,b,d);e.onCoords.add(w);W.add(e)});ia.hide();ua&&R();E&&E.hasRoadviewInfo?b.setRouteData("walk",E.raw):b.setRouteData("walk",null)}function u(){N.setData(null);T.setData(null);ia.hide();W.clear();y(false);b.setRouteData("walk",null);B.forEach(function(a){a.setMap(null)});B.length=0;Z.forEach(function(a){a.setMap(null)});Z.length=0;F.forEach(function(a){a.setMap(null)});F.length=0;D.forEach(function(a){a.setMap(null)});D.length=0}function w(a){L.notify(a)}function C(){b.setRouteData("walk",
null);b.onCheckpoint.remove(function(a){aa&&e(a)});aa=false;G.hide();N.setData(null);T.setData(null);ia.hide();W.clear();y(false);B.forEach(function(a){a.setMap(null)});Z.forEach(function(a){a.setMap(null)});F.forEach(function(a){a.setMap(null)});D.forEach(function(a){a.setMap(null)})}function O(){ob("etc/print_car.jsp?type=walk",680,870)}function I(a){if(a)Application.favoriteController.add(a,"walk_route_results");else if(a=Application.flagSearchController.getWaypoints()){var b=t.createWalkFromWaypoints(a);
t.findRouteKey(b,function(a){if(a.text("status.code")===t.RESULT_CODE.SUCCESS)b.key=a.text("result");Application.favoriteController.add(b,"walk_route_results")}.bind(this))}}function R(){Application.roadviewController.getActive()&&Application.roadviewController.close();E?Application.map.setBounds(E.bounds):Application.map.setBounds(K.bounds)}function y(a){a?$.getPane().show():$.getPane().hide();c.updateHeight()}if(!(this instanceof arguments.callee))return new arguments.callee(a);var G=jQuery("#info\\.walkRoute"),
E=null,K=null,Z=[],B=[],F=[],D=[],aa=false,H=this.onSearchBtnClick=new n,L=this.onAddStop=new n,J=this.onResult=new n,ua=true,N=lf(G),T=We(a),M=h.$("moreGroupview"),$=this.toolbar_=kf();$.onClick.add(function(a){switch(a.id){case "print":p.click("route","go_walk_print");O();break;case "favorite":p.click("favorite",["go_walk","route_results"]);I(a.fav);break;case "alook":p.click("route","go_walk_once_view");R()}});$.getPane().hide();h.$("info.footer").addChild($.getPane());hb.addChild($.getPane());
var P=setInterval(function(){if(A.Application&&Application.favoriteController){Application.favoriteController.onChangeItem.add(function(){this.toolbar_.updateFav()}.bind(this));clearInterval(P)}}.bind(this),500);N.onItemHover.add(function(a){q(a.index,a.hover)});N.onItemDetail.add(function(a){if(a.detail){x(false);s(a.index);Application.mainMapController.tool.onClickTool.remove(f);Application.mainMapController.tool.onComplete.remove(g);Application.mainMapController.tool.onClickTool.add(f);Application.mainMapController.tool.onComplete.add(g)}else{E=
null;N.initDetailedItem();T.setData(null);W.clear();x(true);q(a.index,true);Application.mainMapController.tool.onClickTool.remove(f);Application.mainMapController.tool.onComplete.remove(g)}});N.onWalkPoint.add(function(c){b.close();a.getLevel()>3&&a.setLevel(3);c.sub!=null?a.setCenter(E.points[c.index].points[c.sub].coords):a.setCenter(E.points[c.index].coords);N.setItemActive(c,true);T.setItemActive(c,true);m(c)});N.onWalkPointMouseover.add(function(a){T.setHighlight(a,true)});N.onWalkPointMouseout.add(function(a){T.setHighlight(a,
false)});N.onRoadview.add(function(a){b.show(a);p.click("route","go_walk_roadview")});N.onWalkPointDetail.add(function(b){a.setLevel(3);a.setCenter(E.points[b.index].points[0].coords);N.setItemActive({index:b.index,sub:0},true);T.setItemActive({index:b.index,sub:0},true);m({index:b.index,sub:0})});N.onSearchBtnClick.add(function(a){H.notify(a)});N.onDestination.add(function(){a.setCenter(E.points.slice(-1)[0].coords);Application.keywordSearchController.setActive(true);Application.keywordSearchController.findSurround();
p.click("route","go_walk_nearplace");ua=false});T.onClick.add(function(a){M.hide();N.setItemActive(a,true);N.setHighlight(a,true);m(a)});T.onMouseover.add(function(a){N.setHighlight(a,true);if(a.sub!=null){var a=N.getItem(a.index),b=a.getGroupInfo();if(!b.detailActive){b=a.getGroupInfo();if(b.pos.top>97){M.setPosition(b.pos.left+260,b.pos.top-12);M.show()}}}});T.onMouseout.add(function(a){N.setHighlight(a,false);M.hide()});T.onClickWithZoomIn.add(function(b){N.setItemActive({index:b.index,sub:0},
true);T.setItemActive({index:b.index,sub:0},true);m({index:b.index,sub:0});a.setLevel(3);a.setCenter(E.points[b.index].points[0].coords)});this.find=function(){j()};var ia=Ba.createWalk();ia.onSearchBtnClick.add(function(a){H.notify(a)});ia.hide().appendTo(G);var W=new oa(a);this.setActive=function(a){if(a){b.onCheckpoint.add(function(a){aa&&e(a)});aa=true;G.show();if(E){N.show();a=K.walkRoutes.indexOf(E);s(a)}else v()}else C();c.updateHeight();return this};this.clearRoute=function(){K=E=null;C()};
this.getActive=function(){return aa};this.getRoute=function(){return K};this.printRoute=function(){return E||K.walkRoutes[0]};this.print=O;this.adjustMap=function(){R()};c.onHeightChange.add(function(){if(this.getActive()&&N.goToTopBtn){var a=h.$("info.body").getElement();a.scrollHeight>a.clientHeight?N.goToTopBtn.show():N.goToTopBtn.hide()}},this)}));define("controller/WalkthroughController",["view/WalkthroughView"],H(function(a){this.show=function(b,c,d){d?a.show(b,c):jQuery.cookie("walkthrough")||
a.show(b,c)};this.hide=function(){a.hide()};this.willShow=function(){return!jQuery.cookie("walkthrough")}}));define("controller/WaypointSearchBoxController",["view/WaypointBoxView","controller/TransitRouteSearchController"],function(a){function b(){var a=h.$("info.route.searchBox.list");this.listDragController_=new Gb(a);this.boxViewList_=[];this.listDragController_.onChange.add(this.changeWaypointBox_,this);(this.changeBox_=h.$("info.route.searchBox.change")).onClick.add(this.changeOriginDest_,this);
(this.viaBox_=h.$("info.route.searchBox.toggleVia")).onClick.add(this.addViaBox_,this);h.$("info.route.searchBox.clearVia").onClick.add(this.clearViaBox_,this);this.onAdd=new n;this.onRemove=new n;this.onChange=new n;this.onSearch=new n;this.onClear=new n;this.onMethodFocus=new n;this.setViaVisivle_=this.addVia_=true}b.VIASIGN=1;b.prototype.setViaVisible=function(a){var b=this.boxViewList_.length-1;this.boxViewList_.forEach(function(e,f){if(f!=0&&f!=b){e.setClass("via-INACTIVE",!a);e.setDisabled(!a)}},
this);a&&b<6?this.viaBox_.removeClass("HIDDEN"):this.viaBox_.addClass("HIDDEN");this.addVia_=this.setViaVisivle_=a};b.prototype.setFlagSearch=function(b){var b=b.waypoints,d=b.length-1;if(this.boxViewList_.length>0){this.boxViewList_.forEach(function(){this.listDragController_.removeToNumber(0)},this);this.boxViewList_.length=0}this.addVia_=true;this.changeBox_.setVisible(d==1);if(d==6)this.addVia_=false;this.addVia_?this.viaBox_.removeClass("HIDDEN"):this.viaBox_.addClass("HIDDEN");if(d>6)alert("\uacbd\uc720\uc9c0\ub294 \ucd5c\ub300 5\uac1c\uae4c\uc9c0\ub9cc \ucd94\uac00 \uac00\ub2a5\ud569\ub2c8\ub2e4.");
else{this.focusTargetNumber=null;b.forEach(function(b,c){waypointBoxView=new a(c,c==d);waypointBoxView.onRemove.add(this.onRemove_,this);waypointBoxView.onSearch.add(this.onSearch_,this);if(b&&b.name&&b.name!="\ud574\ub2f9 \uc9c0\uc5ed\uc740 \uc8fc\uc18c\ub97c \ud655\uc778\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")waypointBoxView.setValue(b.name);else{var g="";if(b){g=c==0?"\ucd9c\ubc1c":c==d?"\ub3c4\ucc29":"\uacbd\uc720"+c;b.name=g}else if(this.focusTargetNumber==null)this.focusTargetNumber=c;waypointBoxView.setValue(g)}this.boxViewList_.push(waypointBoxView);
this.listDragController_.add(waypointBoxView);waypointBoxView.setSuggest();if(b&&b.name){var g=Application.historyController.TYPE_LIST,j=b.pointType,l={id:b.id,name:b.name,coords:b.coords};switch(b.pointType){case "ADDRESS":j=g.ADDRESS;break;case "PLACE":j=g.PLACE;break;case "SUBWAY_STATION":j=g.SUBWAY_STATION;break;case "BUS_STOP":j=g.BUS_STOP}if(j=="NORMAL"&&b.id)j=g.ADDRESS;j&&Application.historyController.addPoi(j,l)}},this);this.focusTargetNumber!=null?this.setFocus(this.focusTargetNumber):this.onMethodFocus.notify()}};
b.prototype.setFocus=function(a){a!=null&&this.boxViewList_[a].focusInput()};b.prototype.changeOriginDest_=function(){if(!Application.isLoadingViewShow){p.click("route","route_trans");this.onChange.notify({from:0,to:1})}};b.prototype.addViaBox_=function(){var a=this.boxViewList_.length;if(this.addVia_&&a<7){this.onAdd.notify();p.click("route","route_via_add")}else this.setViaVisivle_&&alert("\uacbd\uc720\uc9c0\ub294 \ucd5c\ub300 5\uac1c\uae4c\uc9c0\ub9cc \ucd94\uac00 \uac00\ub2a5\ud569\ub2c8\ub2e4.")};
b.prototype.onRemove_=function(a){this.onRemove.notify(this.boxViewList_.indexOf(a))};b.prototype.onSearch_=function(a){var b=this.boxViewList_.indexOf(a.view);b==0?p.click("route","route_start",{param1:a.keyword}):b==this.boxViewList_.length-1?p.click("route","route_end",{param1:a.keyword}):p.click("route","route_via",{param1:a.keyword});this.onSearch.notify({index:b,keyword:a.keyword})};b.prototype.setSearchBox=function(a,b){this.boxViewList_[a].setValue(b);this.boxViewList_[a].focusInput()};b.prototype.changeWaypointBox_=
function(a){p.click("route","route_switch");this.onChange.notify(a)};b.prototype.clearViaBox_=function(){p.click("route","route_delete");Application.mainMapController.tool.clear();Application.flagSearchController.flagSearchResultController.initHistroyView()};return b});define("controller/WeatherMarkerController",["map/Map","model/Weather"],function(a,b){return new function(a){function d(){r();e()}function e(){z=false}function f(){if(jQuery("body").hasClass("ROADVIEW")){d();v()}else{G.getCode();if(z)z=
false;else{r();g()}}}function g(){w&&require("server").weatherList(jQuery.extend(q(),{depth:m()}),k)}function j(a,b){for(var c=R.length;c--;)R[c].setZIndex(5);a.setZIndex(6);b.stopPropagation()}function l(){w=false;daum.maps.event.removeListener(u,"idle",s);daum.maps.event.removeListener(a,"dragstart",d);daum.maps.event.removeListener(a,"zoom_changed",d);delete s;v();p.removeClass("ACTIVE");I.notify()}function m(){var a=u.getLevel();return a<=5?[3]:a<=8?[2]:[1]}function k(a){a=a.find("value");v();
for(var b=a.length;b--;)x(a[b])}function v(){for(var a=R.length-1;a>-1;a--)R[a].setMap(null);R=[]}function o(a){z=true;t.notify(a)}function r(){I.notify()}function x(a){var b=new daum.maps.Coords(a.number("point_wx"),a.number("point_wy")),c=F("WeatherMini"),b=new daum.maps.Billboard({position:b,zIndex:5,content:c.getElement()}),d=c.$("weatherMiniTemperature"),e=c.$("locName"),f=c.$("weatherMiniThumb"),g=parseInt(Number(a.number("temp")).toFixed(0)).toString();d.find(".num").text(g);f.addClass("type"+
a.text("iconno"));e.append(a.text("areaname_dong")||a.text("areaname_city")||a.text("areaname_wide"));c.on("mousedown",daum.maps.event.preventMap);c.on("click",o.bind(this,a));b.setMap(u);c.on("mouseover",j.bind(this,b));R.push(b)}function q(){var a=u.getBounds(),b=a.getSouthWest(),a=a.getNorthEast();return{min_x:b.getX()|0,min_y:b.getY()|0,max_x:a.getX()|0,max_y:a.getY()|0}}var s=null,u=a,w=false,p=h.$("localInfo.map.weather"),t=new n,I=new n,R=[],z=false,G=null;this.onCode=t;this.off=I;this.click=
function(){if(w)l();else{w=true;s=xb(500,f).trigger;daum.maps.event.addListener(u,"idle",s);daum.maps.event.addListener(a,"dragstart",d);daum.maps.event.addListener(a,"zoom_changed",d);g();p.addClass("ACTIVE")}};this.getPanel=function(){return p};this.closeWeatherWindow=r;this.getState=function(){return w};this.getDepths=m;this.setRegionCode=function(){};this.removeWeatherOverlay=v;this.openWeatherWindow=o;this.setLocalInfoCont=function(a){G=a};this.turnOff=l;this.makeImgTemperTxt=b.makeImgTemperTxt;
this.enableRequest=e}(a)});define("controller/WeatherWindowController",["map/Map","map/InfoWindowManager","model/Weather"],H(function(a,b,c){function d(a){var c=n;jQuery.extend(a,{titleLoc:c.text("areaname_dong")||c.text("areaname_city")||c.text("areaname_wide"),titleWeaText:c.text("weatext"),titleTemper:c.number("temp").toFixed(0),titleIconno:c.text("iconno"),announceTime:c.text("announcetime").replace(/^([0-9]){4}\./,"")});a=h=b.createWeather(a,new daum.maps.Coords(n.number("point_wx"),n.number("point_wy")));
a.prevCast.add(g);a.nextCast.add(f);a.onClose.add(e);a.more.add(l);k=a.getPane();o=true}function e(){o=false}function f(){var a=h;a.currentCastPage=Math.min(a.maxCastPage,++a.currentCastPage);j(a.currentCastPage);daum.maps.event.preventMap()}function g(){var a=h;a.currentCastPage=Math.max(0,--a.currentCastPage);j(a.currentCastPage);daum.maps.event.preventMap()}function j(a){var b=k,c=b.find(".bottom li"),d=h,a=a||0;c.hide();jQuery(c[a]).show();if(d.maxCastPage==0)b.find(".paging").hide();else{b.find(".paging .lst").removeClass("lst");
a==0&&b.$("pagePrev").addClass("lst");a==d.maxCastPage&&b.$("pageNext").addClass("lst")}}function l(){var a=n,b=a.text("areaname_wide"),c=a.text("areaname_city"),a=a.text("areaname_dong"),d=[];b&&d.push(b);c&&d.push(c);a&&d.push(a);d.push("\ub0a0\uc528");A.open("http://search.daum.net/search?nil_suggest=btn&nil_ch=&rtupcoll=&w=tot&m=&f=&lpp=&DA=SBCO&sug=&q="+encodeURIComponent(d.join(" ")),"_blank")}var h,k,n,o=false;this.request=function(a){n=a;c.fetch(a.text("hcode"),d)};this.getState=function(){return o};
this.closeWindow=function(){o&&h.onClose.notify()}}));define("controller/WhatsHereController",["controller/AreaSearchController"],function(a){return new function(a){function c(a,b,c){Wc.fetch(a,b,d.bind(this,c))}function d(c,d,j){j.name&&a.cacheJibun(d.id,j);e[d.name]=d;c(d)}var e={};this.toAddress=function(a){var b=new Ma;b.docid=a.docid;b.coords=a.coords;b.name=a.name;b.id=a.id;b.maybeAreaSearch=a.dataType=="1"?true:false;b.regionId=a.regionId;b.code=a.code;b.dataType=a.dataType;b.subList=[];b.isWhatsHere=
true;b.subList=a.subList||[];b.infowindowSubAddress=a.infowindowSubAddress;b.zonenum=a.zonenum||a.zipcode;b.buildingName=a.buildingName;return b};this.fetch=function(a,b,d){return c(a,b,d)};this.getCache=function(a){return e[a]};this.clearCache=function(){e={}}}(a)});kc.prototype.showInfoAndTop=function(){this.collapse_&&this.toggleInfo();h.$("info.body").scrollTo(0,0)};kc.prototype.toggleInfo=function(){var a=!this.collapse_;this.setCollapse(a);this.onCollapseToggle.notify(a);p.click("mapsearch",
["left_info",a?"close":"open"])};kc.prototype.setCollapse=function(a){this.collapse_=a;jQuery("body").toggleClass("collapse",a);this.updateHeight()};kc.prototype.getCollapse=function(){return this.collapse_};kc.prototype.updateHeight=function(){var a=jQuery(A),b=jQuery("body").hasClass("SUBWAY")?1:0,c=a.width()-h.$("info").getWidth(),a=a.height();this._viewLayout.setSize(c,a);if(!this.collapse_){var c=jQuery("#info").children().filter(":not(#info\\.body)").filter(":not(.HIDDEN)"),d=h.$("header").getHeight();
c.each(function(a,b){var c=jQuery(b);d=d+c.outerHeight(true)});b=a-d+b;h.$("info.body").setSize(void 0,b);var c=jQuery("#info\\.flagsearch\\.method"),a=jQuery("#info\\.route\\.home"),e=jQuery("#info\\.route\\.intro"),f=jQuery("#info\\.route\\.searchBox"),b=b-(c.is(":visible")?c.outerHeight():0)-(a.is(":visible")?a.outerHeight():0)-(e.is(":visible")?e.outerHeight():0)-(f.is(":visible")?f.outerHeight():0);b>0&&jQuery("#info\\.flagsearch").css("min-height",b+"px")}this.onHeightChange.notify()};kc.prototype.buildAdButtons_=
function(){for(var a=new tb,b=1;document.getElementById("info.adButton"+b);){var c=h.$("info.ad"+b);a.add(h.$("info.adButton"+b),c);++b}b>2&&h.$("info.adButtons").show();--b>0&&a.setIndex(Math.floor(Math.random()*b));var d=this.onClickAdBanner;jQuery("#info\\.ads > a").each(function(a,b){jQuery(b).on("click",function(){d.notify(jQuery(this).attr("tag"));p.click("left","banner")})})};define("controller/WindowController",["manager/ViewLayout"],H(kc));lc.prototype.timer_=0;lc.prototype.start=function(){if(!this.timer_)this.timer_=
setInterval(this.action_,this.timeout_)};lc.prototype.stop=function(){clearInterval(this.timer_);this.timer_=0};lc.get=function(a,b,c){a=new lc(a);a.onAction.add(b,c);return a};n.prototype.loadHandler_=Function();n.prototype.notify=function(a){this.observer_.forEach(function(b){b(a)})};n.prototype.clear=function(){var a=this.observer_;a[0]&&this.loadHandler_(false);a.length=0};n.prototype.add=function(a,b){console.assert(typeof a=="function","The event handler is not a function.");var c=this.observer_;
c[0]||this.loadHandler_(true);if(b){var d=a,a=d.bind(b);a.__func__=d;a.__scope__=b}c.push(a)};n.prototype.set=function(a,b){this.clear();this.add(a,b)};n.prototype.remove=function(a,b){for(var c=this.observer_,d=0,e;e=c[d];++d)if(e===a||e.__func__===a&&e.__scope__===b){c.splice(d,1);c[0]||this.loadHandler_(false);break}};"use strict";define("core/PaneFactory",[],{create:F});String.stripTags=function(a){return a.replace(/<[^>]*>/g,"")};String.cut=function(a,b){return a.length>b?a.substring(0,b-1)+
"..":a};String.formatNumber=function(a){return a.toFixed(0).replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")};String._ENTITIES={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"};String._entitize=function(a){return String._ENTITIES[a]};String.format=function(a){var b=Ub(arguments,1),c=0;return a.replace(/%([sh])/g,function(a,e){var f=b[c++];return e=="s"?""+f:(""+f).replace(/[&"<>]/g,String._entitize)})};String.formatDistance=function(a){return a<1E3?a+"m":a<1E5?(((a|0)+49)/1E3).toFixed(1)+"km":String.formatNumber(Math.ceil(a/
1E3))+"km"};String.base92=function(a){for(var a=a.replace(/ /g,'"'),b=0,c=0,d=a.length;c<d;++c)var e=a.charCodeAt(c),b=e===33?-b:b*92+e-34;return b};String.urlEncode=function(a){return Object.keys(a).map(function(b){return a[b]===null||a[b]===void 0?"":encodeURIComponent(b)+"="+encodeURIComponent(a[b])}).join("&")};String.parseUrlEncoded=function(a){var b={};a.split("&").forEach(function(a){a=a.split("=");a[0]&&(b[decodeURIComponent(a[0])]=decodeURIComponent(a[1]))});return b};zb.prototype.start=
function(){if(!this.id_)this.id_=(this.repeat_?A.setInterval:A.setTimeout)(this.func_,this.interval_)};zb.prototype.stop=function(){if(this.id_){(this.repeat_?A.clearInterval:A.clearTimeout)(this.id_);this.id_=void 0}};zb.prototype.isAlive=function(){return!!this.id_};Wa.prototype.get_=function(a){return a.split(".").reduce(function(a,c){return a&&a[c]||void 0},this.obj_)};Wa.prototype.has=function(a){return this.get_(a)!==void 0};Wa.prototype.find=function(a){a=this.get_(a);return Ub(a).map(function(a){return new Wa(a)})};
Wa.prototype.text=function(a){return""+(this.get_(a)||"")};Wa.prototype.number=function(a){return Number(this.get_(a))||0};Wa.prototype.object=function(a){return(a=this.get_(a))?new Wa(a):null};Wa.prototype.bool=function(a){return this.text(a)=="true"?true:false};Wa.prototype.array=function(a){return this.find(a)};Wa.prototype.raw=function(){return this.obj_};mc.prototype.buildPathXML=function(a){return a.replace(/\./g,">")};mc.prototype.has=function(a){return!!this.data.find(this.buildPathXML(a)).length};
mc.prototype.find=function(a){for(var b=[],a=this.data.find(this.buildPathXML(a)),c=0,d=a.length;c<d;++c)b[c]=new mc(a[c]);return b};mc.prototype.text=function(a){a=this.data.find(this.buildPathXML(a));return a.length>0?jQuery(a[0]).text():""};mc.prototype.number=function(a){return Number(this.text(a))};ca.$=function(a){var b=h.CACHE[a];if(b)return b;b=document.getElementById(a);console.assert(b,"UIForefront.$: No such element #"+a);return h.CACHE[a]=new ca(b)};ca.basket=[];ca.prototype.dimmed_=!1;
ca.prototype.setup_=function(){if(!this.visible_){this.visible_=true;this.dimmed_&&h.$("dimmedLayer").show();jQuery(this.element_.ownerDocument).on("mousedown",this.blueHandler_).on("touchstart",this.blueHandler_);ca.basket.push(this)}};ca.prototype.breakup_=function(){if(this.visible_){this.visible_=false;jQuery(this.element_.ownerDocument).off("mousedown",this.blueHandler_).off("touchstart",this.blueHandler_);this.dimmed_&&h.$("dimmedLayer").hide();this.dimmed_=false;var a=ca.basket.indexOf(this);
ca.basket.splice(a,1)}};ca.prototype.blur_=function(a){if(!this.contain(a.target)&&this.isBlur(a.target)){this.hide();this.onClose.notify()}};ca.prototype.isBlur=function(a){var b=true;this.noUIPanel_.forEach(function(c){c&&c.contain(a)&&(b=false)});this.noPane_.forEach(function(c){if(c&&(c.is(a)||c.has(a).length))b=false});return b};ca.prototype.noClosePane=function(a){this.noPane_.push(a)};ca.prototype.noCloseUIPanel=function(a){this.noUIPanel_.push(a)};ca.prototype.setClickPanel=function(a){this.clickPanel_=
a};ca.prototype.showDimmed=function(){this.dimmed_=true;this.show()};ca.prototype.openBelow=function(a){var b=(a._pane||a).offset(),a=(a._pane||a).outerHeight();this.setPosition(b.left,b.top+a);this.show()};ca.closeAll=function(){if(ca.basket.length!=0){ca.basket.forEach(function(a){a.hide()});ca.basket.length=0}};h.$=function(a){var b=h.CACHE[a];if(b)return b;b=document.getElementById(a);console.assert(!!b,"UIPanel.$: No such element #"+a);return h.CACHE[a]=new h(b)};h.CACHE={};h.prototype.getElement=
function(){return this.element_};h.prototype.show=function(){this.removeClass("HIDDEN");this.onShow.notify({currentPanel:this});return this};h.prototype.hide=function(){this.addClass("HIDDEN");this.onHide.notify({currentPanel:this});return this};h.prototype.getVisible=function(){return this._pane.is(":visible")};h.prototype.setVisible=function(a){return a?this.show():this.hide()};h.prototype.getWidth=function(){return this._pane.outerWidth()};h.prototype.getHeight=function(){return this._pane.outerHeight()};
h.prototype.getSize=function(){return{width:this.getWidth(),height:this.getHeight()}};h.prototype.setSize=function(a,b){(a!==null||a!==void 0)&&this._pane.width(a);(b!==null||b!==void 0)&&this._pane.height(b);return this};h.prototype.setPosition=function(a,b){var c={};if(a!==null)c.left=a;if(b!==null)c.top=b;this._pane.css(c);return this};h.prototype.getPosition=function(){var a=this._pane.offset();return{x:a.left,y:a.top}};h.prototype.addChild=function(a){this._pane.append(a._pane||a);return this};
h.prototype.appendTo=function(a){(a._pane||a).append(this._pane);return this};h.prototype.removeChild=function(a){(a._pane||a).detach();return this};h.prototype.removeAllChildren=function(){this._pane.html("");return this};h.prototype.attach=function(){this._pane.appendTo("body");return this};h.prototype.detach=function(){this._pane.detach();return this};h.prototype.addText=function(a){this._pane.append(this._pane[0].ownerDocument.createTextNode(a));return this};h.prototype.setText=function(a){this._pane.text(a);
return this};h.prototype.getText=function(){return this._pane.text()};h.prototype.setHTML=function(a){this._pane.html(a);return this};h.prototype.hasClass=function(a){return this._pane.hasClass(a)};h.prototype.addClass=function(a){this._pane.addClass(a);return this};h.prototype.removeClass=function(a){this._pane.removeClass(a);return this};h.prototype.setClass=function(a,b){this._pane.toggleClass(a,!!b);return this};h.prototype.removeAllClass=function(){this._pane.attr("class","")};h.prototype.getValue=
function(){return this.placeholderActive_?"":this._pane.val()};h.prototype.setValue=function(a){if(this.placeholderActive_){if(a!=""){this.readyInput_();this._pane.val(a)}}else this._pane.val(a);return this};h.prototype.contain=function(a){return this._pane.is(a)||this._pane.has(a).length};h.prototype.setExternalLink=function(a){this._pane.attr({href:a||"#",target:a?"_blank":""});return this};h.prototype.setSrc=function(a){this._pane.attr("src",a);return this};h.prototype.setSrcPng=h.prototype.setSrc;
h.prototype.setReadonly=function(a){this._pane[0].readOnly=a;return this};h.prototype.handleSubmit__=function(a){a.preventDefault();this.onSubmit.notify(a)};h.prototype.handleChange__=function(a){this.onChange.notify(a)};h.prototype.getRect=function(){return this._pane[0].getBoundingClientRect()};h.prototype.placeholder_="";h.prototype.placeholderActive_=!1;h.prototype.setPlaceholder=function(a){if("placeholder"in this.element_)this.element_.placeholder=a;else if(a=="")this.placeholder_="";else{if(!this.placeholder_){this.onFocus.add(this.readyInput_,
this);this.onBlur.add(this.presentHolder_,this)}this.placeholder_=""+a;try{this.element_.blur()}catch(b){}this.presentHolder_()}return this};h.prototype.readyInput_=function(){if(this.placeholderActive_){this.placeholderActive_=false;this.element_.value="";this.removeClass("PLACEHOLDER")}};h.prototype.presentHolder_=function(){if(!this.placeholderActive_&&this.element_.value==""&&this.placeholder_){this.placeholderActive_=true;this.element_.value=this.placeholder_;this.addClass("PLACEHOLDER")}};h.prototype.scrollTo=
function(a,b){this._pane.scrollTop(a|0).scrollLeft(b|0);return this};h.prototype.focusAndSelect=function(){this._pane.focusAndSelect();return this};h.prototype.handleFocus__=function(){this.onFocus.notify()};h.prototype.handleBlur__=function(){this.onBlur.notify()};h.prototype.setChecked=function(a){this.element_.checked=a;return this};h.prototype.getChecked=function(){return this.element_.checked};h.prototype.setTitle=function(a){this.element_.title=a;return this};h.prototype.getTitle=function(){return this.element_.title};
h.prototype.handleEnter__=function(a){this.onEnter.notify(a)};h.prototype.handleLeave__=function(a){this.onLeave.notify(a)};h.prototype.bringToTop=function(){this._pane.bringin();return this};h.prototype.setSelectable=function(a){this._pane.attr("unselectable",a?"off":"on").css({webkitUserSelect:a?"auto":"none",webkitUserDrag:a?"auto":"none",MozUserSelect:a?"all":"none"})};h.prototype.createEventLinker_=function(a,b){b=b.bind(this);return function(c){this[c?"on":"off"](a,b)}.bind(this._pane)};h.prototype.handleClick__=
function(a){this.setActive(true);a.currentPanel=this;this.onClick.notify(a)};h.prototype.getActive=function(){return/\bACTIVE\b/g.test(this.element_.className)};h.prototype.setActive=function(a){var b=this.element_,c=b.className;this.className_?this.setClass(this.className_+"-ACTIVE",a):b.className=a?c.replace(/\bINACTIVE\b/g,"ACTIVE"):c.replace(/\bACTIVE\b/g,"INACTIVE")};h.prototype.toPane=function(){return this._pane};"use strict";define("dom/forefront",["jquery"],function(a){function b(){d&&d();
e.detach();c.remove();d=c=null}var c=null,d=null,e=a("<div class=DimmedLayer/>");a(document).on("mousedown touchstart",function(a){c&&(!c.is(a.target)&&c.has(a.target).length==0)&&b()});return{create:function(f,g){var g=g||{},j=a(document.body);g.dimmed&&e.appendTo("body");if(g.beforeClose)d=g.beforeClose;g.closer&&f.find(g.closer).click(b);if(g.position)j=g.position;return c=f.addClass("Forefront").appendTo(j)},close:function(){b()}}});define("facade/SearchTabFacade","controller/SearchTabController controller/BusLineController manager/AoiManager controller/FlagSearchController controller/KeywordSearchController controller/AreaSearchController controller/FavoriteController".split(" "),
function(a,b,c,d,e,f,g){function j(a){if(l!=a){c.onSearchTabChange(a);f.onSearchTabChange(a);l=a}}var l=0;e.onActive.add(function(){this.getActive()&&j(0)},e);d.onActive.add(function(){this.getActive()&&j(1)},d);a.onChange.add(function(a){a>1&&j(a)});b.onViewPort.add(function(){j(2)},b);g.onActive.add(function(){this.getActive()&&j(3)},g)});"use strict";define("factory/ButtonFactory",[],H(function(){this.createFavorite=function(a,b){function c(b){var c=!!b;a.toggleClass("ACTIVE",c);if(c){c=b.count<
10?b.count:"10";a.find(".num").attr("class","num num"+c).text(b.count)}}var d=Application.favoriteController;d.onChangeItem.add(function(){c(d.findFavorite(b))});c(d.findFavorite(b));a.click(function(a){a.preventDefault();a.stopPropagation();var a=jQuery(a.currentTarget),c="";a.closest(".InfoWindow").length>0?c="tooltip":a.closest("#info\\.search").length>0&&(c="search_result");d.add(b,c)})};new daum.maps.RoadviewClient;this.createRoadview=function(a,b,c,d){if(b){var e=Application.roadviewController;
a.addClass("ICON-roadview");a.click(function(){d&&typeof d.index=="number"?e.setViewpointWithMarker(b,d,b.pan,b.tilt,0):d?e.setViewpointWithMarker(b,d,b.pan,b.tilt,0):e.show(b)})}else a.hide()};this.createStoreview=function(a,b,c){var d=Application.roadviewController;a.toggle(!!b).toggleClass("ICON-storeview",!c).click(function(){d.showStoreView(b)})};this.createClose=function(a,b){a.addClass("ICON-close");a.click(b)};this.createDestination=function(a,b){var c=Application.flagSearchController;a.click(function(){c.setActive(true);
c.setWaypointWithoutRoute(M.DEST_WHICH_,b)})}}));"use strict";define("factory/InfoWindowToolbarFactory",["controller/FiyFrameController","view/MapShareToolBoxView"],H(function(a,b){this.create=function(c,d,e){return new Ge(Application.flagSearchController,a,b,c,d,e)}}));"use strict";define("factory/MapOverlayFactory",["map/Map"],H(function(a){this.create=function(b,c,d,e){return new ge(a,b,c,d,e)}}));"use strict";"use strict";"use strict";"use strict";ae.prototype.getPanel=function(){console.assert(this.panel_.getElement);
var a=this.onClose=new n;jQuery("<a href=# class=closer />").click(function(){a.notify();Application.infoWindowManager.close()}).appendTo(this.panel_);return this.panel_};ae.prototype.openExclusively=function(a){Application.infoWindowManager.createFromElement(this.getPanel().getElement(),a.getPosition(),a.getMarker())};"use strict";"use strict";"use strict";"use strict";"use strict";"use strict";"use strict";jQuery.fn.blurout=function(a){function b(){if(c){clearTimeout(c);c=0;return true}return false}
var a=a.bind(this),c=0;this.focusout(function(){b();c=setTimeout(function(){b();a()},300)});this.focusin(function(){b()})};jQuery.fn.focusAndSelect=function(){try{this.focus().select()}catch(a){}return this};jQuery.extend(jQuery.fn,{_appendTo:jQuery.fn.appendTo,appendTo:function(a){return this._appendTo(a&&a._pane||a)},set:function(a){var b=this[0];/^checkbox|^radio/.test(b.type)?b.checked=!!a:b.type?this.val(a):this.text(a);return this},show:function(){return this.removeClass("HIDDEN")},hide:function(){return this.addClass("HIDDEN")},
bringin:function(){var a=this[0];if(a&&a.scrollIntoView){var b=this.offset(),c=this.height();(b.top<c||b.top>jQuery(A).height())&&a.scrollIntoView(true)}return this},$:function(a){if(!this.__$){var b=this.__$={};this.find("[data-id]").each(function(){b[this.getAttribute("data-id")]=jQuery(this)})}return this.__$[a]||jQuery()},getElement:function(){return this[0]}});jQuery.fn.selectbox=function(a,b){var c=new ca("ol",a||"");c.noClosePane(this);c.hide();b.map(function(a,b){var f=jQuery("<a href=# />").text(a).click(function(){c.hide();
this.trigger({type:"selectbox",index:b})}.bind(this));return jQuery("<li/>").append(f)},this).forEach(c.addChild,c);c.attach();this.click(function(){c.getVisible()?c.hide():c.openBelow(jQuery(this))});this.html(b[0]||"");return this};jQuery.fn.uidraggable=function(a){a=a||{};this.mousedown(function(b){function c(b){var c=b.screenX-d,g=b.screenY-e;if(!(c==0&&g==0)){if(f&&(Math.abs(c)>4||Math.abs(g)>4))f=false;if(!f){b.preventDefault();(a.drag||Boolean)({dx:c,dy:g});d=b.screenX;e=b.screenY}}}b.preventDefault();
var d=b.screenX,e=b.screenY,f=true;this.startCapture&&this.startCapture();jQuery(this.ownerDocument).mousemove(c).one("mouseup",function(){jQuery(this).off("mousemove",c);this.releaseCapture&&this.releaseCapture();(a[f?"dragcancel":"dragend"]||Boolean)()});var g=jQuery(this).offset();(a.dragstart||Boolean)({x:b.pageX-g.left,y:b.pageY-g.top})});this.click(function(a){a.preventDefault()})};var Vd="undefined"!==typeof module&&module.exports||{};(function(a){function b(a){return(""+a).replace(/&(?!\w+;)|[<>"']/g,
function(a){return C[a]||a})}function c(a,b,c,d){for(var d=d||"<template>",e=b.split("\n"),f=Math.max(c-3,0),g=Math.min(e.length,c+3),e=e.slice(f,g),j=0,l=e.length;j<l;++j){g=j+f+1;e[j]=(g===c?" >> ":"    ")+e[j]}a.template=b;a.line=c;a.file=d;a.message=[d+":"+c,e.join("\n"),"",a.message].join("\n");return a}function d(a,b,c){if("."===a)return b[b.length-1];for(var a=a.split("."),d=a.length-1,e=a[d],f,g,j=b.length,l,h;j;){h=b.slice(0);g=b[--j];for(l=0;l<d;){g=g[a[l++]];if(null==g)break;h.push(g)}if(g&&
"object"===typeof g&&e in g){f=g[e];break}}"function"===typeof f&&(f=f.call(h[h.length-1]));return null==f?c:f}function e(a,b,c,e){var f="",a=d(a,b);if(e){if(null==a||false===a||r(a)&&0===a.length)f=f+c()}else if(r(a))p(a,function(a){b.push(a);f=f+c();b.pop()});else if("object"===typeof a){b.push(a);f=f+c();b.pop()}else if("function"===typeof a)var g=b[b.length-1],f=f+(a.call(g,c(),function(a){return l(a,g)})||"");else a&&(f=f+c());return f}function f(b,d){for(var d=d||{},e=d.tags||a.tags,f=e[0],
g=e[e.length-1],j=['var buffer = "";',"\nvar line = 1;","\ntry {",'\nbuffer += "'],l=[],h=false,k=false,m=function(){if(h&&!k&&!d.space)for(;l.length;)j.splice(l.pop(),1);else l=[];k=h=false},o=[],u,n,r,w=function(a){e=s(a).split(/\s+/);n=e[0];r=e[e.length-1]},v=function(a){j.push('";',u,'\nvar partial = partials["'+s(a)+'"];',"\nif (partial) {","\n  buffer += render(partial,stack[stack.length - 1],partials);","\n}",'\nbuffer += "')},p=function(a,e){var f=s(a);if(""===f)throw c(Error("Section name may not be empty"),
b,z,d.file);o.push({name:f,inverted:e});j.push('";',u,'\nvar name = "'+f+'";',"\nvar callback = (function () {","\n  return function () {",'\n    var buffer = "";','\nbuffer += "')},x=function(a){p(a,true)},C=function(a){var a=s(a),e=0!=o.length&&o[o.length-1].name;if(!e||a!=e)throw c(Error('Section named "'+a+'" was never opened'),b,z,d.file);a=o.pop();j.push('";',"\n    return buffer;","\n  };","\n})();");a.inverted?j.push("\nbuffer += renderSection(name,stack,callback,true);"):j.push("\nbuffer += renderSection(name,stack,callback);");
j.push('\nbuffer += "')},t=function(a){j.push('";',u,'\nbuffer += lookup("'+s(a)+'",stack,"");','\nbuffer += "')},O=function(a){j.push('";',u,'\nbuffer += escapeHTML(lookup("'+s(a)+'",stack,""));','\nbuffer += "')},z=1,A,y,B=0,F=b.length;B<F;++B)if(b.slice(B,B+f.length)===f){B=B+f.length;A=b.substr(B,1);u="\nline = "+z+";";n=f;r=g;h=true;switch(A){case "!":B++;y=null;break;case "=":B++;g="="+g;y=w;break;case ">":B++;y=v;break;case "#":B++;y=p;break;case "^":B++;y=x;break;case "/":B++;y=C;break;case "{":g=
"}"+g;case "&":B++;k=true;y=t;break;default:k=true;y=O}A=b.indexOf(g,B);if(-1===A)throw c(Error('Tag "'+f+'" was not closed properly'),b,z,d.file);f=b.substring(B,A);y&&y(f);for(y=0;~(y=f.indexOf("\n",y));){z++;y++}B=A+g.length-1;f=n;g=r}else switch(A=b.substr(B,1),A){case '"':case "\\":k=true;j.push("\\"+A);break;case "\r":break;case "\n":l.push(j.length);j.push("\\n");m();z++;break;default:q.test(A)?l.push(j.length):k=true;j.push(A)}if(0!=o.length)throw c(Error('Section "'+o[o.length-1].name+'" was not closed properly'),
b,z,d.file);m();j.push('";',"\nreturn buffer;","\n} catch (e) { throw {error: e, line: line}; }");g=j.join("").replace(/buffer \+= "";\n/g,"");d.debug&&("undefined"!=typeof console&&console.log?console.log(g):"function"===typeof print&&print(g));return g}function g(a,g){var j=f(a,g),h=new Function("view,partials,stack,lookup,escapeHTML,renderSection,render",j);return function(f,j){var j=j||{},k=[f];try{return h(f,j,k,d,b,e,l)}catch(m){throw c(m.error,a,m.line,g.file);}}}function j(a,b){b=b||{};return false!==
b.cache?(t[a]||(t[a]=g(a,b)),t[a]):g(a,b)}function l(a,b,c){return j(a)(b,c)}a.name="mustache.js";a.version="0.5.0-dev";a.tags=["{{","}}"];a.parse=f;a.compile=j;a.render=l;a.clearCache=function(){t={}};a.to_html=function(a,b,c,d){a=l(a,b,c);if("function"===typeof d)d(a);else return a};var h=Object.prototype.toString,k=Array.isArray,n=Array.prototype.forEach,o=String.prototype.trim,r;r=k?k:function(a){return"[object Array]"===h.call(a)};var p;p=n?function(a,b,c){return n.call(a,b,c)}:function(a,b,
c){for(var d=0,e=a.length;d<e;++d)b.call(c,a[d],d,a)};var q=/^\s*$/,s;if(o)s=function(a){return null==a?"":o.call(a)};else{var u,w;q.test("\u00a0")?(u=/^\s+/,w=/\s+$/):(u=/^[\s\xA0]+/,w=/[\s\xA0]+$/);s=function(a){return a==null?"":(""+a).replace(u,"").replace(w,"")}}var C={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},t={}})(Vd);(function(){if(!A.rudolphUtil||!A.rudolphUtil.extend){var a=A.rudolphUtil={};a.extend=function(a,c,d){var d=d!==void 0?d:true,e;for(e in c)if(!a[e]||d)a[e]=
c[e];return a}}a.extend(a,{version:"1.0_r168",Array:{compactRudolphUtil:function(a){if(!a)return[];var c=[],d;for(d=0;d<a.length;d=d+1)a[d]===null||typeof a[d]==="undefined"||c.push(a[d]);return c},eachRudolphUtil:function(a,c){if(Array.prototype.foreachRudolphUtil)return a.foreachRudolphUtil(c);for(var d=0,e=a.length;d<e;d=d+1)c(a[d],d)}},Browser:{ua:navigator.userAgent.toLowerCase(),offset:{width:0,height:0},init:function(){this.ie=this.ua.indexOf("msie")!=-1;this.ie_sv1=this.ua.indexOf("sv1")!=
-1;this.ie_sv2=this.ua.indexOf("sv2")!=-1;this.ie6=this.ua.indexOf("msie 6")!=-1;this.ie7=this.ua.indexOf("msie 7")!=-1;this.ie8=this.ua.indexOf("trident/4.0")!=-1;this.ff2=(this.ff=this.ua.indexOf("firefox")!=-1&&this.ua.indexOf("navigator")==-1)&&this.ua.indexOf("firefox/2.")!=-1;this.ff3=this.ff&&this.ua.indexOf("firefox/3.")!=-1;this.sf=this.ua.indexOf("safari")!=-1&&this.ua.indexOf("chrome")==-1;this.webkit=this.ua.indexOf("applewebkit")!=-1;this.op=this.ua.indexOf("opera")!=-1;this.cr=this.ua.indexOf("chrome/")!=
-1;this.ns=this.ua.indexOf("netscape")!=-1||this.ua.indexOf("firefox")!=-1&&this.ua.indexOf("navigator")!=-1;this.gecko=this.ua.indexOf("gecko")!=-1;this.infopath=this.ua.indexOf("infopath")!=-1;this.etc=this.gecko&&this.ff&&this.ns;this.win=this.ua.indexOf("win")!=-1;this.vista=this.ua.indexOf("nt 6")!=-1;this.xp=this.ua.indexOf("nt 5.1")!=-1;this.w2k=this.ua.indexOf("nt 5.0")!=-1;this.w98=this.ua.indexOf("windows 98")!=-1;this.mac=this.ua.indexOf("mac")!=-1;this.unix=!(this.win||this.mac);this.ipad=
this.ua.indexOf("ipad;")!=-1;this.versioning()},versioning:function(){if(this.ie){if(this.ie8)this.ie7=this.ie6=this.ie_sv2=this.ie_sv1=false;if(this.ie7)this.ie6=this.ie_sv2=this.ie_sv1=false}if(this.ff&&this.ff3)this.ff2=false;if(this.sf&&this.cr)this.sf=false},getOsVersion:function(){var a=0;try{this.iphone||this.ipad||this.ipod?a=this.ua.match(/os ([\w|\.|-|_]+) like/g)[0].replace(/^os /,"").replace(/ like$/,""):this.android&&(a=this.ua.match(/android ([\w|\.|-]+);/g)[0].replace(/^android /,"").replace(/;$/,
""))}catch(c){}return a}},Element:{getElementsByClassName:function(b,c){if(document.getElementsByClassName.toString().indexOf("code")>0)return a.$A(b.getElementsByClassName(c));var d=b==document||b==document.body||b==A;if(d||b.id)return a.$$((d?"":"#"+b.id+" ")+"."+a.String.trimRudolphUtil(c).replace(/\s+/g,"."));var d=a.$(b).getElementsByTagName("*"),e=[],f;for(f=0;f<d.length;f=f+1)a.Element.hasClassName(d[f],c)&&e.push(d[f]);return e.length>0?e:[]},getNext:function(b){for(b=a.$(b).nextSibling;b&&
b.nodeType!==1;)b=b.nextSibling;return b},getPrev:function(b){for(b=a.$(b).previousSibling;b&&b.nodeType!==1;)b=b.previousSibling;return b},getParent:function(b){return a.$(b).parentNode},hasClassName:function(b,c){var d=a.String.trimRudolphUtil(a.$(b).className),e=a.String.trimRudolphUtil(c),f=0,g;if(e.indexOf(" ")>0){e=e.replace(/\s+/g," ").split(" ");g=d.split(" ");e.eachRudolphUtil(function(a){f=f+(g.indexOf(a)>-1?1:0)});d=e.length===f}else d=d.length>0&&(d==e||RegExp("(^|\\s)"+e+"(\\s|$)").test(d));
return d},visible:function(b){b=a.$(b);return!(b.offsetWidth===0&&b.offsetHeight===0)},show:function(b,c){var d=a.$(b);d.style.display=c||"block";return d},hide:function(b){b=a.$(b);b.style.display="none";return b},addClassName:function(b,c){var d=a.$(b);if(a.Element.hasClassName(d,c))return d;d.className=a.String.trimRudolphUtil(d.className)===""?c:d.className+" "+c;return d},removeClassName:function(b,c){return a.Element.replaceClassName(b,c,"")},replaceClassName:function(b,c,d){var b=a.$(b),e=
b.className.split(" "),f;for(f=0;f<e.length;f=f+1)e[f]==c&&(e[f]=d);b.className=a.String.replaceAllRudolphUtil(a.String.trimRudolphUtil(e.join(" ")),/\s+/," ");return b}},Event:{observer:[],EVENTID:0,crossEvent:function(){var b={};if(document.addEventListener){b.add=function(b){var d=b.type;d.toLowerCase()=="mousewheel"&&a.Browser.ff&&(d="DOMMouseScroll");b.src.addEventListener(d,b.handler,b.isCapture)};b.remove=function(b){var d=b.type;d.toLowerCase()=="mousewheel"&&a.Browser.ff&&(d="DOMMouseScroll");
b.src.removeEventListener(d,b.handler,b.isCapture)}}else{b.add=function(a){var b=a.type;b.toLowerCase()=="dommousescroll"&&(b="mousewheel");a.src.attachEvent("on"+b,a.handler)};b.remove=function(a){var b=a.type;b.toLowerCase()=="dommousescroll"&&(b="mousewheel");a.src.detachEvent("on"+b,a.handler)}}return b}(),bindedHandlerRegister:[],getBindedHandler:function(b,c){var d=a.Event.bindedHandlerRegister,e=-1,f;f=0;for(loop=d.length;f<loop;f=f+1)if(d[f].src===b&&d[f].handler===c){e=f;break}if(e>=0)return d[e].bindedHandler;
e=a.Function.bindAsEventListener(c,b);d.push({src:b,handler:c,bindedHandler:e});return e},addEvent:function(b,c,d,e){var f=a.$(b),b=a.Event.EVENTID++,c={src:f,type:c,handler:d,isCapture:e||false};a.Event.observer[b]=c;a.Event.crossEvent.add(c);return b},removeEvent:function(b,c,d,e){var f=a.Event.observer;if(b&&!c&&!d){a.Event.crossEvent.remove(f[b]);delete a.Event.observer[b]}else{b=a.$(b);a.Event.crossEvent.remove({src:b,type:c,handler:d,isCapture:e||false});for(var g in f)if(f[g].src===b&&f[g].type===
c&&f[g].handler===d&&f[g].isCapture===(e||false)){delete a.Event.observer[g];break}}},stopObserving:function(b){a.Event.observer[b]&&a.Event.removeEvent(b)},hasObserver:function(b,c){if(typeof b==="number")return!!a.Event.observer[b];var d=false,e=a.Event.observer,f;for(f in e)if(e[f].src===b&&e[f].type===c){d=true;break}return d},stopEvent:function(b){a.Event.stopPropagation(b);a.Event.preventDefault(b);return false},preventDefault:function(a){a=a||A.event;a.preventDefault?a.preventDefault():a.returnValue=
false;return false},stopPropagation:function(a){a=a||A.event;a.stopPropagation?a.stopPropagation():a.cancelBubble=true},GC:function(){return a.Browser.ie?function(){for(var b in a.Event.observer){var c=a.Event.observer[b].src;if(c&&c.ownerDocument)try{!c.offsetParent&&a.Event.stopObserving(b)}catch(d){a.Event.stopObserving(b)}}}:function(){for(var b in a.Event.observer){var c=a.Event.observer[b].src,d=false;if(c&&c.ownerDocument&&!c.offsetParent){do if(c===document.body){d=true;break}while(c=c.parentNode);
!d&&a.Event.stopObserving(b)}}}}},Function:{bind:function(b){var c=b,d=a.$A(arguments),e,f;d.shift();e=d.shift();f=function(){return c.apply(e,d.concat(a.$A(arguments)))};f.__Binded=true;return f},bindAsEventListener:function(b){var c=b,d=a.$A(arguments),e,f;d.shift();e=d.shift();f=function(a){return c.apply(e,[a||A.event].concat(d))};f.__Binded=true;return f},interval:function(b,c,d){b=d?a.Function.bind(b,d):b;return A.setInterval(b,c)}},Fx:{},Number:{},Object:{},String:{byteLengthRudolphUtil:function(b){var c=
0;a.$A(b.toString()).eachRudolphUtil(function(a){c=c+(escape(a).length>3?2:1)});return c},trimRudolphUtil:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replaceAllRudolphUtil:function(){return function(a,c,d){return c.constructor==RegExp?a.replace(RegExp(c.toString().replace(/^\/|\/$/gi,""),"gi"),d):a.split(c).join(d)}}()},$:function(a){return typeof a=="string"?document.getElementById(a):a},$A:function(a){if(!a)return[];if(a instanceof Array)return a;var c=[],d;for(d=0;d<a.length;d=
d+1)c.push(a[d]);return c},$C:function(b,c){var d=a.$(b);return d!==null?a.Element.getElementsByClassName(d,c):null},$E:function(b){if(b=a.$(b)){a.extendMethods(b,a.Element,false);b.addEvent=a.methodize(a.Event.addEvent);b.removeEvent=a.methodize(a.Event.removeEvent)}return b},documentLoaded:false,extendMethods:function(b,c,d){var d=d!==void 0?d:true,e;for(e in c)if(!b[e]||d)typeof c[e]=="function"&&(b[e]=a.methodize(c[e]));return b},methodize:function(b){return function(){return b.apply(null,[this].concat(a.$A(arguments)))}},
nativeExtend:function(){var b=[[a.String,String.prototype],[a.Array,Array.prototype]],c;for(c=0;c<b.length;c=c+1)a.extendMethods(b[c][1],b[c][0],false)},urlParameter:function(){for(var a={},c=[],d=location.search.substr(1).split("&"),e=0,f=d.length;e<f;e=e+1){c=d[e].split("=");a[c[0]]=c[1]}return a}(),getParam:function(a){return this.urlParameter[a]||null}})})();(function(){rudolphUtil.Browser.init();if(!document.getElementsByClassName)document.getElementsByClassName=rudolphUtil.methodize(rudolphUtil.Element.getElementsByClassName);
if(String.prototype.trim)rudolphUtil.String.trimRudolphUtil=function(a){return a.trim()};return true})();rudolphUtil.extend(rudolphUtil,{createElement:function(a,b){var c;c="";var d=rudolphUtil.HTMLStack,e,f;if(b){for(i in b)c=c+(i+'="'+b[i]+'" ');c="<"+a+" "+c+"></"+a+">"}else c=rudolphUtil.String.startsWith(a,"<")?a:"<"+a+"></"+a+">";try{d.innerHTML=c;e=d.removeChild(d.firstChild);if(e.nodeType!==1)throw{message:"shit browser!"};return e}catch(g){e=c.match(/\w+/).toString().toLowerCase();f={tbody:["<table>",
"</table>"],tr:["<table><tbody>","</tbody></table>"],td:["<table><tbody><tr>","</tr></tbody></table>"],option:["<select>","</select>"]};if(f[e]){d.innerHTML=f[e][0]+c+f[e][1];d=d.removeChild(d.firstChild);return d.getElementsByTagName(e)[0]}return document.createElement(c)}},useHTMLPrototype:function(){rudolphUtil.HTMLFragment=document.createDocumentFragment?document.createDocumentFragment():document.createElement("div");rudolphUtil.HTMLPrototype=document.createElement("div");rudolphUtil.HTMLStack=
document.createElement("div");rudolphUtil.HTMLPrototype.id="rudolphUtil_html_prototype";rudolphUtil.HTMLStack.id="rudolphUtil_html_stack";rudolphUtil.HTMLFragment.appendChild(rudolphUtil.HTMLPrototype);rudolphUtil.HTMLFragment.appendChild(rudolphUtil.HTMLStack);rudolphUtil.HTMLPrototype.style.position=rudolphUtil.HTMLStack.style.position="absolute";rudolphUtil.HTMLPrototype.style.left=rudolphUtil.HTMLStack.style.left=rudolphUtil.HTMLPrototype.style.top=rudolphUtil.HTMLStack.style.top="-10000px";return true}()});
rudolphUtil.extend(rudolphUtil.Array,{size:function(a){return rudolphUtil.Array.compactRudolphUtil(a).length}});rudolphUtil.extend(rudolphUtil.Browser,{setCookie:function(a,b,c){var d=new Date,e="";if(c){d.setDate(d.getDate()+c);e="expires="+d.toGMTString()+";"}document.cookie=a+"="+escape(b)+"; path=/;"+e},getCookie:function(a){var a=a+"=",b=document.cookie+";",c=b.indexOf(a),d;if(c!=-1){d=b.indexOf(";",c);return unescape(b.substring(c+a.length,d))}}});rudolphUtil.extend(rudolphUtil.Function,{inherit:function(a,
b,c){var d=function(){},e;d.prototype=b.prototype;a.prototype=new d;a.prototype.constructor=a;a.prototype.parent=(b.prototype.parent||[]).concat(b);a._parent=b;e=a.prototype.parent.length;a.prototype.$super=function(){this.constructor.prototype.parent[--e].apply(this,arguments);e=e==0?this.constructor.prototype.parent.length:e};c&&rudolphUtil.Function.members(a,c);return a},members:function(a,b){var c,d=a._parent||a;for(c in b)a.prototype[c]=typeof b[c]=="function"?d.prototype[c]?function(a,b){return b.toString().indexOf("this.$super(")>
-1?function(){this.$prev_super=this.$super;this.$super=function(){this.$super=this.$prev_super;return d.prototype[a].apply(this,arguments)};return b.apply(this,arguments)}:function(){return b.apply(this,arguments)}}(c,b[c]):function(b,c){if(c.toString().indexOf("this.$super(")>-1)throw Error(b+" function is not defined in "+a);return function(){return c.apply(this,arguments)}}(c,b[c]):b[c];return a}});rudolphUtil.extend(rudolphUtil.Fx,{});rudolphUtil.extend(rudolphUtil.Element,{});rudolphUtil.extend(rudolphUtil.Event,
{getElement:function(a){a=a||A.event;return a.srcElement||a.target}});rudolphUtil.extend(rudolphUtil.Number,{});rudolphUtil.extend(rudolphUtil.String,{startWith:function(a,b){return rudolphUtil.String.startsWith(a,b)},startsWith:function(a,b){return a.indexOf(b)===0}});rudolphUtil.Template=function(a){this.template=a};rudolphUtil.Template.prototype={evaluate:function(a){return this.template.replace(/#\{([A-Z_][\dA-Z_]*(?:\.[A-Z_][\dA-Z_]*)*)?\}/ig,function(b,c){for(var d=c?c.split("."):"",e=a||"";d.length;){e=
e[d.shift()];if(e===void 0||e===null)return""}return e})},toElement:function(a){return rudolphUtil.createElement(this.evaluate(a))}};(function(){function a(a,b,c,d,e,f){for(var e=a=="previousSibling"&&!f,g=0,j=d.length;g<j;g++){var l=d[g];if(l){if(e&&l.nodeType===1){l.sizcache=c;l.sizset=g}for(var l=l[a],h=false;l;){if(l.sizcache===c){h=d[l.sizset];break}if(l.nodeType===1&&!f){l.sizcache=c;l.sizset=g}if(l.nodeName===b){h=l;break}l=l[a]}d[g]=h}}}function b(a,b,c,d,e,f){for(var e=a=="previousSibling"&&
!f,j=0,l=d.length;j<l;j++){var h=d[j];if(h){if(e&&h.nodeType===1){h.sizcache=c;h.sizset=j}for(var h=h[a],k=false;h;){if(h.sizcache===c){k=d[h.sizset];break}if(h.nodeType===1){if(!f){h.sizcache=c;h.sizset=j}if(typeof b!=="string"){if(h===b){k=true;break}}else if(g.filter(b,[h]).length>0){k=h;break}}h=h[a]}d[j]=k}}}var c=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?/g,d=0,e=Object.prototype.toString,f=false,g=function(a,b,d,f){var d=
d||[],h=b=b||document;if(b.nodeType!==1&&b.nodeType!==9)return[];if(!a||typeof a!=="string")return d;var m=[],o,n,v,t,z=true,A=p(b);for(c.lastIndex=0;(o=c.exec(a))!==null;){m.push(o[1]);if(o[2]){t=RegExp.rightContext;break}}if(m.length>1&&l.exec(a))if(m.length===2&&j.relative[m[0]])n=q(m[0]+m[1],b);else for(n=j.relative[m[0]]?[b]:g(m.shift(),b);m.length;){a=m.shift();j.relative[a]&&(a=a+m.shift());n=q(a,n)}else{if(!f&&m.length>1&&b.nodeType===9&&!A&&j.match.ID.test(m[0])&&!j.match.ID.test(m[m.length-
1])){o=g.find(m.shift(),b,A);b=o.expr?g.filter(o.expr,o.set)[0]:o.set[0]}if(b){o=f?{expr:m.pop(),set:k(f)}:g.find(m.pop(),m.length===1&&(m[0]==="~"||m[0]==="+")&&b.parentNode?b.parentNode:b,A);n=o.expr?g.filter(o.expr,o.set):o.set;for(m.length>0?v=k(n):z=false;m.length;){var y=m.pop();o=y;j.relative[y]?o=m.pop():y="";o==null&&(o=b);j.relative[y](v,o,A)}}else v=[]}v||(v=n);if(!v)throw"Syntax error, unrecognized expression: "+(y||a);if(e.call(v)==="[object Array]")if(z)if(b&&b.nodeType===1)for(a=0;v[a]!=
null;a++)v[a]&&(v[a]===true||v[a].nodeType===1&&r(b,v[a]))&&d.push(n[a]);else for(a=0;v[a]!=null;a++)v[a]&&v[a].nodeType===1&&d.push(n[a]);else d.push.apply(d,v);else k(v,d);if(t){g(t,h,d,f);g.uniqueSort(d)}return d};g.uniqueSort=function(a){if(o){f=false;a.sort(o);if(f)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a};g.matches=function(a,b){return g(a,null,null,b)};g.find=function(a,b,c){var d,e;if(!a)return[];for(var f=0,g=j.order.length;f<g;f++){var l=j.order[f];if(e=j.match[l].exec(a)){var h=
RegExp.leftContext;if(h.substr(h.length-1)!=="\\"){e[1]=(e[1]||"").replace(/\\/g,"");d=j.find[l](e,b,c);if(d!=null){a=a.replace(j.match[l],"");break}}}}d||(d=b.getElementsByTagName("*"));return{set:d,expr:a}};g.filter=function(a,b,c,d){for(var e=a,f=[],g=b,l,h,k=b&&b[0]&&p(b[0]);a&&b.length;){for(var m in j.filter)if((l=j.match[m].exec(a))!=null){var o=j.filter[m],n,r;h=false;g==f&&(f=[]);if(j.preFilter[m])if(l=j.preFilter[m](l,g,c,f,d,k)){if(l===true)continue}else h=n=true;if(l)for(var v=0;(r=g[v])!=
null;v++)if(r){n=o(r,l,v,g);var q=d^!!n;if(c&&n!=null)q?h=true:g[v]=false;else if(q){f.push(r);h=true}}if(n!==void 0){c||(g=f);a=a.replace(j.match[m],"");if(!h)return[];break}}if(a==e){if(h==null)throw"Syntax error, unrecognized expression: "+a;break}e=a}return g};var j=g.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,
TAG:/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]*)((?:\([^\)]+\)|[^\2\(\)]*)+)\2\))?/},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(a){return a.getAttribute("href")}},relative:{"+":function(a,b,c){var d=typeof b==="string",e=d&&!/\W/.test(b),d=d&&!e;e&&!c&&(b=b.toUpperCase());for(var c=0,e=a.length,f;c<
e;c++)if(f=a[c]){for(;(f=f.previousSibling)&&f.nodeType!==1;);a[c]=d||f&&f.nodeName===b?f||false:f===b}d&&g.filter(b,a,true)},">":function(a,b,c){var d=typeof b==="string";if(d&&!/\W/.test(b))for(var b=c?b:b.toUpperCase(),c=0,e=a.length;c<e;c++){var f=a[c];if(f){d=f.parentNode;a[c]=d.nodeName===b?d:false}}else{c=0;for(e=a.length;c<e;c++)(f=a[c])&&(a[c]=d?f.parentNode:f.parentNode===b);d&&g.filter(b,a,true)}},"":function(c,e,f){var g=d++,j=b;if(!/\W/.test(e))var l=e=f?e:e.toUpperCase(),j=a;j("parentNode",
e,g,c,l,f)},"~":function(c,e,f){var g=d++,j=b;if(typeof e==="string"&&!/\W/.test(e))var l=e=f?e:e.toUpperCase(),j=a;j("previousSibling",e,g,c,l,f)}},find:{ID:function(a,b,c){if(typeof b.getElementById!=="undefined"&&!c)return(a=b.getElementById(a[1]))?[a]:[]},NAME:function(a,b){if(typeof b.getElementsByName!=="undefined"){for(var c=[],d=b.getElementsByName(a[1]),e=0,f=d.length;e<f;e++)d[e].getAttribute("name")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){return b.getElementsByTagName(a[1])}},
preFilter:{CLASS:function(a,b,c,d,e,f){a=" "+a[1].replace(/\\/g,"")+" ";if(f)return a;for(var f=0,g;(g=b[f])!=null;f++)g&&(e^(g.className&&(" "+g.className+" ").indexOf(a)>=0)?c||d.push(g):c&&(b[f]=false));return false},ID:function(a){return a[1].replace(/\\/g,"")},TAG:function(a,b){for(var c=0;b[c]===false;c++);return b[c]&&p(b[c])?a[1]:a[1].toUpperCase()},CHILD:function(a){if(a[1]=="nth"){var b=/(-?)(\d*)n((?:\+|-)?\d*)/.exec(a[2]=="even"&&"2n"||a[2]=="odd"&&"2n+1"||!/\D/.test(a[2])&&"0n+"+a[2]||
a[2]);a[2]=b[1]+(b[2]||1)-0;a[3]=b[3]-0}a[0]=d++;return a},ATTR:function(a,b,c,d,e,f){b=a[1].replace(/\\/g,"");!f&&j.attrMap[b]&&(a[1]=j.attrMap[b]);a[2]==="~="&&(a[4]=" "+a[4]+" ");return a},PSEUDO:function(a,b,d,e,f){if(a[1]==="not")if(c.exec(a[3]).length>1||/^\w/.test(a[3]))a[3]=g(a[3],null,null,b);else{a=g.filter(a[3],b,d,1^f);d||e.push.apply(e,a);return false}else if(j.match.POS.test(a[0])||j.match.CHILD.test(a[0]))return true;return a},POS:function(a){a.unshift(true);return a}},filters:{enabled:function(a){return a.disabled===
false&&a.type!=="hidden"},disabled:function(a){return a.disabled===true},checked:function(a){return a.checked===true},selected:function(a){a.parentNode.selectedIndex;return a.selected===true},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!g(c[3],a).length},header:function(a){return/h\d/i.test(a.nodeName)},text:function(a){return"text"===a.type},radio:function(a){return"radio"===a.type},checkbox:function(a){return"checkbox"===a.type},file:function(a){return"file"===
a.type},password:function(a){return"password"===a.type},submit:function(a){return"submit"===a.type},image:function(a){return"image"===a.type},reset:function(a){return"reset"===a.type},button:function(a){return"button"===a.type||a.nodeName.toUpperCase()==="BUTTON"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},
lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0==b},eq:function(a,b,c){return c[3]-0==b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=j.filters[e];if(f)return f(a,c,b,d);if(e==="contains")return(a.textContent||a.innerText||"").indexOf(b[3])>=0;if(e==="not"){b=b[3];c=0;for(d=b.length;c<d;c++)if(b[c]===a)return false;return true}},CHILD:function(a,b){var c=b[1],d=a;switch(c){case "only":case "first":for(;d=d.previousSibling;)if(d.nodeType===
1)return false;if(c=="first")return true;d=a;case "last":for(;d=d.nextSibling;)if(d.nodeType===1)return false;return true;case "nth":var c=b[2],e=b[3];if(c==1&&e==0)return true;var f=b[0],g=a.parentNode;if(g&&(g.sizcache!==f||!a.nodeIndex)){for(var j=0,d=g.firstChild;d;d=d.nextSibling)if(d.nodeType===1)d.nodeIndex=++j;g.sizcache=f}d=a.nodeIndex-e;return c==0?d==0:d%c==0&&d/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute("id")===b},TAG:function(a,b){return b==="*"&&a.nodeType===1||a.nodeName===
b},CLASS:function(a,b){return(" "+(a.className||a.getAttribute("class"))+" ").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],c=j.attrHandle[c]?j.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),d=c+"",e=b[2],f=b[4];return c==null?e==="!=":e==="="?d===f:e==="*="?d.indexOf(f)>=0:e==="~="?(" "+d+" ").indexOf(f)>=0:!f?d&&c!==false:e==="!="?d!=f:e==="^="?d.indexOf(f)===0:e==="$="?d.substr(d.length-f.length)===f:e==="|="?d===f||d.substr(0,f.length+1)===f+"-":false},POS:function(a,b,c,d){var e=j.setFilters[b[2]];
if(e)return e(a,c,b,d)}}},l=j.match.POS,h;for(h in j.match)j.match[h]=RegExp(j.match[h].source+/(?![^\[]*\])(?![^\(]*\))/.source);var k=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(document.documentElement.childNodes,0)}catch(n){k=function(a,b){var c=b||[];if(e.call(a)==="[object Array]")Array.prototype.push.apply(c,a);else if(typeof a.length==="number")for(var d=0,f=a.length;d<f;d++)c.push(a[d]);else for(d=0;a[d];d++)c.push(a[d]);
return c}}var o;document.documentElement.compareDocumentPosition?o=function(a,b){if(!a.compareDocumentPosition||!b.compareDocumentPosition){a==b&&(f=true);return 0}var c=a.compareDocumentPosition(b)&4?-1:a===b?0:1;c===0&&(f=true);return c}:"sourceIndex"in document.documentElement?o=function(a,b){if(!a.sourceIndex||!b.sourceIndex){a==b&&(f=true);return 0}var c=a.sourceIndex-b.sourceIndex;c===0&&(f=true);return c}:document.createRange&&(o=function(a,b){if(!a.ownerDocument||!b.ownerDocument){a==b&&(f=
true);return 0}var c=a.ownerDocument.createRange(),d=b.ownerDocument.createRange();c.selectNode(a);c.collapse(true);d.selectNode(b);d.collapse(true);c=c.compareBoundaryPoints(Range.START_TO_END,d);c===0&&(f=true);return c});(function(){var a=document.createElement("div"),b="script"+(new Date).getTime();a.innerHTML="<a name='"+b+"'/>";var c=document.documentElement;c.insertBefore(a,c.firstChild);if(document.getElementById(b)){j.find.ID=function(a,b,c){if(typeof b.getElementById!=="undefined"&&!c)return(b=
b.getElementById(a[1]))?b.id===a[1]||typeof b.getAttributeNode!=="undefined"&&b.getAttributeNode("id").nodeValue===a[1]?[b]:void 0:[]};j.filter.ID=function(a,b){var c=typeof a.getAttributeNode!=="undefined"&&a.getAttributeNode("id");return a.nodeType===1&&c&&c.nodeValue===b}}c.removeChild(a);c=a=null})();(function(){var a=document.createElement("div");a.appendChild(document.createComment(""));if(a.getElementsByTagName("*").length>0)j.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]===
"*"){for(var d=[],e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c};a.innerHTML="<a href='#'></a>";if(a.firstChild&&typeof a.firstChild.getAttribute!=="undefined"&&a.firstChild.getAttribute("href")!=="#")j.attrHandle.href=function(a){return a.getAttribute("href",2)};a=null})();document.querySelectorAll&&function(){var a=g,b=document.createElement("div");b.innerHTML="<p class='TEST'></p>";if(!(b.querySelectorAll&&b.querySelectorAll(".TEST").length===0)){g=function(b,c,d,e){c=c||document;if(!e&&
c.nodeType===9&&!p(c))try{return k(c.querySelectorAll(b),d)}catch(f){}return a(b,c,d,e)};for(var c in a)g[c]=a[c];b=null}}();document.getElementsByClassName&&document.documentElement.getElementsByClassName&&function(){var a=document.createElement("div");a.innerHTML="<div class='test e'></div><div class='test'></div>";if(a.getElementsByClassName("e").length!==0){a.lastChild.className="e";if(a.getElementsByClassName("e").length!==1){j.order.splice(1,0,"CLASS");j.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!==
"undefined"&&!c)return b.getElementsByClassName(a[1])};a=null}}}();var r=document.compareDocumentPosition?function(a,b){return a.compareDocumentPosition(b)&16}:function(a,b){return a!==b&&(a.contains?a.contains(b):true)},p=function(a){return a.nodeType===9&&a.documentElement.nodeName!=="HTML"||!!a.ownerDocument&&a.ownerDocument.documentElement.nodeName!=="HTML"},q=function(a,b){for(var c=[],d="",e,f=b.nodeType?[b]:b;e=j.match.PSEUDO.exec(a);){d=d+e[0];a=a.replace(j.match.PSEUDO,"")}a=j.relative[a]?
a+"*":a;e=0;for(var l=f.length;e<l;e++)g(a,f[e],c);return g.filter(d,c)};A.rudolphSizzle=g})();(function(){if(A.rudolphSizzle)rudolphUtil.$$=A.rudolphSizzle;rudolphUtil.extend(rudolphUtil,rudolphUtil.Event);rudolphUtil.extend(rudolphUtil,rudolphUtil.Browser);rudolphUtil.extend(rudolphUtil,rudolphUtil.Element);if(rudolphUtil.Event.GC!=void 0)A.JiguEventGC=rudolphUtil.Function.interval(rudolphUtil.Event.GC,6E4,rudolphUtil.Event);rudolphUtil.Event.addEvent(A,"load",function(){rudolphUtil.documentLoaded=
true});rudolphUtil.nativeExtend();if(A.console)if(A.console.log){if(!A.console.debug)A.console.debug=function(){for(var a=0,b=arguments.length;a<b;a++)A.console.log(arguments[a])}}else A.console.debug=A.console.log=function(){};else A.console={debug:function(){},log:function(){}};return true})();rudolph={version:"@VERSION",message:{},define:{},model:{},module:{},view:{},template:{},sparrow:{}};A.$ssf&&(A._$ssf=A.$ssf);A._development=!0;A.$ssf=rudolph.sparrow=function(){function a(a,b){if(!b.getContainer)b.getContainer=
function(){return b.container||b.el};b.release&&b.getContainer()&&rudolphUtil.addEvent(b.getContainer(),"mousedown",function(){a.currentView=b})}var b=[],c={_loadingfn:"",run:function(a,b,c,d,e){for(var f=0;f<a.length;f++){var g=a[f];this._loadingfn=g.desc;g(b,c,d,e)}this._loadingfn=""},install:function(a,c){try{c.desc=a;b.push(c)}catch(d){}},installX:function(){},installModule:function(a,c,d,e){this.run(b,a,c,d,e)}};c.win=A;c.doc=A.document;c.tmp=c.doc.createElement("div");c.html=c.doc.documentElement;
c.services={};var d=[],e=[],f=c.EventDispatcher=function(){};f.addBeforeCallback=function(a){d.push(a)};f.addAfterCallback=function(a){e.push(a)};c.EventDispatcher.prototype={addListener:function(a){for(var b in a)this.addAdaptor(b,a[b])},addAdaptor:function(a,b){if(!this.listeners)this.listeners={};b._module=$ssf._loadingfn;this.listeners[a]||(this.listeners[a]=[]);this.listeners[a].push(b)},dispatchEvent:function(a,b){if(this.listeners){var c=true,b=b||{target:this},f=this.listeners[a];if(f){for(var g=
true,h=0,n=d.length;h<n;h++)g=d[h](a,this,b);if(!g)return;h=0;for(n=f.length;h<n;h++){g=f[h];try{g.call(this,b)===false&&(c=false)}catch(p){["listener_error_",p.fileName,"/",p.lineNumber,"/",rudolphUtil.getCookie("D_sid"),"/",p.message.replace(/ /g,"_"),"/",p.stack].join("");if(A._development==true)throw p;}}h=0;for(n=e.length;h<n;h++)e[h](a,this,b)}return c}},init:function(){this.dispatchEvent("onPreinitialized",{target:this});this.initialize&&this.initialize();this.dispatchEvent("onInitialized",
{target:this})}};var g=[];c.Runner=function(){this.$super();var b=this,d=this.models=new _registry({added:function(){}}),e=this.views=new _registry({added:function(){}});this.commands=new _registry;this.config=A.daumProperties||{};var f=e.add;e.add=function(c,d){d.getApplicationContext=function(){return b};a(b,d);f.call(e,c,d)};this.getViewStack=function(){return g};A._development&&c.trimpath();c.installModule(this,e,d,this.config);for(var d=0,h=e.length;d<h;d++)e.get(e[d]).init();this.dispatchEvent("onContextLoad",
{});rudolphUtil.addEvent($ssf.win,"unload",function(){b.dispatchEvent("onContextUnload",{})});c.win.onerror=function(a,c,d){b.dispatchEvent("errorCatched",{message:a,exception:{message:a,fileName:c,lineNumber:d,stack:""}});return true}};rudolphUtil.Function.inherit(c.Runner,f);return c}();try{rudolph.sparrow.doc.execCommand("BackgroundImageCache",!1,!0)}catch(nf){}rudolphUtil.extend(rudolph.message,{ERROR_NO_PROXY_FRAME:"Proxy Frame \uc774 \uc0dd\uc131\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.\n\uc11c\uc81c\uc2a4\ud2b8\ub97c \uc2dc\uc791\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",
ERROR_NO_REQUEST_URL:"Request URL\uc774 \uc120\uc5b8\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4.\n\uc11c\uc81c\uc2a4\ud2b8\ub97c \uc2dc\uc791\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",ERROR_NO_INPUTBOX:"\uac80\uc0c9\uc5b4 \uc785\ub825\ub780\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.\n\uc11c\uc81c\uc2a4\ud2b8\ub97c \uc2dc\uc791\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.",ERROR_NO_PARENT_CONTAINER:"\uac80\uc0c9\uc5b4 \uc785\ub825\ub780 \uc0c1\uc704 \ucee8\ud14c\uc774\ub108\uac00 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.\n\uc11c\uc81c\uc2a4\ud2b8\ub97c \uc2dc\uc791\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."});
rudolphUtil.extend(rudolph.define,{Keyboard:{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,CAPSLOOK:20,NAK:21,ESC:27,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,SELECT:41,V:86,SQUARE:91,BASH:92,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,MAC_COMMAND:224},useTabKey:!1});rudolphUtil.extend(rudolph.template,{RequestString:"?q=KEYWORD&mod=json&code=CHARSET",RecentRequestString:"http://personal.search.daum.net/my_keyword_history/get.js?function=INSTANCE_NAME.dataModelRecent.forceLoadCompleteRecent",
RecentDeleteString:"http://personal.search.daum.net/my_keyword_history/remove_all.js?function=INSTANCE_NAME.dataModelRecent.forceLoadCompleteDeleteRecent",Base:new rudolphUtil.Template('<ul>#{list_high}</ul><div class="line" style="display:#{line}"></div><ul>#{list_low}</ul>'),Image:new rudolphUtil.Template('<img src="#{url}">'),IsNonImage:new rudolphUtil.Template('<div class="empty"></div>'),Item:new rudolphUtil.Template('<li class="idx_#{idx}"><a class="item bg" href="javascript:;" onclick="return false;">#{item}</a></li>'),
Footer:new rudolphUtil.Template('<div class="fl">#{moreWord}</div><div class="fr"><a href="javascript:;" onclick="return false;" class="isSuggest">\uc11c\uc81c\uc2a4\ud2b8\ub780?</a><span class="bar" style="display:#{offUsable}">|</span><a href="javascript:;" onclick="return false;" class="offSuggest" style="display:#{offUsable}">\uae30\ub2a5\ub044\uae30</a><span class="offGuide">\uae30\ub2a5\uc744 \ub2e4\uc2dc \ucf24 \ub54c\ub294 v \uc744 \ud074\ub9ad\ud558\uc138\uc694</span></div>'),RecentFooter:new rudolphUtil.Template('<div class="fl">#{recentButton}</div>'),
RecentViewFooter:new rudolphUtil.Template('<a href="javascript:;" onclick="return false;" class="deleteRecent">\ucd5c\uadfc\uac80\uc0c9\uc5b4 \uae30\ub85d\uc0ad\uc81c</a><span class="bar" style="display:#{offUsable}"> | </span><a href="javascript:;" onclick="return false;" class="toggleRecent off">\uc228\uae30\uae30</a>'),RecentHideFooter:new rudolphUtil.Template('<a href="javascript:;" class="toggleRecent on">\ucd5c\uadfc\uac80\uc0c9\uc5b4 \ubcf4\uae30</a>'),TailMore:new rudolphUtil.Template('<a href="javascript:;" class="tailMore">\ub05d\ub2e8\uc5b4 \ub354\ubcf4\uae30</a>'),
HeadMore:new rudolphUtil.Template('<a href="javascript:;" class="headMore">\uc55e\ub2e8\uc5b4 \ub354\ubcf4\uae30</a>'),UsingSuggest:new rudolphUtil.Template("\uc11c\uc81c\uc2a4\ud2b8 \uae30\ub2a5\uc744 \uc0ac\uc6a9\ud558\uace0 \uc788\uc2b5\ub2c8\ub2e4."),UseSuggest:new rudolphUtil.Template("\uc11c\uc81c\uc2a4\ud2b8 \uae30\ub2a5\uc774 \ud65c\uc131\ud654 \ub418\uc5c8\uc2b5\ub2c8\ub2e4."),UsingExternalGuide:new rudolphUtil.Template('<div class="external_guide"></div>'),IntroduceSuggestURL:"http://blog.daum.net/daumsearch/16151013"});
rudolphUtil.extend(rudolph.define,{FocusPointType:{LOAD:"load",WRITE:"write",DEFAULT:"user"},KeywordCompareType:{HEAD:"head",TAIL:"tail",FULL:"full"},ListPositionType:{TRANS:"tail",DEFAULT:"head"},ActivationCookieName:"suggest",ActivationType:{ON:"on",OFF:"off"},RecentCookieName:"suggest_recent",RecentCookieType:{ON:"on",OFF:"off"},KeywordMaxLength:20,KeywordMaxByte:40,ListMaxSize:13,RecentListMaxSize:15,EncodeType:{UTF_IN_OUT:"utf_in_out",UTF_IN:"utf_in"},DynamicScript:{SUGGEST:"dynamic_script_suggest",
RECENT:"dynamic_script_recent"},FrameOrientation:{90:"wide_frame","-90":"wide_frame","0":"default_frame",180:"default_frame"},Separator:{RAWDATA_ITEM:"|",AREACODE_ITEM:","},YellowClip:{ON:"expand",OFF:"off"},Service:{TOP:!1}});(function(a){var b=a.model.DataModel=function(a){this.suggestDomain=a.suggestDomain;this.requestUrl=a.requestUrl;this.requestString=a.requestString;this.encode=a.encode||"";this.reverse=a.reverse;this.defaultKeyword=a.keyword;a.proxyUrl&&this.createFrame(a.suggestDomain+a.proxyUrl);
this.callbackName=a.callbackName;this.loadVisible="visible";this.initialize(a)};rudolphUtil.Function.inherit(b,$ssf.EventDispatcher,{initialize:function(){},setEncode:function(a){this.encode=a},setCallbackName:function(a){this.callbackName=a},setRequestUrl:function(a){this.requestUrl=a},setRequestString:function(a){this.requestString=a},getRequestFullUrl:function(){return this.suggestDomain+this.requestUrl+(this.requestString?this.requestString:a.template.RequestString).replace("CHARSET",this.encode)},
get:function(b,d,e){this.isYellowDown=e;this.loadVisible=d||"visible";d=a.model.Raw.getByKeyword(b,this.suggestDomain+this.requestUrl+this.requestString)||null;b&&!d?this.callSuggestData(b):d?this.dispatchEvent("onReloadCache",{data:d}):this.dispatchEvent("onEmptyKeyword")},callSuggestData:function(b){if(rudolphUtil.String.byteLengthRudolphUtil(b)>a.define.KeywordMaxByte){this.dispatchEvent("onOverKeyword");return false}var d=b;if(this.encode==a.define.EncodeType.UTF_IN_OUT||this.encode==a.define.EncodeType.UTF_IN)d=
encodeURIComponent(b);if(this.callbackName){b=[this.getRequestFullUrl().replace("KEYWORD",d),"&callback=",this.callbackName].join("");a.module.ScriptCall.load(b,a.define.DynamicScript.SUGGEST)}else this.proxyCall(d,b)},proxyCall:function(a,b){var e=this;this.getProxyData(a,this.getRequestFullUrl(),function(a){a=(new Function("","return "+a+";"))();e.forceLoadComplete(a)})&&this.dispatchEvent("onSendData",{keyword:b,url:this.getRequestFullUrl()})},forceLoadComplete:function(a){this.dispatchEvent("onLoadComplete",
{data:a,route:this.suggestDomain+this.requestUrl+this.requestString,visible:this.loadVisible,isYellowDown:this.isYellowDown})},getProxyData:function(a,b,e){if(this.proxyFrame)try{this.proxyFrame.contentWindow.getData(a,b,e);return true}catch(f){}else return false},createFrame:function(a){var b=this;rudolph.DOMReady(function(){var e=document.createElement("iframe");e.name="proxyIframe";e.src=a;e.style.display="none";e.title="Suggest Proxy Frame";b.proxyFrame=e;document.body.appendChild(b.proxyFrame)})},
setReverse:function(a){this.reverse=a}})})(rudolph);(function(a){var b=a.model.DataModelRecent=function(b){this.useCrossDomainStorage=b.useCrossDomainStorage;this.recentKeywordData=b.recentKeywordData;this.proxyUrlOrCallbackName=b.proxyUrlOrCallbackName;this.boxView=b.boxView;this.footerView=b.footerView;this.listView=b.listView;this.listModel=b.listModel;this.dataModel=b.dataModel;this.callUrl=a.template.RecentRequestString.replace("INSTANCE_NAME",this.proxyUrlOrCallbackName.split(".")[0]);this.callDeleteUrl=
a.template.RecentDeleteString.replace("INSTANCE_NAME",this.proxyUrlOrCallbackName.split(".")[0]);this.areadyCall=false};rudolphUtil.Function.inherit(b,$ssf.EventDispatcher,{showList:function(){a.module.ActivationFlag.set("on");var b=this.getData();if(b&&b.all&&b.all.length>0)this.boxView.dispatchEvent("onShowList",{data:b,more:false,isRecent:true});else if(this.isYellowDown)a.define.Service.TOP&&this.key==a.define.Keyboard.BACKSPACE||this.boxView.dispatchEvent("onShowGuide",{type:"UsingSuggest"});
else{this.boxView.renderBase("list");this.boxView.dispatchEvent("onShowList",{data:null,more:false,isRecent:true})}},deleteData:function(){a.module.ScriptCall.load(this.callDeleteUrl+"&"+this.getDummyParam(),a.define.DynamicScript.RECENT);this.listModel.set(null);this.boxView.hidden();this.setData([],[])},getDummyParam:function(){return"t="+(new Date).getTime()},request:function(b,d){this.isYellowDown=b;this.key=d;return a.define.Service.TOP?this.topRequest(b):this.commonRequest(b)},topRequest:function(b){if(a.define.Service.TOP)this.boxView.enableRecentKeyword=
b;b?this.getData()?this.showList():a.module.ScriptCall.load(this.callUrl+"&"+this.getDummyParam(),a.define.DynamicScript.RECENT):this.boxView.hidden()},commonRequest:function(){(rudolphUtil.getCookie(a.define.RecentCookieName)||a.define.RecentCookieType.ON)==a.define.RecentCookieType.ON&&!this.getData()?a.module.ScriptCall.load(this.callUrl+"&"+this.getDummyParam(),a.define.DynamicScript.RECENT):this.showList()},getQuery:function(){return!a.define.RecentKeyword?"":encodeURIComponent(a.define.RecentKeyword)},
forceLoadCompleteDeleteRecent:function(){},forceLoadCompleteRecent:function(b){if(b.myKeywordHistories&&b.myKeywordHistories.length>0){for(var d=[],e=[],f=0,g;g=b.myKeywordHistories[f];f++){if(f>=a.define.RecentListMaxSize)break;g=g.kword;if(e.indexOf(g)<0){e.push(g);d.push({string:this.escapeStr(g),index:f,item:Array(g),isRecent:true})}}this.setData(d,e)}else this.setData([]);this.showList()},setData:function(a,b){this.items=b;this.recentKeywordData={isRecent:true,keyword:"",head:a,tail:[],all:a.concat([])}},
getData:function(){this.listModel.set({rq:"",items:this.items});return this.recentKeywordData},escapeStr:function(a){return a}})})(rudolph);(function(a){var b=a.model.ListModel=function(a){this.limit=a.limit;this.data={};this.type=a.type;this.customGetStringFunc=a.customGetStringFunc;this.subwayAreacode=a.subwayAreacode;this.reverse=a.reverse};rudolphUtil.Function.inherit(b,$ssf.EventDispatcher,{set:function(a){this.reset();if(a){this.data.keyword=a.rq;if(this.subwayAreacode)this.data.keyword=this.data.keyword.replace(this.subwayAreacode,
"");this.setList(a.items,"head");this.setList(a.r_items,"tail");a=this.rebuildLimit(this.data.head.length,this.data.tail.length);this.pushAllData("head",a.head);this.pushAllData("tail",a.tail)}},rebuildLimit:function(a){a=Math.min(a,this.limit[0]);return{head:a,tail:this.limit[0]+this.limit[1]-a}},get:function(){if(this.reverse)this.data.all=this.data.all.reverse();return this.data},getString:function(a){return this.customGetStringFunc?this.customGetStringFunc(a):a[0]},setList:function(b,d){if(b){_setData=
this.data[d];for(var e=0,f=b.length;e<f;e++){var g=b[e].split(a.define.Separator.RAWDATA_ITEM),g={string:this.stringConvert(this.getString(g)),image:g[1],index:e,item:g};_setData.push(g)}}},reset:function(){this.data={keyword:"",head:[],tail:[],all:[]}},getSelectedItem:function(a){return a==null||a<0||a>=this.data.all.length?false:this.data.all[a]},pushAllData:function(a,b){var e=a=="tail"?this.data.tail:this.data.head;if(e)for(var f=Math.min(b,e.length),g=0;g<f;g++)this.data.all.push(e[g])},getChangeSort:function(a){this.data.all=
[];if(!!this.data.head==false&&!!this.data.tail==false)return this.data;if(a=="tail"){a=this.rebuildLimit(this.data.tail.length,this.data.head.length);this.pushAllData("tail",a.head);this.pushAllData("head",a.tail)}else{a=this.rebuildLimit(this.data.head.length,this.data.tail.length);this.pushAllData("head",a.head);this.pushAllData("tail",a.tail)}return this.data},stringConvert:function(b){this.subwayAreacode&&(b=b.split(a.define.Separator.AREACODE_ITEM)[0]);return b.replace(/\&amp;/g,"&").replace(/\&lt;/g,
"<").replace(/\&gt;/g,">").replace(/\&quot;/g,'"')}})})(rudolph);(function(){rudolph.model.Raw=function(){var a={},b=0;return{set:function(c,d){if(b>100){b=0;a={}}a[d]||(a[d]={});a[d][c.rq]={rq:c.rq||"",items:c.items||[],r_items:c.r_items||[]};b++;return a[d][c.rq]},get:function(){return a},getByKeyword:function(b,d){return!!a[d]==false?false:a[d][b]?a[d][b]:false},empty:function(){a={}}}}()})();(function(){rudolphUtil.extend(rudolph.module,{AvailableKeyCode:function(a){for(var b=rudolph.define.Keyboard,
b=[b.CTRL,b.ALT,b.LEFT,b.RIGHT],c=b.length-1;c>=0;--c)if(b[c]==a)return false;return true}})})();(function(){rudolphUtil.extend(rudolph.module,{KeywordHighlight:function(c,d,e){if(e=="head")d=a(c,d);else if(e=="tail")d=b(c,d);else var e=c.replace(/ /g,""),f=d.replace(/ /g,""),d=e.toLowerCase().indexOf(f.toLowerCase())==0?a(c,d,e,f):b(c,d,e,f);d==""&&(d=c);return d}});var a=function(a,b,e,f){var g="";if(!e||!f){e=a.replace(/ /g,"");f=b.replace(/ /g,"")}e=e.toLowerCase().indexOf(f.toLowerCase());if(e>
-1){for(var j=0,l=0;l<e;j++){b=a.substring(j,j+1);b!=" "&&l++;g=g+b}g=g+'<strong class="emph_keyword">';e=j;for(j=0;j<f.length;e++){b=a.substring(e,e+1);b!=" "&&j++;g=g+b}g=g+("</strong>"+a.substr(e))}return g},b=function(a,b,e,f){var g="";if(!e||!f){e=a.replace(/ /g,"");f=b.replace(/ /g,"")}if(f==e.substring(e.length-f.length)){for(var j=0,l=0;l<e.length-f.length;j++){b=a.substring(j,j+1);b!=" "&&l++;g=g+b}g=g+'<strong class="emph_keyword">';e=j;for(j=0;j<f.length;e++){b=a.substring(e,e+1);b!=" "&&
j++;g=g+b}g=g+"</strong>"}return g}})();(function(){rudolphUtil.extend(rudolph.module,{RequestKeyword:function(){}})})();(function(a){rudolphUtil.extend(a.module,{ScriptCall:function(){var a=document.getElementsByTagName("head")[0];return{load:function(c,d){var e=rudolphUtil.$(d);e&&a.removeChild(e);e=document.createElement("script");e.type="text/javascript";e.id=d;e.src=c;a.appendChild(e)}}}()})})(rudolph);(function(){rudolphUtil.extend(rudolph.module,{ClickLog:function(a){if(a.listView.getSelectedItem()==
null){var b=a.listView.itemArr,c=null;if(b!=null)for(var d=0,e=b.length;d<e;++d)if(b[d].className.indexOf("on")>-1){c=d+1;break}}else c=parseInt(a.listView.getSelectedItem().index,10)+1;if(a.option.logFunc!=null&&a.listView.listModel!=null&&(typeof a.option.logFunc).toLowerCase()==="function"){b={keyword:a.keywordInputView._previousKeyword,inputQuery:a.keywordInputView.getDefaultKeyword(),index:c,totalCount:a.listView.listModel.all.length};a.option.logFunc.call(a,b)}}})})();(function(a){var b=true,
c=a.define.ActivationCookieName,d=a.define.ActivationType.OFF;rudolphUtil.extend(a.module,{ActivationFlag:function(){b=rudolphUtil.getCookie(c)==d?false:true;return{set:function(a){b=a==d?false:true;rudolphUtil.setCookie(c,a,365)},get:function(){return b}}}()})})(rudolph);(function(a){var b=a.view.YellowView=function(){this.container=null};rudolphUtil.Function.inherit(b,$ssf.EventDispatcher,{initialize:function(b){this.container=rudolphUtil.$(b);if(!this.container)return false;this.render();var d=
this;rudolphUtil.addEvent(this.container,"mousedown",function(b){var c=rudolphUtil.getElement(b);rudolphUtil.hasClassName(c,a.define.YellowClip.OFF)?a.Service.block(false,d):rudolphUtil.hasClassName(c,a.define.YellowClip.ON)?d.dispatchEvent("onYellowUp"):d.dispatchEvent("onYellowDown");rudolphUtil.stopEvent(b)});rudolphUtil.addEvent(this.container,"keydown",function(b){if(b.keyCode==a.define.Keyboard.ENTER){a.define.useTabKey=false;var c=rudolphUtil.getElement(b);rudolphUtil.hasClassName(c,a.define.YellowClip.OFF)?
a.Service.block(false,d):rudolphUtil.hasClassName(c,a.define.YellowClip.ON)?d.dispatchEvent("onYellowUp"):d.dispatchEvent("onYellowDown");rudolphUtil.stopEvent(b)}})},setUp:function(){if(!this.container)return false;this.container.className=a.define.YellowClip.ON;this.container.value=this.container.title="\uc11c\uc81c\uc2a4\ud2b8 \uc811\uae30"},setDown:function(){if(!this.container)return false;this.container.className="";this.container.value=this.container.title="\uc11c\uc81c\uc2a4\ud2b8 \ud3bc\uce58\uae30"},
setOff:function(){if(!this.container)return false;this.container.className=a.define.YellowClip.OFF;this.container.value=this.container.title="\uc11c\uc81c\uc2a4\ud2b8 \ucf1c\uae30"},render:function(){if(!this.container)return false;a.module.ActivationFlag.get()==false&&rudolphUtil.addClassName(this.container,a.define.YellowClip.OFF)}})})(rudolph);(function(a){a=a.view.BoxView=function(a){this.container=a.container;this.type=a.type;this.enableRecentKeyword=a.enableRecentKeyword;this.listModel=a.listModel;
this.keywordInputView=a.keywordInputView;this.keywordListData=null;this._isVisible=false;this.initialize(a)};rudolphUtil.Function.inherit(a,$ssf.EventDispatcher,{initialize:function(){},renderBase:function(){rudolphUtil.hasClassName(this.container,"thumbType")&&rudolphUtil.removeClassName(this.container,"thumbType");this.container.style.display="none";this._isVisible=false},renderType:function(){this.type=="thumb"&&(rudolphUtil.hasClassName(this.container,"thumbType")||rudolphUtil.addClassName(this.container,
"thumbType"))},getDataList:function(){return!!this.keywordDataList==false?this.listModel.get():this.keywordDataList},renderBaseGuide:function(a){if(a=="toUse"){this.renderBase("guide");this.dispatchEvent("onShowGuide",{type:"UseSuggest"})}else if(a=="Used"){this.renderBase("guide");this.dispatchEvent("onShowGuide",{type:"UsingSuggest"})}},renderBaseNoResult:function(){this.dispatchEvent("onShowGuide",{type:"NoResult"})},renderShowList:function(a){this.dispatchEvent("onShowList",a)},emptyVisibleAction:function(a,
c){this.enableRecentKeyword?this.renderShowList({data:c,more:false}):this.renderBaseGuide(a)},visibleAction:function(a,c){if(rudolphUtil.Array.size(c.all)<=0)this.enableRecentKeyword&&a=="UsedRecent"?this.renderBaseGuide("Used"):this.renderBaseNoResult();else{this.renderBase("list");this.renderShowList({data:c,more:this.isMore(c)})}},isMore:function(a){return a.head.length==0||a.tail.length==0?false:true},visible:function(a,c){var d=this.getDataList();!!d.keyword==false&&this.keywordInputView.getValue()==
""&&!c?this.emptyVisibleAction(a,d):this.visibleAction(a,d)},show:function(){this.container.style.display="block";this._isVisible=true},hidden:function(){this.container.style.display="none";this._isVisible=false;this.dispatchEvent("onHiddenBox")},isVisible:function(){return this._isVisible}})})(rudolph);(function(a){var b=a.view.ImageView=function(a){this.container=a.container;this.listModel=a.listModel;this.listArr=this.imageContainer=null;this.initialize()};rudolphUtil.Function.inherit(b,$ssf.EventDispatcher,
{initialize:function(){},getListData:function(){return!!this.listArr==false?this.listModel.get():this.listArr},setImageHtml:function(a){var b=this;if(!!this.container==false)return false;if(!!this.imageContainer==false){this.imageContainer=document.createElement("DIV");this.imageContainer.className="imageBox";this.container.appendChild(this.imageContainer);rudolphUtil.addEvent(this.imageContainer,"mousedown",function(){b.dispatchEvent("onMousedownImage")})}this.imageContainer.innerHTML=a},render:function(b){b=
this.getThumbnailUrl(b);if(!!b==false){this.setImageHtml(a.template.IsNonImage.evaluate());return false}this.setImageHtml(a.template.Image.evaluate({url:b}))},getThumbnailUrl:function(a){return this.getListData().all[a].image}})})(rudolph);(function(a){var b=a.view.FooterView=function(a){this.index=null;this.container=a.container;this.offUsable=a.yellowClip;this.focusableElements=this.footerContainer=null;this.disabled=a.option&&a.option.type&&a.option.type.toLowerCase()=="simple"?true:false;this.initialize()};
rudolphUtil.Function.inherit(b,$ssf.EventDispatcher,{initialize:function(){if(!this.disabled){var b=this;rudolphUtil.addEvent(this.container,"mousedown",function(d){var e=rudolphUtil.getElement(d);rudolphUtil.hasClassName(e,"tailMore")?b.dispatchEvent("onTailMore"):rudolphUtil.hasClassName(e,"headMore")?b.dispatchEvent("onHeadMore"):rudolphUtil.hasClassName(e,"isSuggest")?b.dispatchEvent("onIsSuggest",{event:d}):rudolphUtil.hasClassName(e,"offSuggest")?a.Service.block(true):rudolphUtil.hasClassName(e,
"closeSuggest")&&b.dispatchEvent("onCloseSuggest");rudolphUtil.stopEvent(d)})}},addMouseEvent:function(){if(!this.disabled)if(this.isRecent){var b=this,d=rudolphUtil.getElementsByClassName(this.footerContainer,"deleteRecent")[0];d&&rudolphUtil.addEvent(d,"click",function(a){b.dispatchEvent("onDeleteRecent");rudolphUtil.stopEvent(a)});(d=rudolphUtil.getElementsByClassName(this.footerContainer,"toggleRecent")[0])&&rudolphUtil.addEvent(d,"click",function(a){b.dispatchEvent("onToggleRecent",a);rudolphUtil.stopEvent(a)})}else{var d=
rudolphUtil.getElementsByClassName(this.footerContainer,"offSuggest")[0],e=rudolphUtil.getElementsByClassName(this.footerContainer,"offGuide")[0];if(d){rudolphUtil.addEvent(d,"mouseover",function(){rudolphUtil.show(e)});rudolphUtil.addEvent(d,"mouseout",function(){rudolphUtil.hide(e)});rudolphUtil.addEvent(d,"blur",a.Service.hiddenAll)}}},setFooterHtml:function(a){if(!this.disabled){if(!!this.container==false)return false;if(!!this.footerContainer==false){this.footerContainer=document.createElement("DIV");
this.footerContainer.className="footer bg_sub";this.container.appendChild(this.footerContainer)}this.footerContainer.innerHTML=a;this.focusableElements=this.footerContainer.getElementsByTagName("a");this.addMouseEvent()}},moreEvaluate:function(b){if(!this.disabled)return b=="head"?a.template.HeadMore.evaluate():a.template.TailMore.evaluate()},render:function(b,d){if(!this.disabled){this.isRecent=d;this.isAddEvent=false;var e=this.offUsable?"":"none",f=b=="nomore"?"":this.moreEvaluate(b);if(d){f=(rudolphUtil.getCookie(a.define.RecentCookieName)||
a.define.RecentCookieType.ON)==a.define.RecentCookieType.OFF?a.template.RecentHideFooter.evaluate({offUsable:e}):a.template.RecentViewFooter.evaluate();this.setFooterHtml(a.template.RecentFooter.evaluate({moreWord:"",offUsable:e,recentButton:f}),d)}else this.setFooterHtml(a.template.Footer.evaluate({moreWord:f,offUsable:e}),d)}}})})(rudolph);(function(a){var b=a.view.GuideView=function(a){this.container=a.container;this.customUsingGuide=a.customUsingGuide;this.guideContainer=null;this.initialize()};
rudolphUtil.Function.inherit(b,$ssf.EventDispatcher,{initialize:function(){this.render()},setGuideHtml:function(a){if(!!this.container==false)return false;var b=rudolphUtil.getElementsByClassName(this.container,"list");if(b.length>0){rudolphUtil.replaceClassName(b[0],"list","guide");this.guideContainer=b[0]}if(!!this.guideContainer==false){this.guideContainer=document.createElement("DIV");rudolphUtil.addClassName(this.guideContainer,"guide");this.container.appendChild(this.guideContainer)}this.guideContainer.innerHTML=
a},render:function(b){switch(b){case "USING":if(this.customUsingGuide&&typeof this.customUsingGuide=="function"){this.setGuideHtml(a.template.UsingExternalGuide.evaluate());this.customUsingGuide(rudolphSizzle(".guide",this.container)[0])}else this.setGuideHtml(a.template.UsingSuggest.evaluate());break;case "USE":this.setGuideHtml(a.template.UseSuggest.evaluate())}}})})(rudolph);(function(a){var b=true,c=a.define.Keyboard,d=false,e=false,f=a.view.KeywordInputView=function(a){this._keywordBox=a.inputBox;
this._defaultKeyword="";this._previousKeyword=this._keywordBox.value;this.option=a.option;this._intervalId=this._currentKeyword=null;this.setSmartWatchingTarget();this._firstKeyword=this._keywordBox.value;this._bindEvents()};rudolphUtil.Function.inherit(f,$ssf.EventDispatcher,{_bindEvents:function(){var f=this;rudolphUtil.addEvent(this._keywordBox,"focus",function(a){b&&f.start();f.dispatchEvent("onFocusKeywordBox",{event:a,keyword:f._currentKeyword||""})});rudolphUtil.addEvent(this._keywordBox,"mousedown",
function(b){a.define.useTabKey=false;f.dispatchEvent("onClickKeywordBox",{event:b,keyword:f._keywordBox.value});rudolphUtil.stopPropagation(b)});rudolphUtil.addEvent(this._keywordBox,"keydown",function(j){var l=j.keyCode;l==c.SHIFT?d=true:l==c.ALT?e=true:l!=c.CTRL&&(l==c.ENTER?f.dispatchEvent("onEnterKeywordBox",{event:j}):l==c.ESC?f.dispatchEvent("onAltTabKeywordBox",{event:j}):e&&l==c.TAB?f.dispatchEvent("onEscKeywordBox",{event:j}):l==c.UP||d&&l==c.TAB?f.dispatchEvent("onUpKeywordBox",{event:j,
keyCode:l,isShift:d}):l==c.DOWN||!d&&l==c.TAB?f.dispatchEvent("onDownKeywordBox",{event:j,keyCode:l,isShift:d}):b&&(a.module.ActivationFlag.get()==true&&f._intervalId==null)&&f.start())});rudolphUtil.addEvent(this._keywordBox,"keyup",function(a){a=a.keyCode;a==c.SHIFT?d=false:a==c.ALT&&(e=false);!!f.getValue().trimRudolphUtil().length==0&&f.dispatchEvent("onEmptyKeyword",{keyword:f.getValue(),key:a})});rudolphUtil.addEvent(this._keywordBox,"blur",function(a){f.dispatchEvent("onBlurKeywordBox",{event:a})})},
start:function(){if(!this._intervalId){this._previousKeyword=this._currentKeyword=this._keywordBox.value;this._intervalId=rudolphUtil.Function.interval(this.watching,130,this)}},watching:function(){this._currentKeyword=this._keywordBox.value;if(this._previousKeyword!=this._currentKeyword){this._previousKeyword=this._currentKeyword;this.dispatch(this._currentKeyword)}},dispatch:function(a){this.dispatchEvent("onChangeKeyword",{keyword:a})},setSmartWatchingTarget:function(){if(navigator.userAgent.indexOf("SHW")!=
-1)return false},clear:function(){},setAlwaysWatching:function(){b=true;this.start()},setSmartWatching:function(){b=true},getWatchType:function(){return b},setDefaultKeyword:function(a){this._defaultKeyword=a},getDefaultKeyword:function(){return this._defaultKeyword},initDefaultKeyword:function(){if(!!this._keywordBox.value==true){if(this._firstKeyword!=""&&this._defaultKeyword==""){this._defaultKeyword=this._firstKeyword;this._firstKeyword=""}this._keywordBox.value=this._previousKeyword=this._currentKeyword=
this._defaultKeyword}},setFocus:function(){this._keywordBox.focus()},getValue:function(){return this._keywordBox.value},setValue:function(a){this._previousKeyword=this._keywordBox.value=a},clearValue:function(){this._keywordBox.value=""},setSelect:function(){this._keywordBox.select()},getBoxId:function(){return this._keywordBox.id},blur:function(){this._keywordBox.blur()}})})(rudolph);(function(a){var b=a.view.ListView=function(b){this.keyword=this.index=null;this.positionType=a.define.ListPositionType.DEFAULT;
this.itemArr=null;this.container=b.container;this.limit=b.limit;this.isLimitMatch=b.isLimitMatch;this.customItemValueFunc=b.customItemValueFunc;this.maxSize=this.limit[0]+this.limit[1];this.listModel=this.listContainer=null;this.eventFlag=false;this.reverse=b.reverse;this.maxIndex=this.minIndex=0;this.initialize(b)};rudolphUtil.Function.inherit(b,$ssf.EventDispatcher,{initialize:function(){},move:function(a){if(this.maxIndex==0)return false;var b=this.index;switch(a){case "UP":b--;if(b<this.minIndex){this.dispatchEvent("onHideHighlight");
return false}break;case "DOWN":b++;if(b>=this.maxIndex)return false}this.select(b)},moveUp:function(){this.move("UP")},moveDown:function(){this.move("DOWN")},select:function(a,b){var e=b||"";if(a==null)return false;this.blur();this.index=a;this.setClassNameOnSelectedItem();this.dispatchEvent("onSelectItem",{index:this.index,action:e})},blur:function(){this.index!=null&&this.index>=0&&this.getItemEl()[this.index]&&rudolphUtil.removeClassName(this.getItemEl()[this.index],"on")},getIndex:function(){return this.index},
getSelectedItem:function(){if(this.index==null||this.index<0)return null;var a=this.listModel.all[this.index];return a?a:null},getItemEl:function(){return this.listContainer&&!!this.itemArr==false?this.itemArr=this.listContainer.getElementsByTagName("LI"):this.itemArr},setClassNameOnSelectedItem:function(){var a=this.getItemEl()[this.index];a&&rudolphUtil.addClassName(a,"on")},getItemIndex:function(a){for(var b=0;b<5;++b){if(rudolphUtil.String.startsWith(a.className,"idx_"))return a.className.match(/idx_([0-9]+).*/)[1];
a=rudolphUtil.getParent(a)}},bindEvent:function(){if(!!this.eventFlag==false){var a=this;rudolphUtil.addEvent(this.listContainer,"mouseover",function(b){b=rudolphUtil.getElement(b);b=a.getItemIndex(b);a.select(b,"over")});rudolphUtil.addEvent(this.listContainer,"click",function(b){var e=rudolphUtil.getElement(b),e=a.getItemIndex(e);a.dispatchEvent("onSelectedItemClick",{event:b,string:a.listModel.all[e].string})});rudolphUtil.addEvent(this.listContainer,"mousedown",function(a){rudolphUtil.stopEvent(a)});
this.eventFlag=true}},setListHtml:function(a){if(!!this.container==false)return false;var b=rudolphUtil.getElementsByClassName(this.container,"guide");if(b.length>0){b[0].className="list";this.listContainer=b[0]}if(!!this.listContainer==false){this.listContainer=document.createElement("DIV");rudolphUtil.addClassName(this.listContainer,"list");this.container.appendChild(this.listContainer)}this.listContainer.innerHTML=a;this.bindEvent()},itemEvaluate:function(b,d,e,f){this.reverse&&(b=b.reverse());
for(var f=f||0,g=[],j=b.length,e=j>=e?e:j,j=0;j<e;j++){var l;l=this.customItemValueFunc?this.customItemValueFunc(b[j]):b[j].string;g.push(a.template.Item.evaluate({first:j%2==0?" first":"",item:a.module.KeywordHighlight(l,this.keyword,d),idx:f+j}))}return g.join("")},emptyRender:function(){this.setListHtml("")},render:function(b){if(b==null)return this.emptyRender();this.listModel=b;this.keyword=b.keyword;var d=a.define.ListPositionType;if(this.positionType==d.DEFAULT){var e=b.head,f=b.tail,g=b.head.length,
j=b.tail.length;if(g==0&&j>g){e=b.tail;f=b.head}}else{e=b.tail;f=b.head}b=Math.min(e.length,this.limit[0]);g=this.limit[1];this.isLimitMatch===true&&(g=this.maxSize-b);g=Math.min(f.length,g);this.maxIndex=b+g;this.resetIndex();j=this.limit[1]>0?this.positionType:a.define.KeywordCompareType.FULL;this.setListHtml(a.template.Base.evaluate({list_high:this.itemEvaluate(e,j,b),list_low:g>0?this.itemEvaluate(f,j==d.DEFAULT?d.TRANS:d.DEFAULT,g,b):"",line:b>0&&g>0?"block":"none"}));this.keyword&&this.show()},
changePositionType:function(b){var d=a.define.ListPositionType;this.positionType=this.positionType==d.DEFAULT?d.TRANS:d.DEFAULT;this.render(b)},resetIndex:function(){this.index=this.reverse&&this.listModel&&this.listModel.all?this.listModel.all.length:-1},resetPositionType:function(){this.positionType=a.define.ListPositionType.DEFAULT},unSelect:function(){var a=this.getItemEl()[this.index];a&&rudolphUtil.removeClassName(a,"on")},setIndex:function(a){this.index=a},hide:function(){if(this.listContainer){this.listContainer.style.display=
"none";this.isVisible=false}},show:function(){if(this.listContainer){this.listContainer.style.display="block";this.isVisible=true}},visible:function(){return this.isVisible}})})(rudolph);(function(){function a(){if(!c){c=true;if(document.readyState&&document.readyState==="complete"||document&&document.getElementsByTagName&&document.getElementById&&document.body)return b();if(document.addEventListener)document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",
arguments.callee,false);b()},false);else if(document.attachEvent){document.attachEvent("onreadystatechange",function(){if(document.readyState==="complete"){document.detachEvent("onreadystatechange",arguments.callee);b()}});document.documentElement.doScroll&&A==A.top&&function(){if(!d){try{document.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}b()}}()}rudolphUtil.addEvent(A,"load",b)}}function b(){if(!d){d=true;if(e){rudolphUtil.Array.eachRudolphUtil(e,function(a){a.call(document,
null)});e=null}}}var c=false,d=false,e=[];rudolph.DOMReady=function(b){a();d?b.call(document,null):e.push(b);return this}})();(function(a){(a.Instance=function(b,c,f,g,j,l){this.inputBox=rudolphUtil.$(b);if(!!this.inputBox===false){alert(a.message.ERROR_NO_INPUTBOX);return false}this.wrapper=rudolphUtil.$(c);if(!!this.wrapper===false){alert(a.message.ERROR_NO_PARENT_CONTAINER);return false}this.suggestDomain=f;this.requestUrl=g;l===true?this.callbackName=j:this.proxyUrl=j;this.initialize()}).prototype=
{initialize:function(){this.isActivate=null;this.currentKeyword="";this.option={type:"base",thumbActionFunc:null,customItemValueFunc:null,customGetStringFunc:null,limit:[10,3],isLimitMatch:true,focus:a.define.FocusPointType.DEFAULT,encode:a.define.EncodeType.UTF_IN_OUT,customUsingGuide:null,beforeExcuteNativeTab:null,areacode:null,requestString:"",enableRecentKeyword:false,reverse:null,logFunc:null};this.containerBox=null;this.yellowView=new a.view.YellowView;this.keywordInputView=new a.view.KeywordInputView({inputBox:this.inputBox,
option:this.option});this.dataModel=new a.model.DataModel({suggestDomain:this.suggestDomain,requestUrl:this.requestUrl,proxyUrl:this.proxyUrl,callbackName:this.callbackName,encode:this.option.encode,reverse:this.option.reverse,keyword:this.inputBox.value,requestString:this.option.requestString});this._bindEvents()},_requestRecent:function(){this._instanceReady();if(!this.dataModelRecent)this.dataModelRecent=new a.model.DataModelRecent({recentKeywordData:this.recentKeywordData,proxyUrlOrCallbackName:this.callbackName,
boxView:this.boxView,footerView:this.footerView,listView:this.listView,dataModel:this.dataModel,listModel:this.listModel});this.dataModelRecent.request()},_containerRender:function(){var a="suggestBox box_sub";this.option.reverse&&(a=a+" reverseType");this.containerBox=b(this.wrapper,a);this.containerBox.style.display="none";this.baseBox=b(this.containerBox,"baseBox bg")},_createModelView:function(){this.listModel=new a.model.ListModel({limit:this.option.limit,type:this.option.type,customGetStringFunc:this.option.customGetStringFunc,
subwayAreacode:this.option.subwayAreacode,reverse:this.option.reverse});this.boxView=new a.view.BoxView({container:this.containerBox,type:this.option.type,listModel:this.listModel,enableRecentKeyword:this.option.enableRecentKeyword,keywordInputView:this.keywordInputView});this.listView=new a.view.ListView({container:this.baseBox,limit:this.option.limit,isLimitMatch:this.option.isLimitMatch,customItemValueFunc:this.option.customItemValueFunc,reverse:this.option.reverse});this.footerView=new a.view.FooterView({container:this.baseBox,
yellowClip:this.yellowView.container});this.guideView=new a.view.GuideView({container:this.baseBox,customUsingGuide:this.option.customUsingGuide});if(this.option.type=="thumb")this.imageView=new a.view.ImageView({container:this.containerBox,listModel:this.listModel})},_bindEvents:function(){var b=this;this.keywordInputView.addListener({onFocusKeywordBox:function(c){var f=b.keywordInputView.getDefaultKeyword(),g=b.keywordInputView.getValue();if(g==""){if(b.option.enableRecentKeyword)return b._requestRecent();
b.dataModel.dispatchEvent("onEmptyKeyword")}a.Service.hiddenAll();if(g&&g!=f){var j="hidden";b.option.enableRecentKeyword&&(j="visible");setTimeout(function(){b.request(c.keyword,j)},50)}else a.Service.isEqual(b)==false?a.Service.setCurrentInstance(b):b.visible()},onChangeKeyword:function(c){var f=c.keyword;if(b.option.subwayAreacode){f=b.option.subwayAreacode+c.keyword;b.request(f);b.listView.positionType=a.define.ListPositionType.DEFAULT;b.keywordInputView.setDefaultKeyword(f.replace(b.option.subwayAreacode,
""))}else{b.request(f);b.listView.positionType=a.define.ListPositionType.DEFAULT;b.keywordInputView.setDefaultKeyword(f)}}});this.yellowView.addListener({onActivateSuggest:function(c){a.module.ActivationFlag.set("on");if(c.view==this)if(b.getKeyword()){b.keywordInputView.start();b.request(b.getKeyword())}else b.visible("toUse");else this.setDown()},onYellowOff:function(){a.module.ActivationFlag.set("on");if(b.getKeyword()){b.keywordInputView.start();b.request(b.getKeyword())}else b.visible("toUse")},
onYellowUp:function(){!!b.getKeyword()==false&&b.keywordInputView.blur();b.hidden()},onYellowDown:function(){if(!!b.getKeyword()==false){b.option.enableRecentKeyword?b._requestRecent():b.keywordInputView.blur();b.visible("Used")}else{var a=b.getKeyword();b.keywordInputView.setFocus();b.keywordInputView.setValue("");b.keywordInputView.setValue(a);b.keywordInputView.setDefaultKeyword(a);b.visible("Used",true)}}});this._bindEvents=function(){var b=this;this.keywordInputView.addListener({onClickKeywordBox:function(){if(a.Service.getCurrentInstance()==
b)a.module.ActivationFlag.get()==true&&b.toggle();else{a.Service.hiddenAll();a.Service.setCurrentInstance(b)}},onBlurKeywordBox:function(){},onUpKeywordBox:function(c){if(!(b.boxView.isVisible()==false&&c.keyCode==a.define.Keyboard.TAB))if(b.option.reverse){if(b.boxView.isVisible()==true)if(0<b.listView.getIndex())b.listView.moveUp();else{var d=b.getKeyword();b.keywordInputView.setFocus();b.keywordInputView.setValue("");b.keywordInputView.setValue(d);b.keywordInputView.setDefaultKeyword(d);b.boxView.hidden()}else b.boxView.visible();
rudolphUtil.preventDefault(c.event)}else{b.listView.moveUp();rudolphUtil.preventDefault(c.event);if(b.option.enableRecentKeyword&&b.listView.getIndex()==-1&&b.getKeyword()=="")b.option.hideRecent=true}},onEmptyKeyword:function(){b.dataModel.dispatchEvent("onEmptyKeyword")},onDownKeywordBox:function(c){if(a.module.ActivationFlag.get())if(b.boxView.isVisible()==false&&c.keyCode==a.define.Keyboard.TAB)b.option.beforeExcuteNativeTab&&b.option.beforeExcuteNativeTab(c.event);else{if(b.boxView.isVisible()==
true)if(b.listView.getItemEl().length-1>b.listView.getIndex())b.listView.moveDown();else{b.boxView.hidden();b.keywordInputView.initDefaultKeyword()}else if(b.option.reverse){b.boxView.hidden();b.keywordInputView.initDefaultKeyword()}else b.boxView.visible();rudolphUtil.preventDefault(c.event)}},onEscKeywordBox:function(){b.hidden()},onEnterKeywordBox:function(a){b.option.beforeSubmit&&rudolphUtil.stopEvent(a.event);c(b,a);b.hidden()},onBlankKeywordValue:function(){b.hidden()}});this.boxView.addListener({onShowList:function(c){if(b.option.enableRecentKeyword)if(c.isRecent||
!c.data.keyword)if((rudolphUtil.getCookie(a.define.RecentCookieName)||a.define.RecentCookieType.ON)==a.define.RecentCookieType.OFF){b.listView.render(null);b.listView.hide();b.footerView.render(null,true);b.boxView.show()}else if(c.data&&c.data.all&&c.data.all.length>0){b.listView.render(c.data);b.listView.show();b.footerView.render(null,true);b.boxView.show()}else b.boxView.hidden();else{b.listView.render(c.data);b.listView.show();b.option.limit[0]==0||b.option.limit[1]==0||!c.more?b.footerView.render("nomore"):
b.footerView.render();b.yellowView.setUp();b.boxView.show()}else{if(!b.option.reverse){b.listView.render(c.data);b.listView.show()}b.option.limit[0]==0||b.option.limit[1]==0||!c.more?b.footerView.render("nomore"):b.footerView.render();if(b.option.reverse){b.listView.render(c.data);b.listView.show()}b.yellowView.setUp();b.boxView.show()}},onShowGuide:function(a){b.option.reverse&&b.footerView.render("nomore");switch(a.type){case "UsingSuggest":b.guideView.render("USING");break;case "UseSuggest":b.guideView.render("USE");
break;case "NoResult":b.listModel.set(null);b.hidden();return false}b.option.reverse||b.footerView.render("nomore");b.boxView.show();b.yellowView.setUp()},onHiddenBox:function(){a.module.ActivationFlag.get()==true&&b.yellowView.setDown();b.listModel.getChangeSort();b.listView.resetIndex();b.listView.resetPositionType()},onDifferntKeyword:function(a){b.request(a.keyword)}});this.listView.addListener({onHideHighlight:function(){b.keywordInputView.initDefaultKeyword();b.hidden()},onSelectItem:function(a){b.boxView.renderType();
b.option.type=="thumb"&&b.imageView&&b.imageView.render(a.index);if(a.action!="over")(a=b.listModel.getSelectedItem(a.index))&&b.keywordInputView.setValue(a.string)},onSelectedItemClick:function(a){rudolphUtil.Browser.mac&&rudolphUtil.Browser.ff&&b.keywordInputView.blur();b.keywordInputView.setValue(a.string);c(b,a);b.hidden()}});this.footerView.addListener({onTailMore:function(){b.keywordInputView.initDefaultKeyword();var a=b.listModel.getChangeSort("tail");b.listView.changePositionType(a);b.footerView.render("head")},
onHeadMore:function(){b.keywordInputView.initDefaultKeyword();var a=b.listModel.getChangeSort("head");b.listView.changePositionType(a);b.footerView.render("tail")},onIsSuggest:function(b){A.open(a.template.IntroduceSuggestURL,"_blank");rudolphUtil.preventDefault(b.event)},onOffSuggest:function(){a.module.ActivationFlag.set("off");b.yellowView.setOff();b.hidden()},onCloseSuggest:function(){b.hidden()},onDeleteRecent:function(){b.dataModelRecent.deleteData()},onToggleRecent:function(c){if((rudolphUtil.getCookie(a.define.RecentCookieName)||
a.define.RecentCookieType.ON)==a.define.RecentCookieType.OFF){rudolphUtil.setCookie(a.define.RecentCookieName,a.define.RecentCookieType.ON,365);b.dataModelRecent.request()}else{rudolphUtil.setCookie(a.define.RecentCookieName,a.define.RecentCookieType.OFF,365);b.dataModelRecent.request();rudolphUtil.stopEvent(c)}}});this.dataModel.addListener({onLoadComplete:function(c){c=a.model.Raw.set(c.data,c.route);b.listModel.set(c);b.visible()},onReloadCache:function(a){b.listModel.set(a.data);b.visible()},
onSendData:function(){},onEmptyKeyword:function(a){if(b.option.enableRecentKeyword&&b.getKeyword()=="")if(b.option.hideRecent)b.option.hideRecent=false;else{b._requestRecent();rudolphUtil.stopEvent(a)}else{b.listModel.set(null);b.hidden()}},onOverKeyword:function(){b.listModel.set(null);b.hidden()}});this.option.type=="thumb"&&this.imageView.addListener({onMousedownImage:function(a){var c=b.listView.getSelectedItem();b.option.thumbActionFunc?b.option.thumbActionFunc(c.item):b.listView.dispatchEvent("onSelectedItemClick",
{event:a,string:c.string})}})}},_instanceReady:function(){if(!!this.containerBox==false){this._containerRender();this._createModelView();this._bindEvents()}},getKeyword:function(){return this.keywordInputView.getValue()},getSelectedItem:function(){return this.listView!=null?this.listView.getSelectedItem():null},setDefaultBox:function(){},setOption:function(a,b){this.option[a]=b;return this},setUseThumbnail:function(a){this.option.type="thumb";this.option.thumbActionFunc=a;return this},setUseCustomGetString:function(a){this.option.customGetStringFunc=
a;return this},setUseCustomItemValue:function(a){this.option.customItemValueFunc=a;return this},setInputFocus:function(b){switch(b){case "load":this.option.focus=a.define.FocusPointType.LOAD;break;case "write":this.option.focus=a.define.FocusPointType.WRITE;break;default:this.option.focus=a.define.FocusPointType.DEFAULT}return this},setRequestString:function(a){this.dataModel?this.dataModel.setRequestString(a):this.option.requestString=a;return this},setRequestUrl:function(a){this.dataModel?this.dataModel.setRequestUrl(a):
this.requestUrl=a;return this},setBeforeSubmitFunc:function(a){this.option.beforeSubmit=a;return this},getBeforeSubmitFunc:function(){return this.option.beforeSubmit},setBeforeNativeTabFunc:function(a){this.option.beforeExcuteNativeTab=a;return this},setForm:function(a){this.option.form=a;return this},setKeywordMaxByte:function(b){a.define.KeywordMaxByte=b;return this},setLimit:function(a){this.option.limit=a;return this},setLimitMatch:function(a){this.option.isLimitMatch=a;return this},setEnableRecentKeyword:function(){this.option.enableRecentKeyword=
true;return this},setSubwayAreacode:function(a){this.option.subwayAreacode=a;return this},setYellowClip:function(a){this.yellowView.initialize(a);return this},setEncodeKeyword:function(a){this.dataModel?this.dataModel.setEncode(a):this.setOption("encode",a);return this},setCustomUsingGuideFunc:function(a){this.option.customUsingGuide=a;return this},request:function(a,b){this._instanceReady();this.dataModel.get(a,b)},reRequest:function(){this.request(this.getKeyword())},hidden:function(){this.containerBox&&
this.boxView.hidden()},visible:function(b,c){if(a.module.ActivationFlag.get()==true){this._instanceReady();this.boxView.visible(b,c)}},toggle:function(){this.option.enableRecentKeyword||(this.boxView.isVisible()?this.hidden():this.visible())},block:function(a,b){this._instanceReady();a==true?this.footerView.dispatchEvent("onOffSuggest"):this.yellowView.dispatchEvent("onActivateSuggest",{view:b})},setReverse:function(){this.option.reverse=true;this.dataModel&&this.dataModel.setReverse(true);return this},
setLogFunc:function(a){if((typeof a).toLowerCase()==="function")this.option.logFunc=a;return this}};var b=function(a,b){var c=document.createElement("div");c.className=b;a.appendChild(c);return c},c=function(b){a.module.ClickLog(b);var c=b.option.form,b=b.option.beforeSubmit;if(typeof b=="function")b(c);else(b=eval(b))&&b(c)}})(rudolph);(function(a){a.Service=function(){var b=[],c=null;rudolphUtil.getCookie("suggest");var d=null,e=false,f={init:function(){if(e==true)return this;rudolphUtil.addEvent(document,
"keydown",rudolphUtil.Function.bind(g.keydown,this));rudolphUtil.addEvent(document,"mousedown",rudolphUtil.Function.bind(g.mousedown,this));g.initFocus();e=true;return this},add:function(c,d,e,f,g,h){if(!!f===false){alert(a.message.ERROR_NO_REQUEST_URL);return false}c=new a.Instance(c,d,e,f,g,h);b.push(c);return c},remove:function(){},hiddenAll:function(){for(var a=b.length-1;a>=0;--a)b[a].hidden()},hiddenOther:function(a){for(var c=b.length-1;c>=0;--c)a!=b[c]&&b[c].hidden()},block:function(a,c){for(var d=
b.length-1;d>=0;--d)b[d].block(a,c)},setCurrentInstance:function(a){c=a},getCurrentInstance:function(){return c},isEqual:function(a){return c!=null&&c!=a?false:true},getInstanceList:function(){return b},getActivationFlag:function(){return a.module.ActivationFlag.get()}},g={initFocus:function(){a.DOMReady(function(){for(var c=b.length-1;c>=0;--c)if(b[c].option.focus==a.define.FocusPointType.LOAD){f.setCurrentInstance(b[c]);f.getCurrentInstance().keywordInputView.setSelect();f.getCurrentInstance().keywordInputView.setFocus();
break}})},keydown:function(c){for(var e=rudolphUtil.getElement(c),f=e.nodeName,g=c.keyCode,h=a.define.Keyboard,o=["BACKSPACE","TAB","ENTER","SHIFT","CTRL","ALT","SPACEBAR","HOME","END","PAGEDOWN","PAGEUP","CAPSLOOK","LEFT","RIGHT","UP","DOWN","MAC_COMMAND"],n=o.length-1;n>=0;--n)if(h[o[n]]==g)return true;if(c.ctrlKey||c.metaKey||e&&(f=="INPUT"||f=="SELECT"||f=="TEXTAREA"))return true;if(d==null)for(n=b.length-1;n>=0;--n)if(b[n].option.focus==a.define.FocusPointType.LOAD||b[n].option.focus==a.define.FocusPointType.WRITE){d=
b[n];break}if(d){d.keywordInputView.clearValue();d.keywordInputView.setFocus()}},mousedown:function(a){f.hiddenAll(a)},findInputBox:function(a){for(var c=b.length-1;c>=0;--c)if(b[c].inputBox==a)return true;return false}};return f}()})(rudolph);define("lib/swfobject",swfobject);define("log/KoreanClick",["jquery"],function(a){var b=a('<iframe style="position:absolute;left:0;top:0;width:0;height:0;border:0"></iframe>').appendTo("body");return{log:function(){b.attr("src","mapclick.html?_="+Date.now())}}});
z.qidx=0;z.updateQIndex=function(){z.qidx++};z.sendLog=function(a,b){if(z.qidx)a.qidx=z.qidx;a.tregionid=t_regionid||"";var c="//stlog1-local.kakao.com/logcollector/log/map?";b&&(c=b);(new Image).src=c+jQuery.param(a)};z.log=function(a,b,c){console.info("Localdss.log: "+a+": "+b,c);a=jQuery.extend({type:a},c);if(b!=null)a.q=Array.isArray(b)?b.join("^"):b;z.sendLog(a)};z.logStoreview=function(a,b,c,d){console.info("Localdss.logStoreview: %s: %s (%s, store: %s)",a,c,b,d);z.sendLog({type:a,confirmid:b,
placename:c,store:d},"//stlog1-local.kakao.com/logcollector/log/map/storeview?")};z.log_=function(a,b,c,d,e){console.info("Localdss: "+[a,b,c,d].join(" "));a={wx:b.getX().toFixed(0),wy:b.getY().toFixed(0),region:c,type:a};if(d)a.confirmid=d;e&&jQuery.extend(a,e);z.sendLog(a)};z.logRoadview=function(a,b,c,d,e){var f=c.getX().toFixed(0),c=c.getY().toFixed(0);console.info("Localdss.roadview: %s: %s, %s, %s, (%s, %s, %s)",a,b,f,c,d,e&&e.id,z._q);a={type:a,panoid:b,wx:f,wy:c,region:d};if(z._q)a.q=z._q;
if(e){if(e.id)a.docid=e.id;if(e.route_type)a.route_type=e.route_type}z.sendLog(a)};z.logMapRoadview=function(a,b){z.log_("start_roadview",a,b)};z.logNoRoadview=function(a,b){z.log_("not_on_line",a,b)};z.logMapLabel=function(a,b,c,d){z.log_("poiclick",a,b,c,d)};z.logAd=function(a,b){z.sendLog({type:a,confirmid:b})};z.pad36=function(a,b){if(!isFinite(a))return"";var c=(~~a).toString(36);return c.length>b?"-zzzzzz".substr(a>0?1:0,b):c.replace(/^-?/,"$&000000".slice(0,2+b-c.length))};z.watchMap=function(a){function b(){if(d[0]){var a=
{type:"use_tracking",data1:d.join("")};z.sendLog(a);d.length=0}}var c=0,d=[];jQuery(A).on("beforeunload",b);setInterval(b,3E5);daum.maps.event.addListener(a,"idle",function(){var e=a.getCenter(),f=e.getX(),e=e.getY(),g=a.getLevel(),j=a.getMapTypeId(),h=z.typeForLog(j),m=require("map/MapTileManager");a.isRoadmap()&&m.get("terrain")&&(h=7);h==-1&&(h=j);j=Date.now();if(c&&j>=c+1E3){m=0.001*(j-c)|0;m=[z.pad36(f>>8,3),z.pad36(e>>8,3),z.pad36(g,1),z.pad36(h,1),z.pad36(Math.min(m,300),2)].join("");console.info("LocalTrack: (%d, %d, %d) %d %dms: %s",
f,e,g,h,j-c,m);if(m.length==10){d.push(m);d.length>=100&&b()}}c=j})};z.typeForLog=function(a){var b=daum.maps.MapTypeId||{},c=-1;switch(a){case b.ROADMAP:c=1;break;case b.SKYVIEW08:c=12;break;case b.HYBRID08:c=13;break;case b.SKYVIEW09:c=14;break;case b.HYBRID09:c=15;break;case b.SKYVIEW10:c=16;break;case b.HYBRID10:c=17;break;case b.SKYVIEW11:c=18;break;case b.HYBRID11:c=19;break;case b.SKYVIEW:c=2;break;case b.HYBRID:c=3}return c};z.logSearch=function(a,b){z._q=a;z.log("search_q",a,b)};z.logSearchIn=
function(a){z._type=a};z.logSearchKeyword=function(a,b){if(z._type&&a){z._q=a;z.log("search_type_"+z._type,z._q,b)}z._type=""};z.logSearchOut=function(a,b){z._q&&a&&z.log("search_q_click_"+a,z._q,b?{confirmid:b}:null)};z.logSearchOutWithArgs=function(a,b){z._q&&a&&z.log("search_q_click_"+a,z._q,b?b:{})};z.logPathSearchIn=function(a){z._path_type=a};z.logPathSearchWithType=function(a,b,c){if(b&&a){z._path_q=a;z.log("search_q_"+b,z._path_q,c)}z._path_type=""};z.logPathSearchKeyword=function(a,b){if(z._path_type&&
a){z._path_q=a;z.log("search_type_path_"+z._path_type,z._path_q,b)}z._path_type=""};z.logPathSearchOut=function(a,b){z._path_q&&a&&z.log("search_path_q_click_"+a,z._path_q,b?{confirmid:b}:null)};z.logPathSearchOutWithArgs=function(a,b){if(z._path_q&&a){a=="_"&&(a="");z.log("search_path_q_click"+a,z._path_q,b?b:{})}};define("log/LogHistory",[],function(){var a=[];return{set:function(b,c){a.length>6&&a.shift();if(c)var d=jQuery.map(c,function(a){return a}),b=b+("("+d.join(",")+")");a.push(b)},get:function(){return a}}});
define("log/Tiara",["log/KoreanClick","log/LogHistory"],function(a){function b(a){try{console.info("Tiara: "+a);var b=__Tiara.__getTracker();c?c=false:b.__setReferer(location.href);b.__trackPageview(a)}catch(f){}}var c=true;return{log:function(c){a.log();b(c)},logOnly:b,load:function(){}}});var p={click:function(a,b,c){var d=["__trackEvent"];d.push(a);if(b&&b instanceof Array){d=d.concat(b);b=b.join("|")}else d.push(b);console.info("TiaraClick: "+a+" "+b);Application.logHistory.set(a+","+b.replace("|",
"_"),c);A._tiq.push(d)},ROUTE_METHOD:{toString:function(){return Application.carRouteSearchController.getActive()?"car":Application.transitRouteSearchController.getActive()?"public":Application.flagSearchController.walkRouteSearchController.getActive()?"walk":Application.flagSearchController.bikeRouteSearchController.getActive()?"bike":""}},MODE:{toString:function(){var a=Application.carRouteSearchController.getActive()?"car":"traffic";return Application.keywordSearchController.getActive()?"search":
Application.roadviewController.getActive()?"roadview":a}}};define("log/Tico",[],function(){return Tico});(function(){function a(a,c,d){var e=A.event||{},c=a+"\nat "+c+":"+d+":1";e.errorUrl&&(c=e.errorMessage+"\nat "+e.errorUrl+":"+e.errorLine+":"+e.errorCharacter);console.log({message:e.errorMessage||a,stack:c})}if(["map.daum.net","stage.map.daum.net","local.daum.net"].indexOf(location.host)>-1)A.onerror=a})();define("manager/AoiManager",["map/Map","controller/RoadviewController","model/Aoi","map/MiniTooltipManager"],
function(a,b,c,d){function e(a){k=a.coords}function f(b){g();b===m[h.SEARCH]&&daum.maps.event.addListener(a,"mousemove",e)}function g(){daum.maps.event.removeListener(a,"mousemove",e)}function j(a){var b=Ub(arguments,1),c;for(c in m)m[c][a].apply(m[c],b)}var h={SEARCH:"SEARCH",FLAG:"FLAG"},m={},k=null;return{KEY:h,getModel:function(a){var b,c;for(c in m)if(b=m[c].getAoi(a))return b},hideAll:function(){j("hide")},clearAll:function(){j("clear")},onSearchTabChange:function(a){switch(a){case 0:m[h.SEARCH].setMapEvent();
m[h.FLAG].removeMapEvent();f(m[h.SEARCH]);break;case 1:m[h.FLAG].setMapEvent();m[h.SEARCH].removeMapEvent();g();break;case 2:case 3:m[h.FLAG].removeMapEvent();m[h.SEARCH].removeMapEvent();g()}},getController:function(e){if(!m[e]){m[e]=new ka(a,b,c,this,d);m[e].onClear.add(g);m[e].onFind.add(f)}return m[e]},getMouseCoords:function(){return k}}});"use strict";Nc.MAX_LEVEL=13;dc.prototype.marker_=null;dc.prototype.createMarker=function(){return this.marker_};dc.prototype.getMarker=function(){return this.marker_};
dc.prototype.createInfoWindow=function(){return this.infowindow_};dc.prototype.clickMarker=function(){};dc.prototype.map_=null;dc.prototype.setMap=function(a){if(a){if(!this.marker_){var b=this.marker_=this.createMarker();console.assert(b instanceof daum.maps.AbstractOverlay);daum.maps.event.addListener(b,"click",this.clickMarker.bind(this))}this.marker_.setMap(a);this.map_=a}else if(this.map_){this.marker_.setMap(null);this.map_=null}};define("manager/MapSuggest",["jquery"],function(a){function b(a){this.type=
a.type;this.id=a.id;this.url=a.url;this.urlMaker=a.urlMaker||this.defUrlMaker;this.parser=a.parser||this.defParser;this.itemMaker=a.itemMaker||this.defItemMaker;this.itemParser=a.itemParser||this.defItemParser;this.onSubmit=a.onSubmit||c;this.onSubmitHistory=a.onSubmitHistory||c;this.onSubmitFavorite=a.onSubmitFavorite||c;this.useHistoryClick=a.useHistoryClick!="undefiend"?a.useHistoryClick:false;this.useFavoriteClick=a.useFavoriteClick!="undefiend"?a.useFavoriteClick:false;this.listClassName=a.listClassName||
"ms_item";this.maxCount=a.maxCount||d;this.logKey=a.logKey||null;this.logCallback=a.logCallback||c;this.originKeyword=this.lastKeyword="";this.init()}var c=function(){},d=10,e=A.navigator.userAgent.indexOf("Firefox")>-1;b.prototype.init=function(){var b=this;this.inputEl=a("#"+this.id.replace(/\./g,"\\."));this.suggestTarget=a("#"+this.id.replace(/\./g,"\\.")+"Suggest");this.suggestWrap=a('<div class="suggestBox box_sub"><div class="baseBox bg"><div class="list"><ul class="suggest_list_target"></ul></div></div><div class="favorite_find HIDDEN"></div><div class="search_recent HIDDEN"></div></div>');
this.suggestTarget.append(this.suggestWrap);this.suggestListTarget=this.suggestWrap.find(".suggest_list_target");var c=null,d=function(){c&&clearInterval(c);c=null},f=false,h=false,n=function(a){var n=a.keyCode||a.which;if(n==16)f=true;else if(n==18)h=true;else if(n!=17)if(n==13){a.preventDefault();d();a=b.suggestWrap.find(".search_recent ."+b.listClassName+".on");n=b.suggestWrap.find(".favorite_find ."+b.listClassName+".on");a.length>0&&!a.hasClass("hover")?b.fireSubmit("history",a):n.length>0&&
!n.hasClass("hover")?b.fireSubmit("favorite",n):b.fireSubmit("suggest")}else if(n==27)b.hide();else if(!(h&&n==9))if(n==38||f&&n==9)b.HighlightMoveUp(a);else if(n==40||!f&&n==9)if(n==40&&!b.isShow()){a.preventDefault();b.show()}else b.HighlightMoveDown(a);else e&&!c&&(c=setInterval(function(){c&&b.lastKeyword!==b.inputEl.val()&&b.update()},1E3))};this.inputEl.on("click",function(){b.update()});this.inputEl.on("keypress",function(a){e&&n(a)});this.inputEl.on("blur",d);this.inputEl.on("keydown",n);
this.inputEl.on("keyup",function(a){a=a.keyCode||a.which;a==16?f=false:a==18&&(h=false);e||b.update()});this.suggestWrap.on("hover","."+this.listClassName,function(){b.clearSelected();a(this).addClass("on hover")});this.suggestWrap.on("click",".baseBox ."+this.listClassName,function(){b.setKeyword(a(this).text());b.fireSubmit("suggest")});this.suggestWrap.on("click",".search_recent ."+this.listClassName,function(){if(this.useHistoryClick){b.setKeyword("","origin");b.fireSubmit("history",a(this))}else b.hide()});
this.suggestWrap.on("click",".favorite_find ."+this.listClassName,function(){if(this.useFavoriteClick){b.setKeyword("","origin");b.fireSubmit("favorite",a(this))}else b.hide()});a(document).on("mousedown touchstart",function(a){b.inputEl&&(b.inputEl.is(a.target)||b.inputEl.has(a.target).length>0)?b.toggle():b.suggestWrap&&(!b.suggestWrap.is(a.target)&&b.suggestWrap.has(a.target).length==0)&&b.hide()})};b.prototype.update=function(){var b=this.inputEl.val();if(this.lastKeyword!=b){this.originKeyword=
this.lastKeyword=b;this.clearSelected();var c=null,d=this;this.show();if(b!==""){c=this.urlMaker(b);b="JSON";c.indexOf("http")===0&&(b="JSONP");a.ajax({url:c,dataType:b,cache:true,success:function(a){a.q==d.inputEl.val()&&d.parser(a)}})}else d.parser({items:[]})}};b.prototype.defUrlMaker=function(a){var b=this.url,b=b+(this.url.indexOf("?")>0?"&":"?"),b=b+("q="+encodeURIComponent(a));b.indexOf("http")===0&&(b=b+"&callback=?");return b};b.prototype.defParser=function(b){var c=this,d="",e=[];if(b&&
b.items){e=b.items.splice(0,this.maxCount);a(e).each(function(a,e){if(c.subwayRegionId){var f=e.split("|"),h=f[0].replace(/\([\W\w]*\)/,"").trim(),m=f[1],n=f[3],f={id:n,x:f[5],y:f[6],simpleName:h,fullName:h+(m?" "+m:"")};n&&(d=d+c.itemMaker(f,a,b.q))}else d=d+c.itemMaker(e.split("|"),a,b.q)});this.suggestListTarget.html(d);d?this.suggestWrap.find(".baseBox").css("display","block"):this.suggestWrap.find(".baseBox").css("display","none")}};b.prototype.defItemMaker=function(a,b,c){b="";a=this.itemParser(a);
b=b+('<li class="'+this.listClassName+'">');b=b+'<a href="#">'+f.highlight(a[0],c);return b+"</a></li>"};b.prototype.defItemParser=function(a){return[a[0],a[0]]};b.prototype.fireSubmit=function(b,c){if(b=="history")this.onSubmitHistory(c);else if(b=="favorite")this.onSubmitFavorite(c);else{var d=this.suggestWrap.find(".baseBox ."+this.listClassName),e=null,f=-1;a(d).each(function(b,c){if(a(c).hasClass("on")){e=a(c);f=b+1}});if(e&&(this.logKey||this.logCallback)){d=[this.originKeyword,e.text(),f,d.length];
if(this.logKey){p.click("suggest",this.logKey,{param1:d.join("|")});z.log("search_q_click_suggest",d[0],{sq:d[1],data1:JSON.stringify({idx:d[2],cnt:d[3]})})}else this.logCallback(d)}this.onSubmit()}this.hide()};b.prototype.HighlightMoveUp=function(b){if(this.isShow()){b.preventDefault();var c=this.suggestWrap.find("."+this.listClassName+".on"),b=this.suggestWrap.find("."+this.listClassName);if(c.length>0){var d=-1;b.each(function(b,e){a(e).is(c)&&(d=b)});if(b=d-1>=0?b.get(d-1):null){this.clearSelected();
b=a(b).addClass("on");b.closest(".baseBox").length>0?this.setKeyword(b.text(),"move"):this.setKeyword("","origin")}else{this.clearSelected();this.setKeyword("","origin");this.hide()}}else{this.clearSelected();this.setKeyword("","origin");this.hide()}}};b.prototype.HighlightMoveDown=function(b){if(this.isShow()){b.preventDefault();var c=this.suggestWrap.find("."+this.listClassName+".on"),b=this.suggestWrap.find("."+this.listClassName);if(c.length>0){var d=-1;b.each(function(b,e){a(e).is(c)&&(d=b)});
if(b=b.get(d+1)){this.clearSelected();b=a(b).addClass("on");b.closest(".baseBox").length>0?this.setKeyword(b.text(),"move"):this.setKeyword("","origin")}else{this.clearSelected();this.setKeyword("","origin");this.hide()}}else{this.clearSelected();if(b.length>0){b=b.first();b.first().addClass("on");b.closest(".baseBox").length>0&&this.setKeyword(b.text(),"move")}else this.hide()}}};b.prototype.clearSelected=function(){this.suggestWrap.find("."+this.listClassName).removeClass("on hover")};b.prototype.setUrl=
function(a){this.url=a};b.prototype.setUrlMaker=function(a){this.urlMaker=a};b.prototype.setParser=function(a){this.parser=a};b.prototype.setItemMaker=function(a){this.itemMaker=a};b.prototype.setKeyword=function(a,b){a=a.replace(/\s\|\s(.*)/gi,"");if(b=="origin"){this.inputEl.val(this.originKeyword);this.lastKeyword=this.originKeyword}else{this.inputEl.val(a);if(b=="move")this.lastKeyword=a}};b.prototype.setSubwayAreacode=function(a){this.subwayRegionId=a};b.prototype.getInputTarget=function(){return this.inputEl};
b.prototype.getHistoryTarget=function(){return this.suggestWrap.find(".search_recent")};b.prototype.getFavoriteTarget=function(){return this.suggestWrap.find(".favorite_find")};b.prototype.show=function(){this.suggestWrap.css("display","block");this.type==="waypoint"&&this.inputEl.parents(".WaypointBoxView.dest").length===1&&this.inputEl.parent().addClass("ACTIVE-suggestBox")};b.prototype.hide=function(){this.clearSelected();this.suggestWrap.css("display","none");this.type==="waypoint"&&this.inputEl.parents(".WaypointBoxView.dest").length===
1&&this.inputEl.parent().removeClass("ACTIVE-suggestBox")};b.prototype.toggle=function(){this.isShow()?this.hide():this.show()};b.prototype.isShow=function(){return this.suggestWrap.css("display")=="block"};var f=function(){return{highlight:function(a,b){return a.replace(b,'<strong class="emph_keyword">'+b+"</strong>")}}}();return b});A.santa={_seq:0,_init:function(){rudolph.Service.init();rudolph.view.KeywordInputView.prototype.dispatch=function(a){A.suggestThis=this;this.dispatchEvent("onChangeKeyword",
{keyword:a})}},_Proxy:function(a){this.setSubwayAreacode=function(b){a&&a.setSubwayAreacode(b,",")};this.setQuery=function(b){if(a){var c=a.callbackName.replace(/&.*/,"");a.dataModel.setCallbackName(c+"&"+b)}};this.sendRequest=function(b){b&&a.request(b,false)};this.setKeyword=function(b){a.keywordInputView.setValue(b)}},create:function(a,b,c){if(typeof daum=="undefined"||!rudolph)return new santa._Proxy(null);var c=c||{},d=++santa._seq;d==1&&santa._init();b=/^((?:[^\/]|\/\/)+)(\/[^?]*)(\?.*)?/.exec(b);
a=santa["$"+d]=rudolph.Service.add(a,a+"Suggest",b[1],b[2],c.proxyUrl||"santa.$"+d+".dataModel.forceLoadComplete",!c.proxyUrl);b[3]&&a.setRequestString(b[3]+"&q=KEYWORD&mod=json&code=CHARSET");if(!("prefixCount"in c))c.prefixCount=10;if(!("suffixCount"in c))c.suffixCount=3;a.setLimit([c.prefixCount,c.suffixCount]);c.suffixCount||a.setLimitMatch(false);c.buttonId&&a.setYellowClip(c.buttonId);c.onThumbnail&&a.setUseThumbnail(c.onThumbnail);c.onSubmit&&a.setBeforeSubmitFunc(c.onSubmit);if(c.onParseItem){a.setUseCustomItemValue(function(a){return c.onParseItem(a.item)[0]});
a.setUseCustomGetString(function(a){return c.onParseItem(a)[1]})}(c.log||c.logCallback)&&a.setLogFunc(function(a){if(a.index){var b=[a.inputQuery,a.keyword,a.index,a.totalCount];if(c.logCallback)c.logCallback(b);else{p.click("suggest",c.log,{param1:b.join("|")});z.log("search_q_click_suggest",a.inputQuery,{sq:a.keyword,data1:JSON.stringify({idx:a.index,cnt:a.totalCount})})}}});return new santa._Proxy(a)},hide:function(){typeof daum!="undefined"&&rudolph&&rudolph.Service.hiddenAll()}};define("manager/ViewLayout",
["view/FrameDecorator"],H(function(a){function b(a){if(f!=a){f=a;f==4&&(j<400&&Application.carRouteSearchController.getActive())&&f==2;switch(f){case 1:v.css({left:0,top:0,width:"100%",height:"100%"});break;case 2:v.width(h).height(m);r.showNormal();break;case 4:v.width("100%").height(m);r.showHorizon()}k.toggleClass("MAP",f==1).toggleClass("MAPFRAME",f==2||f==4).toggleClass("ROADVIEW",f==2||f==3||f==4).toggleClass("SUBWAY",f==5);c()}}function c(){jQuery("#view").width(g).height(j);r.setMaxSize(Math.ceil(g*
2/3),Math.ceil(j*2/3));jQuery("#shadow").height(j);switch(f){case 1:d.notify();break;case 2:v.css({left:0,top:j-m,width:h,height:m});d.notify();o.width("100%").height("100%");e.notify();break;case 3:o.width("100%").height("100%");e.notify();break;case 4:o.width("100%").height(j-m);e.notify();v.css({left:0,top:j-m,height:m});d.notify();a.relayout();break;case 5:p.height(j-q.height())}}if(!(this instanceof arguments.callee))return new arguments.callee(a);var d=new n,e=new n,f=1,g=0,j=0,h=200,m=200,
k=jQuery("body"),v=jQuery("#view\\.map"),o=jQuery("#view\\.roadview"),r=a,p=jQuery("#view\\.subway\\.flash"),q=jQuery("#subwayLegend");r.onResize.add(function(a){if(a.innerWidth){h=a.outerWidth;m=a.innerHeight;b(a.mode==P.HORIZON?4:2);(f==2||f==4)&&c()}});this.onMapResize=d;this.onRoadviewResize=e;this.setSize=function(a,b){if(!(g==a&&j==b)){g=a;j=b;c()}};this.setMapOnly=La(b,1);this.setRoadviewWithMiniMap=La(b,2);this.setRoadviewOnly=La(b,3);this.setRoadviewWithWideMap=La(b,4);this.setSubwayOnly=
La(b,5);this.get=function(){return f}}));fc.prototype=new daum.maps.AbstractOverlay;fc.POINTER_IMAGE=new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2018/img/btn_goalchange.png",new daum.maps.Size(16,16),new daum.maps.Point(9,9));fc.TOOLTIP_IMAGE=new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2018/img/plus_tip.png",new daum.maps.Size(90,20),new daum.maps.Point(-10,10));sa.prototype=new daum.maps.AbstractOverlay;sa.prototype.onAdd=function(){var a=this.getMap();
this.marker_.setMap(a);if(this.skyviewImage_){daum.maps.event.addListener(a,"maptypeid_changed",this.mapTypeIdHandler_);this.changeMarkerImage_()}Application.mainMapController.tool.onClickTool.add(this.toolActivate);Application.mainMapController.tool.onComplete.add(this.toolDeactivate);this.isToolActivate=Application.mainMapController.tool.isToolActivate()};sa.prototype.onRemove=function(){this.skyviewImage_&&daum.maps.event.removeListener(this.getMap(),"maptypeid_changed",this.mapTypeIdHandler_);
this.marker_.setMap(null);Application.mainMapController.tool.onClickTool.remove(this.toolActivate);Application.mainMapController.tool.onComplete.remove(this.toolDeactivate)};sa.prototype.draw=function(){};sa.prototype.getPosition=function(){return this.marker_.getPosition()};sa.prototype.setPosition=function(a){var b=this.marker_.getPosition();if(b.getX()!=a.getX()||b.getY()!=a.getY()){this.marker_.setPosition(a);this.onPositionChanged.notify()}};sa.prototype.getImage=function(){return this.marker_.getImage()};
sa.prototype.changeMarkerImage_=function(){this.getMap()&&(!this.hover_&&!this.highlight_)&&this.marker_.setImage(!this.getMap().isRoadmap()&&this.skyviewImage_||this.roadmapImage_)};sa.prototype.setHover=function(a){this.hover_=!!a;this.changeMarker_()};sa.prototype.setHoverYes=function(){this.onOver.notify();this.setHover(true)};sa.prototype.setHoverNo=function(){this.onOut.notify();this.setHover(false)};sa.prototype.getMarker=function(){return this.marker_};sa.prototype.setActive=function(a){this.highlight_=
a;this.changeMarker_()};sa.prototype.getActive=function(){return this.highlight_};sa.prototype.changeMarker_=function(){if(this.hover_||this.highlight_){this.setZIndex(5);this.highlight_&&this.eventMarkerImage_?this.marker_.setImage(this.eventMarkerImage_):this.marker_.setImage(this.rolloverImage_)}else{this.setZIndex(this.zIndex_||2);this.changeMarkerImage_()}};sa.prototype.setTitle=function(a){this.marker_.setTitle(a)};sa.prototype.setZIndex=function(a){this.marker_.setZIndex(a)};sa.prototype.setEvent=
function(){this.eventMarkerImage_=new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2015/ndm/event_cherryblossom_marker.png",new daum.maps.Size(35,42),{offset:new daum.maps.Point(17,43),spriteSize:new daum.maps.Size(42,50),spriteOrigin:new daum.maps.Point(4,5)})};hb.children=[];hb.onShow=function(){h.$("info.footer").show()};hb.onHide=function(){for(var a=hb.children.length,b=0;b<a;b++)if(!hb.children[b].hasClass("HIDDEN"))break;b===a&&h.$("info.footer").hide()};hb.addChild=function(a){h.$("info.footer").addChild(a);
a.onShow.add(hb.onShow);a.onHide.add(hb.onHide);hb.children.push(a)};hb.removeChild=function(){};"use strict";define("map/InfoWindowManager","map/Map factory/MapOverlayFactory factory/InfoWindowToolbarFactory factory/ButtonFactory log/Tiara controller/HistoryController".split(" "),H(function(a,b,c,d,e,f){function g(){if(t){t.setMap(null);I=z=t=null}}function j(a,c,d,e){if(typeof Application!="undefined"){if(Application.roadviewController.getDbClickActive()){Application.roadviewController.setDbClickActive(false);
return}Application.roadviewController.setDbClickActive(false);Application.roadviewController.close()}t=b.create(c,15,a.getPane(),e);a.doLayout&&a.doLayout();e=false;d||(e=t.panIntoView());e?u.notify({infoWindow:a,delay:500}):u.notify({infoWindow:a,delay:0});a&&(z=a);c&&(I=c);(c instanceof ie||c instanceof sa)&&c.onPositionChanged&&c.onPositionChanged.add(function(){if(t&&z&&I){t=b.create(I,10,z.getPane());z.doLayout&&z.doLayout()}});a.onClose.add(g)}function h(a,b,c,d){if(!a||!a.getPane||!a.onClose)throw Error();
g();j(a,b,c,d);e.log("/fake/infowindow")}function m(a,b,e,g){if(a.subway&&a.subway.id){a=p.extend(true,{name:a.name,coords:a.coords},a.subway);e=o(a,b,e,g)}else{e=new be(a,g,c,d,e);f.addPoi(q.PLACE,a);a.id||(e=new Ne(a,c));h(e,b||a.coords);w={id:a.id,data:a};e.onClose.add(function(){s.notify()})}e.onClose.add(y,this);return e}function k(a,b,c,e){var g=!(!a.subway||!a.subway.id),j=new Te(a,c,d,e);j.onExpand.add(function(){m(a,b,e,function(){k(a,b,c,e)}).onClose.add(function(){Application.keywordSearchController.activeItem_=
null})});h(j,b||a.coords);j.onClose.add(y,this);g?f.addPoi(q.SUBWAY_STATION,{id:a.subway.id,name:a.name,coords:a.coords}):f.addPoi(q.PLACE,a);return j}function v(a,b,e,g){b=new Xd(a,b,e,c,d,Application.busLineController,!!g);b.onClose.add(function(){s.notify()});h(b,g||a.coords);f.addPoi(q.BUS_STOP,a);b.onClose.add(y,this);return b}function o(b,e,g,j){g=new de(b,j,c,d,g);g.onSibling.add(function(b){b.fetchDetail(function(){a.setCenter(b.coords);o(b)})});h(g,e||b.coords);g.onClose.add(y,this);f.addPoi(q.SUBWAY_STATION,
b);return g}function r(a){a.getBusStops(function(b){b=new af(b);b.onBusStop.add(function(b){ga.find(b.id,function(b){v(b).onClose.add(function(){r(a)})})});h(b,a.coords)})}var p=jQuery,q=f.TYPE_LIST,s=this.onClose=new n,u=this.onShow=new n,w=null;this.getState=function(){return w};var t=null,z=null,I=null,A=this.close=function(){g();s.notify();y()},y=function(){w=null};this.closeWithoutNotify=function(){g()};this.closeToType=function(a){var b;switch(a){case "traffic":b=ee;break;case "cctv":b=Zd;break;
case "accident":b=Wd}z&&(b&&z instanceof b)&&A()};this.createWeather=function(a,b){var c=new Qe(a);h(c,b);return c};this.createAddress=function(a,b,e,g,j){e=new sd(a,c,d,e,j);h(e,b||a.coords,g);w={data:a};e.onClose.add(y,this);a.type!="point"&&f.addPoi(q.ADDRESS,a);return e};this.createAddressWithNoPan=function(a,b,e){e=new sd(a,c,d,e);h(e,b||a.coords,true);w=null;return e};this.createPoint=function(a,b,e,f){e=new Ke(a,e,c,d);h(e,b||a.coords);w=null;f&&e.setFavoriteIcon(false);return e};this.createReview=
function(a,b){var e=new Le(a,c,d);h(e,b||a.coords);w={review:a.id,data:a};e.onClose.add(y,this);return e};this.createAccident=function(a,b){var c=new Wd(a);h(c,b||a.coords);w=null;return c};this.createTraffic=function(a,b){var c=new ee(a,d);h(c,b||a.coords);w=null;return c};this.createPlace=function(a,b,c){return m(a,b,c)};this.createPlaceWithMedium=function(a,b,c,d){return k(a,b,c,d)};this.createBusStop=function(a,b,c,d){w={busstopid:a.id,data:a};return v(a,b,c,d)};this.createSubwayStation=function(a,
b){w={subwayId:a.id,data:a};return o(a,b)};this.createBusStopGroup=function(a){w=null;r(a)};this.createCctv=function(a,b){var c=new Zd(a,d);h(c,b||a.coords);w=null;return c};this.createIssuedPlace=function(a,b){var c=new Ie(a);h(c,b||address.coords);w=null;return c};this.createSubwayTooltip=function(a,b){var c=new Oe(a);h(c,a.coords,true,b);w=null;return c};this.createBusStopRoute=function(a,b){var c=new Fe(a);h(c,a.coords,true,b);w=null;return c};this.createTransitMedium=function(a,b){var c=new je(a);
h(c,a.coords,false,b);return c};this.createStartEndPointInfo=function(a,b){var c=new Me(a);h(c,a.coords,true,b);w=null;return c};this.createCarInfoInfo=function(a,b){var c=new $d(a);h(c,b,true);w=null;return c};this.createWalkPointInfo=function(a,b){var c=new ce(a);h(c,a.coords,true,b);w=null;return c};this.createBikePointInfo=function(a,b){var c=new Ee(a);h(c,a.coords,true,b);w=null;return c};this.createWalkPointGroupInfo=function(a,b,c){a=new Pe(a);h(a,b,false,c);w=null;return a};this.createIntercityInfo=
function(a,b,c,d){a=new He(a,d);h(a,b,false,c);w=null;return a};this.createFromElement=function(b,c,d,e,f){w=null;g();if(f){a.setLevel(3);a.setCenter(c)}if(typeof Application!="undefined"){Application.roadviewController.setDbClickActive(false);Application.roadviewController.close()}t=new daum.maps.InfoWindow({position:c,offset:e,content:b,zIndex:10});t.open(a,d)};this.relayout=function(){if(t){t.setMap(null);t.setMap(a)}}}));vd.TILESET_ID=0;define("map/LastRoadviewMarker",["map/Map"],H(function(a){function b(a){return'<div class="RoadViewCoachMakerLayer"><div class="left"></div><p class="mid">'+
a+'</p><div class="right"></div></div>'}function c(){j++||g.setMap(a);f.setZIndex(4)}function d(){j&&(--j||g.setMap(null));f.setZIndex(0)}if(!(this instanceof arguments.callee))return new arguments.callee(a);var e=new n,f=new daum.maps.Marker({image:new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2018/pc/img/ico_map_point.png",new daum.maps.Size(36,50))}),g=new daum.maps.Billboard({yAnchor:1,zIndex:6});g.setContent(b("\uc774\uc804 \ub85c\ub4dc\ubdf0 \uc9c0\uc810"));var j=0;daum.maps.event.addListener(f,
"mouseover",c);daum.maps.event.addListener(f,"mouseout",d);daum.maps.event.addListener(f,"click",function(){e.notify()});this.set=function(b){if(b){g.setPosition(b);c();setTimeout(d,3E3);f.setPosition(b);f.setMap(a)}else{d();f.setMap(null)}};this.setTitle=function(a){g.setContent(b(a))};this.onClick=e}));zc.prototype.parse=function(a){for(var b=this.map_;/^%/.test(a);)a=decodeURIComponent(a);this.data_=a=eval("("+a+")");var c=a.coordinate=="wcongnamul";b.setMapTypeId(a.map_type=="TYPE_MAP"?daum.maps.MapTypeId.ROADMAP:
a.map_hybrid=="true"?daum.maps.MapTypeId.HYBRID:daum.maps.MapTypeId.SKYVIEW);b.setLevel(a.mapLevel||3);c=c?new daum.maps.Coords(a.mapCenterX,a.mapCenterY):(new daum.maps.Congnamul(a.mapCenterX,a.mapCenterY)).toCoords();b.setCenter(c);a.graphicInfo&&a.graphicInfo.forEach(this.buildGraphic_,this);a.markInfo&&a.markInfo.forEach(this.buildMarker_,this)};zc.prototype.addOverlay_=function(a){a.setMap(this.map_)};zc.prototype.buildGraphic_=function(a){var b=null,c=a.options;c.endArrow=c.endarrow=="classic"||
c.endarrow===true;if(a.type=="circle"){var d=Math.abs(a.sPoint.x-a.ePoint.x)*0.2,e=Math.abs(a.sPoint.y-a.ePoint.y)*0.2;if(d!=e)a.type="ellipse"}switch(a.type){case "line":b=new daum.maps.Polyline(c);if(a.sPoint&&a.ePoint)b.setPath([new daum.maps.Coords(a.sPoint.x,a.sPoint.y),new daum.maps.Coords(a.ePoint.x,a.ePoint.y)]);else if(a.points){a=this.getCoordsArr_(a.points);b.setPath(a)}break;case "arrow":b=new daum.maps.Polyline(c);if(a.sPoint&&a.ePoint)b.setPath([new daum.maps.Coords(a.sPoint.x,a.sPoint.y),
new daum.maps.Coords(a.ePoint.x,a.ePoint.y)]);else if(a.points){a=this.getCoordsArr_(a.points);b.setPath(a)}break;case "circle":b=new daum.maps.Circle(c);b.setPosition(new daum.maps.Coords(a.sPoint.x+a.ePoint.x>>1,a.sPoint.y+a.ePoint.y>>1));b.setRadius(Math.abs(a.sPoint.x-a.ePoint.x)*0.2);break;case "ellipse":b=new daum.maps.Ellipse(c);b.setPosition(new daum.maps.Coords(a.sPoint.x+a.ePoint.x>>1,a.sPoint.y+a.ePoint.y>>1));b.setRadius(Math.abs(a.sPoint.x-a.ePoint.x)*0.2,Math.abs(a.sPoint.y-a.ePoint.y)*
0.2);break;case "rect":b=new daum.maps.Rectangle(c);b.setBounds(new daum.maps.CoordsBounds(new daum.maps.Coords(a.sPoint.x,a.sPoint.y),new daum.maps.Coords(a.ePoint.x,a.ePoint.y)));break;case "rectangle":b=new daum.maps.Rectangle(c);b.setBounds(new daum.maps.CoordsBounds(new daum.maps.Coords(a.sPoint.x,a.sPoint.y),new daum.maps.Coords(a.ePoint.x,a.ePoint.y)));break;case "polyline":b=new daum.maps.Polyline(c);b.setPath(a.points.map(function(a){return new daum.maps.Coords(a.x,a.y)}));break;case "polygon":b=
new daum.maps.Polygon(c);b.setPath(a.points.map(function(a){return new daum.maps.Coords(a.x,a.y)}));break;case "text":b=new daum.maps.InfoWindow({position:new daum.maps.Coords(a.point.x,a.point.y),content:a.message})}b&&b.setMap(this.map_)};zc.prototype.getCoordsArr_=function(a){var b=[];a.forEach(function(a){b.push(new daum.maps.Coords(a.x,a.y))});return b};zc.prototype.buildMarker_=function(a,b){var c=a.coordinate=="wcongnamul"?new daum.maps.Coords(a.x,a.y):(new daum.maps.Congnamul(a.x,a.y)).toCoords(),
d=a.icon,e=null;if(d){e={offset:new daum.maps.Point(d.offsetX<0?-d.offsetX:d.offsetX,d.offsetX<0?-d.offsetY:d.offsetY)};if(d.spriteWidth&&d.spriteHeight){e.spriteSize=new daum.maps.Size(d.spriteWidth,d.spriteHeight);e.spriteOrigin=new daum.maps.Point(d.spriteOriginX,d.spriteOriginY)}e=new daum.maps.MarkerImage(d.src,new daum.maps.Size(d.width,d.height),e)}var f=new daum.maps.Marker({position:c,zIndex:1,image:e,title:a.label,clickable:true});f.setMap(this.map_);var g,j;if(a.infowindow)g=a.infowindow.contents;
else if(a.content){d=a.confirmid?jQuery("<a href=https://place.map.kakao.com/"+a.confirmid+' target="_blank" title="\uc0c1\uc138\uc815\ubcf4 \ubcf4\uae30">'+a.content+"</a>"):jQuery('<em title="\uc0c1\uc138\uc815\ubcf4\uac00 \uc5c6\ub294 \uc7a5\uc18c\uc785\ub2c8\ub2e4.">'+a.content+"</em>");d=jQuery('<span class="name"></span>').append(d);e="place_graphic";if(a.markerType=="standPlace"&&this.data_.roadviewInfo){var h=this.data_.roadviewInfo[0];b&&this.data_.roadviewInfo[b]&&(h=this.data_.roadviewInfo[b]);
e="place_marker";if(h&&h.panoId){var m=jQuery('<span class="miniroadview" title="\ub85c\ub4dc\ubdf0"></span>');m.click(function(){Application.roadviewController.show({coords:c,panoId:h.panoId,pan:h.pan,tilt:h.tilt,zoom:h.zoom})});d.append(m)}if(h&&h.storeId){m=jQuery('<span class="ministoreview" title="\uc2a4\ud1a0\uc5b4\ubdf0"></span>');m.click(function(){Application.roadviewController.showStoreView(h.storeId,h.storePanoId,{pan:h.storePan,tilt:h.storeTilt,zoom:h.storeZoom})});d.append(m)}}else d.addClass("normal");
m=jQuery('<span class="miniclose" title="\ub2eb\uae30"></span>');d.append(m);j=new nc(this.map_);j.setData(e,c,d);this.data_.version&&j.setPlusmapVersion(this.data_.version);j.setZIndex(1);j.show();m.click(function(){j.hide()});daum.maps.event.addListener(f,"click",function(){j.getVisible()?j.hide():j.show()})}var k;if(g){k=new daum.maps.InfoWindow({disableAutoPan:true,content:g});k.open(this.map_,f)}var n=1;if(a.markerType){f&&f.setZIndex(2);k&&k.setZIndex(2);j&&j.setZIndex(2);n=2}daum.maps.event.addListener(f,
"mouseover",function(){f&&f.setZIndex(3);k&&k.setZIndex(3);j&&j.setZIndex(3)});daum.maps.event.addListener(f,"mouseout",function(){f&&f.setZIndex(n);k&&k.setZIndex(n);j&&j.setZIndex(n)})};define("map/Map",["jquery","controller/WindowController","params","log/Tiara"],function(a,b,c,d){typeof __overrideMapTypes=="function"&&__overrideMapTypes(c);a=ac.fetchMapOption_(c);b.updateHeight();if(!a.center)a.center=new daum.maps.Coords(494945,1128987);if(a.level===void 0)a.level=3;if(!a.mapTypeId)a.mapTypeId=
jQuery.cookie("maptype")=="skyview"?daum.maps.MapTypeId.HYBRID:daum.maps.MapTypeId.ROADMAP;a.keyboardShortcuts=c.keyboardShortcuts!="off"?true:false;var e=new daum.maps.Map(jQuery("#view\\.map").get(0),a);e.setLevel(a.level);e.setCopyrightPosition(daum.maps.CopyrightPosition.BOTTOMRIGHT,true);z.watchMap(e);e.isRoadmap=function(a){a=a||e.getMapTypeId();return a==daum.maps.MapTypeId.ROADMAP||a==daum.maps.MapTypeId.INDOOR_SIDE};d.logOnly(e.isRoadmap()?"fake/start_2d":"fake/start_skyview");return e});
va.prototype=new daum.maps.AbstractOverlay;va.prototype.floating_=!0;va.prototype.setType=function(a){if(this.klass_){this.panel_.removeClass("Flag-"+this.klass_+"-drag");this.panel_.removeClass("Flag-"+this.klass_)}this.panel_.hasClass("Flag-drag")&&this.panel_.addClass("Flag-"+a+"-drag");this.panel_.addClass("Flag-"+a);var b="";switch(a){case "origin":b="//t1.daumcdn.net/localimg/localimages/07/2018/pc/flagImg/blue_b.png";break;case "via1":b="//t1.daumcdn.net/localimg/localimages/07/2018/pc/flagImg/green_b_1.png";
break;case "via2":b="//t1.daumcdn.net/localimg/localimages/07/2018/pc/flagImg/green_b_2.png";break;case "via3":b="//t1.daumcdn.net/localimg/localimages/07/2018/pc/flagImg/green_b_3.png";break;case "via4":b="//t1.daumcdn.net/localimg/localimages/07/2018/pc/flagImg/green_b_4.png";break;case "via5":b="//t1.daumcdn.net/localimg/localimages/07/2018/pc/flagImg/green_b_5.png";break;case "dest":b="//t1.daumcdn.net/localimg/localimages/07/2018/pc/flagImg/red_b.png"}this.flagImg_.attr("src",b).attr("width",
37);this.klass_=a};va.prototype.isActivateFlag=function(){return A.Application&&Application.mainMapController.tool.isToolActivate()?false:true};va.prototype.onAdd=function(){this.panel_.appendTo(this.getMap().getNode());this.dragStart_();this.floating_=true};va.prototype.onRemove=function(){this.panel_.detach();this.floating_=false};va.prototype.draw=function(){if(!this.floating_){var a=this.getProjection();if(a){a=a.pointFromCoords(this.coords_);this.panel_.css({left:a.x,top:a.y})}}};va.prototype.dragStart_=
function(){if(this.isDragActivate=this.isActivateFlag()){this.panel_.addClass("Flag-drag");if(this.klass_){this.panel_.addClass("Flag-"+this.klass_+"-drag");this.panel_.removeClass("Flag-"+this.klass_)}var a=this.getMap().getNode();this.mapSize_={width:a.clientWidth,height:a.clientHeight}}};va.prototype.moveBy=function(a,b){var c=this.getProjection(),d=this.floating_?c.containerPointFromCoords(this.coords_):c.pointFromCoords(this.coords_);d.x=d.x+a;d.y=d.y+b;this.panel_.css({left:d.x,top:d.y});this.coords_=
this.floating_?c.coordsFromContainerPoint(d):c.coordsFromPoint(d);d=c.containerPointFromCoords(this.coords_);a=d.x<0?-8:d.x>=this.mapSize_.width?8:0;b=d.y<0?-8:d.y>=this.mapSize_.height?8:0;if(a||b){this.dx_=a;this.dy_=b;this.scrollSwitch_.start()}else this.scrollSwitch_.stop()};va.prototype.setorder=function(a){this.type=a};va.prototype.scroll_=function(){var a=this.getProjection(),b=a.containerPointFromCoords(this.getMap().getCenter());b.x=b.x+this.dx_;b.y=b.y+this.dy_;this.getMap().setCenter(a.coordsFromContainerPoint(b));
b=a.containerPointFromCoords(this.coords_);b.x=b.x+this.dx_;b.y=b.y+this.dy_;this.coords_=a.coordsFromContainerPoint(b);this.draw()};va.prototype.drag_=function(a){this.isDragActivate&&this.moveBy(a.dx,a.dy)};va.prototype.sink_=function(){if(this.floating_){this.panel_.appendTo(this.getPanels().overlayLayer);var a=this.getProjection().pointFromCoords(this.coords_);this.panel_.css({left:a.x,top:a.y});this.floating_=false}this.panel_.removeClass("Flag-drag");this.panel_.removeClass("Flag-"+this.klass_+
"-drag");this.panel_.addClass("Flag-"+this.klass_)};va.prototype.showGuide_=function(){this.isActivateFlag()&&this.panel_.addClass("Flag-HOVER")};va.prototype.hideGuide_=function(){this.panel_.removeClass("Flag-HOVER")};va.prototype.setPosition=function(a){this.coords_=a;this.sink_();this.draw()};va.prototype.setPoint=function(a){this.panel_.css({left:a.x,top:a.y});this.coords_=this.getProjection().coordsFromContainerPoint(a)};va.prototype.setVisible=function(a){this.panel_.toggle(!!a)};va.prototype.takeDown=
function(){if(this.isDragActivate){this.panel_.hasClass("Flag-HOVER")&&this.hideGuide_();this.scrollSwitch_.stop();this.sink_();this.onChange.notify(this)}};va.prototype.remove_=function(){this.panel_.hasClass("Flag-HOVER")&&this.hideGuide_();this.onRemoveFlag.notify(this)};va.prototype.getCoords=function(){return this.coords_};va.createOrigin=function(){return new va("origin")};va.createVia=function(){return new va("via")};va.createDest=function(){return new va("dest")};va.prototype.setCoords=function(a){this.coords_=
a;this.draw();name?this.onCoords.notify(new vb(a,name)):this.queryName_()};"use strict";ge.prototype=new daum.maps.AbstractOverlay;define("map/MapTileManager",["map/Map"],H(function(a){var b=this.onOverlay=new n;if(!(this instanceof arguments.callee))return new arguments.callee(a);var c={roadview:daum.maps.MapTypeId.ROADVIEW,traffic:daum.maps.MapTypeId.TRAFFIC,terrain:daum.maps.MapTypeId.TERRAIN,theme:void 0,themespring:void 0,overlay:daum.maps.MapTypeId.OVERLAY,bicycle:daum.maps.MapTypeId.BICYCLE,
bicyclehybrid:daum.maps.MapTypeId.BICYCLE_HYBRID,air:void 0,themefall:void 0,usedistrict:daum.maps.MapTypeId.USE_DISTRICT,bboundary:daum.maps.MapTypeId.B_BOUNDARY,hboundary:daum.maps.MapTypeId.H_BOUNDARY,indoor:daum.maps.MapTypeId.INDOOR_MAIN},d={terrain:1,overlay:1.5,air:2,usedistrict:3,bboundary:3.5,hboundary:3.5,roadview:4,traffic:5,bicycle:6,bicyclehybrid:6,themespring:7,themefall:7,theme:8,indoor:9},e=[];this.set=function(f,g){if(!!(e.indexOf(f)>-1)!=g&&c[f]){if(g){for(var j=d[f],h=e.length;h--;)if(j>=
d[e[h]])break;h++;e.splice(h,0,f);a.addOverlayMapTypeId(c[f]);for(var m in c){j=c[m];m=="overlay"?e.indexOf(m)>-1&&a.removeOverlayMapTypeId(j):a.removeOverlayMapTypeId(j)}m=e.length;for(j=0;j<m;j++)a.addOverlayMapTypeId(c[e[j]])}else{m=e.indexOf(f);j=c[f];if(m>-1&&j){e.splice(m,1);a.removeOverlayMapTypeId(j)}}b.notify(f)}};this.get=function(a){return!!(e.indexOf(a)>-1)};this.setId=function(a,b){c[a]=b};this.getOverlayIndex=function(a){return e.indexOf(a)}}));Ra.ROADVIEW=1;Ra.TRAFFIC=2;Ra.ACCIDENT=
4;Ra.CCTV=8;define("map/MapTypeControl","map/Map view/LayerLegendView controller/AccidentController controller/CctvController map/MapTileManager controller/AirMapTileController controller/LocalPlatformAdController".split(" "),H(Ra));Pc.prototype.map_=null;Pc.prototype.setVisible=function(a){this.set("visible",a)};Pc.prototype.handleOverlay_=function(){var a=this.map_.isRoadmap();this.roadmapOverlay_.setMap(a?this.map_:null);this.skyviewOverlay_.setMap(a?null:this.map_)};Pc.prototype.handleVisible_=
function(){if(this.get("visible")){this.switchHandler_();daum.maps.event.addListener(this.map_,"maptypeid_changed",this.switchHandler_)}else{daum.maps.event.removeListener(this.map_,"maptypeid_changed",this.switchHandler_);this.roadmapOverlay_.setMap(null);this.skyviewOverlay_.setMap(null)}};Pc.prototype.dispose=function(){this.setVisible(false);this.skyviewOverlay_=this.roadmapOverlay_=this.map_=null};1<A.devicePixelRatio?(B.LINE_ICON="//t1.daumcdn.net/localimg/localimages/07/2018/pc/route/new_line_icon2x.png",
B.LINE_ICON_OVER="//t1.daumcdn.net/localimg/localimages/07/2018/pc/route/new_line_icon_over2x.png"):(B.LINE_ICON="//t1.daumcdn.net/localimg/localimages/07/2018/pc/route/new_line_icon.png",B.LINE_ICON_OVER="//t1.daumcdn.net/localimg/localimages/07/2018/pc/route/new_line_icon_over.png");B.IMGBASE="//t1.daumcdn.net/localimg/localimages/07/2011/";B.SEARCH_IMG="//t1.daumcdn.net/localimg/localimages/07/2018/pc/img/marker_normal.png";B.LINECOURSE_IMG="//t1.daumcdn.net/localimg/localimages/07/2012/line/marker_lline.png";
B.CCTV_IMG="//t1.daumcdn.net/localimg/localimages/07/2018/pc/img/marker_cctv.png";B.EXACT_PLACE_IMG="//t1.daumcdn.net/localimg/localimages/07/2012/img/marker_direct.png";B.STATIC_HOME_IMG="//t1.daumcdn.net/localimg/localimages/07/2019/icon/ico-set-home-normal%402x.png";B.STATIC_COMPANY_IMG="//t1.daumcdn.net/localimg/localimages/07/2019/icon/ico-set-company-normal%402x.png";B.create_=function(a,b,c,d,e,f,g,j){e=e===void 0?void 0:new daum.maps.Point(e,f);return new daum.maps.Marker({zIndex:j||0,position:a,
image:new daum.maps.MarkerImage(b,new daum.maps.Size(c,d),e),clickable:g})};B.createPremiumPlace=function(a,b){return B.createSpecialPlace(a,b)};B.createSpecialPlace=function(a,b){var c=B.createPlaceSpriteImage(a,0),d=B.createPlaceHoverImage(a,122);return new sa(b,c,null,d,4)};B.createExactPlace=function(a){return B.createPlace(1,a)};B.createPlace=function(a,b){var c=B.createPlaceSpriteImage(a,30),d=B.createPlaceSpriteImage(a,30),e=B.createPlaceHoverImage(a,162);return new sa(b,c,d,e)};B.createLinecourse=
function(a,b){var c=B.createPlaceSpriteImage(a,60),d=B.createPlaceHoverImage(a,202);return new sa(b,c,c,d)};B.createBusStop=function(a,b){var c=B.createPlaceSpriteImage(a,90),d=B.createPlaceSpriteImage(a,90),e=B.createPlaceHoverImage(a,242);return new sa(b,c,d,e)};B.createPlaceSpriteImage=function(a,b){var c=(a-1)*50;return new daum.maps.MarkerImage(B.SEARCH_IMG,new daum.maps.Size(28,36),{offset:new daum.maps.Point(13,35),spriteSize:new daum.maps.Size(276,891),spriteOrigin:new daum.maps.Point(b,c)})};
B.createPlaceHoverImage=function(a,b){var c=(a-1)*60;return new daum.maps.MarkerImage(B.SEARCH_IMG,new daum.maps.Size(36,50),{offset:new daum.maps.Point(15,48),spriteSize:new daum.maps.Size(276,891),spriteOrigin:new daum.maps.Point(b,c)})};B.createSheepPlaceImage=function(){return new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2015/ndm/event_cherryblossom_marker_s.png",new daum.maps.Size(32,37),{offset:new daum.maps.Point(15,37),spriteSize:new daum.maps.Size(42,50),spriteOrigin:new daum.maps.Point(5,
10)})};B.makeHoverable=function(a){daum.maps.event.addListener(a,"mouseover",function(){this.setZIndex(3)});daum.maps.event.addListener(a,"mouseout",function(){this.setZIndex(2)});return a};B.createLandmark=function(a){return B.create_(a,"//t1.daumcdn.net/localimg/localimages/07/2013/img/marker_landmark2.png",17,20,8,20,false,2)};B.createHere=B.createAddress=function(a){return B.create_(a,"//t1.daumcdn.net/localimg/localimages/07/2018/pc/img/marker_spot.png",36,50,18,50,true,3)};B.THEMEIMGBASE="//t1.daumcdn.net/localimg/localimages/07/2018/pc/img/marker_theme.png";
B.THEMEMAKER_LIST="bus sub storeview hair food hotel bank mart hospital oil cafe cvs park culture ".split(" ");B.createThemeMarker=function(a,b){var c=null,d=null,e=B.THEMEMAKER_LIST.indexOf(a);if(e!==-1){d=e*40;c=B.createThemeSpriteImage(d,0);d=B.createThemeSpriteImage(d,0)}return c?new he(b,c,d):null};B.createThemeSpriteImage=function(a,b){return new daum.maps.MarkerImage(B.THEMEIMGBASE,new daum.maps.Size(30,30),{offset:new daum.maps.Point(15,15),spriteSize:new daum.maps.Size(30,910),spriteOrigin:new daum.maps.Point(b,
a)})};B.createDirectionStart=function(a){return B.create_(a,"//t1.daumcdn.net/localimg/localimages/07/2010/map/search/icon_red.png",41,45,7,38)};B.createDirectionEnd=function(a){return B.create_(a,"//t1.daumcdn.net/localimg/localimages/07/2010/map/search/icon_blue.png",41,45,7,38)};B.createDirectionRoute=function(a){return B.create_(a,"//t1.daumcdn.net/localimg/localimages/07/2010/map/search/icon_green.png",41,45,7,38)};B.NULL_IMAGE=new daum.maps.MarkerImage("//i1.daumcdn.net/dmaps/defaultimg/transparent.gif",
new daum.maps.Size(40,41));B.DIRECTION_IMAGE={};B.DIRECTION_HOVER_IMAGE={};B.getDirectionImage=function(a){return B.DIRECTION_IMAGE[a]=B.DIRECTION_IMAGE[a]||new daum.maps.MarkerImage(B.IMGBASE+"icon/ico_mapbx_gray"+a+".png",new daum.maps.Size(a>=100?29:28,22),new daum.maps.Point(8,18))};B.getDirectionHoverImage=function(a){return B.DIRECTION_HOVER_IMAGE[a]=B.DIRECTION_HOVER_IMAGE[a]||new daum.maps.MarkerImage(B.IMGBASE+"icon/ico_mapbx_blue"+a+".png",new daum.maps.Size(a>=100?29:28,22),new daum.maps.Point(8,
18))};B.createDirectionNumber=function(a,b){if(a>0){var c=(a<10?"0":"")+a;return new sa(b,this.getDirectionImage(c),null,this.getDirectionHoverImage(c))}return new daum.maps.Marker({image:B.NULL_IMAGE,zIndex:-9,position:b,clickable:false})};B.STOP_MARKER_IMAGE=new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2011/image/btn_goalchange.png",new daum.maps.Size(22,23),new daum.maps.Point(9,9));B.createStop=function(a){return new daum.maps.Marker({image:B.STOP_MARKER_IMAGE,zIndex:2,
position:a,clickable:false})};B.STOP_REMOVE_MARKER_IMAGE=new daum.maps.MarkerImage("//i1.daumcdn.net/dmaps/apis/n_local_btn_17.png",new daum.maps.Size(16,15),new daum.maps.Point(-11,7));B.createStopRemover=function(a){return new daum.maps.Marker({image:B.STOP_REMOVE_MARKER_IMAGE,zIndex:3,position:a})};B.createCctv=function(a){var b=B.getCctvImage_(),c=B.getCctvImage_();return new he(a,b,c)};B.getCctvImage_=function(){return new daum.maps.MarkerImage(B.CCTV_IMG,new daum.maps.Size(22,26),new daum.maps.Point(11,
26))};B.GAS_STATION=new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2018/pc/img/oil_m.png",new daum.maps.Size(22,26),new daum.maps.Point(13,32));B.createGasStation=function(a){return new daum.maps.Marker({zIndex:2,position:a,clickable:true,image:B.GAS_STATION})};B.REST_AREA=new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2018/pc/img/rest_m.png",new daum.maps.Size(22,26),new daum.maps.Point(13,32));B.createRestArea=function(a){return new daum.maps.Marker({zIndex:2,
position:a,clickable:true,image:B.REST_AREA})};B.COURSE_START_END=new daum.maps.MarkerImage(B.IMGBASE+"icon/point_road.png",new daum.maps.Size(15,15),new daum.maps.Point(8,8));B.createCourseStartEnd=function(a){return new daum.maps.Marker({zIndex:-1,position:a,clickable:false,image:B.COURSE_START_END})};B.issuePlace=function(){var a=new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2018/img/exsearch-ico-blue8_hover.png",new daum.maps.Size(10,10),{offset:new daum.maps.Point(5,5),
spriteSize:new daum.maps.Size(8,8),spriteOrigin:new daum.maps.Point(-1,-1)});return new daum.maps.Marker({position:null,image:a,clickable:true})};B.fakeMarker=function(a){return new daum.maps.Marker({position:a,clickable:false})};B.getWalkGroupDirectionHoverImage=function(a){return new daum.maps.MarkerImage(B.IMGBASE+"icon/ico_mapbx_blue"+a+".png",new daum.maps.Size(a>=100?29:28,22),new daum.maps.Point(8,18))};B.walkpointGroupMarker=function(a,b){return new daum.maps.Billboard({position:a,clickable:true,
content:b})};B.getFavoriteMarkerImage=function(){return new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2016/map/ico_starmarker.png",new daum.maps.Size(20,20),new daum.maps.Point(9,11))};B.transitWalkMarker=function(a){return new daum.maps.Marker({position:a,clickable:true,zIndex:4,image:B.getTransitWalkMarkerImage()})};B.localPlatformMarker=function(a){return new daum.maps.Marker({zIndex:a=="GLOBAL"?3:2,clickable:true,image:new daum.maps.MarkerImage(a=="GLOBAL"?"//t1.daumcdn.net/localimg/localimages/07/2012/img/ad_marker2.png":
"//t1.daumcdn.net/localimg/localimages/07/2012/img/ad_marker1.png",new daum.maps.Size(35,41),new daum.maps.Point(14,41))})};var Ae={subway_1:[0,0],subway_2:[0,30],subway_3:[0,60],subway_4:[0,90],subway_5:[0,120],subway_6:[0,150],subway_7:[0,180],subway_8:[0,210],subway_9:[0,240],subway_s:[0,270],subway_g:[0,300],subway_k:[0,330],subway_ever:[0,360],subway_kk:[0,390],subway_minute:[0,420],subway_new:[0,450],subway_in1:[0,480],subway_in2:[0,510],subway_sh:[0,540],subway_i:[0,570],subway_ky:[0,600],
subway_j:[0,600],subway_ui:[0,630],subway_ml:[0,660],subway_jeo1:[0,30],subway_kwa1:[0,30],subway_dae1:[0,690],subway_dae2:[0,30],subway_dae3:[0,420],subway_bu1:[0,60],subway_bu2:[0,30],subway_bu3:[0,240],subway_bu4:[0,390],subway_bu10:[0,120],subway_dh:[0,0],KTX:[30,30],ITX:[30,60],SRT:[30,0],"\uc0c8\ub9c8\uc744":[30,90],"\ubb34\uad81\ud654":[30,120],"\ub204\ub9ac\ub85c":[30,150],"\ud1b5\uadfc":[30,180],"ITX\uc0c8\ub9c8\uc744":[30,60],DMZtrain:[30,210],BUS:[30,240],BUSTERMINAL:[30,270],INTERCITY_BUS:[30,
270],EXPRESS_BUS:[30,300],AIRPLANE:[30,330],AIRPORT:[30,330],PORT:[30,360],TAXI:[30,390],WALK:[30,450]};B.getTransitMarker=function(a,b){var c=B.getTransitMarkerImage(a),d=B.getTransitHoverMarkerImage(a);return new sa(b,c,c,d,4)};B.getTransitMarkerImage=function(a){(a=Ae[a])||(a=[30,420]);return new daum.maps.MarkerImage(B.LINE_ICON,new daum.maps.Size(20,20),{offset:new daum.maps.Point(10,10),spriteSize:new daum.maps.Size(50,710),spriteOrigin:new daum.maps.Point(a[0],a[1])})};B.transitWalkMarker=
function(a){return new daum.maps.Marker({position:a,clickable:true,zIndex:4,image:B.getTransitMarkerImage("WALK")})};B.getTransitHoverMarkerImage=function(a){(a=Ae[a])||(a=[30,420]);return new daum.maps.MarkerImage(B.LINE_ICON_OVER,new daum.maps.Size(20,20),{offset:new daum.maps.Point(10,10),spriteSize:new daum.maps.Size(50,710),spriteOrigin:new daum.maps.Point(a[0],a[1])})};B.createFavorite=function(a,b){var c=new daum.maps.Billboard({position:a,clickable:true,content:b,zIndex:4});c.getImage=function(){return{getOffset:function(){return{y:10}}}};
return c};B.createStatic=function(a,b){return B.create_(a,b==="HOME"?B.STATIC_HOME_IMG:B.STATIC_COMPANY_IMG,26,33,13,16,true,5)};oa.prototype.markers_=[];oa.prototype.add=function(a){console.assert(a.setMap);this.markers_.push(a);a.setMap(this.map_)};oa.prototype.clear=function(){this.hide();this.markers_.length=0};oa.prototype.clearAt=function(a){this.markers_[a].setMap(null);this.markers_[a]=null};oa.prototype.at=function(a){return this.markers_[a]};oa.prototype.hide=function(){this.markers_.forEach(function(a){a.setMap(null)})};
oa.prototype.show=function(){this.markers_.forEach(function(a){a.setMap(this.map_);a.getActive&&a.getActive()&&a.setActive(true)},this)};oa.prototype.setHover=function(a,b){var c=this.at(a);c&&c.setHover(b?true:false)};oa.prototype.setMarkerActive=function(a){if(a<0)this.activeMarker_&&this.activeMarker_.setActive(false);else{a=this.at(a);this.activeMarker_&&this.activeMarker_!=a&&this.activeMarker_.setActive(false);a.setActive(true);this.activeMarker_=a}};oa.prototype.isEmpty=function(){return!this.markers_||
!this.markers_.length};oa.prototype.getMarkerBounds=function(){var a=new daum.maps.CoordsBounds;this.markers_.forEach(function(b){a.extend(b.getPosition())},this);return a};oa.prototype.getMarkerActive=function(){return this.activeMarker_};wd.prototype.x=NaN;wd.prototype.y=NaN;wd.prototype.hitTest=function(a,b,c){return Math.abs(a-this.x)<=c&&Math.abs(b-this.y)<=c};define("map/MiniMapTypeControl",["map/Map"],H(function(a){function b(){var b=a.isRoadmap();c.toggleClass("roadmap-ACTIVE",b);d.toggleClass("skyview-ACTIVE",
!b)}var c=jQuery("#miniMapTypeControl\\.roadmap");c.click(function(){a.setMapTypeId(daum.maps.MapTypeId.ROADMAP)});var d=jQuery("#miniMapTypeControl\\.skyview");d.click(function(){a.setMapTypeId(daum.maps.MapTypeId.HYBRID)});b();daum.maps.event.addListener(a,"maptypeid_changed",b)}));"use strict";"use strict";Ea.BUSSTOP="BUSSTOP";Ea.PLACE="PLACE";Ea.THEME="THEME";Ea.CCTV="CCTV";Ea.DOT="DOT";Ea.AOILINE="AOILINE";define("map/MiniTooltipManager",["map/Map"],H(Ea));define("map/MiniZoomControl",["map/Map"],
H(function(a){jQuery("#miniZoomControl\\.zoomin").click(function(){a.setLevel(a.getLevel()-1)});jQuery("#miniZoomControl\\.zoomout").click(function(){a.setLevel(a.getLevel()+1)});jQuery("#miniZoomControl\\.reset").click(function(){a.setCenter(Application.roadviewController.walker_.getPosition());a.setLevel(3)})}));Ya.Polygon=function(a){if(!(this instanceof arguments.callee))return new arguments.callee(a);for(var b=Infinity,c=Infinity,d=-Infinity,e=-Infinity,f=a.length/2,g=Array(f),j=Array(f),h=0;h<
f;h++){g[h]=a[2*h];j[h]=a[2*h+1];b=Math.min(b,a[2*h]);d=Math.max(d,a[2*h]);c=Math.min(c,a[2*h+1]);e=Math.max(e,a[2*h+1])}var m=[b,c,d,e];this.isContain=function(a,b){var c=0;if(m[0]<=a&&m[2]>=a&&m[1]<=b&&m[3]>=b)for(var d=g.length,e=d-1,f=0;f<d;f++){if((j[f]<b&&j[e]>=b||j[e]<b&&j[f]>=b)&&(g[f]<=a||g[e]<=a))c=c^g[f]+(b-j[f])/(j[e]-j[f])*(g[e]-g[f])<a;e=f}return c}};Wb.showMarkerByZoom=function(a){var b=a.list,c=a.level,d=a.shapeChangeLevel,e=a.map,f=a.pickCountFunc,g=function(a){a instanceof Wb?a.setMap(e):
a.show()};b.forEach(function(a){if(a){a instanceof Wb?a.setMap(null):a.hide();c>=d?a.setVisibleNumber(false):a.setVisibleNumber(true)}});var a=b.length-2,f=f(c,a),j=Math.floor(a/f),h=[],m=0;if(f!==0)if(a===f)for(a=0;a<b.length;a++)b[a]&&g(b[a]);else{var k=0,n=a;if(b[0]===null){k=1;n=a-1}for(a=k;a<n;a++)if((a+1)%(j+1)==0){if(b[a]){g(b[a]);m++}}else h.push(a);var o=function(a,c){if(!(c<=0||a.length===0))if(c==1)g(b[a[Math.floor(a.length/2)]]);else{for(var d=a.length,e=Math.floor(d/c),f=[],j=0,h=0;h<
d&&j<c;h++)if(h%e===0){if(b[a[h]]){g(b[a[h]]);j++}}else f.push(a[h]);o(f,c-j)}};o(h,f-m)}};oc.trainColor={KTX:"#3448b3",ITX:"#7e349d",SRT:"#c80676","\uc0c8\ub9c8\uc744":"#3396ff","\ubb34\uad81\ud654":"#f75c4c","\ub204\ub9ac\ub85c":"#19b5fe","\ud1b5\uadfc":"#ae7c5b","ITX\uc0c8\ub9c8\uc744":"#7e349d",DMZtrain:"#e5a900"};oc.subwayColor={subway_1:"#3356b4",subway_2:"#3cb44a",subway_3:"#ff8939",subway_4:"#09b5ea",subway_5:"#924bdd",subway_6:"#b55e16",subway_7:"#727718",subway_8:"#ef4b96",subway_9:"#cea43a",
subway_k:"#33b5c8",subway_j:"#6dcccb",subway_ky:"#6dcccb",subway_minute:"#f2bf35",subway_g:"#44a9e7",subway_s:"#f3c01c",subway_new:"#ce3245",subway_i:"#feb768",subway_ever:"#8cc966",subway_bu1:"#ff8939",subway_bu2:"#3cb44a",subway_bu3:"#cea43a",subway_bu4:"#187ce8",subway_bu10:"#924bdd",subway_dae1:"#ee1132",subway_dae2:"#3cb44a",subway_dae3:"#f2bf35",subway_kwa1:"#3cb44a",subway_kwa2:"2\ud638\uc120",subway_jeo1:"#3cb44a",subway_ml:"#fa972e",subway_in1:"#83b5e1",subway_in2:"#ffa340",subway_kk:"#187ce8",
subway_dh:"#3356b4",subway_ui:"#d2ca29",subway_sh:"#85bf37"};ke.clickMarker=null;Jb.SUBTITLE_MAP={"0":"\uc548\ub0b4",5:"\uc0ac\uace0",a:"\uacf5\uc0ac",c:"\uc9d1\ud68c/\ud589\uc0ac"};Jb.ICON_MAP={"0":new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2018/pc/trafficinfo/info.png",new daum.maps.Size(24,21),new daum.maps.Point(12,10)),5:new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2018/pc/trafficinfo/accident.png",new daum.maps.Size(24,21),new daum.maps.Point(12,
10)),a:new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2018/pc/trafficinfo/construction.png",new daum.maps.Size(24,21),new daum.maps.Point(12,10)),c:new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2018/pc/trafficinfo/info.png",new daum.maps.Size(24,21),new daum.maps.Point(12,10))};Jb.findAll=function(a,b){require("server").accident(null,function(c){a.call(b,Jb.loadAll_(c))})};Jb.loadAll_=function(a){var b=a.find("accidents").map(function(a){return new Jb(a)});
b.timestamp=a.text("baseTime");return b};Ma.prototype.coords=new daum.maps.Coords(0,0);Ma.prototype.name="";Ma.prototype.oldname="";Ma.findWhatsHere=function(a,b,c){require("server").whatsHere({x:a.getX()|0,y:a.getY()|0},function(a){b.call(c,Ma.loadWhatsHere_(a))})};Ma.loadWhatsHere_=function(a){var b=a.text("name");if(b){var c=new Ma;c.coords=new daum.maps.Coords(a.number("x"),a.number("y"));c.name=b;return c}return null};Ma.getAoiModel=function(a){var b=new Ma,c=a.id,d=a.lineData.split("|"),e=d[0].split(","),
f=d[d.length-1].split(",");b.aoiPath=[d];b.startPoint=new daum.maps.Coords(e[0],e[1]);b.endPoint=new daum.maps.Coords(f[0],f[1]);b.centerPoint=a.coords;b.id=c;return b};define("model/Aoi",["map/Map"],function(a){function b(b,d,e){this.map_=a;this.searchResult=d;this.type=e;this.overlay=new oa(this.map_);this.id=b.id;this.aoiPath=b.aoiPath||[];this.startPoint=b.startPoint;this.endPoint=b.endPoint;this.markerPosition=this.centerPoint=b.centerPoint;this.parsedFullPath=this.coordsBounds=null;this.simplePathMap=
{};this.endMarker}b.prototype.getCoordsBounds=function(){var a=this.map_.getLevel();this.coordsBounds||this.calcBounds_(a);return this.coordsBounds};b.prototype.calcBounds_=function(){this.coordsBounds=new daum.maps.CoordsBounds;for(var a=this.parsedFullPath||this.parseAoiPath_(),b,e=a.length;e--;){b=a[e];for(var f=b.length;f--;)this.coordsBounds.extend(new daum.maps.Coords(b[f].getX(),b[f].getY()))}};b.prototype.isLineOverlayEmpty=function(){return this.overlay.isEmpty()};b.prototype.hideLineOverlay=
function(){this.overlay.hide()};b.prototype.clearLineOverlay=function(){this.overlay.clear()};b.prototype.resetMarkerPosition=function(){this.markerPosition=this.centerPoint};b.prototype.getVisibleMarkerPosition=function(){function a(b,d,e){var h=d+~~((e-d+1)/2),l=b[h],n=b[d],p=b[e],s=g.getX(),u=g.getY();return f.contain(l)?l:h==d||h==e?null:j(n.getX(),n.getY(),s,u)<j(s,u,p.getX(),p.getY())?a(b,d,h):a(b,h,e)}var b,e,f=this.map_.getBounds(),g=this.map_.getCenter(),j=this.getDistance_;if(f.intersects(this.getCoordsBounds())&&
!f.contain(this.markerPosition)){b=this.simplePathMap[this.map_.getLevel()].sort(function(a,b){return a.length-b.length});for(var h=b.length;h--;){e=b[h];if(e=a(e,0,e.length-1))return this.markerPosition=e}}return this.markerPosition};b.prototype.parseAoiPath_=function(){var a,b;this.parsedFullPath=[];for(var e=0,f=this.aoiPath.length;e<f;e++){b=this.aoiPath[e];for(var g=0,j=b.length;g<j;g++){a=b[g].split(",");b[g]=new daum.maps.Coords(a[0],a[1])}this.parsedFullPath.push(b)}return this.aoiPath=this.parsedFullPath};
b.prototype.getSimplePaths=function(a){var b=[];this.parsedFullPath||this.parseAoiPath_();if(!this.simplePathMap[a]){b=a<5?this.parsedFullPath:this.simplify_(a);this.simplePathMap[a]=b}return this.simplePathMap[a]};b.prototype.getDistance_=function(a,b,e,f){return Math.sqrt(Math.pow(a-e,2)+Math.pow(b-f,2))};b.prototype.simplify_=function(a){var b=[],e=(1<<a>>1)*5,f=this.getDistance_;this.aoiPath.forEach(function(a){var c=[],h=a[0],m,k,n;c.push(h);for(var o=1,r=a.length-1;o<r;o++){m=a[o];k=m.getX();
n=m.getY();k=f(k,n,h.getX(),h.getY());if(k>e){c.push(m);h=m}}c.push(a[a.length-1]);b.push(c)});return b};return b});ib.fetchByBCode=function(a,b){require("server").getBcodeShape({bcode:a,code:a},function(a){b(new ib(a))})};ib.fetchByHCode=function(a,b){require("server").getHcodeShape({hcode:a,code:a},function(a){b(new ib(a))})};ib.fetchByCoords=function(a,b,c){require("server").getJibunShape({x:a,y:b},function(a){c(new ib(a,true))})};ib.fetchByCid=function(a,b){require("server").getRealestateShape({id:a},
function(a){b(new ib(a.object("polygons")))})};wa.ACTION_LIST={ENTER_CROSSWALK:[1,0],ENTER_DOUBLE_CROSSWALK:[1,0],ENTER_DOUBLE_BIKE_CROSSWALK:[1,0],ENTER_PEDESTRIAN_OVERPASS:[1,2],ENTER_STAIR:[1,1],ENTER_SUBWAY:[1,6],ENTER_UNDERGROUND:[1,3],ENTER_ELEVATOR:[1,4],ENTER_SUBWAY_ELEVATOR:[1,4],EXIT_SUBWAY_ELEVATOR:[1,4],ENTER_UNDERGROUND_BRIDGE:[1,5],ENTER_PEDESTRIAN_BRIDGE:[1,7],ENTER_STEPPING_STONE:[1,7],ENTER_ESCALATOR:[1,1],ENTER_BIKE_STAIR:[1,1],ENTER_BIKE_STAIR_ROAD_NORMAL:[1,1],ENTER_BIKE_STAIR_ROAD_WALK:[1,
1],ENTER_BIKE_STAIR_ROAD_CAR:[1,1],ENTER_BIKE_ELEVATOR:[1,4],ENTER_BIKE_ELEVATOR_ROAD_NORMAL:[1,4],ENTER_BIKE_ELEVATOR_ROAD_WALK:[1,4],ENTER_BIKE_ELEVATOR_ROAD_CAR:[1,4],ENTER_BIKE_UNDERGROUND_BRIDGE:[1,5],ENTER_BIKE_BRIDGE:[1,7],ENTER_BIKE_UPROAD:[0,9],ENTER_BIKE_TUNNEL:[2,5],ENTER_BIKE_ROAD_CROSS:[2,3],ENTER_BIKE_SLOPE:[2,4],ENTER_BIKE_SLOPE_ROAD_NORMAL:[2,4],ENTER_BIKE_SLOPE_ROAD_WALK:[2,4],ENTER_BIKE_SLOPE_ROAD_CAR:[2,4],ENTER_BIKE_UNDERGROUND:[0,10]};wa.STATE_LIST=["BIKE_CATEGORY_BIKE_NORMAL",
"BIKE_CATEGORY_BIKE_WALK","BIKE_CATEGORY_BIKE_CAR"];wa.ROTATIONCODE_LIST=["STRAIGHT","TURN_LEFT","TURN_RIGHT"];wa.GRADIENT_TEXT={DOWNHILL:"\ub0b4\ub9ac\ub9c9\uae38",UPHILL:"\uc624\ub974\ub9c9\uae38",UPS_AND_DOWNS:"\uc624\ub974\ub9c9\uae38, \ub0b4\ub9ac\ub9c9\uae38",DOWNS_AND_UPS:"\ub0b4\ub9ac\ub9c9\uae38, \uc624\ub974\ub9c9\uae38"};wa.CAUTION_TEXT={ENTER_BIKE_TUNNEL:"\uc790\uc804\uac70\ub97c \ud0c0\uae30\uc5d0 \uc801\ud569\ud558\uc9c0 \uc54a\uc740 \uad6c\uac04\uc774 \ud3ec\ud568\ub418\uc5b4 \uc788\uc73c\ub2c8 \uc548\uc804\uc5d0 \uc8fc\uc758\ud558\uc138\uc694.",
ENTER_BIKE_UNDERGROUND:"\uc790\uc804\uac70\ub97c \ud0c0\uae30\uc5d0 \uc801\ud569\ud558\uc9c0 \uc54a\uc740 \uad6c\uac04\uc774 \ud3ec\ud568\ub418\uc5b4 \uc788\uc73c\ub2c8 \uc548\uc804\uc5d0 \uc8fc\uc758\ud558\uc138\uc694.",ENTER_BIKE_UPROAD:"\uc790\uc804\uac70\ub97c \ud0c0\uae30\uc5d0 \uc801\ud569\ud558\uc9c0 \uc54a\uc740 \uad6c\uac04\uc774 \ud3ec\ud568\ub418\uc5b4 \uc788\uc73c\ub2c8 \uc548\uc804\uc5d0 \uc8fc\uc758\ud558\uc138\uc694.",ENTER_OPS_TOURISM:"\uc790\uc804\uac70 \ud1b5\ud589\uc774 \uc81c\ud55c \ub41c \ub3c4\ub85c\uac00 \ud3ec\ud568\ub418\uc5b4 \uc788\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4.",
ENTER_CROSSWALK:"\uc790\uc804\uac70 \uc804\uc6a9 \ud6a1\ub2e8\ubcf4\ub3c4\uac00 \uc5c6\uc744 \uc2dc, \uc790\uc804\uac70\uc5d0\uc11c \ub0b4\ub824 \ub04c\uace0 \ubcf4\ud589\ud558\uc138\uc694.",ENTER_DOUBLE_CROSSWALK:"\uc790\uc804\uac70 \uc804\uc6a9 \ud6a1\ub2e8\ubcf4\ub3c4\uac00 \uc5c6\uc744 \uc2dc, \uc790\uc804\uac70\uc5d0\uc11c \ub0b4\ub824 \ub04c\uace0 \ubcf4\ud589\ud558\uc138\uc694."};pc.RECOMMENDATION="RECOMMENDATION";pc.SHORTEST="SHORTEST";pc.NONE="NONE";pc.AVOID_STAIR="AVOID_STAIR";pc.load=function(a,
b){a.error="";a.resultErrorCode="";a.bounds=new daum.maps.CoordsBounds(new daum.maps.Coords(b.number("bound.left"),b.number("bound.bottom")),new daum.maps.Coords(b.number("bound.right"),b.number("bound.top")));a.time=b.number("time");a.distance=b.number("length");a.raw=b.obj_;var c=0;if(a.waypoints){var d=wa();d.seq="start";d.name=a.waypoints[0].name;d.summary=a.waypoints[0].name;d.coords=a.waypoints[0].coords;a.points.push(d)}var e=b.find("sections").length-1,f=a.sectionPoints=[],g=a.sectionPointTypes=
[];if(b.text("resultCode")=="OK")a.error=false;else{a.error=true;a.resultErrorCode=b.text("resultCode")}a.routeMode=b.text("routeMode");var j=0,h=0,m=0,k=0;b.find("sections").forEach(function(b,d){f[d]=[];g[d]=[];var n=[],p=b.find("guideList").length;b.find("guideList").forEach(function(b,e){var j=b.text("groupId");j=="-1"&&(j=null);if(j&&!n[j]){n[j]=yc();a.points.push(n[j])}var h=wa();h.seq=++c;h.coords=new daum.maps.Coords(b.number("x"),b.number("y"));if(b.has("subwayStation")){h.subway=b.text("subwayStation.subwayStationName");
if(b.has("subwayStation.exitNo"))h.subway=h.subway+(" "+b.text("subwayStation.exitNo")+"\ubc88\ucd9c\uad6c")}h.poi=b.text("poi.placeName");h.confirmid=b.text("poi.confirmId")||null;h.cross=b.text("crossName")||null;h.desc=b.text("guideMent");h.action=b.text("guideCode");h.categoryCode=b.text("categoryCode");h.rotationCode=b.text("rotationCode");h.gradientCode=b.text("link.gradientCode");h.path=b.text("link.points").split("|").map(function(a){a=a.split(",");return new daum.maps.Coords(a[0],a[1])});
if(b.has("roadView")){var k=new ab;k.panoId=b.text("roadView.panoid");k.pan=b.number("roadView.pan");k.coords=new daum.maps.Coords(b.number("roadView.x"),b.number("roadView.y"));k.thumbnail="http://va.maps.daum-img.net/suggest"+b.text("roadView.filename");h.roadview=k;a.hasRoadviewInfo=true}if(j){n[j].start=n[j].start||h.getSummary();n[j].end=h.getSummary()||n[j].end;n[j].time=n[j].time+b.number("link.time");n[j].distance=n[j].distance+b.number("link.length");n[j].points.push(h)}else a.points.push(h);
if(h.path.length-1){f[d]=f[d].concat(h.path);var l=/^BIKE_CATEGORY_BIKE_/.test(h.categoryCode)?"BIKE":"NONE",k=h.path.map(function(){return l});g[d]=g[d].concat(k)}if(e==p-1&&a.waypoints){k=a.waypoints[d+1].name;if(!j)h.desc="["+k+"] \ub3c4\ucc29"}});j=j+(b.number("calories")||0);h=h+(b.number("facilities.bridge")||0);m=m+(b.number("facilities.underground")||0);k=k+(b.number("facilities.stair")||0);if(d<e&&a.waypoints){var v=a.waypoints[d+1],u=wa();u.name=v.name;u.summary=v.name;u.coords=v.coords;
u.roadview=null;u.desc=u.action=u.rotationCode="";u.seq="through";a.points.push(u)}});a.graph={distance:b.number("gradientChart.distance"),offset:b.number("gradientChart.offset"),points:b.text("gradientChart.points").split("|").map(function(a){var b=a.split(","),a=parseFloat(b[0]),b=parseFloat(b[1]);return{x:a,y:b}}),info:{min:String.formatNumber(Math.round(b.number("gradientChart.minHeight"))),max:String.formatNumber(Math.round(b.number("gradientChart.maxHeight"))),minKey:b.number("gradientChart.minHeightIndex"),
maxKey:b.number("gradientChart.maxHeightIndex")}};a.graph.info.minValue=a.graph.points[a.graph.info.minKey].y;a.graph.info.maxValue=a.graph.points[a.graph.info.maxKey].y;a.calories=String.formatNumber(j);a.bridge=h;a.underground=m;a.stair=k;if(a.waypoints){var d=a.waypoints.length-1,n=wa();n.seq="goal";n.name=a.waypoints[d].name;n.summary=a.waypoints[d].name;n.coords=a.waypoints[d].coords;a.points.push(n)}a.points.some(function(){});return a};Kb.getModeLineColor=function(a){var b="#7abbff";switch(a){case "SHORTEST":b=
"#7abbff";break;case "BIKE_ONLY":b="#7abbff";break;case "ACCESSIBLE":b="#7abbff"}return b};Kb.getModeOutLineColor=function(a){var b="#54a8ff";switch(a){case "SHORTEST":b="#54a8ff";break;case "BIKE_ONLY":b="#54a8ff";break;case "ACCESSIBLE":b="#54a8ff"}return b};Kb.getModeText=function(a){var b=null;switch(a){case "SHORTEST":b="\ucd5c\ub2e8\uac70\ub9ac";break;case "BIKE_ONLY":b="\uc790\uc804\uac70\uc804\uc6a9";break;case "ACCESSIBLE":b="\ud3b8\uc548\ud55c\uae38"}return b+" \uacbd\ub85c"};Kb.find=function(a,
b){var c={u2X:[],u2Y:[]},d=a.length-1,e=a[0],f=a[d];if(a.length>=2&&e.coords&&f.coords){for(var f=e.coords,g=false,j=1;j<a.length;j++)if(f.getX()===a[j].coords.getX()&&f.getY()===a[j].coords.getY()||e.id&&a[j].id&&e.id==a[j].id)g=true;else{g=false;break}if(g){e=Kb();e.waypoints=a;e.error=true;e.resultErrorCode="SAME_POINT";b(e);return}}var h="";a.forEach(function(a,b){var e=a.coords;if(b!=0&&b!=d&&b!=1){c.u2X.push(e.getX()|0);c.u2Y.push(e.getY()|0)}else{var f=b==0?"s":b==d?"e":"p";c[f+"Name"]=a.name;
c[f+"X"]=e.getX()|0;c[f+"Y"]=e.getY()|0}h=h+((a.id?a.id:"")+(b!=d?",":""))});c.ids=h;require("server").bikeSetRoute(c,function(c){var d=Kb();d.waypoints=a;Kb.load(d,c);b(d)})};Kb.load=function(a,b){a.error="";a.resultErrorCode="";a.bounds=new daum.maps.CoordsBounds(new daum.maps.Coords(b.number("bound.left"),b.number("bound.bottom")),new daum.maps.Coords(b.number("bound.right"),b.number("bound.top")));a.raw=b.obj_;if(b.text("resultCode")=="OK"){a.error=false;var c=b.find("directions").map(function(b){var c=
pc();c.waypoints=a.waypoints;return pc.load(c,b)});a.bikeRoutes=c.filter(function(a){return!a.error})}else{a.error=true;a.resultErrorCode=b.text("resultCode")}};Rc.find=function(a,b,c,d){require("server").busLineStop({busstopid:a,busline:b},function(a){c.call(d,Rc.createFromData(a))})};Rc.createFromData=function(a){var b=null,c=a.text("realtimeState"),d=a.object("arrival");if(d){b=new Rc;b.stateArray=[{status:d.text("collectStatus"),state:d.number("vehicleState"),time:d.number("arrivalTime"),message:""}];
if(d.has("vehicleState2")){b.stateArray.push({status:d.text("collectStatus2"),state:d.number("vehicleState2"),time:d.number("arrivalTime2"),message:""});b.stateOnly=false}else b.stateOnly=true;for(var e=0;e<b.stateArray.length;e++){var f=b.stateArray[e],g="";if(c=="CP_ERROR")g=a.text("hname").split(" ")[0]+" \ubc84\uc2a4 \uc7a5\uc560";else if(c=="ERROR")g="\uc810\uac80\uc911";else if(f.state==-3)g="\uc810\uac80\uc911";else if(f.state==1001)g="\uc815\ubcf4\uc5c6\uc74c";else if(f.state==-2)g="\uc6b4\ud589\uc885\ub8cc";
else if(f.state==-1)g="\ucc28\ub7c9\ub300\uae30";else if(f.state==10)g="\ud68c\ucc28\ub300\uae30\uc9c0\uc5f0";else if(f.state==1002)g="\uace7\ub3c4\ucc29";else if(f.state==1003)g="\uc6b0\ud68c\uc6b4\ud589\uc911";else{g="\uc815\uc0c1\uc6b4\ud589";f.time<60&&(g="\uc815\ubcf4\uc5c6\uc74c")}f.message=g}if(b.stateArray.length==2&&b.stateArray[0].message!="\uc815\uc0c1\uc6b4\ud589"&&(b.stateArray[0].message==b.stateArray[1].message||b.stateArray[1].message=="\uc815\ubcf4\uc5c6\uc74c"))b.stateOnly=true;
b.direction=d.text("direction");b.direction2=d.text("direction2");b.busStopCount=d.number("busStopCount");b.busStopCount2=d.number("busStopCount2")}return b};fd.dayTypes={1:"\ud3c9\uc77c",2:"\ud1a0\uc694\uc77c",3:"\ud734\uc77c",4:"\uc8fc\ub9d0"};U.TYPE={"0101":"blue",BLUE:"blue","0102":"green",GREEN:"green","0103":"red",RED:"red","0104":"yellow",YELLOW:"yellow","0109":"ma",MAUL:"ma","0106":"general",GENERAL:"general","0107":"sit",SEAT:"sit","0110":"direct",DIRECT:"direct","0108":"express",EXPRESS:"express",
"0105":"air",AIRPORT:"air","0111":"external",OUTER:"external","0112":"intercity",INTERCITY:"intercity","0113":"rural",RURAL:"rural"};U.STRING={blue:"\uac04\uc120",green:"\uc9c0\uc120",red:"\uad11\uc5ed",yellow:"\uc21c\ud658",ma:"\ub9c8\uc744",general:"\uc77c\ubc18",sit:"\uc88c\uc11d",direct:"\uc9c1\ud589",express:"\uae09\ud589",air:"\uacf5\ud56d",external:"\uc678\uacfd",intercity:"\uc2dc\uc678",rural:"\ub18d\uc5b4\ucd0c"};U.PROVIDER_NAME={1:"\uc11c\uc6b8\uc2dc",2:"\ub300\uad6c\uc2dc",4:"\uccad\uc8fc\uc2dc",
5:"\uacbd\uae30\ub3c4",6:"\ubd80\uc0b0\uc2dc",7:"\uc81c\uc8fc\ub3c4",8:"\ucd98\ucc9c\uc2dc",9:"\uc778\ucc9c\uc2dc",10:"\ub300\uc804\uc2dc",11:"\uc6b8\uc0b0\uc2dc",12:"\uad11\uc8fc\uc2dc",13:"\ucc3d\uc6d0\uc2dc",14:"\uae40\ud574\uc2dc",15:"\ud3ec\ud56d\uc2dc",16:"\uacbd\uc0b0\uc2dc",17:"\uc5ec\uc218\uc2dc",19:"\uac70\uc81c\uc2dc",20:"\uc804\uc8fc\uc2dc",21:"\ucc9c\uc548\uc2dc",22:"\uc6d0\uc8fc\uc2dc",24:"\uc544\uc0b0\uc2dc",25:"\uc21c\ucc9c\uc2dc",30:"\ud1b5\uc601\uc2dc",31:"\uad11\uc591\uc2dc",59:"\uc138\uc885\uc2dc",
104:"\uc591\uc0b0\uc2dc",105:"\uc9c4\uc8fc\uc2dc",106:"\uacbd\uae30\ub3c4",18:"\uad70\uc0b0\uc2dc",29:"\uad6c\ubbf8\uc2dc",57:"\ubaa9\ud3ec\uc2dc",401:"\uacbd\uc8fc\uc2dc",267:"\uc591\uc591\uad70",262:"\ucca0\uc6d0\uad70",253:"\ub3d9\ud574\uc2dc",252:"\uac15\ub989\uc2dc",266:"\uace0\uc131\uad70",257:"\ud64d\ucc9c\uad70",263:"\ud654\ucc9c\uad70",265:"\uc778\uc81c\uad70",261:"\uc815\uc120\uad70",260:"\ud3c9\ucc3d\uad70",256:"\uc0bc\ucc99\uc2dc",255:"\uc18d\ucd08\uc2dc",254:"\ud0dc\ubc31\uc2dc",264:"\uc591\uad6c\uad70",
259:"\uc601\uc6d4\uad70",336:"\uac15\uc9c4\uad70"};U.prototype.addPath=function(a){a=a.split(",");this.linePath_=[];for(var b=0;b<a.length;b++){var c=a[b].split(" ");c&&this.linePath_.push(new daum.maps.Coords(c[0],c[1]))}};U.prototype.addBusStop=function(a){a.forEach(function(a){this.busStops.push(new ga(a))},this)};U.findAll=function(a,b,c,d,e){a={q:a,spage:b};if(c.regionName)a.g_name=c.regionName;else{if(c.regionId)a.region_id1=c.regionId;if(c.typeId)a.bus_type_id=c.typeId;if(c.qaType)a.qa_type=
c.qaType}require("server").searchBus(a,function(a){d.call(e,U.loadAll_(a))})};U.loadAll_=function(a){var b=a.find("List").map(function(a){return new U(a)}),c=a.find("GroupList").map(function(a){return{name:a.text("name"),id:a.text("id")}});c.splice(0,0,{name:"\uc804\uccb4\uc9c0\uc5ed",id:null});var d=a.find("GroupListBusType").map(function(a){return{name:a.text("name"),id:a.text("id")}});d.splice(0,0,{name:"\uc804\uccb4\uc720\ud615",id:null});var e=a.text("current_guide.qa_type")||"",f=a.text("query"),
g={keyword:a.text("current_guide.keyword_std")||"",qaType:a.text("current_guide.qa_type")||"",guideType:a.text("current_guide.guide_type")||"",area1:a.text("current_guide.area_std1")||"",area2:a.text("current_guide.area_std2")||"",samearea1:a.find("current_guide.samearea1").map(function(a){return a.text("value")})||[],samearea2:a.find("current_guide.samearea2").map(function(a){return a.text("value")})||[]},j={keyword:a.text("next_guide.keyword_std")||"",qaType:a.text("next_guide.qa_type")||"",guideType:a.text("next_guide.guide_type")||
"",area1:a.text("next_guide.area_std1")||"",area2:a.text("next_guide.area_std2")||"",samearea1:a.find("next_guide.samearea1").map(function(a){return a.text("value")})||[],samearea2:a.find("next_guide.samearea2").map(function(a){return a.text("value")})||[]};return{count:a.number("total_count"),pageCount:a.number("page_count"),buses:b,regions:c,types:d,qaType:e,originalKeyword:f,currentGuide:g,nextGuide:j}};U.findOne=function(a,b,c,d){a={q:a,bus_srcid:b};require("server").searchBus(a,function(a){c.call(d,
U.loadAll_(a))})};U.findAllInRegion=function(a,b,c,d){require("server").busStopsInBounds({hcode:a,page:b},function(a){c.call(d,U.loadAllInRegion_(a))})};U.loadAllInRegion_=function(a){return U.loadInBounds_(a)};U.findInBounds=function(a,b,c,d){var e=a.getSouthWest(),a=a.getNorthEast();require("server").busLinesInBounds({rect:(e.getX()|0)+","+(e.getY()|0)+","+(a.getX()|0)+","+(a.getY()|0),page:b},function(a){c.call(d,U.loadInBounds_(a))})};U.loadInBounds_=function(a){var b=a.find("buses").map(function(a){return new U(a)});
return{count:a.number("total"),buses:b}};U.findBusLine=function(a,b,c){require("server").busInfo(a,function(d){if(d.text("value")!="error"){d=new U(d);d.id=d.id||a;b.call(c,d)}else alert("\ub370\uc774\ud130\ub97c \ubd88\ub7ec\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.")})};U.prototype.loadVehicles_=function(a){return a.map(function(a){var c=new qc;c.status=a.text("collectStatus");c.number=a.text("vehicleNumber");c.position=a.number("sectionOrder")-2+Math.min(1,a.number("sectionOffsetDist")/Math.max(a.number("sectionDist"),
1)||0);c.first=a.bool("firsttVehicle");c.last=a.bool("lastVehicle");c.type=a.number("vehicleType");return c})};U.prototype.loadBusDetailInfo_=function(a){return new fd(a)};qc.TYPE_LOW=1;qc.TYPE_BENDY=2;qc.TYPE_SECOND_FLOOR=3;ga.prototype.id="";ga.prototype.coords=new daum.maps.Coords(0,0);ga.prototype.name="";ga.prototype.region="";ga.prototype.hitTest=function(a,b){var c=3<<b;return Math.abs(a.getX()-this.coords.getX())<c&&Math.abs(a.getY()-this.coords.getY())<c};ga.prototype.load_=function(a){this.rawData=
a;this.id=a.text("masterId")||a.text("id")||a.text("code")||a.text("DOCID");this.coords=new daum.maps.Coords(a.number("wx")||a.number("x"),a.number("wy")||a.number("y"));this.name=String.stripTags(a.text("name")||a.text("BUSSTOP_NAME"));this.hname=String.stripTags(a.text("hname1")+" "+a.text("hname2")+" "+a.text("hname3"));this.codenames=[];if(a.find("readableItsIdList").length>0)this.codenames=a.find("readableItsIdList").map(function(a){return a.text("value").trim()},this);else if(a.text("readableItsId"))this.codenames[0]=
a.text("readableItsId");else if(a.text("STOP_ID"))this.codenames=a.text("STOP_ID").split(",");this.codenames=this.codenames.reduce(function(a,c){c=c.replace(/\([\W\w]*\)/,"").replace(/-/g,"").trim();a.indexOf(c)===-1&&a.push(c);return a},[]);this.turningPoint=Boolean(a.number("turningPoint"));this.virtual=Boolean(a.number("virtual"));this.region=a.text("RGN_D1_NAME");this.region1=a.text("RGN_D2_NAME");this.region2=a.text("RGN_D3_NAME");this.lines=a.find("lines").map(function(a){return new U(a,this.codenames)},
this);this.roadview=ab.create(a)||ab.createWithText(a.text("roadview"));if(!this.roadview&&a.object("roadView"))this.roadview=ab.create(a.object("roadView"));this.types=a.text("STOP_BUS_TYPE").split("|").map(function(a){return U.TYPE[a]}).filter(Boolean);this.direction=a.text("direction")||null;this.realTime=a.text("realTime")=="true"||false;this.nextLinkSpeed=a.number("nextLinkSpeed")||0;this.order=a.number("order")||0};ga.find=function(a,b,c){require("server").busStop(a,function(a){b.call(c,ga.load_(a))})};
ga.findTransitBusStop=function(a,b,c,d){require("server").transitBusStop({busstopid:a,buslines:b.join(",")},function(a){c.call(d,ga.load_(a))})};ga.load_=function(a){return new ga(a)};ga.findAllByName=function(a,b,c,d,e){a={spage:b,q:a};if(c.regionName)a.g_name=c.regionName;else{if(c.regionId)a.region_id1=c.regionId;if(c.typeId)a.bus_type_id=c.typeId;if(c.qaType)a.qa_type=c.qaType}require("server").searchBusStop(a,function(a){var b=a.find("List").map(function(a){var b=new ga;b.load_(a);return b}),
c=a.find("GroupList").map(function(a){return{name:a.text("name"),id:a.text("id")}});c.splice(0,0,{name:"\uc804\uccb4\uc9c0\uc5ed",id:null});var h=a.find("GroupListBusType").map(function(a){return{name:a.text("name"),id:a.text("id")}});h.splice(0,0,{name:"\uc804\uccb4\uc720\ud615",id:null});var m=a.text("current_guide.qa_type")||"",k=a.text("query"),n={keyword:a.text("current_guide.keyword_std")||"",qaType:a.text("current_guide.qa_type")||"",guideType:a.text("current_guide.guide_type")||"",area1:a.text("current_guide.area_std1")||
"",area2:a.text("current_guide.area_std2")||"",samearea1:a.find("current_guide.samearea1").map(function(a){return a.text("value")})||[],samearea2:a.find("current_guide.samearea2").map(function(a){return a.text("value")})||[]},o={keyword:a.text("next_guide.keyword_std")||"",qaType:a.text("next_guide.qa_type")||"",guideType:a.text("next_guide.guide_type")||"",area1:a.text("next_guide.area_std1")||"",area2:a.text("next_guide.area_std2")||"",samearea1:a.find("next_guide.samearea1").map(function(a){return a.text("value")})||
[],samearea2:a.find("next_guide.samearea2").map(function(a){return a.text("value")})||[]};d.call(e,{count:a.number("total_count"),pageCount:a.number("page_count"),busStops:b,regions:c,types:h,qaType:m,originalKeyword:k,currentGuide:n,nextGuide:o})})};me.prototype.getBusStops=function(a){var b=["blue","green","red","yellow","air","general","sit","express","ma","direct","external","intercity","rural"];require("server").busStopGroup(this.id,function(c){a(c.find("value").map(function(a){var c=new ga;
c.id=a.text("id");c.name=a.text("name");c.coords=this.coords;c.codenames=a.find("readableItsIdList").map(function(a){return a.text("value")});c.codenames=c.codenames.reduce(function(a,b){b=b.replace(/\([\W\w]*\)/,"").replace(/-/g,"").trim();a.indexOf(b)===-1&&a.push(b);return a},[]);c.types=[];for(var f=0;f<13;++f)a.number("type2")&1<<f&&c.types.push(b[f]);return c},this))}.bind(this))};Va.prototype.load_=function(a){if(this.error=a.text("success")!="true"){this.resultCode=a.text("resultCode");return this}this.resultCode=
"";this.raw=a.obj_;this.source=a.text("source");var b=this.outlines.pop();this.outlines=a.find("outlines").map(function(a){return a.text("value")});this.outlines.push(b);this.distance=a.number("totalLength");this.lenthOnRoad=a.number("lenthOnRoad");this.time=a.number("expectedTime");this.taxiFare=a.number("expectedTaxiCost");this.toll=a.number("tollCost");b=a.find("tollFares");this.tollFares=[];for(var c=0;c<6;c++){var d=b[c];d&&d.number("value")?this.tollFares.push(d.number("value")):this.tollFares.push(0)}this.bounds=
new daum.maps.CoordsBounds(new daum.maps.Coords(a.number("bound.left"),a.number("bound.bottom")),new daum.maps.Coords(a.number("bound.right"),a.number("bound.top")));this.ferryNode=a.bool("ferryNode");b=a.find("nodes").map(L.create);this.hasRoadviewInfo=b.some(function(a){return!!a.roadview});this.checkpoints=b;var e=Application.flagSearchController.getWaypoints(),f=0;this.checkpoints.forEach(function(a){if(a.seq==L.VIA||a.seq==L.START||a.seq==L.END){if(e[f].pointType!=="BUSSTOP")a.confirmid=e[f].id;
f++}},this);var g=this.sectionPoints=[],j=[],h=0;sections=a.find("sections").forEach(function(a,b){++h;g[b]=[];var c=null;a.find("links").forEach(function(a){if(a.text("points")){var d=a.number("grade"),e=a.text("roadnum");if(d==1)if(c&&c.number==e){c.time=c.time+a.number("time");c.distance=c.distance+a.number("length");++c.count}else{c={name:a.text("name"),number:e,time:a.number("time"),distance:a.number("length"),start:h,count:1};j.push(c)}e=this.checkpoints[h];e.traffic=L.getTraffic(d,a.number("speed"));
this.raw.nodes[h].traffic=L.getTrafficText(e.traffic);d=a.text("points").split(",");e.points=d.map(function(a){a=a.split(" ");return new daum.maps.Coords(a[0],a[1])});if(a.has("hints"))for(var d=e.hints=[],a=a.text("hints"),f=0,m=a.length;f<m;++f)d[f]=a.charCodeAt(f)-48;g[b]=g[b].concat(e.points);++h}},this)},this);this.pointGroups=[];j.forEach(function(a){var b=this.pointGroups[a.start]=new Bc;b.name=a.name;b.number=a.number;b.time=a.time;b.distance=a.distance;b.count=a.count;b.item=this.checkpoints.slice(a.start,
a.start+a.count)},this);a.number("roadside.on")&&this.loadRoadside_(a);return this};Va.prototype.loadRoadside_=function(a){this.accidents=a.array("roadside.accident").map(function(a){return new Jb(a)});this.cctvs=a.array("roadside.cctv").map(function(a){return new Ib(a)});this.gasStations=a.array("roadside.gasStation").map(function(a){var c=new qa;c.id=a.number("confirmId");c.placename=a.text("placeName");c.coords=new daum.maps.Coords(a.number("x"),a.number("y"));return c});this.restAreas=a.array("roadside.restArea").map(function(a){var c=
new qa;c.id=a.number("confirmId");c.placename=a.text("placeName");c.coords=new daum.maps.Coords(a.number("x"),a.number("y"));return c})};Va.REALTIME="SHORTEST_REALTIME";Va.OPTIMAL="SHORTEST_TIME";Va.SHORTEST="SHORTEST_DIST";Va.prototype.method=Va.REALTIME;Va.OPTION_NONE="NONE";Va.OPTION_FREEWAY="FREEWAY";Va.OPTION_BIKE="BIKE";Va.prototype.option=Va.OPTION_NONE;Va.prototype.viaIndex=0;Va.find=function(a,b,c,d,e){var f=new Va;f.method=b;f.option=c;var g={carMode:b.toString(),carOption:c.toString(),
u2X:[],u2Y:[]},j=a.length-1,h="";a.forEach(function(a,b){var c=a.coords;if(b!=0&&b!=j&&b!=1){g.u2X.push(c.getX()|0);g.u2Y.push(c.getY()|0)}else{var d=b==0?"s":b==j?"e":"p";g[d+"Name"]=a.name;g[d+"X"]=c.getX()|0;g[d+"Y"]=c.getY()|0}h=h+((a.id?a.id:"")+(b!=j?",":""))});g.ids=h;f.outlines=[a[0].name,a[j].name];f.origin=a[0];f.dest=a[j];if(a.length==2&&f.origin.coords&&f.dest.coords){a=f.origin.coords;b=f.dest.coords;if(a.getX()==b.getX()&&a.getY()==b.getY()){f.error=true;f.resultCode="SAME_POINT";d.call(e,
f);return}}var m=Db();require("server").carRoute(g,function(a){m.dispose();d.call(e,f.load_(a))})};Va.createRoadviewParam=function(a){var b={},c=a.length-1,d="",e=[];a.forEach(function(a,g){var j=a.coords;if(g!=0&&g!=c){e.push(j.getX()|0);e.push(j.getY()|0)}else{var h=g==0?"s":"e";b[h+"Name"]=a.name;b[h+"X"]=j.getX()|0;b[h+"Y"]=j.getY()|0}d=d+((a.id?a.id:"")+(g!=c?",":""))});b.ids=d;if(e.length)b.mXY=e.join(",");return b};Va.showRoadviewVideo=function(a,b,c,d){a=Va.createRoadviewParam(a);jQuery.extend(a,
b||{});require("server").roadviewVideoView(a,function(a){c.call(d,a)},function(){c.call(d,new Wa)})};V.prototype.load_=function(a){if(this.error=a.text("resultSummaryCode")!="ROUTE_RESULT_SUCCESS"){this.resultCode=a.text("resultSummaryCode");return this}this.resultCode="";var b=this.origin,c=this.dest;this.carRoutes=a.find("list").map(function(a){var e=new Va;e.origin=b;e.dest=c;return e.load_(a)});return this};V.REALTIME="SHORTEST_REALTIME";V.OPTIMAL="SHORTEST_TIME";V.SHORTEST="SHORTEST_DIST";V.prototype.method=
V.REALTIME;V.OPTION_NONE="NONE";V.OPTION_FREEWAY="FREEWAY";V.OPTION_BIKE="BIKE";V.getSourceLineColor=function(a){var b="#3396ff";switch(a){case "daum":b="#3396ff";break;case "skp":b="#ff4122";break;case "mn":b="#00e005";break;case "kt":b="#ffd91d"}return b};V.getSourceOutLineColor=function(a){var b="#ffffff";switch(a){case "daum":b="#004997";break;case "skp":b="#7b1100";break;case "mn":b="#006b08";break;case "kt":b="#784900"}return b};V.getSourceText=function(a){var b=null;switch(a){case "daum":b=
"\uae40\uae30\uc0ac \uc9c0\ub3c4";break;case "skp":b="\ud2f0\ub9f5";break;case "mn":b="\ub9f5\ud53c";break;case "kt":b="\uc62c\ub808\ub0b4\ube44"}return b+" \uacbd\ub85c"};V.prototype.option=V.OPTION_NONE;V.prototype.viaIndex=0;V.find=function(a,b,c,d,e){var f=new V;f.method=b;f.option=c;var b={carMode:b.toString(),carOption:c.toString()},g=a.length-1,j="";a.forEach(function(a,b){var c=a.coords,d="pt";b===0?d="sp":b===g&&(d="ep");c=[c.getX()||"",c.getY()||"",a.name?encodeURIComponent(a.name):"",a.pointType||
"POINT",a.id||""];j=j+("&"+d+"="+c.join(","))});f.outlines=[a[0].name,a[g].name];f.origin=a[0];f.dest=a[g];if(a.length>=2&&f.origin.coords&&f.dest.coords){for(var c=f.origin.coords,h=false,m=1;m<a.length;m++)if(c.getX()===a[m].coords.getX()&&c.getY()===a[m].coords.getY()||f.origin.id&&a[m].id&&f.origin.id==a[m].id)h=true;else{h=false;break}if(h){f.error=true;f.resultCode="SAME_POINT";d.call(e,f);return}}var k=Db();require("server").carSetRoute({params:b,addParamData:j},function(a){k.dispose();d.call(e,
f.load_(a))})};Ib.prototype.testZoom=function(a){return a<=this.flag?true:false};Ib.ICON=new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2009/map/traffic/cctv.png",new daum.maps.Size(24,20));Ib.findAll=function(a,b,c){require("server").cctv(c,function(c){a.call(b,Ib.loadAll_(c))})};Ib.loadAll_=function(a){return a.find("value").map(function(a){return new Ib(a)})};Ib.SOURCE_HTML={road:'<p class="notice_top"><span class="source_mltm">\uad6d\ud1a0\uad50\ud1b5\ubd80 </span><span class="source_road">\ud55c\uad6d\ub3c4\ub85c\uacf5\uc0ac</span></p>',
seoul:'<p class="notice_top"><span class="source_seoul">\uc11c\uc6b8\uc2dc\uc124\uacf5\ub2e8</span></p>',mltm:'<p class="notice_top"><span class="source_mltm">\uad6d\ud1a0\uad50\ud1b5\ubd80</span></p>',UTIS:'<p class="notice_top"><span class="source_utis">\uacbd\ucc30\uccad(UTIS)</span></p>',mltm_pusan:'<p class="notice_top"><span class="source_mltm">\uad6d\ud1a0\uad50\ud1b5\ubd80 </span><span class="source_busan">\ubd80\uc0b0\uad11\uc5ed\uc2dc</span></p>',gyeonggi:'<p class="notice_top"><span class="source_gyeonggi">\uacbd\uae30\ub3c4\uad50\ud1b5\uc815\ubcf4\uc13c\ud130</span></p>',
jeju:'<p class="notice_top"><span class="source_jeju">\uc81c\uc8fc\uc790\uce58\uacbd\ucc30\ub2e8 \uad50\ud1b5\uc815\ubcf4\uc13c\ud130</span></p>',cheonan:'<p class="notice_top"><span class="source_cheonan">\ucc9c\uc548\uc2dc\uad50\ud1b5\uc815\ubcf4\uc13c\ud130</span></p>'};Ib.SOURCE_TEXT={road:"\uad6d\ud1a0\uad50\ud1b5\ubd80, \ud55c\uad6d\ub3c4\ub85c\uacf5\uc0ac",seoul:"\uc11c\uc6b8\uc2dc\uc124\uacf5\ub2e8",mltm:"\uad6d\ud1a0\uad50\ud1b5\ubd80",UTIS:"\uacbd\ucc30\uccad(UTIS)",mltm_pusan:"\uad6d\ud1a0\uad50\ud1b5\ubd80, \ubd80\uc0b0\uad11\uc5ed\uc2dc",
gyeonggi:"\uacbd\uae30\ub3c4\uad50\ud1b5\uc815\ubcf4\uc13c\ud130",jeju:"\uc81c\uc8fc\uc790\uce58\uacbd\ucc30\ub2e8 \uad50\ud1b5\uc815\ubcf4\uc13c\ud130",cheonan:"\ucc9c\uc548\uc2dc\uad50\ud1b5\uc815\ubcf4\uc13c\ud130"};L.STRAIGHT="a";L.LEFT="b";L.RIGHT="c";L.UTURN="d";L.TOPRIGHT="f";L.BOTTOMRIGHT="g";L.BOTTOMLEFT="h";L.TOPLEFT="i";L.GOHIGHWAY="j";L.GOHIGHWAYSIDE="e";L.GOUNDERPASS="k";L.GOUNDERPASSSIDE="l";L.HEAVY="heavy";L.MEDIUM="medium";L.MODERATE="moderate";L.LIGHT="light";L.NULL="null";L.START=
"start";L.END="goal";L.VIA="through";L.TG="tg";L.RESTAREA="restarea";L.TRAFFIC_TABLE=[[30,50,70],[20,30,50],[10,20,30]];L.getTable=function(a){return L.TRAFFIC_TABLE[a<=1?0:a<=4?1:2]};L.getTraffic=function(a,b){var c=L.getTable(a);return b<=0?L.NULL:b<=c[0]?L.HEAVY:b<=c[1]?L.MEDIUM:b<=c[2]?L.MODERATE:L.LIGHT};L.getTrafficText=function(a){switch(a){case L.HEAVY:return"\uc815\uccb4";case L.MEDIUM:return"\uc9c0\uccb4";case L.MODERATE:return"\uc11c\ud589";case L.LIGHT:return"\uc6d0\ud65c"}return""};L.ROTATION=
[null,L.STRAIGHT,L.LEFT,L.RIGHT,L.UTURN,L.BOTTOMLEFT,L.BOTTOMRIGHT,L.TOPRIGHT,L.TOPLEFT,L.GOHIGHWAY,L.GOHIGHWAYSIDE,L.GOUNDERPASS,L.GOUNDERPASSSIDE];L.TYPE={START:L.START,END:L.END,VIA:L.VIA};L.create=function(a){var b=new L;b.coords=new daum.maps.Coords(a.number("x"),a.number("y"));b.seq=L.TYPE[a.text("type")]||a.number("seq");b.name=a.text("name");b.distance=a.text("distance");b.info=a.text("info");if(a.has("roadView"))b.roadview=ab.create(a.object("roadView"));b.rotation=L.ROTATION[a.number("arrowCode")]||
L.STRAIGHT;b.restArea=a.number("guideCode")==35;b.tollgate=a.number("guideCode")==36;b.ferry=a.number("guideCode")==40;b.accList=a.array("accList");return b};L.prototype.isWaypoint=function(){return[L.START,L.END,L.VIA].indexOf(this.seq)>=0};Bc.prototype.number=0;Bc.prototype.name="";Bc.prototype.time=0;Bc.prototype.distance=0;Bc.prototype.count=1;xd.create=function(a){var a=a.split("^"),b=new xd;b.confirmid=a[0];b.name=a[1];return b};t.VIEW_ON_MAP_PRIFIX="view_on_map_";t.DEFAULT_COLOR_PRIFIX="favorite_color_";
t.DEFAULT_ICON="01";t.DEFAULT_COLOR="02";t.DISPLAY1="DISPLAY1";t.CREATE_AT="CREATE_AT";t.MAX_VIEW_ON_MAP_COUNT=10;t.FOLDER_TYPE={MY:"M",SUBSCRIBE:"S",THEME:"T"};t.ALLOW_UPDATE_FIELD_ARR=["display1","memo","color"];t.ALLOW_COLOR_TYPE="01 02 03 04 05 06 07 08".split(" ");t.COLOR_ICON_TYPE_LIST="point address place busstop busstopline subwaystation".split(" ");t.isSuccess=function(a){if(["NOT_AUTHORIZED","NO_KAKAO_LOGIN"].indexOf(a.text("status.code"))!==-1){alert("\ub85c\uadf8\uc544\uc6c3\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");
location.href=location.origin}return a.text("status.code")===t.RESULT_CODE.SUCCESS};t.deduplicationStatus=function(a){var b=[];a.find("statusList").forEach(function(a){b.indexOf(a.text("status"))===-1&&b.push(a.text("status"))});return b};t.getUserinfo=function(a,b){require("server").favoriteUser(null,function(c){a.call(b,c)})};t.setService=function(a,b){a&&require("server").favoriteSelect(a.toObject?a.toObject():a,b)};t.findFolder=function(a,b,c){if(!b.sort)b.sort=t.CREATE_AT;require("server").favoriteFolderList(b,
function(b){a.call(c,t.loadFolder_(b))})};t.loadFolder_=function(a){if(t.isSuccess(a)){var b={},c=a.object("ids")?a.object("ids").raw():{},d=-1,a=a.find("result")?a.find("result").map(function(a,b){var c=a.raw();c.folderId===0&&(d=b);if(c.title)c.title=c.title.replace(/\\n/g," ");return c}):[];Object.keys(c).forEach(function(a){b[a.toLowerCase()]=c[a]});c=void 0;if(d>-1){var e=0;Object.keys(b).forEach(function(a){Object.keys(b[a]).forEach(function(c){b[a][c].forEach(function(a){a.folderId===0&&e++})})});
a[d].favoriteCount=e;var f=a.splice(d,1)[0];a.unshift(f)}return{list:a,favIdMap:b}}return{status:a.text("status.code")}};t.findAll=function(a,b,c){if(!b.type)b.type=t.FOLDER_TYPE.MY;require("server").favoriteList(b,function(b){a.call(c,t.loadAll_(b))})};t.loadAll_=function(a){if(t.isSuccess(a)){var b=a.find("result").map(function(a){return new t(a)}),b=b.concat([]).filter(function(a){return t.allowType.indexOf(a.type)>-1}),c=null;if(a.object("ids")){var c={},d=a.object("ids").raw();Object.keys(d).forEach(function(a){c[a.toLowerCase()]=
d[a]});d=void 0}a=a.find("homeList").map(function(a){return new t(a)});return{list:b,favIdMap:c,homeList:a}}return{status:a.text("status.code")}};t.copy=function(a,b){if(a||a.seq){var c=a.seq;require("server").favoriteCopy(c,b)}};t.folderCUD=function(a,b,c){if(a||b){var d=null;switch(a){case "C":d=require("server").favoriteFolderAdd;break;case "U":d=require("server").favoriteFolderUpdate;break;case "D":d=require("server").favoriteFolderDelete}d&&d(b.toObject?b.toObject():b,c)}};t.favCUD=function(a,
b,c){if(b){var d=null;switch(a){case "C":d=require("server").favoriteAdd;break;case "U":d=require("server").favoriteUpdate;break;case "D":d=require("server").favoriteDelete}d&&d(b.toObject?b.toObject():b,c)}};t.addBusline=function(a,b){a&&require("server").favoriteAddBusline(a.toObject?a.toObject():a,b)};t.removeBusline=function(a,b){a&&require("server").favoriteDeleteBusline(a.toObject?a.toObject():a,b)};t.findHome=function(a){require("server").favoriteHomeList({},function(b){var c=null;t.isSuccess(b)&&
(c=b.find("homeList").map(function(a){return new t(a)}));a(c)})};t.findRouteKey=function(a,b){a&&require("server").favoriteRouteKey({display1:"text",route_form:a.route_form,type:a.type},b)};t.getFavDisplays=function(a,b){var c=["\uc74d","\uba74","\ub3d9","\ub85c","\uac00"],d,e,f=b.name||"",g="";switch(a){case "point":f=b.name||b.oldname;break;case "address":if(b.infowindowSubAddress)g=b.infowindowSubAddress.address;else if(b.otherName){d=b.otherName.split(" ").reverse();d.some(function(a){e=a.substr(a.length-
1,1);g=g?a+" "+g:a;if(c.indexOf(e)!==-1)return true})}break;case "place":if(b.newAddress)g=b.newAddress;if(b.address)if(g){d=b.address.split(" ");d.forEach(function(a){e=a.substr(a.length-1,1);c.indexOf(e)!==-1&&(g=g+(" ("+a+")"))})}else g=b.address;break;case "busstop":(d=b.hname.trim())||(d=b.region+" "+b.region1+" "+b.region2);g=d||"";break;case "busline":g=b.region;break;case "route_pubtrans":case "route_subway":if(typeof b=="object"){d=jQuery.extend([],b);b.length>2&&(d=[b[0],b[b.length-1]])}case "route_car":case "route_walk":case "route_bicycle":if(typeof b==
"object"){d||(d=b);f=d.map(function(a){return a.name}).join(" \u2192 ")}typeof b=="string"&&(f=b)}f={name:f};if(g)f.subtitle=g;return f};t.createFromFav=function(a){var b={require:["folderId","color","type","key","display1","display2","memo"],point:["x","y"],address:["x","y"],place:["x","y"],subwaystation:["x","y"],busstop:["its_id","buslines","x","y"],busline:["busline_type"],route_car:["route_form"],route_pubtrans:["route_form"],route_walk:["route_form"],route_bicycle:["route_form"],route_subway:["route_form"],
roadview:["pan","tilt","zoom","x","y"],storeview:["pan","tilt","zoom","spot_id","x","y"]},c={};b.require.forEach(function(b){a[b]!==void 0&&a[b]!==null&&(c[b]=a[b])});b[a.type].forEach(function(b){a[b]!==void 0&&(a[b]!==null&&a[b]!=="")&&(c[b]=b==="route_form"?JSON.stringify(a[b]):a[b])});return c};t.createFromPoint=function(a){var b=a.coords.getX()|0,c=a.coords.getY()|0,a=t.getFavDisplays("point",a);return{type:"point",key:b+"|"+c,display1:a.name,x:b,y:c}};t.createFromAddress=function(a){if(a.type==
"point")return t.createFromPoint(a);var b=t.getFavDisplays("address",a);return{type:"address",key:a.docid,display1:b.name,display2:b.subtitle,x:a.coords.getX()|0,y:a.coords.getY()|0}};t.createFromPlace=function(a){var b=t.getFavDisplays("place",a),b={type:"place",key:a.id,display1:b.name,display2:b.subtitle,x:a.coords.getX()|0,y:a.coords.getY()|0};if(a instanceof Xa||a.subway&&a.subway.id){b.type="subwaystation";b.key=a.subway?a.subway.id:a.id;if(a.lineName){b.display1=b.display1.replace(/\((.*)\)/g,
"");if(b.display1.substr(-1,1)!=="\uc5ed")b.display1=b.display1+"\uc5ed";b.display1=b.display1+(" "+a.lineName)}}return b};t.createFromBusStop=function(a){var b="";a.codenames[0]&&(b=a.codenames.join(","));var c=t.getFavDisplays("busstop",a);return{type:"busstop",key:a.id,display1:c.name,display2:c.subtitle,x:a.coords.getX()|0,y:a.coords.getY()|0,its_id:b}};t.createFromBusLine=function(a){var b=null,c;for(c in U.TYPE)if(U.TYPE.hasOwnProperty(c)&&U.TYPE[c]==a.type&&!jQuery.isNumeric(c)){b=c;break}c=
t.getFavDisplays("busline",a);return{type:"busline",key:a.id,display1:c.name,display2:c.subtitle,busline_type:b}};t.createFromBusStopAndBusLine=function(a,b){var c="";a.codenames[0]&&(c=a.codenames.join(","));var d=t.getFavDisplays("busstop",a);return{type:"busstopline",key:a.id,display1:d.name,display2:d.subtitle,x:a.coords.getX()|0,y:a.coords.getY()|0,its_id:c,buslines:b.id}};t.createCarFromWaypoints=function(a){var b=a.map(function(a){return t.getRouteData(a)}),a=t.getFavDisplays("route_car",a);
return{type:"route_car",display1:a.name,display2:a.subtitle,route_form:JSON.stringify(b)}};t.createTransitFromWaypoints=function(a){var b=a[a.length-1],c=[];c.push(t.getRouteData(a[0]));c.push(t.getRouteData(b));a=t.getFavDisplays("route_pubtrans",a);return{type:"route_pubtrans",display1:a.name,display2:a.subtitle,route_form:JSON.stringify(c)}};t.createWalkFromWaypoints=function(a){var b=a.map(function(a){return t.getRouteData(a)}),a=t.getFavDisplays("route_walk",a);return{type:"route_walk",display1:a.name,
display2:a.subtitle,route_form:JSON.stringify(b)}};t.createBikeFromWaypoints=function(a){var b=a.map(function(a){return t.getRouteData(a)}),a=t.getFavDisplays("route_bicycle",a);return{type:"route_bicycle",display1:a.name,display2:a.subtitle,route_form:JSON.stringify(b)}};t.createSubway=function(a,b){var c=[];c.push({name:a.name,key:a.id,x:a.coords.getX()||0,y:a.coords.getY()||0,poi_type:"SUBWAYSTATION"});c.push({name:b.name,key:b.id,x:b.coords.getX()||0,y:b.coords.getY()||0,poi_type:"SUBWAYSTATION"});
var d=t.getFavDisplays("route_subway",[a,b]);return{type:"route_subway",key:a.id+"|"+b.id,display1:d.name,display2:d.subtitle,route_form:JSON.stringify(c)}};t.getRouteData=function(a){return{name:a.name,x:a.coords.getX().toFixed(0),y:a.coords.getY().toFixed(0),poi_type:a.pointType=="NORMAL"?"POINT":a.pointType,key:a.id}};t.updateViewDataFromFav=function(a){var b=function(a){var b=a.display1.replace(/\s-\s/g," \u2192 ");if(a.route_form&&a.route_form.length>1){var e="";a.route_form.forEach(function(b,
d){e&&(e=e+" \u2192 ");e=e+b.name;if(d===0){b.iconClass="depart";b.iconName="\ucd9c\ubc1c"}else if(d===a.route_form.length-1){b.iconClass="arrive";b.iconName="\ub3c4\ucc29"}else{b.iconClass="stopby";b.iconName="\uacbd\uc720"}})}return b===e||b===a.originDisplay};jQuery.extend(a,t.VIEW_INFO[a.type]);a.isDisabled=["T","A"].indexOf(a.status)!==-1;a.isDesc=a.display2||a.memo;a.isColorIcon=t.COLOR_ICON_TYPE_LIST.indexOf(a.type)!==-1;a.isRouteInfo=false;a.isBusInfo=false;a.isBuslines=false;switch(a.type){case "busstop":a.isBuslines=
!!a.buslines;break;case "busline":a.isBusInfo=true;if(b=U.TYPE[a.busline_type]){a.isBusIcon=true;a.busIconClass=b;a.busIconName=U.STRING[b]}break;case "route_car":case "route_pubtrans":case "route_walk":case "route_bicycle":case "route_subway":if(b(a))a.isRouteInfo=true}if(a.isDisabled){a.typeClass="path";a.isColorIcon=false;a.typeName="\uc2e0\uace0\ub41c \uc990\uaca8\ucc3e\uae30"}};t.typeText={address:"\uc8fc\uc18c",busstopline:"\ubc84\uc2a4",busstop:"\ubc84\uc2a4\uc815\ub958\uc7a5",busline:"\ubc84\uc2a4\ub178\uc120",
place:"\uc7a5\uc18c",speed:"\uc18d\ub3c4\uc815\ubcf4",point:"\uc704\uce58\uc815\ubcf4",cctv:"CCTV",roadview:"\ub85c\ub4dc\ubdf0",route_car:"\uc790\ub3d9\ucc28",route_pubtrans:"\ub300\uc911\uad50\ud1b5",route_walk:"\ub3c4\ubcf4",route_bicycle:"\uc790\uc804\uac70",route_subway:"\uc9c0\ud558\ucca0"};t.RESULT_CODE={SUCCESS:"SUCCESS",PART_ITEM_FAIL:"PART_ITEM_FAIL",KAPI_FAIL:"KAPI_FAIL",INVALID_PARAMETER:"INVALID_PARAMETER",DUPLICATE_ITEM:"DUPLICATE_ITEM",NOT_EXIST_ITEM:"NOT_EXIST_ITEM",OVER_MAX_COUNT:"OVER_MAX_COUNT",
OVER_FAVORITE_MAX_COUNT:"OVER_FAVORITE_MAX_COUNT",INTERNAL_PROBLEM:"INTERNAL_PROBLEM",NO_DAUM_LOGIN:"NO_DAUM_LOGIN",REPORT_ITEM:"REPORT_ITEM"};t.ICON_MAP={"01":"star","02":"heart","03":"thunder","04":"check","05":"eye","06":"smile","07":"shine","08":"clover","09":"rect",10:"like",11:"fan",D:"trash",A:"caution",T:"caution",P:"private"};t.VIEW_MODE={FOLDER:"folder",DETAIL:"detail"};t.VIEW_INFO={place:{typeClass:"circle",typeName:"\uc7a5\uc18c"},address:{typeClass:"circle",typeName:"\uc8fc\uc18c"},point:{typeClass:"circle",
typeName:"\uc9c0\uc810"},subwaystation:{typeClass:"circle",typeName:"\uc9c0\ud558\ucca0\uc5ed"},roadview:{typeClass:"roadview",typeName:"\ub85c\ub4dc\ubdf0"},storeview:{typeClass:"storeview",typeName:"\uc2a4\ud1a0\uc5b4\ubdf0"},busstop:{typeClass:"circle",typeName:"\uc815\ub958\uc7a5"},busline:{typeClass:"bus",typeName:"\ubc84\uc2a4"},route_car:{typeClass:"car",typeName:"\uc790\ub3d9\ucc28 \uae38\ucc3e\uae30"},route_pubtrans:{typeClass:"public",typeName:"\ub300\uc911\uad50\ud1b5 \uae38\ucc3e\uae30"},
route_walk:{typeClass:"walk",typeName:"\ub3c4\ubcf4 \uae38\ucc3e\uae30"},route_bicycle:{typeClass:"bicycle",typeName:"\uc790\uc804\uac70 \uae38\ucc3e\uae30"},route_subway:{typeClass:"subway",typeName:"\uc9c0\ud558\ucca0 \uae38\ucc3e\uae30"}};t.allowType="point address place busstop busstopline busline subwaystation roadview storeview route_car route_pubtrans route_walk route_bicycle route_subway".split(" ");gb.create=function(){var a=new gb;a.waypoints.push(null);a.waypoints.push(null);return a};
gb.prototype.getValuableWaypoints=function(){return this.waypoints.filter(function(a){return a!=null},this)};gb.prototype.isOriginDest=function(){var a=this.waypoints.length-1;return this.waypoints[0]&&this.waypoints[a]?true:false};gb.prototype.setWaypoints=function(a){this.waypoints=a};gb.prototype.getViaCount=function(){return this.waypoints.slice(1,this.waypoints.length-1).filter(function(a){return a!=null},this).length};gb.prototype.addFirstEmptyViaWaypoint=function(a){for(var b=this.waypoints,
c=b.length-1,d=false,e=1;e<b.length-1;e++)if(b[e]==null){d=true;b[e]=a;break}d||this.waypoints.splice(c,0,a)};gb.prototype.isViaEmpty=function(){return!this.waypoints.every(function(a){return a!=null},this)};gb.prototype.addWaypoint=function(a,b){this.waypoints.splice(a,0,b)};gb.prototype.removeWaypoint=function(a){return this.waypoints.splice(a,1)[0]};gb.prototype.setWaypoint=function(a,b){this.waypoints[a]=b};gb.prototype.getLastIndex=function(){return this.waypoints.length-1};gb.prototype.getWaypoints=
function(){return this.waypoints.slice()};gb.prototype.isEmptyOriginDest=function(){return!this.waypoints[0]&&!this.waypoints.slice(-1)[0]};dd.prototype.get=function(a){return this.data_[a]};dd.prototype.set=function(a,b){var c=this;if(c.data_[a]!==b){c.data_[a]=b;c.listeners_.forEach(function(b){b[0]===a&&b[1].call(c)})}return c};dd.prototype.on=function(a,b){this.listeners_.push([a,b]);return this};wb.prototype.id=0;wb.SKE="SKE";wb.SKG="SKG";wb.GSC="GSC";wb.SOL="SOL";wb.HDO="HDO";wb.E1G="E1G";wb.NHO=
"NHO";wb.prototype.fetchFacilities=function(){require("server").placeById(this.id,function(a){this.loadFacilities(a);this.onLoad.notify()}.bind(this))};wb.prototype.loadFacilities=function(a){a=a.object("place.placeaddinfos.oil");this.facilities=[a.text("maint")=="Y"?"\uacbd\uc815\ube44":false,a.text("carwash")=="Y"?"\uc138\ucc28":false,a.text("store")=="Y"?"\ud3b8\uc758\uc810":false,a.text("gas")=="Y"?"\uac00\uc2a4\ucda9\uc804\uc18c":false,a.text("selfyn")=="Y"?"\uc140\ud504\uc8fc\uc720":false]};
gc.prototype.level=0;gc.prototype.index=0;zd.prototype.index=0;zd.prototype.loadAt_=function(a){this.name=a.text("title")||"";this.desc=a.text("description")||"";this.imgUrl=a.text("imgUrl")||null;this.coords=new daum.maps.Coords(a.text("wx"),a.text("wy"));this.linkUrl=a.text("linkUrl")};y.THEMEID=" storeview food     oil  hospital hotel  ".split(" ");y.prototype.clearResult_=function(a){this.loaded=a;this.guideMessage=null;this.premiumKeyword=this.message="";this.snSelected=false;this.themeId=0;
this.themeCategories.length=0;this.categories.length=0;this.categoryPath.length=0;this.categoryChildren.length=0;this.locationMessage="";this.placeAdCount=this.placeCount=this.places.length=0;this.reviewCount=this.reviews.length=0;this.originalKeyword=void 0;this.spellCandidate.length=0;this.homonyms.length=0;this.addressCount=this.addresses.length=0;this.highlightedFirst=false;this.busesCount=this.buses.length=0;this.busStopCount=this.busStops.length=0;this.busRegions.length=0;this.busTypes.length=
0;this.busTypeId_=this.busRegionId_=null;this.landmarks=[];this.whatsHere=this.whatsHere_;this.coordinates=null;this.coordinatesText="";this.inferredKeyword=void 0;this.gasType=this.sortType=this.eucKrKeyword="";this.filterId_=null;this.pageCount=0;this.tileSearch=false;this.trans_map_type=0;this.target=null;this.relkey="";this.isBuilding=this.isHighway=this.addressRetry=false;this.nextGuide=this.currentGuide=this.exposure_level=null;this.qaType_="";this.repeated_=false;this.busRecommend="";this.busRecommendTop=
false;this.dssSrcId=this.analysis=""};y.prototype.clear=function(){this.keyword_="";this.cidx_=null;this.clearSort();this.clearResult_(false);this.setInitialMode_()};y.prototype.setSearchBusStop=function(a){this.willSearchBusStop_=a};y.prototype.noExactSearch=function(){this.exactSearch_=false};y.prototype.setThemeId=function(a,b,c){this.mode_=y.THEME;this.themeId_=a;this.themeCategory=this.themeCategory_=b||0;this.keyword_=c||"";this.setPage(this.defaultPage_)};y.prototype.setIssue=function(a){this.kmlData_=
a;this.findIssueMap_()};y.THEME="theme";y.THEMEBUSSTOP="themebusstop";y.ALL="all";y.PLACE="place";y.ADDRESS="address";y.BUSES="buses";y.BUSSTOPS="busstops";y.BUSSTOP="busstop";y.BUS="bus";y.ISSUEMAP="issuemap";y.prototype.setThemeBusStopMode=function(){this.mode_=y.THEMEBUSSTOP;this.setPage(this.defaultPage_)};y.prototype.setInitialMode_=function(){this.mode_=null};y.prototype.setAllMode=function(){this.mode_=y.ALL;this.setPage(this.defaultPage_)};y.prototype.setPlaceMode=function(a){this.mode_=y.PLACE;
!a&&this.setPage(this.defaultPage_)};y.prototype.setAddressMode=function(a){this.mode_=y.ADDRESS;!a&&this.setPage(this.defaultPage_)};y.prototype.setBusMode=function(a){this.mode_=y.BUSES;!a&&this.setPage(this.defaultPage_)};y.prototype.setBusStopMode=function(a){this.mode_=y.BUSSTOPS;!a&&this.setPage(this.defaultPage_)};y.prototype.setBusStopMode=function(a){this.mode_=y.BUSSTOPS;!a&&this.setPage(this.defaultPage_)};y.prototype.getKeyword=function(){return this.keyword_};y.prototype.setKeyword=function(a,
b,c){this.whatsHere_=!!b;this.mode_=c||y.ALL;if(this.keyword_=a){this.sort_=this.defaultSort_|0;this.sort=this.defaultSort_|0;this.categoryDepth_=this.category_=this.defaultSort_=0;this.correction_=true;this.cidx_=this.defaultCidx_?this.cidx_:null;this.defaultCidx_=false;this.params_=this.isParams_?this.params_:null;this.isParams_=false;this.placeCount=0;this.setPage(this.defaultPage_)}};y.prototype.setWhatsHereKeyword=function(a){this.bounds_=null;if(a.name)this.setKeyword(a.name,a.coords);else{this.clearResult_(true);
this.coordinatesText="\ud574\ub2f9 \uc9c0\uc5ed\uc740 \uc8fc\uc18c\ub97c \ud655\uc778\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.";this.coordinates=a.coords;this.whatsHere_=true;this.onChange.notify()}};y.prototype.setPage=function(a){this.page_=a||1;this.page=a||1;this.defaultPage_=1;this.doRequest_()};y.prototype.setBusRegionId=function(a){this.busRegionId_=a};y.prototype.setBusTypeId=function(a){this.busTypeId_=a};y.prototype.getBusRegionId=function(){return this.busRegionId_};y.prototype.getBusTypeId=
function(){return this.busTypeId_};y.prototype.setRepeatFlag=function(a){this.repeated_=a};y.prototype.setLiteral=function(){this.cidx_=this.targetCidx_;this.getMode()==y.ALL?this.setAllMode():this.setPlaceMode()};y.prototype.setSnSelected=function(a,b){this.snSelected=true;this.keyword_=b;this.getMode()==y.ALL?this.setAllMode():this.setPlaceMode()};y.prototype.setSort=function(a){this.sort=this.sort_=a};y.prototype.clearSort=function(){this.sort=this.sort_=0};y.prototype.setBounds=function(a,b){console.assert(a===
null||a instanceof daum.maps.CoordsBounds);this.bounds_=a;if(!b){this.needCorrectSearch=false;this.saveIncorrectQuery=""}};y.prototype.hasBounds=function(){return this.bounds_!=null};y.prototype.doRequest_=function(){switch(this.mode_){case null:break;case y.THEME:this.findTheme_();break;case y.THEMEBUSSTOP:this.findThemeBusStop_();break;case y.ALL:this.findAll_();break;case y.ADDRESS:this.findAddresses_();break;case y.PLACE:this.findPlaces_();break;case y.BUSES:this.findBuses_();break;case y.BUSSTOPS:this.findBusStops_();
break;case y.BUSSTOP:this.findBusStop_();break;case y.ISSUEMAP:this.findIssueMap_();break;default:console.assert(false,"Invalid state: "+this.mode_)}this.mode_!=y.PLACE&&z.logSearchKeyword(this.keyword_)};y.prototype.findIssueMap_=function(){require("server").issue({kml:this.kmlData_},this.loadIssueMap.bind(this))};y.prototype.loadIssueMap=function(a){this.clearResult_(true);var b=1;a.find("issueInfo.items").forEach(function(a){this.places.push(new zd(b,a));b++},this);this.onIssue.notify()};y.prototype.findTheme_=
function(){var a=this.bounds_;if(a){var b={},c=y.THEMEID[this.themeId_];if(!c)c=this.themeId_;b.theme_id=c;if(this.themeId_==1)b.theme_type="stheme";if(this.themeCategory_)b.cateId=this.themeCategory_;if(this.pageSize_)b.pageSize=this.pageSize_;b.cpage=this.page_;c=a.getSouthWest();a=a.getNorthEast();b.rect=(c.getX()|0)+","+(c.getY()|0)+","+(a.getX()|0)+","+(a.getY()|0);if(this.sort_)b.sort=this.sort_|0;require("server").searchTheme(b,this.loadTheme_.bind(this))}};y.prototype.loadTheme_=function(a){this.clearResult_(true);
this.themeId=this.themeId_;var b=new Dc;b.id=0;b.name="\uc804\uccb4";b.themeId=this.themeId_;a.find("cateGroupList").forEach(function(a){a=new Dc(a);a.themeId=this.themeId_;if(a.themeId!=4){this.themeCategories.push(a);b.count=b.count+a.count}},this);b.count>0&&this.themeCategories.unshift(b);this.places=a.find("place").map(function(a,b){return new gc(0,b+1,a)});this.placeCount=a.number("place_totalcount");this.placeAdCount=0;this.pageCount=a.number("page_count");this.onChange.notify(null)};y.prototype.findThemeBusStop_=
function(){var a=this.bounds_;if(a){var b={type:"busStop",q:"xxx",theme_id:"busStop",spage:"1"},c=a.getSouthWest(),a=a.getNorthEast();b.rect=(c.getX()|0)+","+(c.getY()|0)+","+(a.getX()|0)+","+(a.getY()|0);if(this.sort_)b.sort=this.sort_|0;require("server").searchBusStopWithBounds(b,this.loadThemeBusStop_.bind(this))}};y.prototype.loadThemeBusStop_=function(a){this.clearResult_(true);this.busStops=a.find("List").map(function(a){return new ga(a)});this.busStopCount=a.number("total_count");this.onChange.notify(null)};
y.setBoundsParams=function(a,b){if(b){a.mcheck="Y";a.rect=(b.getSouthWest().getX()|0)+","+(b.getSouthWest().getY()|0)+","+(b.getNorthEast().getX()|0)+","+(b.getNorthEast().getY()|0)}};y.prototype.findAll_=function(){var a={q:this.keyword_,msFlag:"A"};y.setBoundsParams(a,this.bounds_);a.sort=this.sort_;if(this.willSearchBusStop_)a.gb="R";if(this.category_){a.cate_id=this.category_;if(this.categoryDepth_)a.cate_depth=this.categoryDepth_}if(!this.correction_)a.translate="N";if(this.filterId_)a.srcid=
this.filterId_;if(this.localCode_){a.local_code=this.localCode_;this.localCode_=void 0}if(this.cidx_)this.defaultSidx_?a.sidx=this.cidx_:a.cidx=this.cidx_;this.defaultSidx_=false;if(this.snSelected)a.sn_selected="y";if(location.host!="map.daum.net"&&A.isCurrentSearch==true){a.service="local";var b=Application.map.getCenter();a.center=b.getX()+","+b.getY();a.rcode=Application.localInfoController.getRegionId()}require("server").search(a,this.loadAll_.bind(this))};y.prototype.loadMessage_=function(a){this.guideMessage=
a.find("guide_message").map(function(a){return new yd(a)});this.premiumKeyword=a.text("premium_keyword");this.sn_query=a.text("sn_query");if(a.text("oil_yn")=="y"){this.sortType="gas";if(a.text("lpg_yn")=="y")this.gasType="lpg"}this.targetCidx_=a.text("sidx")||"";if(a.find("place").length==0&&a.find("premium").length==0&&!this.bounds_){var b=new yd;b.keyword=this.keyword_;this.guideMessage=[b];this.inferredKeyword=this.guideMessage[0]?this.guideMessage[0].keyword:""}else{if(a.find("guide_message").length==
0&&!this.bounds_){b=new yd;b.keyword=this.keyword_;b.bunji=a.text("sn_query");this.guideMessage=[b]}if(this.guideMessage[0]){this.inferredKeyword=this.guideMessage[0].keyword;this.sn_query=this.guideMessage[0].bunji}else this.inferredKeyword="";if(this.guideMessage[1])this.targetCidx_=this.guideMessage[1].cidx}};y.prototype.loadBusMessage_=function(a){this.currentGuide={keyword:a.text("current_guide.keyword_std")||"",qaType:a.text("current_guide.qa_type")||"",guideType:a.text("current_guide.guide_type")||
"",area1:a.text("current_guide.area_std1")||"",area2:a.text("current_guide.area_std2")||"",samearea1:a.find("current_guide.samearea1").map(function(a){return a.text("value")})||[],samearea2:a.find("current_guide.samearea2").map(function(a){return a.text("value")})||[]};this.nextGuide={keyword:a.text("next_guide.keyword_std")||"",qaType:a.text("next_guide.qa_type")||"",guideType:a.text("next_guide.guide_type")||"",area1:a.text("next_guide.area_std1")||"",area2:a.text("next_guide.area_std2")||"",samearea1:a.find("next_guide.samearea1").map(function(a){return a.text("value")})||
[],samearea2:a.find("next_guide.samearea2").map(function(a){return a.text("value")})||[]}};y.prototype.getInferredKeyword=function(){return this.inferredKeyword};y.prototype.loadCategories_=function(a){if(this.category_&&!this.bounds_){var b=[];a.text("cateLink")&&(b=a.text("cateLink").split("|").map(function(a,b){var e=new Cc;e.id=a.split(":")[0];e.depth=b+1;e.name=a.split(":")[1];return e}));this.categoryPath=b;a.find("cateGroupList").forEach(function(a){var b=new Cc;b.id=a.number("id");b.name=
a.text("name");b.id>0&&this.categoryChildren.push(b)},this)}};y.prototype.loadEucKrKeyword_=function(a){this.eucKrKeyword=a.text("encodedQ")};y.prototype.loadAll_=function(a){var b=Application.whatsHereController.getCache(this.keyword_),c;this.clearResult_(true);this.loadEucKrKeyword_(a);this.loadMessage_(a);this.isBuilding=a.text("building_yn")=="y";this.isHighway=a.text("highway_yn")=="y";c=["RESULT_JUNGDAP_SUGGEST","RESULT_SPELLER","RESULT_TRANSLATE_DIC"];var d=a.number("addr_count")+a.number("busStop_cnt")+
a.number("bus_cnt")+a.number("place_totalcount");if(a.text("point.y")){var e=a.text("point.y"),f=a.text("point.x");this.coordinatesText="\uc704\ub3c4, \uacbd\ub3c4 : "+e+", "+f;this.coordinates=(new daum.maps.LatLng(e,f)).toCoords()}if(a.text("trans_map_type")){this.trans_map_type=a.text("trans_map_type");if(this.trans_map_type=="RESULT_JUNGDAP_REDIRECT"){this.keyword_=a.text("trans_map_str");this.originalKeyword=a.text("org_query")}else{if(!this.needCorrectSearch&&c.indexOf(this.trans_map_type)!==
-1&&d===0&&a.text("trans_map_str")){this.needCorrectSearch=true;this.keyword_=a.text("trans_map_str");this.saveIncorrectQuery=a.text("org_query");this.findAll_();return false}this.spellCandidate=[a.text("trans_map_str")]}}if(this.needCorrectSearch&&this.saveIncorrectQuery){this.trans_map_type="RESULT_EMPTY_REDIRECT";this.originalKeyword=this.saveIncorrectQuery}if(!this.hasBounds()){this.needCorrectSearch=false;this.saveIncorrectQuery=""}this.homonyms=a.find("samename").map(function(a){return a.text("value")});
this.category_=a.number("cate_id");this.loadCategories_(a);if(!(this.isBuilding&&this.placeCount>0)&&!this.isHighway){c=a.find("address").map(function(a){return new Ma(a)});if(b){if(c[0]){b.subList=c[0].subList;b.infowindowSubAddress=c[0].infowindowSubAddress;b.zipcode=c[0].zipcode;b.zonenum=c[0].zonenum;b.buildingName=c[0].buildingName}this.addresses=[Application.whatsHereController.toAddress(b)];this.addressRetry=false;this.addressCount=1}else{this.addresses=c;this.addressRetry=a.text("address_retry")==
"y";this.addressCount=a.number("addr_count")}}this.locationMessage=a.text("origin_loc");this.retry=a.text("retry")=="y";this.setPlaceModel_(a);this.reviewCount=a.number("review_count");this.highlightedFirst=a.text("mng_type")=="single";this.exposure_level=a.number("exposure_level");this.buses=a.find("bus").map(function(a){return new U(a)});this.busesCount=a.number("bus_cnt");this.busStops=a.find("busStop").map(function(a){return new ga(a)});this.busStopCount=a.number("bus_count")||a.number("busStop_cnt");
this.pageCount=a.number("page_count");if(a.text("v_landmark"))this.landmarks=a.text("v_landmark").split(";").map(function(a){a=a.split(",");return{name:a[0],coords:new daum.maps.Coords(a[1],a[2])}});switch(a.text("MSFLAG")){case "S":this.mode_=y.PLACE}this.tileSearch=a.text("tile_search")==="true";this.target=a.text("target");this.busRecommend=a.text("bus_recommend");this.busRecommendTop=a.text("bus_recommend_top")=="true";this.analysis=a.text("analysis")||"";this.dssSrcId=a.text("srcid")||"";this.onChange.notify(true)};
y.prototype.findAddresses_=function(){require("server").searchAddress({q:this.keyword_,cpage:this.page_},this.loadAddresses_.bind(this))};y.prototype.loadAddresses_=function(a){var b=Application.whatsHereController.getCache(this.keyword_),c;this.clearResult_(true);this.loadMessage_(a);this.loadEucKrKeyword_(a);c=a.find("List").map(function(a){return new Ma(a)});if(b){if(c[0]){b.subList=c[0].subList;b.infowindowSubAddress=c[0].infowindowSubAddress;b.zipcode=c[0].zipcode;b.buildingName=c[0].buildingName}this.addresses=
[Application.whatsHereController.toAddress(b)];this.addressRetry=false;this.addressCount=1}else{this.addresses=c;this.addressCount=a.number("total_count");if(a.text("retry")=="y")this.addressRetry=true}this.pageCount=a.number("page_count");this.tileSearch=a.text("tile_search")==="true";this.analysis=a.text("analysis")||"";this.dssSrcId=a.text("srcid")||"";this.onChange.notify(null)};y.prototype.findPlaces_=function(){var a={q:this.keyword_,msFlag:"S"};y.setBoundsParams(a,this.bounds_);a.page=this.page_;
if(this.willSearchBusStop_)a.gb="R";a.sort=this.sort_;if(this.category_){a.cate_id=this.category_;if(this.categoryDepth_)a.cate_depth=this.categoryDepth_}if(!this.correction_)a.translate="N";if(this.filterId_)a.srcid=this.filterId_;if(this.cidx_)this.defaultSidx_?a.sidx=this.cidx_:a.cidx=this.cidx_;this.defaultSidx_=false;if(this.snSelected)a.sn_selected="y";require("server").search(jQuery.extend(a,this.params_),this.loadPlaces_.bind(this))};y.prototype.setPlaceModel_=function(a){this.places=[];this.hasMapPlus=
!!a.object("map_plus");var b=[a.find("place"),a.find("premium")],c=[],d=0,e=0,f=null;if(this.hasMapPlus){f=new gc(2,-1,a.object("map_plus"));this.places.push(f)}var f=a.text("mrank_type"),g=null;if(this.exactSearch_&&(f=="answer"||f=="answerad")){g=new gc(3,1,b[0][0]);b[0].splice(0,1);this.places.push(g)}for(var j=1;j>=0;--j){var h=0;b[j].forEach(function(a,b){if(!this.hasMapPlus||!(j==1&&b==2)){var f=a.number("confirmid");if(jQuery.inArray(f,c)>=0)e++;else{c.push(f);if(!j){b=d;d++}if(!a.number("x")&&
!a.number("y")){e++;h++}else this.places.push(new gc(j,b+(g!==null?2:1)-h,a))}}},this)}this.placeCount=(a.number("place_totalcount")<=15?a.number("place_totalcount")-e:a.number("place_totalcount"))||a.number("place_count");this.placeAdCount=a.find("premium").length};y.prototype.loadPlaces_=function(a){this.clearResult_(true);this.loadEucKrKeyword_(a);this.exposure_level=a.number("exposure_level");this.loadMessage_(a);this.loadCategories_(a);this.homonyms=a.find("samename").map(function(a){return a.text("value")});
this.locationMessage=a.text("origin_loc");this.setPlaceModel_(a);this.category_=a.number("cate_id");this.tileSearch=a.text("tile_search")==="true";this.pageCount=a.number("page_count");this.analysis=a.text("analysis")||"";this.dssSrcId=a.text("srcid")||"";this.onChange.notify(null)};y.prototype.findBuses_=function(){var a={q:this.keyword_,spage:this.page_};if(this.busRegionId_)a.region_id1=this.busRegionId_;if(this.busTypeId_)a.bus_type_id=this.busTypeId_;if(this.repeated_&&this.qaType_)a.qa_type=
this.qaType_;y.setBoundsParams(a,this.bounds_);require("server").searchBus(jQuery.extend(a,this.params_),this.loadBuses_.bind(this))};y.prototype.loadBuses_=function(a){this.clearResult_(true);this.loadBusMessage_(a);this.loadEucKrKeyword_(a);this.originalKeyword=a.text("query");this.busTypeId_=a.text("bus_type_id");this.busRegionId_=a.text("region_id1");this.buses=a.find("List").map(function(a){return new U(a)});this.busRegions=a.find("GroupList").map(function(a){return{name:a.text("name"),id:a.text("id")}});
this.busRegions.splice(0,0,{name:"\uc804\uccb4\uc9c0\uc5ed",id:null});this.busTypes=a.find("GroupListBusType").map(function(a){return{name:a.text("name"),id:a.text("id")}});this.busTypes.splice(0,0,{name:"\uc804\uccb4\uc720\ud615",id:null});this.busRecommend="busname";if(a.text("v_landmark"))this.landmarks=a.text("v_landmark").split(";").map(function(a){a=a.split(",");return{name:a[0],coords:new daum.maps.Coords(a[1],a[2])}});this.qaType_=a.text("current_guide.qa_type")||"";this.tileSearch=a.text("tile_search")===
"true";this.busesCount=a.number("bus_cnt")||a.number("total_count");this.pageCount=a.number("page_count");this.analysis=a.text("analysis")||"";this.dssSrcId=a.text("srcid")||"";this.onChange.notify(null)};y.prototype.findBusStops_=function(){var a={q:this.keyword_,spage:this.page_};if(this.busRegionId_)a.region_id1=this.busRegionId_;if(this.busTypeId_)a.bus_type_id=this.busTypeId_;if(this.repeated_&&this.qaType_)a.qa_type=this.qaType_;y.setBoundsParams(a,this.bounds_);require("server").searchBusStop(jQuery.extend(a,
this.params_),this.loadBusstops_.bind(this))};y.prototype.loadBusstops_=function(a){this.clearResult_(true);this.loadBusMessage_(a);this.loadEucKrKeyword_(a);this.originalKeyword=a.text("query");this.busTypeId_=a.text("bus_type_id");this.busRegionId_=a.text("region_id1");this.busStops=a.find("List").map(function(a){return new ga(a)});this.busRegions=a.find("GroupList").map(function(a){return{name:a.text("name"),id:a.text("id")}});this.busRegions.splice(0,0,{name:"\uc804\uccb4\uc9c0\uc5ed",id:null});
this.busTypes=a.find("GroupListBusType").map(function(a){return{name:a.text("name"),id:a.text("id")}});this.busTypes.splice(0,0,{name:"\uc804\uccb4\uc720\ud615",id:null});this.busRecommend="busstop";if(a.text("v_landmark"))this.landmarks=a.text("v_landmark").split(";").map(function(a){a=a.split(",");return{name:a[0],coords:new daum.maps.Coords(a[1],a[2])}});this.qaType_=a.text("current_guide.qa_type")||"";this.tileSearch=a.text("tile_search")==="true";this.busStopCount=a.number("total_count");this.pageCount=
a.number("page_count");this.analysis=a.text("analysis")||"";this.dssSrcId=a.text("srcid")||"";this.onChange.notify(null)};y.prototype.loadReviews_=function(a){this.clearResult_(true);this.loadMessage_(a);this.themeId=this.themeId_;this.loadEucKrKeyword_(a);this.reviews=a.find("review").map(function(a){return new Ha(a)});this.reviewCount=a.number("total_count");this.tileSearch=a.text("tile_search")==="true";this.onChange.notify(null)};y.prototype.findBusStop_=function(){var a={q:this.keyword_,spage:this.page_};
if(this.busRegionId_)a.region_id1=this.busRegionId_;if(this.busTypeId_)a.bus_type_id=this.busTypeId_;if(this.repeated_&&this.qaType_)a.qa_type=this.qaType_;require("server").searchBusStop(a,this.loadBusStop_.bind(this))};y.prototype.loadBusStop_=function(a){this.clearResult_(true);this.loadBusMessage_(a);this.originalKeyword=a.text("query");this.busStops=a.find("List").map(function(a){return new ga(a)});this.busRegions=a.find("GroupList").map(function(a){return{name:a.text("name"),id:a.text("id")}});
this.busRegions.splice(0,0,{name:"\uc804\uccb4\uc9c0\uc5ed",id:null});this.busTypes=a.find("GroupListBusType").map(function(a){return{name:a.text("name"),id:a.text("id")}});this.busTypes.splice(0,0,{name:"\uc804\uccb4\uc720\ud615",id:null});this.qaType_=a.text("current_guide.qa_type")||"";this.busRecommend="busstop";this.busRecommendTop=a.text("bus_recommend_top")=="true";this.tileSearch=a.text("tile_search")==="true";this.busStopCount=a.number("total_count");this.analysis=a.text("analysis")||"";
this.dssSrcId=a.text("srcid")||"";this.onChange.notify(null)};y.prototype.isAllMode=function(){return this.mode_==y.ALL};y.prototype.getMode=function(){return this.mode_};y.prototype.getCidx=function(){return this.cidx_};y.prototype.getThemeName=function(){return y.THEME_NAME[this.themeId]};y.prototype.setCategory=function(a){this.category_=a.id;this.categoryDepth_=a.depth;this.bounds_=null;this.mode_==y.PLACE?this.setPlaceMode():this.setAllMode()};y.prototype.setKeywordParams=function(a){this.isParams_=
true;this.params_=a};y.prototype.isThemeMode=function(){return this.mode_===y.THEME};y.prototype.isBusTabMODE=function(){return this.mode_===y.BUSES||this.mode_===y.BUSSTOPS};y.prototype.isBusesMODE=function(){return this.mode_===y.BUSES};y.prototype.isBusstopsMODE=function(){return this.mode_===y.BUSSTOPS};y.prototype.isPlaceMode=function(){return this.mode_===y.PLACE};y.prototype.isAddressMode=function(){return this.mode_===y.ADDRESS};y.prototype.isReviewMode=function(){return this.mode_===y.REVIEW};
y.prototype.isBusStopMode=function(){return this.mode_===y.BUSSTOP};y.prototype.setCorrection=function(){this.keyword_=this.originalKeyword;this.needCorrectSearch=this.correction_=false;this.saveIncorrectQuery="";this.setPage(this.defaultPage_)};y.prototype.getBounds=function(){return this.bounds_};y.prototype.setFilterId=function(a){this.filterId_=a};y.prototype.setQaType=function(a){this.qaType_=a};y.prototype.getQaType=function(){return this.qaType_};y.prototype.setLocalCode=function(a){this.localCode_=
a};y.prototype.setDefaultSort=function(a){this.defaultSort_=a|0};y.prototype.getCategory=function(){return this.category_};y.prototype.setDefaultLiterally=function(a,b){this.defaultCidx_=true;this.defaultSidx_=!b;this.cidx_=a};y.prototype.getLiterally=function(){return this.cidx_};y.prototype.setDefaultPage=function(a){this.defaultPage_=parseInt(a)||1};y.prototype.setPageSize=function(a){this.pageSize_=a};y.findPosition=function(a,b){var c=new y;c.setSearchBusStop(true);c.onChange.add(function(){var a=
c.addresses[0]||c.places[0]||c.reviews[0];b(a?a.coords:null,c)},this);c.setKeyword(a)};Lb.find=function(a,b,c){Lb.find_(a,b,c)};Lb.find_=function(a,b,c){a={x:a.getX(),y:a.getY()};require("server").reverseGeocoding(a,function(a){b.call(c,Lb.load_(a))})};Lb.load_=function(a){return new Lb(a)};Lb.code_=function(a){return!a?{}:{code:a.text("code"),fullName:a.text("fullName"),regionId:a.text("regionId"),name0:a.text("name0"),code1:a.text("code1"),name1:a.text("name1"),code2:a.text("code2"),name2:a.text("name2"),
code3:a.text("code3"),name3:a.text("name3")}};define("model/LocalPlatformAd",[],function(){var a=A.localAdData;return{find:function(b){return a?a[b]:null}}});define("model/MyRouteInfo",["jquery","util/Storage"],function(a,b){function c(a){return{name:a.name,id:a.id,index:a.index,pointType:a.pointType,coords:{x:a.coords.getX(),y:a.coords.getY()}}}function d(a,b){f=b.filter(function(b){var c=true;if(a.id){if(a.id==b.id){a.use=b.use+1;c=false}}else if(a.coords.x==b.coords.x&&a.coords.y==b.coords.y){a.use=
b.use+1;c=false}return c?b:false});return a}function e(a,b){return b.filter(function(b){return valid=b.waypoints.every(function(b,c){return a.waypoints[c].coords.x==b.coords.x&&a.waypoints[c].coords.y==b.coords.y})}).length!=0}var f=[],g=[];return{addWaypoint:function(a){f=JSON.parse(b.getItem("waypoints"))||[];object=c(a);object.time=+new Date;object.use=1;var e=+new Date;f=f.filter(function(a){return e-a.time<5184E6?a:false});object=d(object,f);f.unshift(object);f.length>1E3&&f.pop();console.log(object,
f);b.setItem("waypoints",JSON.stringify(f))},getWaypoints:function(){return JSON.parse(b.getItem("waypoints"))||[]},removeWaypoint:function(a){f=JSON.parse(b.getItem("waypoints"))||[];f.splice(a,1);b.setItem("waypoints",JSON.stringify(f))},clearWaypoints:function(){b.removeItem("waypoints")},addRoute:function(a,d){g=JSON.parse(b.getItem("routes"))||[];var f={waypoints:a.map(c)};if(!e(f,g)){f.methodType=d||"";f.time=+new Date;g.unshift(f);g.length>10&&g.pop();b.setItem("routes",JSON.stringify(g))}},
getRoutes:function(){return JSON.parse(b.getItem("routes"))||[]},removeRoute:function(a){g=JSON.parse(b.getItem("routes"))||[];g.splice(a,1);b.setItem("routes",JSON.stringify(g))},clearRoutes:function(){b.removeItem("routes")},getStatus:function(){return JSON.parse(b.getItem("status"))||0},setStatus:function(a){b.setItem("status",a)}}});rc.findAt=function(a,b,c){require("server").poi({X:a.getX()|0,Y:a.getY()|0,LEVEL:b},function(a){c(a.find("address")[0]?rc.loadAddress_(a.find("address")[0]):qa.loadAt_(a))})};
rc.loadAddress_=function(a){var b=new Ma;b.name=a.text("newAddress");b.oldname=a.text("address");b.coords=new daum.maps.Coords(a.number("x"),a.number("y"));return b};rc.findAll=function(a,b,c){require("server").placesInBounds(a,function(a){b.call(c,rc.loadAll_(a))})};rc.loadAll_=function(a){var b=[],c=[],d=[],e=[];if(a.text("resultCode")=="SUCCESS"){a=a.raw();if(a.places)b=a.places;if(a.addresses)c=a.addresses;if(a.trafficData&&a.trafficData.busStops)d=a.trafficData.busStops;if(a.trafficData&&a.trafficData.subwayStations)e=
a.trafficData.subwayStations}return{places:b,addresses:c,busStops:d,subwayStations:e}};qa.prototype.loadAt_=function(a){this.id=a.number("confirmid")||a.number("new_id");this.placeid=a.number("id")||a.number("confirmid");this.imgsrc=a.text("img")||a.text("img1")?"//t1.daumcdn.net/thumb/C84x76/?fname="+(a.text("img")||a.text("img1")):"";this.name=String.stripTags(a.text("name"))||a.text("vname");this.roadview=a.text("roadview")?new ab(a.text("roadview")):null;this.phone=[a.text("tel")];this.category=
a.text("last_cate_name")||a.text("cate_name_depth2")||"";this.isFiy=true;var b=a.text("full_category_ids").split("|");if(this.category){var c=this.placeCategory=new Cc;c.id=a.number("last_cate_id");if(jQuery.inArray("22951",b)!=-1&&jQuery.inArray("22956",b)!=-1)this.isFiy=false;if(String.stripTags(a.text("cate_name_depth1"))=="\uc758\ub8cc,\uac74\uac15")this.noAdReview=true;var d=a.number("last_cate_depth");if(a.text("catetype")=="G"&&jQuery.inArray("2529",b)==-1){d=parseInt(d)-1;this.category=a.text("cate_name_depth"+
d)||a.text("cate_name_depth2")||"";c.id=b[d-1]||b[1]}c.depth=d;c.name=this.category}this.categories=[1,2,3,4,5].map(function(b){return String.stripTags(a.text("cate_name_depth"+b))}).filter(Boolean);if(b=a.text("new_address_disp")){b=b.split("|").filter(function(a){return!!a});this.newAddress=b.join(" ")}else this.newAddress="";if(b=a.text("address_disp"))if(this.newAddress){b=b.split("|");this.address=b[2]?(b[2]+" "+b[3]).trim():""}else{b=b.split("|").filter(function(a){return!!a});this.address=
b.join(" ")}else this.address="";this.zipcode=a.text("new_zipcode");this.vote=a.number("rating_count");this.grade=a.number("rating_average");this.review=a.number("reviewCount");if(a.has("x"))this.coords=new daum.maps.Coords(a.number("x"),a.number("y"));this.cardBenefits=Sb.parseString(a.text("card"));switch(a.text("source")){case "opinet":this.gas=new wb(a);this.gas.id=this.id;break;case "estate":this.estate=a.number("outlinksrvc_id");break;case "subway":this.subway=new Xa;this.subway.id=a.text("sourceId");
break;case "traffic":if(/^BT/.test(a.text("sourceId"))){this.intercity="intercityBus";this.intercityId=a.text("sourceId");this.intercityName=a.text("name")}else if(/^(PO|FT)/.test(a.text("sourceId"))){this.intercity="ferry";this.intercityId=a.text("sourceId");this.intercityName=a.text("name")}else if(/^IS/.test(a.text("sourceId"))){this.intercity="island";this.intercityId=a.text("sourceId");this.intercityName=a.text("name")}else this.intercityId=this.intercity=null}this.website=a.text("homepage");
this.office_hours=a.text("office_hours").split("|");this.phone=this.phone.concat(a.text("phoneSynonyms").split(" ").filter(Boolean));this.desc=a.text("comment");this.storeview=a.number("storeview_id");this.ad=a.text("source")=="ad";this.sourceName=a.text("source");this.hub_data=a.text("hub_data").split("|")[0];if(a.text("shape_support_types")=="LINE")this.pointExtension=true;if(["REALESTATE_POLY"].indexOf(a.text("shape_support_types"))>-1)this.hasArea=true;if(a.text("related_place"))this.dup_data=
a.text("related_place").split("|").map(function(a){return xd.create(a)});this.dangol=a.text("outlinksrvc")=="dangol";b=a.object("zigbang_info");this.realEstates="";if(b){this.outsrclinkId=b.text("id");this.outsrcId=b.text("category");this.realEstates=b.text("count_disp")}b=a.text("courseinfo").split("~");this.courseinfo={origin:b[0],dest:b[1],length:a.text("geoinfo"),time:a.text("requiringtime")};this.tipCnt=a.text("tipcnt");this.holiday_info=a.text("holiday_info");if(a.text("tvshow_name")){b=a.text("tvshow_name").trim();
c=a.text("tvshow_info").split("|");if(b&&c.length)this.tvshow_info=[b,c[1],c[2].replace(/(....)(..)(..)/,"$1.$2.$3")]}if(a.text("event_1"))this.event1=a.text("event_1")||""};qa.loadAt_=function(a){if(a=a.find("place")[0]){var b=new qa;b.loadAt_(a);return b}return null};qa.findPath=function(a,b,c){var a=Number(a),d=new qa;d.id=a;var e="";typeof AoiTest!="undefined"&&(e="&level="+AoiTest.lv);require("server").placeLineList("confirmid="+a+e,function(a){b.call(c,d.loadPath_(a))})};qa.prototype.getFakePointWithIndex_=
function(a,b){var c=a[0][b].split(",");return new daum.maps.Coords(c[0],c[1])};qa.prototype.setFakeStartPoint_=function(a){this.startPoint=this.getFakePointWithIndex_(a,0)};qa.prototype.setFakeEndPoint_=function(a){this.endPoint=this.getFakePointWithIndex_(a,a[0].length-1)};qa.prototype.setFakeCenterPoint_=function(a){this.centerPoint=this.getFakePointWithIndex_(a,~~(a[0].length/2))};qa.prototype.loadPath_=function(a){a=a.find("value")[0];if(!a)return null;this.aoiPath=a.find("lines");this.startPoint=
a.object("spoint");this.endPoint=a.object("epoint");this.centerPoint=a.object("cpoint");for(a=this.aoiPath.length;a--;)this.aoiPath[a]=this.aoiPath[a].text("value").split("|");this.startPoint?this.startPoint=new daum.maps.Coords(this.startPoint.number("x"),this.startPoint.number("y")):this.setFakeStartPoint_(this.aoiPath);this.endPoint?this.endPoint=new daum.maps.Coords(this.endPoint.number("x"),this.endPoint.number("y")):this.setFakeEndPoint_(this.aoiPath);this.centerPoint?this.centerPoint=new daum.maps.Coords(this.centerPoint.number("x"),
this.centerPoint.number("y")):this.setFakeCenterPoint_(this.aoiPath);return this};qa.find=function(a,b,c){var a=Number(a),d=new qa;d.id=a;require("server").placeById(a,function(a){b.call(c,d.load_(a))})};qa.prototype.load_=function(a){if(a.text("ret_code")=="200"){this.coords=new daum.maps.Coords(a.number("place.location.wcongx"),a.number("place.location.wcongy"));this.name=a.text("place.name.placeFullName");this.phone=[a.text("place.phone.phoneMainNum")].concat(a.find("place.phone.phoneRelNums").map(function(a){return a.text("value")}).slice(1));
this.address=a.text("place.location.addrFullName");this.address=(this.newAddress=a.text("place.location.newAddrFullNameDetail"))?a.text("place.location.addrFrom3DetphName"):a.text("place.location.addrFullName");this.zipcode=a.text("place.zipcode5");this.review=a.number("place.totalrvwCnt");this.website=a.text("place.homepage");this.imgsrc=a.text("place.mainPhotoUrl")?"//t1.daumcdn.net/thumb/C84x76/?fname="+a.text("place.mainPhotoUrl"):"";this.star=a.number("place.score.scoreAvg");this.grade=a.number("place.score.totalScore");
this.vote=a.number("place.score.scoreCnt");this.category=a.text("place.category.cateName1")||a.text("place.category.cateName2")||a.text("place.category.cateName3")||a.text("place.category.cateName4")||a.text("place.category.cateName5");this.categories=[1,2,3,4,5].map(function(b){return String.stripTags(a.text("place.category.cateName"+b))}).filter(Boolean);if(a.text("place.roadview.hasroadview")=="true"){var b=this.roadview=new ab;b.panoId=a.text("place.roadview.panoid");b.pan=a.number("place.roadview.pan");
b.tilt=a.number("place.roadview.tilt");b.zoom=a.number("place.roadview.rvlevel");b.coords=new daum.maps.Coords(a.number("place.roadview.wphotox"),a.number("place.roadview.wphotoy"))}switch(a.text("place.type")){case "opinet":this.gas=new wb;this.gas.loadFacilities(a);break;case "estate":this.estate=a.number("place.typeId");break;case "subwayexit":this.subway=new Xa;this.subway.id=a.text("place.typeId")}this.storeview=a.text("place.STOREVIEW_ID");if(a.has("place.placeaddinfos.oil")){b=this.gas=new wb;
b.providerId=a.text("place.placeaddinfos.oil.oilCompanyid");b.provider=a.text("place.placeaddinfos.oil.oilCompanyname");b.gasPrice=a.number("place.placeaddinfos.oil.oilB027value");b.premiumGasPrice=a.number("place.placeaddinfos.oil.oilB034value");b.dieselPrice=a.number("place.placeaddinfos.oil.oilD047value");b.lpgPrice=a.number("place.placeaddinfos.oil.oilK015value");b.timestampText=a.text("place.placeaddinfos.oil.oilB027time");b.loadFacilities(a)}this.sourceName=(this.ad=a.text("place.adstatus")==
"Y")?"ad":"place";this.cardBenefits=a.find("place.placeaddinfos.adcards").map(function(a){var b=new Sb;b.ad=true;b.setCard(a.text("cardvendor"));b.benefit=a.text("cardmapdesc");return b}).concat(a.find("place.placeaddinfos.cards").map(function(a){var b=new Sb;b.setCard(a.text("name"));b.benefit=a.text("searchbenefitname");return b}));this.desc=decodeURIComponent(a.text("place.introduction")).replace(/\+/g," ");this.dg_membership=a.number("place.placeaddinfos.membership.cashsavingrate")||a.number("place.placeaddinfos.membership.stampcnt")||
a.number("place.placeaddinfos.membership.dcminamt");this.hub_data=a.has("place.placeaddinfos.interparktour")?"interparktour":a.has("place.placeaddinfos.hira")?"hira":a.has("place.placeaddinfos.nice")?"nice":"";if(this.hub_data=="interparktour")this.institution=new Ad(a);else if(this.hub_data=="hira")this.institution=new gd(a);else if(this.hub_data=="nice")this.institution=new Sc(a);if(this.institution&&!this.institution.isValid())this.institution=null;if(a.has("place.placeaddinfos.LINE_COURSE")){this.pointExtension=
true;this.distance=a.text("place.placeaddinfos.LINE_COURSE.geominfo");this.time=a.text("place.placeaddinfos.LINE_COURSE.requiringtime");this.difficulty=a.text("place.placeaddinfos.LINE_COURSE.difficulty");this.source=a.text("place.placeaddinfos.LINE_COURSE.datasource");this.sourceUrl=decodeURIComponent(a.text("place.placeaddinfos.LINE_COURSE.datasourceurl"));this.courseinfo={origin:a.text("place.placeaddinfos.LINE_COURSE.startname"),dest:a.text("place.placeaddinfos.LINE_COURSE.endname")}}this.mainName=
a.text("place.name.placeMainName");this.dangol=a.text("place.placeaddinfos.outlinkdata.outlinksrvc")=="dangol";b=a.text("place.placeaddinfos.outlinkdata.outlinksrvc");if(b!=="local"){this.outsrcId=b;this.outsrclinkId=a.text("place.placeaddinfos.outlinkdata.outlinksrvcid")}if(a.has("place.placeaddinfos.trafficplace.btid")){this.intercity="intercityBus";this.intercityId=a.text("place.placeaddinfos.trafficplace.btid")}else if(a.has("place.placeaddinfos.trafficplace.isid")){this.intercity="island";this.intercityId=
a.text("place.placeaddinfos.trafficplace.isid")}else if(a.has("place.placeaddinfos.trafficplace.poid")){this.intercity="ferry";this.intercityId=a.text("place.placeaddinfos.trafficplace.poid")}else if(a.has("place.placeaddinfos.trafficplace.ftid")){this.intercity="ferry";this.intercityId=a.text("place.placeaddinfos.trafficplace.ftid")}if(a.find("place.placeaddinfos.addinfos").length!=0){b=a.find("place.placeaddinfos.addinfos")[0];if(b.text("code"))this.convenience=b.text("contents")}this.tipCnt=a.text("tipcnt");
return this}return null};qa.prototype.getDaumPlaceUrl=function(a){return require("url").DAUM_PLACE+this.id+(a?a:"")};qa.prototype.getLandingUrl=function(){switch(this.outsrcId){case "officetel":return"https://realty.daum.net/home/"+this.outsrcId+"/danjis/"+this.outsrclinkId+"/items";case "oneroom":return"https://realty.daum.net/home/"+this.outsrcId+"/items/"+this.outsrclinkId;case "apt":return"https://realty.daum.net/home/"+this.outsrcId+"/danjis/"+this.outsrclinkId;case "villa":return"https://realty.daum.net/home/"+
this.outsrcId+"/building/"+this.outsrclinkId;default:return this.getDaumPlaceUrl()}};qa.findPlace=function(a,b,c){require("server").searchPlaceById(a,function(a){var e=new qa;e.loadAt_(a);b.call(c,e.id?e:null)})};qa.prototype.hasCoords=function(){return!!this.coords};Sb.parseString=function(a){return a.split("|").filter(Boolean).map(Sb.parseItemString_)};Sb.NAME_MAP={CT:"\uc528\ud2f0\uce74\ub4dc"};Sb.prototype.setCard=function(a){this.card=Sb.NAME_MAP[a]||a};Sb.parseItemString_=function(a){var a=
a.split("/"),b=new Sb;if(/^BIZ\^/.test(a[0])){b.ad=true;a[0]=a[0].substring(4)}b.setCard(a[0]);b.benefit=a[2];return b};Cc.prototype.id=0;Cc.prototype.depth=0;Cc.prototype.name="";Sc.prototype.titleName="\uae30\uc5c5 \uc815\ubcf4";Sc.prototype.url="";Sc.prototype.setDataElement=function(a,b){this.dataList.push({title:a,desc:b})};Sc.prototype.isValid=function(){return this.biztypename=="-"&&this.companytype=="-"&&this.chief=="-"?false:true};gd.prototype.titleName="\ubcd1\uc6d0\uc815\ubcf4";gd.prototype.setDataElement=
function(a,b){this.dataList.push({title:a,desc:b})};gd.prototype.isValid=function(){return this.category=="-"&&this.medicalStr=="-"&&this.spcStr=="-"?false:true};Ad.prototype.setDataElement=function(a,b){this.dataList.push({title:a,desc:b})};Ad.prototype.isValid=function(){var a=false;this.titleName=="\ud638\ud154\uc815\ubcf4"&&this.hotelratename!="-"&&(a=true);if(this.totalroomcountStr!="-"||this.timeinfoStr!="-")a=true;this.titleName=="\ud39c\uc158\uc815\ubcf4"&&this.amendities!="-"&&(a=true);return a};
Tc.getInfo=function(a){require("server").profileInfo({},a)};Tc.update=function(a,b){var c="?nickName="+a.nickName;a.profileImageUrl&&(c=c+("&&profileImageUrl="+a.profileImageUrl));require("server").profileUpdate({addParamData:c},b)};define("model/RelatedAddress",[],function(){return function(a,b,c,d){this.type=b;this.typeName=c;a=a.split("^");this.address=a[0];this.prefix=d;if(a[1]){a=a[1].split(",");this.x=a[0];this.y=a[1];this.coords=new daum.maps.Coords(this.x,this.y)}}});Ha.TYPE_NONE="None";Ha.prototype.type=
Ha.TYPE_NONE;Ha.prototype.image="";Ha.prototype.title="";Ha.prototype.content="";Ha.prototype.author="";Ha.prototype.website="";Ha.prototype.webpage="";Ha.prototype.date="";Ha.prototype.placeId="";Ha.prototype.coords=new daum.maps.Coords(0,0);Ha.prototype.sourceType=null;Ha.SOURCE_CAFE="cafe";Ha.SOURCE_BLOG="blog";Ha.fetchUrl=function(a,b,c){require("server").blogReview(a,function(a){if(!a)return null;var e=a.find("cafe")[0],f=Ha.SOURCE_CAFE;if(!e){e=a.find("blog")[0];f=Ha.SOURCE_BLOG;if(!e)return null}var g=
new Ha;g.sourceType=f;g.image=a.text("entry.attachment.url");g.title=a.text("entry.title");g.website=e.text("url");g.webpage=a.text("entry.permalink");f=a.text("entry.location").split("^");g.coords=a.text("entry.attachmentmap.coords")=="wcongnamul"?new daum.maps.Coords(a.number("entry.attachmentmap.mapx")||parseInt(f[1],10),a.number("entry.attachmentmap.mapy")||parseInt(f[2],10)):(new daum.maps.Congnamul(a.number("entry.attachmentmap.mapx")||parseInt(f[1],10),a.number("entry.attachmentmap.mapy")||
parseInt(f[2],10))).toCoords();g.content=String.stripTags(a.text("entry.content")).substring(0,80);var j=a.text("entry.written").replace("KST","GMT+0900"),j=new Date(Date.parse(j));g.date=j.getFullYear()+"."+(""+(j.getMonth()+101)).substring(1)+"."+(""+(j.getDate()+100)).substring(1);g.placeId=a.number("entry.attachmentmap.confirmid")||parseInt(f[7],10);g.address=a.text("entry.attachmentmap.raddress")||f[3];g.author=e.text("title");b.call(c,g)})};ab.prototype.panoId=0;ab.prototype.pan=0;ab.prototype.tilt=
0;ab.prototype.zoom=0;ab.prototype.thumbnail="";ab.prototype.coords=null;ab.exists=function(a,b,c){(a=Number(a))?require("server").roadviewData(a,function(a){a=a.find("street_view")[0].number("cnt");b.call(c,a>0)}):b.call(c,false)};ab.create=function(a){var b=new ab;b.panoId=a.text("panoid")||a.text("id");if(!b.panoId)return null;b.pan=a.text("pan");b.tilt=a.text("tilt");b.zoom=a.text("zoom");var c=a.text("filename")||a.text("fileName");if(!c)return null;b.thumbnail="http://va.maps.daum-img.net/suggest"+
c;b.coords=new daum.maps.Coords(a.number("x"),a.number("y"));return b};ab.prototype.loadText_=function(a){if(a){a=a.split("|");if(a[0]){this.panoId=+a[0];this.pan=+a[1];this.tilt=+a[2];this.zoom=+a[7];this.coords=new daum.maps.Coords(+a[5],+a[6]);return this}}return null};ab.createWithText=function(a){return(new ab).loadText_(a)};Uc.prototype.find=function(a,b){require("server").roadviewStation({PX:a.x,PY:a.y,RAD:"100",SKETCHID:b},this.load_.bind(this))};Uc.prototype.load_=function(a){var b;a.find("street_view").forEach(function(a){a.find("street").forEach(function(a){a.has("id")&&
(b=a.text("id"))})});this.onLoad.notify(b)};Uc.getNearestPanoId=function(a,b,c,d){var e=new Uc;e.onLoad.add(c,d);e.find(a,b)};Tb.find=function(a,b,c){var d=new y;d.setBounds(a);d.setPageSize(20);d.onChange.add(function(){b.call(c,Tb.load_(d.places))});d.setThemeId(1)};Tb.load_=function(a){return a.map(function(a){var c=new Tb;c.name=a.name;c.category=a.category;c.id=a.storeview;c.placeid=a.id;c.thumbnailUrl=String.format("http://v.maps.daum-img.net/store_thumb/%s/%s.jpg",a.storeview,a.storeview);
c.coords=a.coords;return c})};Tb.MARKERS=[];Tb.findMarkers=function(a,b){if(!Tb.MARKERS[a]){var c=A["storeview_L"+a];c&&c.map&&(Tb.MARKERS[a]=c.map(function(a){var a=a.split("|"),b=new Tb;b.coords=new daum.maps.Coords(a[1],a[2]);switch(a[0]){case "S":b.id=Number(a[3]);break;case "B":b.level=Number(a[4])}return b}))}b(Tb.MARKERS[a]||[])};Vc.SectionRoute=function(a){this.id=a.text("id");this.type=a.text("type").trim();this.fastTransferInfo=a.text("fastTransferInfo");if(this.hasExpressTrain=a.text("hasExpressTrain")==
"true"?true:false)this.expressTrainType=a.text("expressTrainType");this.nodes=[];var b=a.object("depTime");this.time="--";this.walkTime=a.number("time");if(b){var c=b.number("hour"),b=b.number("minute");this.time=(c<10?"0"+c:c)+":"+(b<10?"0"+b:b)}this.noTimeText="";a.find("nodes").forEach(function(a,b){var c=new Vc.Node(a);c.subwayId=this.id;if(b>0&&c.time=="--"&&!this.noTimeText)this.noTimeText=this.nodes[b-1].name+"\uae4c\uc9c0 \uc6b4\ud589";this.nodes.push(c)},this);c=this.nodes[0];this.name=c.name;
this.time=c.time;this.direction=a.text("direction")+"\ubc29\uba74"};Vc.Node=function(a){this.subwayId="";this.id=a.text("id");this.name=a.text("name");this.isPass=a.text("isPass")=="true"?true:false;this.type=a.text("type");this.subType=a.text("subType");var b=a.object("depTime"),a=a.object("arrTime"),c=b||a;this.time="--";if(c){b=c.number("hour");c=c.number("minute");this.time=(b<10?"0"+b:b)+":"+(c<10?"0"+c:c)}this.arrTime="--";if(a){b=a.number("hour");c=a.number("minute");this.arrTime=(b<10?"0"+
b:b)+":"+(c<10?"0"+c:c)}};Bd.findRoute=function(a,b,c){var d=new Bd(a);require("server").subwayRoute(a,function(a){b.call(c,d.load(a))})};Xa.prototype.loaded_=!1;Xa.prototype.exits=null;Xa.prototype.prev=null;Xa.prototype.next=null;Xa.prototype.hitTest=function(){return ga.prototype.hitTest.apply(this,arguments)};Xa.prototype.isLoaded=function(){return this.loaded_};Xa.prototype.fetchDetail=function(a,b){require("server").stationInfo(this.id,function(c){a.call(b,this.loadDetail_(c))}.bind(this))};
Xa.prototype.loadDetail_=function(a){this.loaded_=true;this.name=a.text("name");this.lineName=a.text("lineName");if(a.text("address"))this.address=a.text("address");else if(a.object("info"))this.address=a.object("info").text("address");this.coords=this.coords||new daum.maps.Coords(a.number("x"),a.number("y"));a.text("subwayId");this.subwayLineId=a.text("subwayId");this.telephone=a.text("info.telephone");this.lostCenterTelephone=a.text("info.subwayLostCenter.telephone");this.exits={};a.find("exitInfos").forEach(function(a){this.exits[a.text("no")]=
a.text("landmarks")},this);var b=a.find("previousStations")[0];if(b)this.prev=new Xa(b);if(b=a.find("nextStations")[0])this.next=new Xa(b);this.transfers=a.find("transfers").map(function(a){var b=new Xa;b.id=a.text("id");b.subwayLineId=a.text("subwayId");b.name=a.text("subwayName");b.lineName=a.text("lineName");return b});this.facilities=a.find("facilities").map(function(a){return a.text("value")});this.buses=a.find("buses").map(function(a){return new U(a)});return this};Xa.prototype.openInfoPopup=
function(){open(require("url").DAUM_PLACE+this.id)};Dc.prototype.id=0;Dc.prototype.themeId=0;Dc.prototype.name="";Dc.prototype.count=0;define("model/ThemeMapItem",[],function(){return function(a){this.cpName=a.text("cp_name")||"";this.cpProgram=a.text("cp_program")||"";this.title=a.text("title")||"";this.place_cnt=a.number("place_cnt");this.good_cnt=a.number("good_cnt");this.img=a.text("image")||"";this.themeId=a.text("themeId");this.banner_pc=a.text("banner_pc");this.thumbnail_key=a.text("thumbnail_key")||
"";this.thumbnail_url=a.text("thumbnail_url")||"";this.region=a.text("region")||"\uc804\uad6d";if(this.thumbnail_url)this.src="//t1.daumcdn.net/thumb/C75x75/?fname="+this.thumbnail_url}});define("model/ThemeMapPlaceItem",[],function(){return function(a){this.name=a.text("name")||"";this.why=a.text("why")||"";var b="",c=a.text("photoUrl")||"";c&&(b="//t1.daumcdn.net/thumb/C75x75/?fname="+c);this.photoUrl=b;this.region=a.text("region")||"";this.tip_cnt=a.text("tip_cnt")||"0";this.placeId=a.text("placeId")||
"";this.good_cnt=a.number("good_cnt")||0;this.coords=new daum.maps.Coords(a.number("x")||0,a.number("y")||0);this.linecourseYN=a.text("linecourseYN")}});Cd.find=function(a,b,c,d){var e=new Cd;e.coords=a;e.level=b;require("server").traffic({x:a.getX()|0,y:a.getY()|0,level:b},function(a){c.call(d,e.load_(a))})};Cd.prototype.load_=function(a){if(this.length=a.number("length")){this.name=a.text("name");this.desc=a.text("fromNodeName")+" ~ "+a.text("toNodeName");this.status=a.text("traffic");this.speed=
a.number("speed");return this}return null};D.DEPARTURE="DEPARTURE";D.ARRIVAL="ARRIVAL";D.TRANSFER_PUBLICTRAFFIC="TRANSFER_PUBLICTRAFFIC";D.TRANSFER_CAR="TRANSFER_CAR";D.TRANSFER_WALK="TRANSFER_WALK";D.TRANSFER_CUSTOM="TRANSFER_CUSTOM";D.EXPRESS_BUS="EXPRESS_BUS";D.INTERCITY_BUS="INTERCITY_BUS";D.TRAIN="TRAIN";D.FERRY="FERRY";D.AIRPLANE="AIRPLANE";D.INTERCITY="INTERCITY";D.PUBLICTRAFFIC="PUBLICTRAFFIC";D.DEPARTURE_ARRIVAL="DEPARTURE_ARRIVAL";D.prototype.getIconClassName=function(){return this.subType===
"\ubb34\uad81\ud654"?"MUGUNGHWA":this.subType==="\uc0c8\ub9c8\uc744"?"SAEMAEUL":this.subType==="\ub204\ub9ac\ub85c"?"NURIRO":this.subType==="\ud1b5\uadfc"?"COMMUTER":this.subType==="DMZtrain"?"DMZ":this.subType==="ITX\uc0c8\ub9c8\uc744"?"ITX":this.type==="INTERCITY_BUS"?"INTERCITY":this.type===D.TRAIN?this.subType:this.type};D.prototype.getLabelClassName=function(){if(this.type===D.TRAIN){if(this.subType==="KTX"||this.subType==="ITX"||this.subType==="SRT")return this.subType.toLowerCase();if(this.subType===
"\ubb34\uad81\ud654")return"mugunghwa";if(this.subType==="\uc0c8\ub9c8\uc744")return"saemaeul";if(this.subType==="\ub204\ub9ac\ub85c")return"nuriro";if(this.subType==="DMZ")return"dmzt";if(this.subType==="\ud1b5\uadfc")return"tonggeun";if(this.subType==="DMZtrain")return"dmzt";if(this.subType==="ITX\uc0c8\ub9c8\uc744")return"itxsae"}else return this.type===D.EXPRESS_BUS||this.type===D.INTERCITY_BUS?this.type.toLowerCase():""};D.createFromData=function(a,b,c){var d=new D,e=a.data;d.routeType=a.routeType;
d.isInterPoint=true;if(a.routeType==D.DEPARTURE_ARRIVAL){if(a.pointType=="START"){d.type=D.DEPARTURE;d.action=D.DEPARTURE}else{d.type=D.ARRIVAL;d.action=D.ARRIVAL}d.name=e.text("name");d.roadview=false;d.coords=new daum.maps.Coords(e.number("x"),e.number("y"));d.confirmid=e.text("confirmid")}else{d.action=d.vehicleType=e.text("vehicle.type");d.coords=new daum.maps.Coords(e.number("departure.x"),e.number("departure.y"));d.arrivalCoords=new daum.maps.Coords(e.number("arrival.x"),e.number("arrival.y"));
if(d.vehicleType=="TRAIN")d.subType=e.text("vehicle.subType");d.start=e.object("departure");d.end=e.object("arrival");d.time=e.text("time.text");d.fare=e.text("fare.text");d.reservation=e.bool("reservation");d.longInterval=e.bool("longInterval");d.nodes=[];d.name=e.text("departure.name");d.nodeType=e.text("departure.type");d.actionName="\ud0d1\uc2b9";d.type=d.vehicleType;if(d.vehicleType==D.TRANSFER_PUBLICTRAFFIC){d.interTypeName="\uc2dc\ub0b4";d.fare=e.text("transferRoute.route.fare.text");d.publicSummaries=
[];e.find("transferRoute.route.summaries").map(function(a,b){var c=this.getSummaryNode(a.object("startLocation"));c.vehicles=a.find("vehicles").map(function(a){var b=a.text("type")=="BUS"?U.TYPE[a.text("subType")]:Q.subwayCode[a.text("id")][0];return{vehicleType:a.text("type").toLowerCase(),subType:a.text("subType"),name:a.text("name"),parentName:a.text("parentName"),lineType:b,id:a.text("id"),visible:a.text("visible")=="true"}});c.index=d.publicSummaries.length;d.publicSummaries.push(c);if(e.find("transferRoute.route.summaries").length-
1==b){c=this.getSummaryNode(a.object("endLocation"));c.index=d.publicSummaries.length;d.publicSummaries.push(c)}},d);d.publicSteps=[];e.find("transferRoute.route.steps").forEach(function(a,b){var e=a.text("action");if(!(e=="DEPARTURE"||e=="ARRIVAL")){e=Q.createFromData(a,b,c);e.isInterPublic=true;if(e.type==Q.OTHER&&d.publicSteps.length>0)d.publicSteps[d.publicSteps.length-1].nextOther=true;d.publicSteps.push(e)}})}else if(d.vehicleType==D.TRANSFER_CAR){d.interTypeName="\ud0dd\uc2dc";d.publicRoute=
e.text("polyline");d.taxiFare=e.text("transferRoute.taxiFare.text");d.distance=e.text("transferRoute.distance.text")}else if(d.vehicleType==D.TRANSFER_WALK){d.interTypeName="\ub3c4\ubcf4";d.publicRoute=e.text("polyline");d.distance=e.text("transferRoute.distance.text")}else if(d.vehicleType==D.TRANSFER_CUSTOM)d.interTypeName="\uc5c6\uc74c";else if(d.vehicleType==D.INTERCITY_BUS){d.interTypeName="\uc2dc\uc678";d.publicRoute=e.text("polyline")}else if(d.vehicleType==D.EXPRESS_BUS){d.interTypeName="\uace0\uc18d";
d.publicRoute=e.text("polyline")}else if(d.vehicleType==D.TRAIN){d.interTypeName=d.subType=="DMZtrain"?"DMZ train":d.subType;d.publicRoute=e.text("polyline")}else if(d.vehicleType==D.FERRY){d.interTypeName="\uc5ec\uac1d\uc120";d.publicRoute=e.text("polyline")}else if(d.vehicleType==D.AIRPLANE)d.interTypeName="\ud56d\uacf5"}return d};D.prototype.getSummaryNode=function(a){var b=a.text("type"),c=b=="BUSSTOP"?a.text("name")+" \uc815\ub958\uc7a5 ":a.text("name");return{type:a.text("type"),locationName:c,
coords:new daum.maps.Coords(a.number("x"),a.number("y")),typeCode:b=="BUSSTOP"?"":Q.subwayCode[a.text("subwayId")][0],action:a.text("action")}};D.prototype.buildPaths=function(){var a=this.start?new daum.maps.Coords(this.start.number("x"),this.start.number("y")):null,b=this.end?new daum.maps.Coords(this.end.number("x"),this.end.number("y")):null;if(this.routeType==D.INTERCITY){this.targetPath=this.path=[];if(this.vehicleType==D.AIRPLANE)this.targetPath=this.path=this.getCurvePath_(a,b,30);else if(this.publicRoute)this.publicRoute.split("|").forEach(function(a){a=
a.split(",");this.path.push(new daum.maps.Coords(a[0],a[1]))},this);else{this.path.push(a);this.path.push(b)}}else if(this.vehicleType==D.TRANSFER_CUSTOM){this.targetPath=this.publicCustomPath=[];this.publicCustomPath.push(a);this.publicCustomPath.push(b)}else if(this.routeType==D.PUBLICTRAFFIC){var c=[];this.publicSteps?this.publicSteps.forEach(function(a){a.buildPaths();if(a.path||a.walkPath)c=c.concat(a.path||a.walkPath)}):this.publicRoute&&this.publicRoute.split("|").forEach(function(a){a=a.split(",");
c.push(new daum.maps.Coords(a[0],a[1]))},this);this.targetPath=this.vehicleType==D.TRANSFER_WALK?this.publicWalkPath=c:this.publicPath=c}};D.prototype.getCurvePath_=function(a,b,c){var d=b.getX()-a.getX()>0?true:false,e=A.ctr=A.ctr||{};e.control1=this.getControlPosition(a,b,d);e.control10=new daum.maps.Coords((a.getX()+b.getX())/2,(a.getY()+b.getY())/2);e.control11=new daum.maps.Coords((e.control10.getX()+e.control1.getX())/2,(e.control10.getY()+e.control1.getY())/2);e.control12=new daum.maps.Coords((e.control10.getX()+
e.control11.getX())/2,(e.control10.getY()+e.control11.getY())/2);for(var d=e.control12,e=[],c=1/c,f=0;f<0.95;f=f+c){var g=this.getQuadraticCurvePoint_(a.getX(),a.getY(),d.getX(),d.getY(),b.getX(),b.getY(),f);e.push(g)}e.push(b);return e};D.prototype.getMarkerImage=function(a,b){var c=10+(a-1)*46;return new daum.maps.MarkerImage("//t1.daumcdn.net/localimg/localimages/07/2012/img/marker_normal.png",new daum.maps.Size(33,36),{offset:new daum.maps.Point(12,36),spriteSize:new daum.maps.Size(644,946),spriteOrigin:new daum.maps.Point(b,
c)})};D.prototype.getControlPosition=function(a,b,c){var d=new daum.maps.Coords(b.getX()-a.getX(),b.getY()-a.getY()),e=Math.atan2(d.getY(),d.getX()),f=Math.sqrt(Math.pow(d.getX()/2,2)+Math.pow(d.getY()/2,2)),d=f*Math.cos(e)-f*Math.sin(e),e=f*Math.sin(e)+f*Math.cos(e);if(c){d=a.getX()+d;e=a.getY()+e}else{d=b.getX()-d;e=b.getY()-e}return new daum.maps.Coords(d,e)};D.prototype.getQuadraticCurvePoint_=function(a,b,c,d,e,f,g){return new daum.maps.Coords(this.getQBezierValue_(g,a,c,e),this.getQBezierValue_(g,
b,d,f))};D.prototype.getQBezierValue_=function(a,b,c,d){var e=1-a;return e*e*b+2*e*a*c+a*a*d};D.getLabelClassName=function(a){if(a.type===D.TRAIN){if(a.subType==="KTX"||a.subType==="ITX"||a.subType==="SRT")return a.subType.toLowerCase();if(a.subType==="\ubb34\uad81\ud654")return"mugunghwa";if(a.subType==="\uc0c8\ub9c8\uc744")return"saemaeul";if(a.subType==="\ub204\ub9ac\ub85c")return"nuriro";if(a.subType==="DMZ")return"dmzt";if(a.subType==="\ud1b5\uadfc")return"tonggeun";if(a.subType==="DMZtrain")return"dmzt";
if(a.subType==="ITX\uc0c8\ub9c8\uc744")return"itxsae"}else return a.type===D.EXPRESS_BUS||a.type===D.INTERCITY_BUS?a.type.toLowerCase():""};Zb.getIconClassName=function(a){return a.subType==="\ubb34\uad81\ud654"?"MUGUNGHWA":a.subType==="\uc0c8\ub9c8\uc744"?"SAEMAEUL":a.subType==="\ub204\ub9ac\ub85c"?"NURIRO":a.subType==="\ud1b5\uadfc"?"COMMUTER":a.subType==="DMZtrain"?"DMZ":a.subType==="ITX\uc0c8\ub9c8\uc744"?"ITX":a.type==="INTERCITY_BUS"?"INTERCITY":a.type===D.TRAIN?a.subType:a.type};Zb.prototype.buildPaths=
function(){this.totalPaths.length==0&&this.points.forEach(function(a){a.buildPaths();if(a.targetPath)this.totalPaths=this.totalPaths.concat(a.targetPath)},this)};Zb.prototype.getSummaryNode=function(a,b){var c=a.text("name"),d=a.text("type");return{type:"INTERCITY",locationName:c,coords:new daum.maps.Coords(a.number("x"),a.number("y")),typeCode:d.toLowerCase(),vehicle:{type:b.text("type"),subType:b.text("subType")}}};Zb.prototype.getSubTypeCode=function(a){var b="";a=="KTX"?b="KTX":a=="ITX"?b="ITX":
a=="SRT"?b="SRT":a=="\uc0c8\ub9c8\uc744"?b="SAEMAEUL":a=="\ubb34\uad81\ud654"?b="MUGUNGHWA":a=="\ub204\ub9ac\ub85c"?b="NURIRO":a=="\ud1b5\uadfc"?b="TONGGEUN":a=="ITX\uc0c8\ub9c8\uc744"?b="ITXSAEMAEUL":a=="DMZtrain"&&(b="DMZT");return b};Zb.Lazy=function(a){this.get=function(){return new Zb(a)}};Q.DEPARTURE="DEPARTURE";Q.MOVE="MOVE";Q.GETON="GETON";Q.GETOFF="GETOFF";Q.TRANSFER="TRANSFER";Q.ARRIVAL="ARRIVAL";Q.OTHER="OTHER";Q.GETOFF_TRANSFER="GETOFF_TRANSFER";Q.ACTION={MOVE:"\uc774\ub3d9",TRANSFER:"\ud658\uc2b9",
GETON:"\uc2b9\ucc28",GETOFF:"\ud558\ucc28"};Q.subwayCode={SES1:["subway_1","1\ud638\uc120"],SES2:["subway_2","2\ud638\uc120"],SES3:["subway_3","3\ud638\uc120"],SES4:["subway_4","4\ud638\uc120"],SES5:["subway_5","5\ud638\uc120"],SES6:["subway_6","6\ud638\uc120"],SES7:["subway_7","7\ud638\uc120"],SES8:["subway_8","8\ud638\uc120"],SES9:["subway_9","9\ud638\uc120"],SES33:["subway_k","\uacbd\ucd98\uc120"],SES26:["subway_j","\uacbd\uc758\uc911\uc559\uc120"],SES28:["subway_ky","\uacbd\uc758\uc911\uc559\uc120"],
SES23:["subway_minute","\ubd84\ub2f9\uc120"],SES27:["subway_g","\uacf5\ud56d\ucca0\ub3c4"],SES35:["subway_s","\uc218\uc778\uc120"],SES34:["subway_new","\uc2e0\ubd84\ub2f9\uc120"],SES36:["subway_i","\uacbd\uc804\ucca0"],SES37:["subway_ever","\uc5d0\ubc84\ub77c\uc778"],PSS1:["subway_bu1","1\ud638\uc120"],PSS2:["subway_bu2","2\ud638\uc120"],PSS3:["subway_bu3","3\ud638\uc120"],PSS4:["subway_bu4","4\ud638\uc120"],PSS10:["subway_bu10","\ubd80\uc0b0\uae40\ud574 \uacbd\uc804\ucca0"],DGS1:["subway_dae1","1\ud638\uc120"],
DGS2:["subway_dae2","2\ud638\uc120"],DGS3:["subway_dae3","3\ud638\uc120"],KJS1:["subway_kwa1","1\ud638\uc120"],KJS2:["subway_kwa2","2\ud638\uc120"],DJS1:["subway_jeo1","1\ud638\uc120"],SES38:["subway_ml","\uc790\uae30\ubd80\uc0c1"],SES22:["subway_in1","\uc778\ucc9c1\ud638\uc120"],SES39:["subway_in2","\uc778\ucc9c2\ud638\uc120"],SES40:["subway_kk","\uacbd\uac15\uc120"],PSS11:["subway_dh","\ub3d9\ud574\uc120"],SES41:["subway_ui","\uc6b0\uc774\uc2e0\uc124"],SES42:["subway_sh","\uc11c\ud574"]};Q.createFromData=
function(a){var b=new Q;a.text("type");b.action=a.text("action");var c=b.action==Q.ARRIVAL||b.action==Q.GETOFF?a.object("endLocation"):a.object("startLocation");b.coords=new daum.maps.Coords(c.number("x"),c.number("y"));b.confirmid=+c.text("confirmId")?+c.text("confirmId"):null;b.actionName=a.text("actionName");b.walkingGuide=a.bool("walkingGuide");b.name=(c.text("type"),c.text("name"));b.nodes=a.find("nodes").map(function(a){return{name:a.text("name"),type:a.text("type"),coords:new daum.maps.Coords(a.number("x"),
a.number("y"))}});b.distance=a.number("distance.value")||0;b.time=a.text("time.text")||0;if(c.has("roadView"))b.roadview=ab.create(c.object("roadView"));b.type=a.text("type");b.vehicles=[];b.linePath=a.text("polyline");switch(b.type){case "BUS":b.bus=true;b.busLineId=[];b.vehicles=a.find("vehicles").map(function(a){b.busLineId.push(a.text("id"));return{vehicleType:a.text("type").toLowerCase(),subType:a.text("subType"),name:a.text("name"),parentName:a.text("parentName"),lineType:U.TYPE[a.text("subType")],
id:a.text("id"),visible:a.text("visible")=="true",startOrder:a.number("startOrder")}});b.busIconCode=b.vehicles.length!=0?b.vehicles[0].type:null;b.busStop=new ga;b.busStop.id=c.text("id");b.path=[];break;case "SUBWAY":b.subway=true;b.subwayCode=Q.subwayCode[c.text("subwayId")][0];b.subwayStation=new Xa;b.subwayStation.id=c.text("id");b.vehicles=a.find("vehicles").map(function(a){return{vehicleType:a.text("type").toLowerCase(),subType:a.text("subType"),name:a.text("name"),lineType:Q.subwayCode[a.text("id")][0],
id:a.text("id"),visible:a.text("visible")=="true"}});b.subwayLine=Q.subwayCode[c.text("subwayId")][1];b.direction=a.text("direction");if(b.vehicles[0])b.desc=b.vehicles[0].name+" "+a.text("direction")+"\ubc29\uba74";b.moreRoute=b.nodes.length!=0?b.nodes.length+"\uac1c \uc5ed \uc774\ub3d9":"";b.path=[];if(a.text("vehicleId"))b.icon="//t1.daumcdn.net/localimg/localimages/07/subway/nicon/i_subway_"+a.text("vehicleId")+"_t1.gif";if(a.text("fastTransfer"))b.tip="\ube60\ub978 "+b.actionName+" "+a.text("fastTransfer");
if(a.text("walkingPolyline")){a=a.text("walkingPolyline").split("|");b.walkingPolyline=[];for(var c=0,d=a.length;c<d;c=c+2)b.walkingPolyline.push(new daum.maps.Coords(a[c],a[c+1]))}break;case "OTHER":case "WALKING":b.coords=new daum.maps.Coords(a.number("startLocation.x"),a.number("startLocation.y"));b.walk=true;b.walkGroup=Ac();b.walkGroup.roadview=b.roadview;c=a.object("endLocation");d=c.text("name");c.text("type")=="BUSSTOP"?d=d+" \uc815\ub958\uc7a5":c.text("type")=="SUBWAYSTATION"&&a.text("subwayExit")&&
(d=d+(" "+a.text("subwayExit")+"\ubc88 \ucd9c\uad6c"));d=d+"\uae4c\uc9c0 \ub3c4\ubcf4\ub85c \uc774\ub3d9";b.endLocation=a.object("endLocation");a.object("startLocation").text("type")=="SUBWAYSTATION"&&a.text("subwayExit")&&(d=a.text("subwayExit")+"\ubc88 \ucd9c\uad6c\ub85c \ub098\uc640\uc11c, "+d);b.walkGroup.desc=b.desc||d;b.walkGroup.summary="\ub3c4\ubcf4\ub85c \uc774\ub3d9";b.walkGroup.time=a.number("time.value");b.walkGroup.distance=a.number("distance.value");b.walkGroup.walkGuide=a.text("walkingGuide")==
"true";b.walkPath=[]}return b};Q.prototype.buildPaths=function(){var a=this.linePath?this.linePath.split("|"):null,b=this.type=="WALKING"||this.type=="OTHER"?this.walkPath:this.path;if(a)for(var c=0,d=a.length;c<d;c=c+2)b.push(new daum.maps.Coords(a[c],a[c+1]));this.targetPath=b};$b.prototype.buildPaths=function(){this.totalPaths.length==0&&this.points.forEach(function(a){a.buildPaths();if(a=a.path||a.walkPath)this.totalPaths=this.totalPaths.concat(a)},this)};$b.prototype.isLastGetOffItem=function(){var a=
this.points.length-2;if(this.points[a].action=="MOVE")this.points[a-1].lastGetOFf=true;if(this.points[a].action=="GETOFF")this.points[a].lastGetOFf=true};$b.prototype.getSummaryNode=function(a){var b=a.text("type"),c=b=="BUSSTOP"?a.text("name")+" \uc815\ub958\uc7a5 ":a.text("name"),b={type:a.text("type"),locationName:c,coords:new daum.maps.Coords(a.number("x"),a.number("y")),typeCode:b=="BUSSTOP"?"":Q.subwayCode[a.text("subwayId")][0],action:a.text("action")};if(a.text("displayId"))b.displayId=a.text("displayId");
return b};$b.find=function(a,b,c){var d=a.length-1,e=a[0],f=a[d];if(a.length==2&&e.coords&&f.coords){var g=e.coords,h=f.coords;if(e.id&&f.id&&e.id==f.id||g.getX()==h.getX()&&g.getY()==h.getY()){b.call(c,{transitRoutes:[],status:"EQUAL_POINTS",interRoutes:[],interStatus:"EQUAL_POINTS"});return}}var l={};a.forEach(function(a,b){if(b==0||b==d){var c=a.coords,e=b==0?"s":"e";l[e+"X"]=c.getX()|0;l[e+"Y"]=c.getY()|0;l[e+"Name"]=a.name?a.name.trim():"";l[e+"id"]=a.id&&a.id.indexOf("PSS")===-1?a.id?a.id.replace("P",
""):"":a.id||""}});var m=Db();require("server").transitRoute2(l,function(a){m.dispose();var d=[];a.find("in_local.routes").forEach(function(a){d.push(new $b.Lazy(a))});var e=a.object("inter_local.start"),f=a.object("inter_local.end"),e=e?e.raw():{},f=f?f.raw():{};e.type="DEPARTURE";f.type="ARRIVAL";var g=[];a.find("inter_local.routes").forEach(function(a){a.obj_.start=e;a.obj_.end=f;g.push(new Zb.Lazy(a))});b.call(c,{transitRoutes:d,status:a.text("in_local.status")||a.text("in_local_status"),interRoutes:g,
interStatus:a.text("inter_local.status")||a.text("inter_local_status"),mkey:a.text("mkey")})})};$b.Lazy=function(a){this.get=function(){return new $b(a)}};define("model/TransitRouteSummary",[""],function(){function a(){}return{create:function(b){return new a(b)}}});Yb.ACTION_LIST={ENTER_CROSSWALK:0,ENTER_DOUBLE_CROSSWALK:0,ENTER_STAIR:1,ENTER_PEDESTRIAN_OVERPASS:2,ENTER_UNDERGROUND:3,ENTER_ELEVATOR:4,ENTER_UNDERGROUND_BRIDGE:5,ENTER_SUBWAY:8,ENTER_SUBWAY_ELEVATOR:8,EXIT_SUBWAY_ELEVATOR:8,ENTER_PEDESTRIAN_BRIDGE:7,
ENTER_STEPPING_STONE:7,ENTER_ESCALATOR:1};Yb.ROTATIONCODE_LIST=["STRAIGHT","TURN_LEFT","TURN_RIGHT"];jb.RECOMMENDATION="RECOMMENDATION";jb.SHORTEST="SHORTEST";jb.NONE="NONE";jb.AVOID_STAIR="AVOID_STAIR";jb.find=function(a,b,c,d){var e={walkMode:b,walkOption:c,u2X:[],u2Y:[]},f=a.length-1,g=a[0],h=a[f];if(a.length==2&&g.coords&&h.coords){g=g.coords;h=h.coords;if(g.getX()==h.getX()&&g.getY()==h.getY()){h=jb();h.mode=b;h.option=c;h.waypoints=a;h.error=true;h.resultErrorCode="SAME_POINT";d(h);return}}var l=
"";a.forEach(function(a,b){var c=a.coords;if(b!=0&&b!=f&&b!=1){e.u2X.push(c.getX()|0);e.u2Y.push(c.getY()|0)}else{var d=b==0?"s":b==f?"e":"p";e[d+"Name"]=a.name;e[d+"X"]=c.getX()|0;e[d+"Y"]=c.getY()|0}l=l+((a.id?a.id:"")+(b!=f?",":""))});e.ids=l;require("server").walkRoute(e,function(e){var f=jb();f.mode=b;f.option=c;f.waypoints=a;jb.load(f,e);d(f)})};jb.find2=function(a,b,c,d,e,f){require("server").walkRoute({xy:[a.coords.getX(),a.coords.getY(),c.coords.getX(),c.coords.getY()].join(),pointType:[b,
d].join(),eName:e,walkMode:"SHORTEST",grouping:"no"},function(a){var b=jb();b.method="SHORTEST";b.option="NONE";jb.load(b,a);f(b)})};jb.load=function(a,b){a.error="";a.resultErrorCode="";a.bounds=new daum.maps.CoordsBounds(new daum.maps.Coords(b.number("bound.left"),b.number("bound.bottom")),new daum.maps.Coords(b.number("bound.right"),b.number("bound.top")));a.time=b.number("time");a.distance=b.number("length");a.raw=b.obj_;var c=0;if(a.waypoints){var d=Yb();d.seq="start";d.name=a.waypoints[0].name;
d.summary=a.waypoints[0].name;d.coords=a.waypoints[0].coords;a.points.push(d)}var e=b.find("sections").length-1,f=a.sectionPoints=[];if(b.text("resultCode")=="OK")a.error=false;else{a.error=true;a.resultErrorCode=b.text("resultCode")}a.routeMode=b.text("routeMode");var g=0,h=0,l=0,m=0;b.find("sections").forEach(function(b,d){f[d]=[];var k=[],n=b.find("guideList").length;b.find("guideList").forEach(function(b,e){var g=b.text("groupId");g=="-1"&&(g=null);var g=null,h=Yb();h.seq=++c;h.coords=new daum.maps.Coords(b.number("x"),
b.number("y"));if(b.has("subwayStation")){h.subway=b.text("subwayStation.subwayStationName");if(b.has("subwayStation.exitNo"))h.subway=h.subway+(" "+b.text("subwayStation.exitNo")+"\ubc88\ucd9c\uad6c")}h.poi=b.text("poi.placeName");h.confirmid=b.text("poi.confirmId")||null;h.cross=b.text("crossName")||null;h.desc=b.text("guideMent");h.action=b.text("guideCode");h.rotationCode=b.text("rotationCode");h.path=b.text("link.points").split("|").map(function(a){a=a.split(",");return new daum.maps.Coords(a[0],
a[1])});if(b.has("roadView")){var j=new ab;j.panoId=b.text("roadView.panoid");j.pan=b.number("roadView.pan");j.coords=new daum.maps.Coords(b.number("roadView.x"),b.number("roadView.y"));j.thumbnail="http://va.maps.daum-img.net/suggest"+b.text("roadView.filename");h.roadview=j;a.hasRoadviewInfo=true}if(g){k[g].start=k[g].start||h.getSummary();k[g].end=h.getSummary()||k[g].end;k[g].time=k[g].time+b.number("link.time");k[g].distance=k[g].distance+b.number("link.length");k[g].points.push(h)}else a.points.push(h);
h.path.length-1&&(f[d]=f[d].concat(h.path));if(e==n-1&&a.waypoints){j=a.waypoints[d+1].name;if(!g)h.desc="["+j+"] \ub3c4\ucc29"}});g=g+(b.number("calories")||0);h=h+(b.number("facilities.bridge")||0);l=l+(b.number("facilities.underground")||0);m=m+(b.number("facilities.stair")||0);if(d<e&&a.waypoints){var p=a.waypoints[d+1],s=Yb();s.name=p.name;s.summary=p.name;s.coords=p.coords;s.roadview=null;s.desc=s.action=s.rotationCode="";s.seq="through";a.points.push(s)}});a.calories=String.formatNumber(g);
a.bridge=h;a.underground=l;a.stair=m;if(a.waypoints){var d=a.waypoints.length-1,k=Yb();k.seq="goal";k.name=a.waypoints[d].name;k.summary=a.waypoints[d].name;k.coords=a.waypoints[d].coords;a.points.push(k)}a.points.some(function(){});return a};Mb.getModeLineColor=function(a){var b="#7abbff";switch(a){case "SHORTEST":b="#7abbff";break;case "BROAD_FIRST":b="#7abbff";break;case "ACCESSIBLE":b="#7abbff"}return b};Mb.getModeOutLineColor=function(a){var b="#54a8ff";switch(a){case "SHORTEST":b="#54a8ff";
break;case "BROAD_FIRST":b="#54a8ff";break;case "ACCESSIBLE":b="#54a8ff"}return b};Mb.getModeText=function(a){var b=null;switch(a){case "SHORTEST":b="\ucd5c\ub2e8\uac70\ub9ac";break;case "BROAD_FIRST":b="\ud070\uae38\uc6b0\uc120";break;case "ACCESSIBLE":b="\ud3b8\uc548\ud55c\uae38"}return b+" \uacbd\ub85c"};Mb.find=function(a,b){var c={u2X:[],u2Y:[]},d=a.length-1,e=a[0],f=a[d];if(a.length>=2&&e.coords&&f.coords){for(var f=e.coords,g=false,h=1;h<a.length;h++)if(f.getX()===a[h].coords.getX()&&f.getY()===
a[h].coords.getY()||e.id&&a[h].id&&e.id==a[h].id)g=true;else{g=false;break}if(g){e=Mb();e.waypoints=a;e.error=true;e.resultErrorCode="SAME_POINT";b(e);return}}var l="";a.forEach(function(a,b){var e=a.coords;if(b!=0&&b!=d&&b!=1){c.u2X.push(e.getX()|0);c.u2Y.push(e.getY()|0)}else{var f=b==0?"s":b==d?"e":"p";c[f+"Name"]=a.name;c[f+"X"]=e.getX()|0;c[f+"Y"]=e.getY()|0}l=l+((a.id?a.id:"")+(b!=d?",":""))});c.ids=l;require("server").walkSetRoute(c,function(c){var d=Mb();d.waypoints=a;Mb.load(d,c);b(d)})};
Mb.load=function(a,b){a.error="";a.resultErrorCode="";a.bounds=new daum.maps.CoordsBounds(new daum.maps.Coords(b.number("bound.left"),b.number("bound.bottom")),new daum.maps.Coords(b.number("bound.right"),b.number("bound.top")));a.raw=b.obj_;if(b.text("resultCode")=="OK"){a.error=false;var c=b.find("directions").map(function(b){var c=jb();c.waypoints=a.waypoints;return jb.load(c,b)});a.walkRoutes=c.filter(function(a){return!a.error})}else{a.error=true;a.resultErrorCode=b.text("resultCode")}};vb.prototype.loadByCoords_=
function(a){this.name=String.stripTags(a.text("old.name")||a.text("oldRegion"));return this};vb.findByCoords=function(a,b,c){var d=new vb(a,"");require("server").getJibunShape({x:a.getX()|0,y:a.getY()|0},function(a){b.call(c,d.loadByCoords_(a))})};define("model/Weather",["jquery"],function(){function a(a,g){if(g&&g.find("weatherList").length!=0){var h=g.find("weatherList").slice(0,4),l,m=["fst","","","lst"];d=g;l=h[0].text("ampm")=="AM"?c:b;for(var k=0,n=h.length;k<n;k++){var o=h[k].number("temp").toFixed(0);
h[k]=h[k].obj_;h[k].date=l[k];h[k]["class"]=m[k];h[k].temper=o}e={weatherList:h};a&&a(e)}}var b=["\uc624\ub298 \uc624\ud6c4","\ub0b4\uc77c \uc624\uc804","\ub0b4\uc77c \uc624\ud6c4","\ubaa8\ub808 \uc624\uc804"],c=["\ub0b4\uc77c \uc624\uc804","\ub0b4\uc77c \uc624\ud6c4","\ubaa8\ub808 \uc624\uc804","\ubaa8\ub808 \uc624\ud6c4"],d={},e={};return{makeImgTemperTxt:function(a){for(var b=a,a=Number(a).toFixed(0),a=a.split(""),c=[],d=0,e=a.length;d<e;d++)switch(a[d]){case "-":c.push('<span class="minus"></span>');
break;default:c.push('<span class="number'+a[d]+'"></span>')}c.push('<span class="unit"></span>');c.push('<span class="screen_out">'+b+"\ub3c4</span>");return c.join("")},fetch:function(b,c){require("server").weather(b,a.bind(this,c));p.click("control","weather_icon_temp")},getData:function(){return e},getRawData:function(){return d}}});Wc.fetch=function(a,b,c){require("server").getJibunShape({x:a,y:b},Wc.load_.bind(this,c))};Wc.load_=function(a,b){a(new Wc(b),b)};"use strict";define("util/DateFormat",
{zeroPad:function(a,b){var c=b-a.toString().length;return c<0?a:Array(c+1).join("0")+a.toString()},now:function(a){return this.get(new Date,a)},get:function(a,b){var c=["\uc77c\uc694\uc77c","\uc6d4\uc694\uc77c","\ud654\uc694\uc77c","\uc218\uc694\uc77c","\ubaa9\uc694\uc77c","\uae08\uc694\uc77c","\ud1a0\uc694\uc77c"];return b.replace(/(yyyy|yy|MM|dd|E|hh|mm|ss|a\/p)/gi,function(b){switch(b){case "yyyy":return a.getFullYear();case "yy":return this.zeroPad(a.getFullYear()%1E3,2);case "MM":return this.zeroPad(a.getMonth()+
1,2);case "dd":return this.zeroPad(a.getDate(),2);case "E":return c[a.getDay()];case "HH":return this.zeroPad(a.getHours(),2);case "hh":b=a.getHours()%12;return this.zeroPad(b?b:12,2);case "mm":return this.zeroPad(a.getMinutes(),2);case "ss":return this.zeroPad(a.getSeconds(),2);case "a/p":return a.getHours()<12?"\uc624\uc804":"\uc624\ud6c4";default:return b}}.bind(this))}});define("util/Storage",["jquery"],function(a){var b=false,c=null,d=false;try{A.localStorage.setItem("test","1");A.localStorage.removeItem("test");
d=!!A.localStorage&&!!A.JSON}catch(e){d=false}if(d)c=A.localStorage;else{a=a('<a class="userdata"></a>');a.appendTo("body");c=a.get(0);c.addBehavior("#default#userData");c.load(A.location.href);b=true}return{setItem:function(a,d){if(b){c.setAttribute(a,d);c.save(A.location.href)}else c.setItem(a,d)},getItem:function(a){var d=null;return d=b?c.getAttribute(a):c.getItem(a)},removeItem:function(a){if(b){c.setAttribute(a,"null");c.save(A.location.href)}else c.removeItem(a)}}});"use strict";define("util/nohash",
{load:function(a){a.on("click",function(a){for(var c=a.target;c&&c.tagName!="DIV";c=c.parentNode)if(c.href&&/#(none)*$/.test(c.href)){a.preventDefault();break}})}});ic.prototype.clickHandler_=function(){var a={cpg:this.dssAddressObj.cpg+","+(this.seq+1),tab:this.dssAddressObj.tab,in_map:this.dssAddressObj.in_map,sorttype:this.dssAddressObj.sorttype,mkey:this.dssAddressObj.mkey};a.analysis=this.dssAddressObj.analysis;if(this.addressModel.docid)a.docid=this.addressModel.docid;if(this.dssAddressObj.srcid)a.srcid=
this.dssAddressObj.srcid;if(this.dssAddressObj.cidx!=void 0)a.cidx=this.dssAddressObj.cidx;z.logPathSearchOutWithArgs("_address_name",a);this.click_()};ic.prototype.setActive=function(a){this.panel_.toggleClass("AddressFlagItemView-ACTIVE",!!a);this.flagInfoLayer_.setVisible(false);this.active_=!!a};ic.prototype.setPointIcon=function(){};ic.prototype.setDssAddressObj=function(a){this.dssAddressObj=a};ic.prototype.setSeq=function(a){this.seq=a};Nb.prototype.detail_=!1;Nb.prototype.setDetail=function(){};
Nb.prototype.setSecondNameBy_=function(a){this.secondName_.setText(String.cut(this.secondNameText_,a))};Nb.prototype.clickSelf_=function(){this.detail_||this.setDetail(true)};Nb.prototype.clickDetailBtn=function(a){if(this.getActive()){a.preventDefault();a.stopPropagation();p.click("businfo",this.detail_?"bus_number_up_arrow":"bus_number_down_arrow");this.setDetail(!this.detail_)}};Nb.prototype.clickFiyBtn=function(){this.rawData_.fromChannel="BUSSTOP_REALTRAFFIC";Application.fiyFrameController.open({type:"bus",
rawInfo:this.rawData_,channel:"DETAIL_BUS"});p.click("businfo","bus_tooltip_fiy")};Nb.prototype.setData=function(a){Application.busLineController.setDataWithLoad(a)};Nb.prototype.updateVehicles_=function(a){if(a.vehicles){this.positions_.setVehicles(a.vehicles);this.loadingBar_.start()}else this.loadingBar_.stop();var b=a.busStops;b&&b.length==this.busStopsView_.length&&b.forEach(function(a,b){this.busStopsView_[b].setSpeed(a.nextLinkSpeed)},this);this.loadingBar_.setType(!(!a.vehicles||!a.vehicles.length),
a.realtimeState,a.realtimeMessage)};Nb.prototype.update_=function(){this.getVisible()&&U.findBusLine(this.busLineCode_,this.updateVehicles_,this)};Nb.prototype.openBusStop_=function(a,b){Application.infoWindowManager.close();ga.find(a,function(a){Application.map.setLevel(3);Application.map.panTo(a.coords);setTimeout(function(){Application.infoWindowManager.createBusStop(a,b)}.bind(this),250)}.bind(this))};Nb.prototype.setFavorite=function(a){this.favorite_.setClass("fav-ON",a)};ub.prototype.setSpot=
function(a,b,c){this.stopId_=a||null;this.busStopAction_=b||null;this.order_=+(c||0)};ub.prototype.initScrollView=function(){this.scrollView_=null;this.initSpot()};ub.prototype.initSpot=function(){this.stopId_=this.busStopAction_=null;this.order_=0};ub.prototype.clickFiyBtn=function(){this.rawData_.fromChannel="BUSSTOP_INFO";Application.fiyFrameController.open({type:"bus",rawInfo:this.rawData_,channel:"DETAIL_BUS"});p.click("businfo","bus_tooltip_fiy")};ub.prototype.setData=function(a){this.rawData_=
a.rawData.raw();this.summary_.removeClass("detail");this.detail_.hide();this.summary_.removeAllChildren();this.detail_.removeAllChildren();this.progressbar_.removeAllChildren();var b=this.name_=new h("strong","tit_summary"),c=new h("span","busType "+a.type);this.position_.setType(a.type);b.addChild(c);b.addChild(new h("span","busname",a.name));b.setTitle(a.name);var c=this.destination_=new h("p","totalPath"),d=new h("span"),e=new h("span"),f=a.start,g=a.end;d.setTitle(f);e.setTitle(g);f.length+g.length>
21&&(f.length>g.length?f=String.cut(f,21-g.length):g=String.cut(g,21-f.length));c.addChild(d.addText(f));c.addChild(new h("span","arrow"));c.addChild(e.addText(g));this.summary_.addChild(b);this.summary_.addChild(c);b=null;b=new h("p","info first_line");b.addText("\uccab\ucc28 ");a.startTime!=="-"?b.addText(a.startTime):b.addChild(new h("span","empty","\uc815\ubcf4\uc5c6\uc74c"));b.addChild(new h("span","bar"));b.addText("\ub9c9\ucc28 ");a.endTime!=="-"?b.addText(a.endTime):b.addChild(new h("span",
"empty","\uc815\ubcf4\uc5c6\uc74c"));this.summary_.addChild(b);b=new h("p","info");b.addText("\ubc30\ucc28\uac04\uaca9 ");a.interval!=="-"?b.addText(a.interval):b.addChild(new h("span","empty","\uc815\ubcf4\uc5c6\uc74c"));if(["NOSUPPORT","NOVEHICLE","ERROR"].indexOf(a.realtimeState)===-1&&a.realtimeMessage){b.addChild(new h("span","bar"));b.addText(a.realtimeMessage)}this.summary_.addChild(b);c=new h("p","info_nobus");c.setVisible(false);this.addChild(c);this.summary_.addChild(c);c=new h("p","contact");
c.setHTML('<a href="#none" class="report">\uc815\ubcf4\uc218\uc815</a>');c._pane.on("click",".report",this.clickFiyBtn.bind(this));this.summary_.addChild(c);c=new h("div","infoEtc");d=jQuery('<a href="#" class="ICON-fav"></a>');d.append('<span class="img_BusLineView">\uc990\uaca8\ucc3e\uae30</span><span class="num">0</span>');d.click(function(){p.click("favorite",["busline","tooltip"])});this.buttonFactory_.createFavorite(d,t.createFromBusLine(a));c.addChild(d);d=new h("a","fit");d.setHTML('<span class="txt_fit">\uc804\uccb4\ub178\uc120</span>');
d.onClick.add(function(){this.onViewport.notify(null)},this);c.addChild(d);d=this.noRealBusBar_=new h("div","noRealBusBar");d.addChild(new h("p","noReadlBusText",""));c.addChild(d);this.summary_.addChild(c);var j=a.busDetailInfo;if(j&&j.variable){var l=this.detailInfoBtn_=new h("a","detailInfoBtn");l.setHTML('\ub354\ubcf4\uae30<span class="img_BusLineView"></span>');b.addChild(l);l.onClick.add(function(a){a.preventDefault();if(this.detail_.hasClass("HIDDEN")){this.summary_.addClass("detail");this.detail_.show();
l.setHTML('\uc811\uae30<span class="img_BusLineView"></span>')}else{this.summary_.removeClass("detail");this.detail_.hide();l.setHTML('\ub354\ubcf4\uae30<span class="img_BusLineView"></span>')}},this);var m=F("BusDetailInfo");if(j.firstLastTime.length>0){b=[];c=[];d=[];f=null;for(e=e=0;e<j.firstLastTime.length;e++){f=j.firstLastTime[e];b.push(f.day);c.push(f.startPointTime);d.push(f.turningPointTime)}f="";if(c.join("").replace(/~/g,"")!==""){f=f+'<tr><th scope="row"><span class="img_BusLineView badge_start">\uae30\uc810</span></th>';
for(e=0;e<c.length;e++)f=f+("<td>"+b[e]+" <em>"+c[e]+"</em></td>");f=f+"</tr>"}if(d.join("").replace(/~/g,"")!==""){f=f+'<tr><th scope="row"><span class="img_BusLineView badge_episode">\ud68c\ucc28</span></th>';for(e=0;e<d.length;e++)f=f+("<td>"+b[e]+" <em>"+d[e]+"</em></td>");f=f+"</tr>"}b=jQuery(f);if(j.startPointId)b.on("click",".badge_start",function(){this.openBusStop_(j.startPointId,a.id)}.bind(this));if(j.turningPointId)b.on("click",".badge_episode",function(){this.openBusStop_(j.turningPointId,
a.id)}.bind(this));m.$("firstLastList").append(b)}else m.$("firstLast").hide();if(j.interval.length>0){var k="";j.interval.forEach(function(a,b){k=k+(a.day+" <em>"+a.peek+(b<j.interval.length-1?", ":"")+"</em>");m.$("intervalList").html(k)})}else{m.$("interval").hide();m.addClass("noInterval")}this.detail_.addChild(m)}this.busProviderInfo_.removeAllClass();this.busProviderInfo_.addClass("busProviderInfo");this.progressbar_.addChild(this.progress_=new Hb("BusLineView"));if(b=U.PROVIDER_NAME[a.providerId]){this.progressbar_.addChild('<p class="providerName">'+
b+" \uc81c\uacf5</p>").show();this.progress_.onComplete.add(function(){this.refreshBtnClick.notify(null)},this)}else this.progressbar_.hide();var b=!(!a.vehicles||!a.vehicles.length),n=a.realTime;n?this.noRealBusBar_.removeClass("noRealBusBar-ACTIVE"):this.noRealBusBar_.addClass("noRealBusBar-ACTIVE");this.list_.removeAllChildren();this.busStopsView_.length=0;var o=-1;a.busStops.forEach(function(b,c){var d=new $e(b,a,this.buttonFactory_);if(b.virtual)d.setNonstop();else{d.onClick.add(function(){this.onBusLineItemClick.notify(b)},
this);d.onFavClick.add(function(){p.click("favorite",["busstopline","tooltip_busline"])})}a.busStops.length-1===c&&d.setLastView();d.setLine(n);if(this.stopId_&&this.stopId_==b.id){d.setBoardLabel(this.busStopAction_);o=c}this.busStopsView_.push(d);this.list_.addChild(d.getPane())},this);this.order_&&(this.order_>0&&a.busStops.length>=this.order_)&&(o=this.order_-1);if(o>-1&&this.busStopsView_[o]){this.highlightView_=this.busStopsView_[o].getPane();if(this.busStopsView_[o-2])this.scrollView_=this.busStopsView_[o-
2].getPane()}this.busStopsView_.length&&this.busStopsView_[this.busStopsView_.length-1].setSpeed(0);this.setClass("BusLineView-Vehicles",b);this.progress_.setActive(n);this.position_.setVisible(b);this.busProviderInfo_.setVisible(n);n&&this.setVehicles(a.vehicles,null,a.realtimeState,a.realtimeMessage);this.initSpot()};ub.prototype.scrollToBusStop=function(){this.scroll_.getElement().scrollTop=0;this.scroll_.getElement().scrollTop=this.scrollView_.position().top;this.initScrollView()};ub.prototype.highlightToBusStop=
function(){this.highlightView_.find(".busNumberWrap").css("backgroundColor","rgba(51,150,255,.05)");this.highlightView_=null};ub.prototype.setVehicles=function(a,b,c,d){if(a){this.position_.setVehicles(a);this.progress_.start()}else this.progress_.stop();b&&b.length==this.busStopsView_.length&&b.forEach(function(a,b){this.busStopsView_[b].setSpeed(a.nextLinkSpeed)},this);this.progress_.setType(!(!a||!a.length),c,d)};ub.prototype.setTiaraFlag=function(a){this.busToolTipFlag_=a};ub.prototype.setFavorite_=
function(a){this.favorite_.setClass("fav-ON",a)};ub.prototype.openBusStop_=function(a,b){Application.infoWindowManager.close();ga.find(a,function(a){Application.map.setLevel(3);Application.map.panTo(a.coords);setTimeout(function(){Application.infoWindowManager.createBusStop(a,b)}.bind(this),250)}.bind(this))};define("view/BusLineView",["factory/ButtonFactory"],H(ub));Hb.prototype.start=function(){var a=new Date;this.due_=+a+6E4;var b=""+(1E6+((a.getHours()+11)%12+1)*1E4+a.getMinutes()*100+a.getSeconds());
this.timestamp_.setText(a.getMonth()+1+"/"+a.getDate()+" "+a.getHours()+":"+b.substring(3,5));this.countDown_();this.timer_.start()};Hb.prototype.countDown_=function(){var a=this.due_-Date.now();if(a>0)Math.max(0,a*44/6E4);else if(++this.count_<=3){this.update_();this.onComplete.notify()}};Hb.prototype.stop=function(){this.timer_&&this.timer_.stop()};Hb.prototype.update_=function(){this.timer_.stop();this.setClass("BusLoadProgressBar-UPDATED",true);(new zb(2500,this.hideUpdated_.bind(this))).start()};
Hb.prototype.force_=function(){this.update_();this.onComplete.notify();this.itemName_&&p.click("businfo",this.itemName_)};Hb.prototype.hideUpdated_=function(){this.setClass("BusLoadProgressBar-UPDATED",false)};Hb.prototype.setItemName_=function(a){return a=="BusStopInfoWindow"?"busstop_tooltip_realtime_update":a=="BusLineItemView"?"realtime_update":""};Hb.prototype.setType=function(a,b,c){this.reload_.setVisible(true);var d=jQuery(this.getElement()).closest(".busLineWrap").find(".summary .info_nobus"),
e='<span class="img_BusLineView"></span>';d.html(c?e+c:b=="ERROR"?e+"\uc2e4\uc2dc\uac04 \uc2dc\uc2a4\ud15c \uc810\uac80\uc911":e+"\ud604\uc7ac \uc6b4\ud589\uc911\uc778 \ubc84\uc2a4 \uc5c6\uc74c").toggleClass("HIDDEN",a)};jd.prototype.setVehicles=function(a){console.assert(Array.isArray(a));this.removeAllChildren();a.map(function(a){var c=this.type_?this.type_:"",d=new h("span","icon"),e=new h("div","name"),f=new h("span","fst"),g=new h("span","lst");a.first?c="first":a.last?c="last":a.type===qc.TYPE_SECOND_FLOOR&&
(c=c+" second");if(a.number){var j=new h("span","contents"),l=a.number.substring(a.number.length,a.number.length-4);j.addChild(new h("span","number",l));if(a.type)(l=a.type===qc.TYPE_LOW?"\uc800\uc0c1":a.type===qc.TYPE_BENDY?"\uad74\uc808":"")&&j.addChild(new h("em","blue",l));if(a.status=="DELAY"){e.addClass("twoLines");j.addChild(new h("span","delay","(\uc815\ubcf4\uc9c0\uc5f0)"))}e.addChild(f);e.addChild(j);e.addChild(g)}d.addClass(c);c=new h("div","position",[d,e]);c.setPosition(void 0,a.position*
45+23|0);this.addChild(c)},this)};jd.prototype.setType=function(a){this.type_=a};bc.prototype.clickHandler_=function(){var a={cpg:this.dssBusStopObj.cpg+","+(this.seq+1),tab:this.dssBusStopObj.tab,in_map:this.dssBusStopObj.in_map,sorttype:this.dssBusStopObj.sorttype,mkey:this.dssBusStopObj.mkey};a.analysis=this.dssBusStopObj.analysis;if(this.busstopModel.id)a.docid=this.busstopModel.id;if(this.dssBusStopObj.srcid)a.srcid=this.dssBusStopObj.srcid;if(this.dssBusStopObj.cidx!=void 0)a.cidx=this.dssBusStopObj.cidx;
z.logPathSearchOutWithArgs("_busstation",a);this.click_()};bc.prototype.setSeq=function(a){this.seq=a};bc.prototype.setRegion=function(a){this.region_.setText(a.slice(0,2))};bc.prototype.setActive=function(a){this.selected_=!!a;this.panel_.setClass("BusStopFlagItem-ACTIVE",this.selected_);this.flagInfoLayer_.setVisible(false)};bc.prototype.setPointIcon=function(){};bc.prototype.setDssBusStopObj=function(a){this.dssBusStopObj=a};Xc.prototype.updateFav=function(a){if(a)this.fav_=a;if(this.fav_){if(a=
Application.favoriteController.findFavorite(this.fav_)){var b=a.count<10?a.count:"10";this.favorite_._pane.find(".num").attr("class","num num"+b).text(a.count)}this.favorite_.setClass("favorite-active",!!a)}};Xc.prototype.clickFavorite_=function(){this.onClick.notify({id:"favorite",fav:this.fav_})};Xc.prototype.clickPrint_=function(){this.onClick.notify({id:"print"})};Xc.prototype.clickAlook_=function(){this.onClick.notify({id:"alook"})};define("view/CarRoutePaySettingView",["options"],H(function(a){function b(a){r=
a;q[a-1].attr("checked",true)}function c(a){x=a;t.text(B[a-1].text());w.removeClass("opt_open");a=f[a-1];s.html(a.date.replace(/-/g,"."));u.html(String.formatNumber(a.price)+"\uc6d0/L")}function d(){y.val(m);b(h);c(l);w.removeClass("opt_open")}function e(){jQuery("#dimmedLayer").addClass("HIDDEN").off("click",e);v.hide()}var a=a.gasPrice,f=[{price:a.avgGasPrice||0,date:a.gasDate||""},{price:a.avgDieselPrice||0,date:a.dieselDate||""},{price:a.avgLpgPrice||0,date:a.lpgDate||""}],g=this.onChange=new n,
h=1,l=1,m=13;if(a=jQuery.cookie("map_oil_set")){a=a.split("_");if(a.length==3){h=a[0];l=a[1];m=a[2]}}var k=f[l-1].price.toFixed(0),v=F("CarRoutePaySettingView");v.hide();var a=v.$("paySettingForm"),o=v.$("closeBtn"),r=h,x=l;jQuery("body").append(v.getElement());o.on("click",function(){this.hide()}.bind(this));a.on("submit",function(){var a=+y.val();if(typeof a!="number"||!(a<=100)||!(a>0)||a.toFixed(2)!=a){y.focusAndSelect();alert("\uc62c\ubc14\ub978 \uc5f0\ube44\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694.\n(100km/L \uc774\ud558 \uc18c\uc218\uc810 \ub458\uc9f8 \uc790\ub9ac\uae4c\uc9c0\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4)")}else{h=
r;l=x;m=y.val();k=f[l-1].price.toFixed(0);jQuery.cookie("map_oil_set",h+"_"+l+"_"+m,{expires:365});g.notify();p.click("route","go_car_payset_submit");z.log("search_path_click_configure",null,{data1:h+","+(l==3?"lpg":l==2?"diesel":"gasoline")});this.hide()}}.bind(this));var q=[v.$("radioCarType1"),v.$("radioCarType2"),v.$("radioCarType3"),v.$("radioCarType4"),v.$("radioCarType5"),v.$("radioCarType6")];v.$("radioCarSpan1");v.$("radioCarSpan2");v.$("radioCarSpan3");v.$("radioCarSpan4");v.$("radioCarSpan5");
v.$("radioCarSpan6");var s=v.$("refuelDate"),u=v.$("refuelPrice");q.forEach(function(a,c){a.on("click",function(){b(c+1)})});var w=v.$("setRefuel"),t=v.$("setRefuelText"),a=v.$("gasoline"),o=v.$("light"),A=v.$("lpg"),y=v.$("setMileage"),B=[a,o,A];t.on("click",function(){w.hasClass("opt_open")?w.removeClass("opt_open"):w.addClass("opt_open")});B.forEach(function(a,b){a.on("click",function(){c(b+1)})});d();this.getCarType=function(){return h};this.getOilValue=function(){return k};this.getMileage=function(){return m};
this.init=function(){d()};this.show=function(){jQuery("#dimmedLayer").removeClass("HIDDEN").on("click",e);v.show()};this.hide=e;this.getPane=function(){return v}}));define("view/CarRouteResultView",["view/StartEndPointItemView","view/CarRoutePaySettingView"],H(function(a,b){function c(a){y&&(!y.is(a.target)&&y.has(a.target).length==0)&&d()}function d(){y.removeClass("opt_open");jQuery(document).off("mousedown touchstart",c)}function e(a){j();m=a;f(a.method,a.option);a.carRoutes.forEach(function(a,
b){var c=new oe(a);c.setCarInfo(ba,da,ca);a.toll=c.getTollValue();c.onHover.add(function(a){if(T){c.setHover(a);q.notify({index:b,hover:a})}else if(a){if(Q&&Q!=c){Q.setHover(false);q.notify({index:ua,hover:false})}c.setHover(true);q.notify({index:b,hover:true})}if(a){Q=c;ua=b}});c.onDetail.add(function(a){W=c.checkpoints_;if(Q&&Q!=c){Q.setHover(false);q.notify({index:ua,hover:false})}N.forEach(function(c,d){b!=d?c.setDetail(false):c.setDetail(a)});s.notify({index:b,detail:a})});c.onCheckpoint.add(function(a){u.notify(a)});
c.onRoadview.add(function(a){w.notify(a)});c.onAccClick.add(function(a){t.notify(a)});c.onRoadviewVideo.add(function(){z.notify()});X.addChild(c.getPanel());N.push(c);if(b==0){c.onDetail.notify(true);p.click("route","go_car")}})}function f(a,b){var c=0;a==V.REALTIME?b==V.OPTION_FREEWAY?c=1:b==V.OPTION_BIKE?c=3:P.addClass("ico_choiced"):a==V.OPTIMAL?P.removeClass("ico_choiced"):a==V.SHORTEST&&(c=2);(a!=k||b!=v)&&g(c)}function g(a){k=o[a];v=r[a];if(a==0&&P.hasClass("ico_choiced"))k=V.REALTIME;J.toggle(a==
0);a===0?M.removeClass("HIDDEN"):M.addClass("HIDDEN");G.text(U[a].text())}function j(){X.removeAllChildren();N.length=0;m=T=null}fa(this,h,"div","CarRouteResultView");var l=this,m=null,k=V.REALTIME,v=V.OPTION_NONE,o=[V.OPTIMAL,V.REALTIME,V.SHORTEST,V.REALTIME],r=[V.OPTION_NONE,V.OPTION_FREEWAY,V.OPTION_NONE,V.OPTION_BIKE],x=this.onChange=new n,q=this.onItemHover=new n,s=this.onItemDetail=new n,u=this.onCheckpoint=new n,w=this.onRoadview=new n,t=this.onAccClick=new n;this.onSearchBtnClick=new n;var z=
this.onRoadviewVideo=new n;this.onDestination=new n;var A=F("CarRouteResultView");l.addChild(A);var y=A.$("option"),B=A.$("menu"),G=A.$("optionText"),E=A.$("recomm"),D=A.$("freeway"),H=A.$("shortest"),L=A.$("bike"),J=A.$("realtime"),M=A.$("realtimeBar"),aa=A.$("realCheckBox"),P=A.$("realCheck"),A=A.$("payset");G.on("click",function(){if(y.hasClass("opt_open"))d();else{y.addClass("opt_open");jQuery(document).one("mousedown touchstart",c)}});A.on("click",function(){b.init();b.show();p.click("route",
"go_car_payset")});var U=[E,D,H,L];U.forEach(function(a,b){a.on("click",function(){d();if(!Application.isLoadingViewShow){g(b);x.notify()}})});aa.on("click",function(){P.hasClass("ico_choiced")?P.removeClass("ico_choiced"):P.addClass("ico_choiced");if(!Application.isLoadingViewShow){g(0);x.notify()}});b.getPane();var Q=null,ua=0,N=[],T=null,X=new h("ul","list");l.addChild(X);var $=new h("p","daumNotice HIDDEN");$.addChild(new h("span","notice_icon","\uc544\uc774\ucf58"));var ga=new h("span","notice_text");
$.addChild(ga);this.addChild($);var ia=this.goToTopPanel=new h("div","info_top"),E=this.goToTopBtn=new h("a","link_top","\uc704\ub85c \uac00\uae30");E.hide();ia.addChild(E);this.addChild(ia);this.goToTopBtn.onClick.add(function(){h.$("info.body").scrollTo(0)},this);E=new h("div","info_fixroute");this.addChild(E);E.addChild(new h("strong","tit_carsource","\uacbd\ub85c \uc815\ubcf4 \uc81c\uacf5 : \uce74\uce74\uc624\ub0b4\ube44"));D=new h("a","link_fixroute");H=new h("span");H.setHTML("\uae38\ucc3e\uae30 \uc815\ubcf4\uac00 \uc798\ubabb\ub418\uc5c8\ub098\uc694?<br/>\uc798\ubabb\ub41c \uc815\ubcf4 \uc81c\ubcf4\ub294 \uc9c0\ub3c4 \ud488\uc9c8 \ud5a5\uc0c1\uc5d0 \ud070 \ub3c4\uc6c0\uc774 \ub429\ub2c8\ub2e4.");
E.addChild(H);E.addChild(D);D.onClick.add(function(){if(m&&m.carRoutes){var a={routeType:"car",searchInfo:{mode:"car",searchMode:k,option:v},carRoutes:[],isSelectRoute:false};jQuery(m.carRoutes).each(function(b,c){var d=jQuery.extend({},c.raw);d.isDetailOpen=N[b].isDetailOpen();if(d.isDetailOpen)a.isSelectRoute=true;a.carRoutes.push(d)});Application.fiyFrameController.open({type:"route",rawInfo:a,channel:"ROUTE_LIST_BOT"});p.click("route","go_car_fiy")}},this);var W=[],ba=b.getCarType(),da=b.getOilValue(),
ca=b.getMileage();b.onChange.add(function(){ba=b.getCarType();da=b.getOilValue();ca=b.getMileage();l.removeClass("paysetting_on");N.forEach(function(a,b){a.setCarInfo(ba,da,ca);m.carRoutes[b].toll=a.getTollValue()})});this.setOptionPanel=function(a,b){f(a,b)};this.setData=function(a){e(a)};this.getMode=function(){return k};this.getOption=function(){return v};this.setOption=function(a){v=a};this.setIndex=function(a){T&&T.setIndex(a)};this.clickableRoadviewVideo=function(){N[0]&&N[0].clickableRoadviewVideo()};
this.initDetailedItem=function(){T&&T.inActiveSeqView();T=null};this.setDetailedItem=function(a){T&&T.inActiveSeqView();T=null;T=N[a]};this.clear=function(){j()};this.getCheckpoints=function(){return W};this.initHover=function(){if(N[0]){N[0].setHover(true);Q=N[0];ua=0}};this.setDaumNotice=function(a){a&&ga.setHTML("\uacbd\uc6b0\uc5d0 \ub530\ub77c \ud55c\uac00\uc9c0 \uacbd\ub85c\ub9cc<br/>\uc81c\uacf5\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4.");$.setVisible(a)};this.setPartialResultNotice=function(a){a&&
ga.setHTML("\uacbd\uc6b0\uc5d0 \ub530\ub77c \ud55c\uac00\uc9c0 \uacbd\ub85c\ub9cc<br/>\uc81c\uacf5\ub420 \uc218 \uc788\uc2b5\ub2c8\ub2e4.");$.setVisible(a)};this.setNoResult=function(a){if(a){l.addClass("CarRouteResultView-NORESULT");ia.hide();B.hide();l.removeClass("HIDDEN")}else{ia.show();B.show();l.removeClass("CarRouteResultView-NORESULT")}}}));db.TYPE_LAYER=0;db.TYPE_FIND_WAY=1;db.TYPE_BOOKMARK=2;db.TYPE_LIST=[db.TYPE_LAYER,db.TYPE_FIND_WAY,db.TYPE_BOOKMARK];"use strict";define("view/FavoriteListView",
[],H(function(){function a(){ya=za.find("[data-id=header]").empty();Ea=za.$("tab");var a={isFolder:oa,isOtherPage:ea,filterData:la.filterData};if(oa)Ea.show();else{Ea.hide();var b=la.folderInfo;a.isViewCount=parseInt(b.viewCount)===b.viewCount;a.isSubscribeCount=parseInt(b.subscribeCount)===b.subscribeCount;a.isPrivate=b.status==="P";a.folderInfo=b}if(ea){var c=a.selectInfo=jQuery.extend({},la.selectInfo),d=c.profileStatus!=="S",e=c.profileImage&&c.profileImage!=="null"?c.profileImage:"",f="C28x28";
if(oa&&!e){e="https://t1.daumcdn.net/localimg/localimages/07/2018/pc/title/empty_user2x.png";f="C88x88"}if(d){e="https://t1.daumcdn.net/localimg/localimages/07/2018/pc/favorite/img_accused.png";a.selectInfo.isTempProfile=c.profileStatus==="T"}a.selectInfo.isReportProfile=d;a.selectInfo.isProfileImage=!!e;a.selectInfo.nickName=c.nickName||"";a.selectInfo.profileThumbnail=require("url").TENTH_THUMB+f+"/?fname="+encodeURIComponent(e)}a=F("FavoriteHeaderView",a);a.appendTo(ya);a.$("detailBackBtn").click(y);
if(ea){var g=a.$("setting");a.$("more").click(function(){g.show()});a.$("report").click(function(){p.click("other",["profile","profile_report"]);c.profileStatus!=="S"?alert("\uc2e0\uace0 \ucc98\ub9ac\ub41c \ud504\ub85c\ud544\uc785\ub2c8\ub2e4."):ca.notify({type:"profile",querystring:"?mapUserId="+c.mapUserId});g.hide()});a.$("close").click(z);a.$("detailCloseBtn").click(z);a.$("historyBack").click(w);a.$("tab").find("li").click(r);a.$("profileLink").click(function(){var a=u();p.click("other",[a.viewType,
(b.cp?"theme_folder":"other_folder")+"_nickname"]);M(b)})}if(la.filterData.opts.length===0)oa?ya.$("folderFilters").hide():ya.$("favoriteFilters").hide();else{d=oa?ya.$("folderFilters"):ya.$("favoriteFilters");a=new Ed(d,la.filterData);d=new Ed(d,{selected:{name:la.filterData.sortName},opts:[{name:"\ub4f1\ub85d\uc21c",type:t.CREATE_AT},{name:"\uc774\ub984\uc21c",type:t.DISPLAY1}]});a.onClickOption.add(B);d.onClickOption.add(D)}}function b(){if(ea){toolbar=wa.find("[data-id=toolbar]");toolbar.toggleClass("HIDDEN",
oa).off();if(!oa){var a=la.folderInfo.isSubscribe?'<span class="ico_function ico_cancel"></span>\uad6c\ub3c5\ucde8\uc18c':'<span class="ico_function ico_edit"></span>\uad6c\ub3c5\ud558\uae30';toolbar.$("subscribe").html(a);toolbar.on("click","[data-id=share]",function(){p.click("other",["favorite","folder_share"]);S.notify(la.folderInfo)}).on("click","[data-id=info]",function(){p.click("other",["favorite","folder_info"]);cb.notify(la.folderInfo)}).on("click","[data-id=subscribe]",function(){la.folderInfo.isSubscribe=
!la.folderInfo.isSubscribe;p.click("other",["favorite",(la.folderInfo.cp?"theme_":"folder_")+(la.folderInfo.isSubscribe?"follow":"unfollow")]);aa({onOff:la.folderInfo.isSubscribe,folderInfo:la.folderInfo})})}}else{sa=jQuery("#info\\.my\\.footer").empty();a=F("FavoriteFooterView",{isFolder:oa,isEmpty:Ia.length===0,isShareable:!(la.folderInfo&&(la.folderInfo.folderId===0||la.folderInfo.status==="P"))});sa.append(a);a.$("disabledEdit").click(function(){alert("\ud3b8\uc9d1\ud560 \uc990\uaca8\ucc3e\uae30\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.")});
a.$("edit").click(e);a.$("select").click(g);a.$("remove").click(m);if(oa)a.$("add").click(k);else{a.$("share").click(function(){p.click("my",["favorite","folder_share"]);S.notify(la.folderInfo)});a.$("info").click(function(){p.click("my",["favorite","folder_info"]);cb.notify(la.folderInfo)});a.$("copy").click(l)}}}function c(){Ia.forEach(function(a){if(a.type=="busstop"&&a.buslines){var b=a.buslines.split(",").map(function(a){return a.split("#")[0]});ga.findTransitBusStop(a.key,b,function(a){return function(b){var c=
ma.find("[data-id=busstopline][data-key="+a.key+"]");c.empty();b.lines.forEach(function(b){var d=U.TYPE[b.type]||b.type,e=U.STRING[d],f=b.firstName,g="",h=b.secondName||"";if(b.direction){g=b.direction;b.arrival&&(g=b.arrival.direction2||b.arrival.direction||b.direction)}b=jQuery('<li><strong class="tit_bus"><span class="BUS-'+d+'">'+e+'</span><a href="#none" class="link_bus" data-stopid='+a.key+" data-lineid="+b.id+'><span class="num">'+f+"</span> "+h+"</a></strong>"+(g?' <span class="txt_dir">'+
g+"</span>":"")+"</li>");c.append(b).show()})}}(a))}})}function d(a){if(a.type!="busstopline"){var b=null,b=ea?ma:ma.find(">ul");if(oa){b=new cf(b,a,ea,Ba);b.onShare.add(P);b.onSubscribe.add(aa);b.onViewOnMap.add(Q);b.onFolderInfo.add(J);b.onOtherPage.add(M)}else{b=new df(b,la.folderInfo,a,ea);b.onRegister.add(L);b.onClickInvalid.add(v)}b.onClick.add(H);b.onModify.add(G);b.onRemove.add(E);b.onReport.add(K);b.onSelectItem.add(f)}}function e(){if(Ia.length>0){var a=u(),b=!ma.hasClass("editMode");p.click(a.pageType,
[a.viewType,"edit_"+a.viewType+"_list"+(!b?"_close":"")]);ma.find("li").toggleClass("FavoriteDirectoryItem-MODIFY",b);va.$("banner").toggle(!b);sa.$("options").toggle(b);sa.$("share").toggle(!b);sa.$("info").toggle(!b);sa.$("add").toggle(!b);sa.$("edit").text(b?"\ud3b8\uc9d1\ub2eb\uae30":"\ud3b8\uc9d1\ud558\uae30");ma.toggleClass("editMode",b);ma.find("li:not(.READONLY) .inp_directory").prop("checked",false);ma.scrollTop(0);f()}}function f(){var a=ma.find("li:not(.READONLY)").find(".inp_directory:checked").length>
0,b=ma.find("li .inp_directory:checked").length;sa.$("select").text(a?"\uc120\ud0dd \ud574\uc81c":"\uc804\uccb4 \uc120\ud0dd");if(b>0){sa.$("copySpan").hide();sa.$("removeSpan").hide();sa.$("remove").text("\uc0ad\uc81c "+b).show();sa.$("copy").text("\ubcf5\uc0ac "+b).show()}else{sa.$("copySpan").show();sa.$("removeSpan").show();sa.$("remove").hide();sa.$("copy").hide()}}function g(){var a=ma.find("li:not(.READONLY)"),b=a.find(".inp_directory:checked").length>0;a.find(".inp_directory").prop("checked",
!b);f()}function h(){var a=ma.find("li input.inp_directory:checked"),b=oa?"folderId":"seq",c=[],d=[];a.each(function(){c.push(parseInt(this.value))});Ia.forEach(function(a){c.indexOf(a[b])!==-1&&d.push(a)});return d}function l(){var a=h(),b=[];a.forEach(function(a){(a.status==="A"||a.status==="T")&&b.push(a.seq)});if(b.length>0){alert("\uc2e0\uace0\ub41c \uc990\uaca8\ucc3e\uae30\ub294 \ubcf5\uc0ac\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.");b.forEach(function(a){ma.find("#fav_"+a).prop("checked",false)});
f()}else a.length>0&&ha.notify(a)}function m(){var a=h();a.length>0&&ja.notify(a)}function k(){if(!ea){p.click("my",["folder","add_new_folder"]);mb.notify()}}function v(a){var b=a.position;Ha.offset({top:b.top-81,left:b.left+168});Ha.show();Ha.find(".closeNDelete").off().on("click",function(){W.notify({id:a.id});Ha.offset({top:0,left:0});Ha.hide()});onToggle.add(function(a){if(!a){Ha.offset({top:0,left:0});Ha.hide()}})}function o(){var a={};Ia.some(function(b){if(b.mapUserId===la.selectInfo.mapUserId){a=
b;if(b.cp)return true}});return a}function r(a){a=jQuery(a.currentTarget).data("type");q(a);p.click("other",a==="favorite"?"folder":"review")}function x(a){var b=wa.find("[data-id=tab] li");b.removeClass("ACTIVE");b.filter("[data-type="+a+"]").addClass("ACTIVE");jQuery("#other\\.favorite, #other\\.review").addClass("HIDDEN");jQuery("#other\\."+a).removeClass("HIDDEN");jQuery("[data-id=folderFilters]").toggleClass("HIDDEN",a==="review");jQuery("[data-id=reviewFilters]").toggleClass("HIDDEN",a!=="review")}
function q(a){x(a);if(a==="favorite")N.notify();else if(a==="review"){a=la.selectInfo.cp;if(!a){var b=o();!la.selectInfo.cp&&!b.cp?Pa.notify(la.selectInfo.mapUserId):a=true}if(a){z();alert("\uc811\uadfc\ud560 \uc218 \uc5c6\ub294 \ud398\uc774\uc9c0\uc785\ub2c8\ub2e4.");A.location.href=require("url").MAP_DAUM_NET;return}}s()}function s(){if(ea){var a=jQuery(A).height();wa.find(">div:not(.HIDDEN, [data-id=body])").each(function(b,c){var d=jQuery(c);a=a-d.outerHeight(true)});wa.find("[data-id=body]").height(a)}else{var b=
ya.outerHeight(true);oa&&(b=b+Ea.outerHeight(true));ma.height(jQuery("#info\\.body").outerHeight(true)-b)}}function u(){return{pageType:ea?"other":"my",viewType:ra===t.VIEW_MODE.FOLDER?"folder":"favorite"}}function w(){ia.notify({item:la.selectInfo})}function z(){wa.hide();ia.notify({isClose:true})}function y(){ea?w():T.notify()}function B(a){ba.notify(a)}function D(a){$.notify(a)}function H(a){ma.hasClass("editMode")||da.notify(a)}function G(a){fa.notify(a)}function E(a){W.notify(a)}function K(a){ca.notify(a)}
function L(a){Ka.notify(a)}function J(a){cb.notify(a)}function M(a){lb.notify(a)}function P(a){S.notify(a)}function aa(a){ka.notify(a)}function Q(a){pa.notify(a)}function V(a){Na.notify(a)}function X(a){qa.notify(a)}function ua(a){ta.notify(a)}var N=this.onClickTab=new n,T=this.onClickBack=new n,ba=this.onClickFilter=new n,$=this.onClickSort=new n,da=this.onClickItem=new n,ia=this.onHistoryBack=new n,W=this.onRemoveItem=new n,ca=this.onReportItem=new n,fa=this.onEditItem=new n,ja=this.onRemoveSelectedItem=
new n,ha=this.onCopySelectedItem=new n,S=this.onShare=new n,ka=this.onSubscribe=new n,pa=this.onViewOnMap=new n,cb=this.onFolderInfo=new n,lb=this.onOtherPage=new n,mb=this.onAddFolder=new n,Pa=this.onReviewTabClick=new n,Ka=this.onRegisterItem=new n,Na=this.onStaticRegistClick=new n,qa=this.onStaticRemoveClick=new n,ta=this.onStaticItemClick=new n;this.onRegistStaticFromFavorite=new n;var ra=t.VIEW_MODE.FOLDER,la=null,ea=false,oa=true,Aa="",Ba=null,va=jQuery("#info\\.my"),wa=jQuery("#info\\.other"),
za=va,ya,sa,Ea,ma,Ja=va.$("staticList"),La=new re(Ja,{staticMode:"home",onRegistClick:V,onRemoveClick:X,onItemClick:ua}),Ma=new re(Ja,{staticMode:"company",onRegistClick:V,onRemoveClick:X,onItemClick:ua}),Ia=[],Ha=jQuery("#validPlaceInfo");jQuery(document).on("mousedown touchstart",function(a){(a=jQuery(a.target))&&a.closest("[data-id=setting]").length===0&&za.find("[data-id=setting]").hide()});jQuery(".FavoriteBookmarkLink .link_bookmark").on("click",function(){p.click("import_daummaps_favorites",
["menu_my","banner"]);A.location.href="/user/signup"});this.setStaticData=function(a,b){a=="home"?La.setData(b):a=="company"&&Ma.setData(b)};this.hasStaticData=function(a){if(a=="home")return La.hasData();if(a=="company")return Ma.hasData()};this.setList=function(e,f,g){ra=e;la=g;ea=!!la.isOtherPage;oa=ra===t.VIEW_MODE.FOLDER;Ba=ea?la.selectInfo.mapUserId:la.mapUserId;Aa="migrationBanner_"+la.mapUserId;Ia=f;ea&&x("favorite");wa.toggleClass("HIDDEN",!ea);za=ea?wa:va;ma=za.$("list");ma.removeClass("editMode");
a();b();if(ea){e=za.$("listNone");ma.empty()}else{e=ya.$("listNone");ma.find(">ul").empty()}s();e.toggleClass("FavoriteEmptyDetail",!oa);if(f.length){e.hide();ma.show();f.map(d);f=ea?wa.find("[data-id=body]"):ma;(la.isMigration||jQuery.cookie(Aa)==="close")&&va.$("banner").remove();if(oa){va.$("banner").show();va.$("bannerClose").click(function(){jQuery.cookie(Aa,"close",{expires:999});va.$("banner").remove()});f.scrollTop(la.prevScrollPos||0)}else{va.$("banner").hide();c();f.scrollTop(0)}ma.on("click",
".link_busline",function(a){a.preventDefault();a=jQuery(a.currentTarget).data();da.notify({type:"busstopline",key:a.stopid+"@"+a.lineid})})}else{if(ea){f=oa?"\uacf5\uac1c\ub41c \ud3f4\ub354\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.":"\uc800\uc7a5\ud55c \uc990\uaca8\ucc3e\uae30\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.";e.find(".desc_empty").text(f)}e.show();ma.hide()}};this.setOtherPageTab=q;this.setViewOpt=function(a){la=a||{}};this.otherPageClose=z;this.getShareInfo=function(){return{mapuserid:Ba,viewMode:ra,canShare:la.folderInfo&&
la.folderInfo.status==="O",folderid:la.folderInfo?la.folderInfo.folderId:null,nickname:la.selectInfo&&la.selectInfo.nickName,profileImage:la.selectInfo?la.selectInfo.profileImage:"",profileStatus:la.selectInfo?la.selectInfo.profileStatus:"S"}}}));define("view/FavoriteManageView",["jquery","util/Storage"],function(a,b){function c(a,b,c){var d=true,a=jQuery("#"+a);if(a.length)if(b&&a.val().length===0){c&&alert(c);d=false}else{var b=RegExp("[\ud800-\udbff][\udc00-\udfff]|[\ud8c0-\udabf][\udc00-\udfff]|[\udac0-\udb7f][\udc00-\udfff]|[\udb80-\udbbf][\udc00-\udfff]|[\udbc0-\udbff][\udc00-\udfff]",
"g"),c=a.val(),e=b.test(c);if(e){alert("\ud5c8\uc6a9\ud560 \uc218 \uc5c6\ub294 \ubb38\uc790\uac00 \ud3ec\ud568\ub418\uc5c8\uc2b5\ub2c8\ub2e4.");a.val(c.replace(b,""))}if(!(b=e)){b=parseInt(a.attr("maxlength")||"0");c=a.val();(c=b>0&&b<c.length)&&alert("\ucd5c\ub300 "+b+"\uc790\uae4c\uc9c0 \uc785\ub825 \uac00\ub2a5\ud569\ub2c8\ub2e4.");b=c}b&&(d=false)}else return false;d||a.focus();return d}function d(a,b){var c=t.getFavDisplays(a,b);da.attr("placeholder",c.name||"")}function e(a){var b=null;if(a.type===
"busstop"){b=a.key;ga.find(b,function(b){b.id&&d(a.type,b)})}else if(a.type==="place"){b=a.key;qa.findPlace(b,function(b){b&&d(a.type,b)})}else if(a.type==="subwaystation"){b=a.key;require("server").stationInfo(b,function(b){if(b.text("subwayId")){b=new Xa(b);d(a.type,b)}})}else if(a.type==="busline"){b=a.key;U.findBusLine(b,function(b){b.id&&d(a.type,b)})}else a.type==="address"||a.type==="point"?require("server").getJibunShape({x:a.x,y:a.y},function(b){var c=new Ma(b);c.zonenum=b.text("new_zipcode");
c.oldname=b.text("old.name");c.otherName=b.text("old.name");c.key=b.text("docid");d(a.type,c)}):a.type==="roadview"?require("server").roadviewSmart({ID:a.key,PX:a.x,PY:a.y},function(b){var c=b.number("street_view.0.cnt"),b=b.object("street_view.1.street").object("value.0"),e=b.text("addr");b.text("area_type")==="station"?require("server").roadviewStation({SKETCHID:b.text("area_id"),PX:b.text("sketchx"),PY:b.text("sketchy"),RAD:110},function(b){c=b.number("street_view.0.cnt");if(c>0){b=b.object("street_view.1.street.1.spot");
e=b.text("value.0.dir")||b.text("spot.dir")||e;d(a.type,{name:e})}}):d(a.type,{name:e})}):a.type==="storeview"?require("server").storeviewData(a.key,function(b){d(a.type,{name:b.text("storeview.placeFullName")})}):a.route_form&&d(a.type,a.originDisplay||a.route_form)}function f(a){B.toggleClass("HIDDEN",a!==$);D.toggleClass("HIDDEN",a!==ba);H.toggleClass("HIDDEN",a!==ia);G.toggleClass("HIDDEN",a!==W);E.toggleClass("HIDDEN",a!==ca);K.toggleClass("HIDDEN",a!==ea);L.toggleClass("HIDDEN",a!==fa);ha=a;
var a="50%",b="-225px",c="-161px";if(ha===W){b="-179px";c="-232px"}else if(ha===$){c="150px";b="-165px";a=0}else if(ha===ia){b="-215px";c="-183px"}else if(ha===ba)b="-168px";else if(ha===ca)c="-195px";else if(ha===ea)c="-87px";else if(ha===fa){b="-152px";c="-116px"}y.css({marginLeft:b,marginTop:c,top:a})}function g(){var a=y.height();a>0&&y.css({marginTop:"-"+parseInt((a+1)/2)+"px"})}function h(a,b){l(a,b);var c=B.find(".layer_body"),d=c.scrollTop(),e=d-25,f=d+25;c.off("scroll.addFav").on("scroll.addFav",
function(){var a=c.scrollTop();if(a<e||a>f){ua.find("li").removeClass("ACTIVE");D.hide();c.off("scroll.addFav")}})}function l(a,c){S||(S={});S.fav=a;S.folderInfo=c;var d=!!a.seq,g=D.find("form"),h=a.type&&t.COLOR_ICON_TYPE_LIST.indexOf(a.type)!==-1,j=a.type&&a.type.indexOf("route_")!==-1,l="\uc990\uaca8\ucc3e\uae30 \uc800\uc7a5 \ud3fc",m="\uc990\uaca8\ucc3e\uae30 \uc800\uc7a5",n=b.getItem(t.DEFAULT_COLOR_PRIFIX+c.mapUserId)||t.DEFAULT_COLOR;if(d){l="\uc990\uaca8\ucc3e\uae30 \uc218\uc815 \ud3fc";m=
"\uc990\uaca8\ucc3e\uae30 \uc218\uc815";n=a.color}D.find(".layer_body > *").filter("strong, ul.list_inp").toggleClass("HIDDEN",!h);D.find("legend").text(l).end().find(".tit_interlock").text(m).end().find(".list_inp li input:checked").prop("checked",false);h&&D.find("[data-color="+n+"] input").prop("checked",true);h=g.find("#display1");g=g.find("#favMemo");if(ka){h.val("");g.val("")}h.attr("maxlength",j?200:50);if(d){h.attr("placeholder","");e(a,"display1")}else h.attr("placeholder",a.display1||"");
h.val(a.display1||"");g.val(a.memo||"");j={position:"relative",top:"unset",left:"unset"};if(d){f(ba);k();require("log/Tiara").log("/fake/favorite_edit")}else{g=B.find("[data-folderid="+c.folderId+"]").position().top-5;h=y.width()-20;j.position="absolute";j.top=g;j.left=h;D.show();D.one("click",".btn_close",function(){p.click("favorite",["step2_favorite_info","close_favorite_info"]);ua.find("li").removeClass("ACTIVE");D.hide()});require("log/Tiara").log("/fake/add_favorite2")}D.css(j).toggleClass("inner_favorite_notail",
d).find(".btn_close").toggleClass("part_close",!d);aa.focus()}function m(a,b){S={};var c=a&&parseInt(a.folderId)===a.folderId,d=G.find("form"),e="\uc0c8 \ud3f4\ub354 \ucd94\uac00 \ud3fc",g="\uc0c8 \ud3f4\ub354 \ucd94\uac00",h=t.DEFAULT_ICON,j=true,l=(b&&b.viewOnMapCount!==void 0?b.viewOnMapCount:0)<t.MAX_VIEW_ON_MAP_COUNT,m=l,n="",o="",p="";if(c){e="\ud3f4\ub354 \uc218\uc815 \ud3fc";g="\ud3f4\ub354 \uc218\uc815";h=a.icon;j=a.status==="O";l=a.isFixed||l;m=a.isFixed;n=a.folderId;o=a.title;p=a.memo}T.find(">li").removeClass("on");
ka&&d.find("#folderName").val("").end().find("#memo").val("");var q=t.ICON_MAP[h];d.find("legend").text(e).end().find(".tit_interlock").text(g).end().find("[data-icon="+h+"]").addClass("on").end().find(".ico_seleced").removeAttr("class").addClass("ico_seleced "+q).end().find("#openPublic").prop("checked",j).end().find("#showMap").prop("checked",m).data("isAddable",l).end().find("#editFolderId").val(n).end().find("#folderName").val(o).end().find("#memo").val(p);if(b&&b.fav)S.referer=b;f(W);k();c?require("log/Tiara").log("/fake/folder_edit"):
require("log/Tiara").log("/fake/add_folder");d.find("#folderName").trigger("focus")}function k(){y.show();y.attr("tabindex",-1).focus().removeAttr("tabindex");J.show();J.on("click",v)}function v(){y.hide();J.hide();J.off("click",v)}var o=new n,r=new n,x=new n,q=new n,s=new n,u=new n,w=new n,z=new n,y=F("FavoriteManageView").appendTo(a("body")),B=y.$("folderSelectLayer"),D=y.$("addFavoriteLayer"),H=y.$("folderInfoLayer"),G=y.$("addFolderLayer"),E=y.$("addHomeLayer"),K=y.$("removeHomeLayer"),L=y.$("resultLayer"),
M=y.$("registerList"),J=a("#dimmedLayer"),P=y.$("addFolderOK"),aa=y.$("addOK"),Q=y.$("removeOK"),V=y.$("resultOK"),X=y.$("addHomeOK"),ua=y.find(".list_folder"),N=y.find(".btn_option"),T=y.find(".list_option"),da=y.find("#display1"),$="folderSelect",ba="favoriteAdd",ia="folderInfo",W="folderAdd",ca="addHome",ea="removeHome",fa="result",ha=W,S=null,ja=navigator.userAgent.toLowerCase(),ka=A.navigator.appName=="Netscape"&&ja.indexOf("trident")!=-1||ja.indexOf("msie")!=-1;ka&&y.find("input[type=text]").prop("readonly",
false);y.on("focus blur","input[type=text]",function(a){if(!ka){var b=a.type==="focus"||a.type==="focusin";jQuery(a.currentTarget).prop("readonly",!b)}});y.on("click",".btn_close",function(a){if(!jQuery(a.currentTarget).hasClass("part_close")){ha===$?p.click("favorite",["step1_select_folder","close_select_folder"]):ha===ba&&p.click("favorite",["step2_favorite_info","close_favorite_info"]);v();S=null}});y.on("click",".btn_cancel",v);D.on("click","#display1",function(){p.click("favorite",["step2_select_folder",
"edit_favorite_name"])}).on("click","#favMemo",function(){p.click("favorite",["step2_select_folder","edit_memo"])}).on("click","[name=favoriteColor]",function(){p.click("favorite",["step2_select_folder","edit_color"])});P.click(function(a){a.preventDefault();var a=G.find("form"),b=T.find("li.on").data("icon"),d=a.find("#openPublic").is(":checked")?"O":"P",e=!!a.find("#showMap").is(":checked"),f=a.find("#showMap").data("isAddable");a.find("input[type=text]").each(function(a,b){b.value=b.value.trim()});
if(c("folderName",true,"\ud3f4\ub354\uba85\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694.")&&c("memo"))if(e&&!f)alert("\uc9c0\ub3c4 \uc704\uc5d0 \ud45c\uc2dc\ud560 \ud3f4\ub354\ub294 \ucd5c\ub300 "+t.MAX_VIEW_ON_MAP_COUNT+"\uac1c\uae4c\uc9c0 \uc120\ud0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.");else{var f=a.find("#editFolderId").val(),g=a.find("#folderName");if(f)S.folderId=parseInt(f);S.title=g.val();S.memo=a.find("#memo").val();S.icon=b;S.status=d;S.viewOnMap=e;o.notify(S);g.focus()}});N.click(function(b){b.preventDefault();
var c=a("body"),d=T.hasClass("HIDDEN");T.toggleClass("HIDDEN",!d);c.off("click.folderAddOptionsHide");if(d)c.on("click.folderAddOptionsHide",function(d){if(b.currentTarget!==d.target&&T.get(0)!==d.target&&!a.contains(T.get(0),d.target)){T.addClass("HIDDEN");c.off("click.folderAddOptionsHide")}})});T.find(">li").click(function(b){b.preventDefault();var b=a(b.currentTarget),c=t.ICON_MAP[b.data("icon")];T.find(">li").removeClass("on");b.addClass("on");y.find(".ico_seleced").removeAttr("class").addClass("ico_seleced "+
c);T.addClass("HIDDEN")});V.click(v);M.on("click","li",function(a){M.find("li").removeClass("choiced_result");jQuery(a.currentTarget).addClass("choiced_result")});ua.on("click","li",function(b){ua.find("li").removeClass("ACTIVE");D.hide();var b=a(b.currentTarget),c=b.data("folderid"),d={},e=0;S.folderList&&S.folderList.forEach(function(a){a.folderId===c&&(d=a);a.isFixed&&e++});if(b.hasClass("ADD")){p.click("favorite",["step1_select_folder","add_new_folder"]);S.folderList.length<100?m({},{type:"folderSelect",
fav:S.fav,viewOnMapCount:e}):alert("\ucd5c\ub300 100\uac1c\uae4c\uc9c0 \uc0dd\uc131 \uac00\ub2a5\ud569\ub2c8\ub2e4.")}else if(b.hasClass("THEME"))b.hasClass("CP")?alert("\ud14c\ub9c8\ub294 \ud3b8\uc9d1\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."):alert("\ud14c\ub9c8\ub294 \ud3b8\uc9d1\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uad6c\ub3c5 \ucde8\uc18c\ub294 \ub9c8\uc774\ud398\uc774\uc9c0\uc5d0\uc11c \uac00\ub2a5\ud569\ub2c8\ub2e4.");else if(b.hasClass("OTHER"))alert("\uad6c\ub3c5\ud55c \ud3f4\ub354\ub294 \ud3b8\uc9d1\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4. \uad6c\ub3c5 \ucde8\uc18c\ub294 \ub9c8\uc774\ud398\uc774\uc9c0\uc5d0\uc11c \uac00\ub2a5\ud569\ub2c8\ub2e4.");
else if(b.hasClass("SAVED")){p.click("favorite",["step1_select_folder","deselect_folder"]);S.fav.folderId=c;S.folderInfo=d;s.notify(S.fav);v()}else if(S.fav instanceof Array){r.notify({favItems:S.fav,folderInfo:d});v()}else if(S.fav.type==="busstopline"){p.click("favorite",["step1_select_folder","select_folder"]);S.folderInfo=d;var f=jQuery.extend({},S.fav);f.folderId=d.folderId;f.color=t.DEFAULT_COLOR;delete f.folderIdMap;delete f.count;delete f.createdAt;f.display2.trim()===""?ga.find(f.key,function(a){if(a.id){f.display2=
a.hname;x.notify(f)}}):x.notify(f)}else{p.click("favorite",["step1_select_folder","select_folder"]);delete S.fav.seq;b.addClass("ACTIVE");h(S.fav,d)}});aa.click(function(a){a.preventDefault();p.click("favorite",["step2_favorite_info","complete"]);var d=D.find("form"),a=d.find("#display1");d.find("input[type=text]").each(function(a,b){b.value=b.value.trim()});a.val()||a.val(a.attr("placeholder")||"");if(c("display1",true,"\uc990\uaca8\ucc3e\uae30\uba85\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694.")&&
c("favMemo")){var e=d.find("#favMemo").val(),d=d.find("[name=favoriteColor]:checked").closest("li").data("color")||"";S.fav.color=d;var f=jQuery.extend({},S.fav);f.folderId=S.folderInfo.folderId;f.display1=a.val();f.memo=e;delete f.folderIdMap;delete f.count;delete f.createdAt;d&&b.setItem(t.DEFAULT_COLOR_PRIFIX+S.folderInfo.mapUserId,d);f.seq?q.notify(f):x.notify(f);v()}});Q.click(function(){s.notify(S);v()});X.click(function(){var b=M.find(".choiced_result"),c=M.find("li"),d=null;if(b.length>0){c.each(function(b,
c){a(c).hasClass("choiced_result")&&(d=S.selectedList[b])});u.notify({removeItem:{seq:d.seq,onOff:false,folderId:d.folderId},addItem:S.addData});v()}else A.alert("\uc81c\uac70\ud560 \ud56d\ubaa9\uc744 \uc120\ud0dd\ud574 \uc8fc\uc138\uc694.");return false});f(W);return{show:k,hide:v,setLayerMode:f,showFolderSelectView:function(a,b){var c=a instanceof Array;S={isAddAfter:!(!S||!S.referer),fav:a,folderList:b};var d="",e=jQuery('<div><li>                    <a href="#none" class="link_folder">                        <span class="ico_folder"></span>                        <span class="tit_folder">                            <span class="utile_folder">                                <span class="ico_favorite ico_lock">\uc7a0\uae40</span>                                <span class="ico_favorite ico_fix HIDDEN">\uace0\uc815</span>                                <span class="ico_favorite ico_theme HIDDEN">\ud14c\ub9c8</span>                            </span>                            <strong class="txt_folder">\uae30\ubcf8\ud3f4\ub354</strong>                        </span>                        <span class="txt_user HIDDEN"></span>                    </a>                    <button type="button" class="btn_release">\ud574\uc81c</button>                </li></div>');
b.forEach(function(a){var b=a.folderType==="M",c=a.folderType==="T";if(!a.isSelected&&!(a.status==="A"||a.status==="D"||!b&&a.status==="P")&&(a.status!=="T"||a.status==="T"&&b&&a.isSaved)){e.find(">li").toggleClass("CP",a.cp).toggleClass("THEME",c).toggleClass("OTHER",!b).toggleClass("TEMP",a.status==="T").toggleClass("SAVED",a.isSaved).attr("data-folderid",a.folderId).find(".ico_folder").removeAttr("class").addClass("ico_folder "+t.ICON_MAP[a.icon||t.DEFAULT_ICON]).end().find(".ico_lock").toggle(a.status===
"P").end().find(".ico_fix").toggle(a.isFixed).end().find(".ico_theme").toggle(c).end().find(".txt_folder").text(a.title);if(!b){b=a.nickName||"";c=a.profileImage&&a.profileImage!=="null"?a.profileImage:"";if(a.profileStatus!=="S"){c="https://t1.daumcdn.net/localimg/localimages/07/2018/pc/favorite/img_accused.png";b=a.profileStatus==="T"?"\uc784\uc2dc\uc870\uce58\ub41c \ud504\ub85c\ud544\uc785\ub2c8\ub2e4.":"\uc0ad\uc81c\ub41c \ud504\ub85c\ud544\uc785\ub2c8\ub2e4."}a=require("url").TENTH_THUMB+"C28x28/?fname="+
encodeURIComponent(c);e.find(".txt_user").empty().html('<span class="wrap_thumb">'+(c?'<img src="'+a+'" width="14" height="14" alt="">':"")+"</span>").append(b).show()}d=d+e.html()}});ua.find("li:not(.ADD)").remove().end().append(d);B.find(".layer_head .tit_interlock").text(c?"\ubcf5\uc0ac\ud560 \ud3f4\ub354 \uc120\ud0dd":"\ud3f4\ub354 \uc120\ud0dd");f($);k();require("log/Tiara").log("/fake/add_favorite1");if(S.isAddAfter){c=B.find("li[data-folderid="+b[1].folderId+"]");c.length>0&&c.trigger("click")}B.find(".layer_body").scrollTop(0)},
showAddFavoriteView:l,showAddFolderView:m,showFolderInfoView:function(a){var b=a.folderId===0,c=a.profileStatus!=="S",d=a.profileImage&&a.profileImage!=="null"?a.profileImage:"";c&&(d="https://t1.daumcdn.net/localimg/localimages/07/2018/pc/favorite/img_accused.png");d=jQuery.extend({},a,{isDefaultFolder:b,isPrivate:a.status==="P",isMemo:!!a.memo,isProfileImage:!!d,profileThumbnail:require("url").TENTH_THUMB+"C17x17/?fname="+encodeURIComponent(d),favoriteCount:String.formatNumber(parseInt(a.favoriteCount)),
nickName:a.nickName||""});if(c)d.nickName=a.profileStatus==="T"?"\uc784\uc2dc\uc870\uce58\ub41c \ud504\ub85c\ud544\uc785\ub2c8\ub2e4.":"\uc0ad\uc81c\ub41c \ud504\ub85c\ud544\uc785\ub2c8\ub2e4.";if(!b){d.subscribeCount=String.formatNumber(parseInt(a.subscribeCount));d.viewCount=String.formatNumber(parseInt(a.viewCount));d.createdAt=a.createdAt?a.createdAt.split(" ")[0].replace(/-/g,"."):""}b=F("FavoriteFolderInfoView",d);b.$("profileLink").click(function(){v();w.notify(a)});H.find(".layer_body").empty().append(b);
f(ia);k();require("log/Tiara").log("/fake/folderinfo")},showAddHomeView:function(b){if(b){S=b;M.empty();a(b.selectedList).each(function(a,b){F("FavoriteStaticSearchItemView",{inputName:"addHome",idx:a,nameDisp:b.display1,secondDisp:b.display2}).appendTo(M)});M.find("li:first").addClass("choiced_result").find("input[type=radio]").prop("checked",true);f(ca);k();require("log/Tiara").log("/fake/add_homelist");E.find(".btn_cancel").focus()}},showResultView:function(a,b){var c,d;if(a==="remove"){d="release";
c=""}else{var e;if(b){d=b.fav;e=b.folderInfo}else if(S){d=S.fav;e=S.folderInfo}d=d||{};e=e||{};c=t.ICON_MAP[e.icon||t.DEFAULT_ICON];d=d&&d.color?"type"+d.color:"release"}var h="";if(a==="add"){h=e&&e.folderId===0;h='<span class="txt_toast"><a href="#none">'+(h?"\uae30\ubcf8\ud3f4\ub354":String.format("%h",e.title))+"</a>"+(h?"\uc5d0":"")+"</span>"+(h?"":"\ud3f4\ub354\uc5d0 ")+"\uc800\uc7a5\ub418\uc5c8\uc2b5\ub2c8\ub2e4."}else h="\uc990\uaca8\ucc3e\uae30\uac00 "+(a==="remove"?"\uc0ad\uc81c":"\uc218\uc815")+
"\ub418\uc5c8\uc2b5\ub2c8\ub2e4.";L.find(".ico_toast:first").removeAttr("class").addClass("ico_toast "+d).end().find(".ico_toast:last").removeAttr("class").addClass("ico_toast "+c).end().find(".desc_toast").html(h).off("click").on("click",".txt_toast a",function(a){a.preventDefault();z.notify(e);v()});f(fa);k();setTimeout(function(){ha===fa&&v()},2E3);g();V.focus()},onAddFolderClick:o,onCopySelectFolder:r,onAddClick:x,onEditClick:q,onRemoveClick:s,onRegisterSelected:u,onClickProfile:w,onClickFolderName:z,
FOLDER_SELECT_LAYER:$,ADD_FAVORITE_LAYER:ba,ADD_FOLDER_LAYER:W,FOLDER_INFO_LAYER:ia,ADD_HOME_LAYER:ca,REMOVE_HOME_LAYER:ea,RESULT_LAYER:fa}});"use strict";define("view/FavoriteStaticManageView",["jquery"],function(a){function b(a,b){M=a;if(M=="home"){o.find(".type_name").text("\uc9d1");o.find(".type_name2").text("\uc9d1\uc73c");o.find(".type_name3").text("\uc9d1\uc744")}else{o.find(".type_name").text("\ud68c\uc0ac");o.find(".type_name2").text("\ud68c\uc0ac");o.find(".type_name3").text("\ud68c\uc0ac\ub97c")}o.find(".layer_head .tit_interlock").contents().filter(function(){return this.nodeType===
3}).replaceWith(b?" \uc218\uc815":" \ub4f1\ub85d")}function c(a){r.toggleClass("HIDDEN",a!=E);x.toggleClass("HIDDEN",a!=D);u.val("");h(false);H=a;g()}function d(b){b.preventDefault;b={q:a.trim(u.val()),msFlag:"A",sort:0,gb:"R"};y.text("");require("server").search(b,e);return false}function e(b){u.blur();var c=b.raw();L=[];var d=1;h(true);a(c.address).each(function(a,b){var e={type:"address"};e.id=b.docid;e.nameOrigin=b.addr;e.nameDisp=b.addr.replace(c.org_query,'<em class="emph_accord">'+c.org_query+
"</em>");e.inputName="searchAddress";e.idx=d;e.x=b.x;e.y=b.y;e.origin=b;d++;L.push(e)});a(c.place).each(function(a,b){var e={type:"place"};e.id=b.confirmid;e.nameOrigin=b.name;e.nameDisp=b.name.replace(c.org_query,'<em class="emph_accord">'+c.org_query+"</em>");e.inputName="searchAddress";e.idx=d;e.x=b.x;e.y=b.y;e.origin=b;if(b.new_address_disp)e.secondDisp=b.new_address_disp.split("|").join(" ");else if(b.address_disp)e.secondDisp=b.address_disp.split("|").join(" ");d++;L.push(e)});a(c.busStop).each(function(a,
b){var e={type:"busstop"};e.id=b.DOCID;e.nameOrigin=b.BUSSTOP_NAME;e.nameDisp=b.BUSSTOP_NAME.replace(c.org_query,'<em class="emph_accord">'+c.org_query+"</em>")+" \uc815\ub958\uc7a5";e.idx=d;e.x=b.x||b.wx;e.y=b.y||b.wy;e.origin=b;e.secondDisp=b.STOP_ID;d++;L.push(e)});L.length>0?a(L).each(function(a,b){F("FavoriteStaticSearchItemView",b).appendTo(y)}):a('<li class="search_no_result"><span>\uac80\uc0c9\uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.</span></li>').appendTo(y);y.scrollTop(0)}function f(){var b=
y.find(".choiced_result"),c=y.find("li"),d=null;if(b.length>0){c.each(function(b,c){a(c).hasClass("choiced_result")&&(d=L[b])});k.notify({staticMode:M,data:d});m()}else alert("\uc6d0\ud558\uc2dc\ub294 \uc7a5\uc18c\ub098 \uc8fc\uc18c\ub97c \uc120\ud0dd\ud574\uc8fc\uc138\uc694.")}function g(){var a="-80px";H==D&&(a="-310px");H==E&&s.hasClass("result_location")&&(a="-310px");o.css({marginLeft:"-225px",marginTop:a})}function h(a){s.toggleClass("result_location",a===true);g()}function l(a){a&&c(a);o.show();
q.show();q.on("click",m)}function m(){o.hide();q.hide();q.off("click",m)}var k=new n,p=new n,o=F("FavoriteStaticManageView").appendTo(a("body")),r=o.$("searchLayer"),x=o.$("resultLayer"),q=a("#dimmedLayer"),s=o.$("searchBody"),u=o.$("favoriteSearchQuery"),w=o.$("findBtn"),t=u.parent(),z=t.find(".lab_region"),y=o.$("resultList"),A=o.$("connectOK"),B=o.$("searchOK"),G=o.$("resultOK"),E="search",D="result",H=E,L=[],M="home",J=null;o.find(".btn_close").click(m);o.find(".btn_cancel").click(m);G.click(m);
u.on("focus",function(){t.addClass("on_favorite");z.hide()});u.on("blur",function(){t.removeClass("on_favorite");a.trim(u.val()).length==0&&z.show()});w.on("click",d);s.on("submit",d);y.on("click","li",function(b){var c=a(b.currentTarget);b.preventDefault();if(!c.hasClass("search_no_result")){y.find("li").removeClass("choiced_result");c.addClass("choiced_result");f()}});A.on("click",function(){m();p.notify()});B.on("click",f);b("home");c(E);return{show:l,hide:m,showAddView:function(a,b){(J=b||null)?
k.notify({staticMode:M,data:J}):c(E);l();var d=(a?"edit":"add")+"_"+M;require("log/Tiara").log("/fake/"+d);H==E&&u.focus()},showResultView:function(){c(D);l();G.focus()},setIdentity:b,onUpdate:k,onConnect:p,SEARCH_LAYER:E,RESULT_LAYER:D}});"use strict";Za.SMALL="FlagItemInfoLayer-small";Za.Origin="FlagItemInfoLayer-Origin";Za.Dest="FlagItemInfoLayer-Dest";Za.Via="FlagItemInfoLayer-Via";ma.ORIGIN="//t1.daumcdn.net/localimg/localimages/07/2011/map/road/ico_road_point1.png";ma.VIA="//t1.daumcdn.net/localimg/localimages/07/2011/map/road/ico_road_point3.png";
ma.DEST="//t1.daumcdn.net/localimg/localimages/07/2011/map/road/ico_road_point2.png";ma.prototype.coords_=new daum.maps.Coords(0,0);ma.prototype.setCoords=function(a){this.coords_=a};ma.prototype.getCoords=function(){return this.coords_};ma.active=null;ma.prototype.setLabel=function(){if(ma.active){ma.active.setPointIcon(false);ma.active.name_.setActive(false)}ma.active=this;this.setPointIcon(true);this.name_.setActive(true)};ma.prototype.click_=function(){this.doAction_()};"use strict";define("view/FlashPlayerDownloadView",
["jquery","dom/forefront"],function(a,b){var c=new n,d=a('<div class="FlashPlayerDownload"><span class="close">\ub2eb\uae30</span><a class="download" href="http://get.adobe.com/flashplayer/" target=_blank>\ucd5c\uc2e0\ubc84\uc804 \ub2e4\uc6b4\ub85c\ub4dc</a><a class="helplink" href="http://kakaomap.tistory.com/110" target=_blank>\uc124\uce58\uc644\ub8cc \ud6c4\uc5d0\ub3c4 \uacc4\uc18d \uc124\uce58\ubb38\uad6c\uac00 \ub728\ub294 \uacbd\uc6b0</a></div>');return{onClick:c,show:function(){d.off().on("click",
".download",function(){c.notify()});b.create(d,{dimmed:true,closer:".close"})}}});P.DEFAULT_WIDTH=240;P.DEFAULT_HEIGHT=240;P.DRAGBTN_SIZE=24;P.MINWIDTH=165;P.MINHEIGHT=165;P.prototype.prevWidth=P.DEFAULT_WIDTH;P.prototype.prevHeight=P.DEFAULT_HEIGHT;P.prototype.mode_=null;P.prototype.expanded_=!0;P.NORMAL="NORMAL";P.HORIZON="HORIZON";P.leftBorderWidth=-4;P.topBorderWidth=0;P.prototype.show=function(){this.panel_.show();this.frame_.show();this.dragBtn.show();this.toggleBtn.show();this.mode_==P.NORMAL||
this.mode_==P.HORIZON||this.setMaxSize()};P.prototype.toggle=function(){if(this.expanded_){this.collapse();p.click("roadview","map_hide")}else{this.expand();p.click("roadview","map_bigger")}};P.prototype.expand=function(){if(!this.toggleTimer&&!this.expanded_){this.expanded_=true;var a=0;this.frame_.show();this.toggleTimer=new zb(15,function(){if(a>15){this.toggleTimer.stop();this.toggleTimer=null}else{var b=(Math.sin(Math.PI*(++a/15-0.5))+1)/2,c=this.prevHeight*b;if(this.mode_!=P.HORIZON)this.width=
this.prevWidth*b;this.height=c;this.setFramePosition()}}.bind(this),true);this.toggleTimer.start();this.toggleBtn.removeClass("openToggle")}};P.prototype.collapse=function(){if(!this.toggleTimer&&this.expanded_){this.expanded_=false;var a=0;if(this.mode_!=P.HORIZON)this.prevWidth=this.width;this.prevHeight=this.height;this.toggleTimer=new zb(15,function(){this.frame_.hide();if(a>15){this.toggleTimer.stop();this.toggleTimer=null}else{var b=(Math.sin(Math.PI*(++a/15-0.5))+1)/2,c=this.height*b;if(this.mode_!=
P.HORIZON)this.width=this.width+this.width*b*-1;this.height=this.height+c*-1;this.setFramePosition()}}.bind(this),true);this.toggleTimer.start();this.toggleBtn.addClass("openToggle")}};P.prototype.changeMode=function(){if(this.mode_==P.HORIZON){this.setNormal();p.click("roadview","map_bigger_normal")}else{this.setHorizon();p.click("roadview","map_bigger_horizontal")}};P.prototype.setHorizon=function(){if(this.mode_!=P.HORIZON){this.mode_=P.HORIZON;this.dragBtn.hide();this.width=this.getViewSize().width;
this.height=parseInt(this.getViewSize().height*0.4);this.horizontalBtn.addClass("rowResize");this.verticalBtn.addClass("expanded");this.setFramePosition()}};P.prototype.setNormal=function(){this.initialize();this.mode_=P.NORMAL;this.width=P.DEFAULT_WIDTH;this.height=P.DEFAULT_HEIGHT;this.dragBtn.show();P.topBorderWidth=0;this.setFramePosition();this.horizontalBtn.removeClass("rowResize");this.verticalBtn.removeClass("expanded")};P.prototype.dragHorizonBtn=function(a){this.height=Math.max(P.MINHEIGHT,
Math.min(this.maxHeight,this.desiredHeight=this.desiredHeight-a.dy));this.setFramePosition()};P.prototype.onFrameDrag_=function(a){this.width=Math.max(P.MINWIDTH,Math.min(this.maxWidth,this.desiredWidth=this.desiredWidth+a.dx));this.height=Math.max(P.MINHEIGHT,Math.min(this.maxHeight,this.desiredHeight=this.desiredHeight-a.dy));this.setFramePosition()};P.prototype.setFramePosition=function(){this.setBottom(this.horizontalBtn,this.height-P.topBorderWidth);this.setWidth(this.horizontalBtn,this.width);
if(this.mode_===P.HORIZON){this.setLeft(this.verticalBtn,this.width-this.verticalBtn.width());jQuery("#miniZoomControl, #miniMapTypeControl").addClass("HORIZON")}else{this.setLeft(this.verticalBtn,this.width-P.leftBorderWidth);jQuery("#miniZoomControl, #miniMapTypeControl").removeClass("HORIZON")}this.setHeight(this.verticalBtn,this.height);this.setLeft(this.dragBtn,this.width-P.DRAGBTN_SIZE);this.setBottom(this.dragBtn,this.height-P.DRAGBTN_SIZE);var a=this.width,b=this.height,c=this.width-P.leftBorderWidth,
d=this.height-P.topBorderWidth;if(this.mode_!=null){c=Math.max(1,c);d=Math.max(0,d);a=Math.max(1,a);b=Math.max(1,b)}this.onResize.notify({innerWidth:c,innerHeight:d,outerWidth:a,outerHeight:b,mode:this.mode_})};P.prototype.initialize=function(){this.prevWidth=P.DEFAULT_WIDTH;this.prevHeight=P.DEFAULT_HEIGHT;this.width=P.DEFAULT_WIDTH;this.height=P.DEFAULT_HEIGHT;this.mode_=null;this.expanded_=true;this.toggleBtn.hasClass("openToggle")&&this.toggleBtn.removeClass("openToggle")};P.prototype.setBottom=
function(a,b){a.getElement().style.top="auto";a.getElement().style.bottom=b+"px";return a};P.prototype.setWidth=function(a,b){a.getElement().style.width=b+"px";return a};P.prototype.setLeft=function(a,b){a.getElement().style.right="auto";a.getElement().style.left=b+"px";return a};P.prototype.setHeight=function(a,b){a.getElement().style.height=b+"px";return a};P.prototype.setMaxSize=function(a,b){this.maxWidth=a;this.maxHeight=b};P.prototype.getViewSize=function(){return h.$("view").getSize()};P.prototype.keepHorizonSize=
function(){this.width=this.getViewSize().width;this.setFramePosition()};P.prototype.relayout=function(){this.width=this.getViewSize().width;this.setWidth(this.horizontalBtn,this.width);this.mode_===P.HORIZON?this.setLeft(this.verticalBtn,this.width-this.verticalBtn.width()):this.setLeft(this.verticalBtn,this.width-P.leftBorderWidth)};P.prototype.showNormal=function(){this.show();this.setNormal()};P.prototype.showHorizon=function(){this.show();this.setHorizon()};P.prototype.getMode=function(){return this.mode_};
P.prototype.getVisible=function(){return this.mode_==null?false:true};P.prototype.isExpanded=function(){return this.expanded_};define("view/FrameDecorator",[],H(P));"use strict";"use strict";jc.prototype.show=function(){this.panel_.show()};jc.prototype.show=function(){this.panel_.show();this.options_.show()};jc.prototype.hide=function(){this.panel_.hide()};jc.prototype.showOptions=function(a){var b=0;for(this.text_=a;b<a.length;++b){var c=a[b],d=this.buttons_[b];if(!d){d=new h("li","",new h("a"));
d.addClass("option"+b);this.optionRadioGroup_.add(d);this.options_.addChild(d);this.buttons_[b]=d}d.show();d.toPane().find("a").text(c);d.setClass("option"+b+"-ACTIVE",b==0)}for(;b<this.buttons_.length;++b)this.buttons_[b].hide();this.panel_.show()};jc.prototype.showTextview=function(){};jc.prototype.setOption=function(a){this.buttons_.forEach(function(b,c){b.setClass("option"+c+"-ACTIVE",c==a)});jQuery("#info\\.main\\.header\\.activeOption").text(this.text_[a])};wc.prototype.setSeq=function(a){this.seq_=
a;this.panel_.addClass("IssuePlaceItem-icon_a")};wc.prototype.setCoords=function(a){this.coords_=a};wc.prototype.setName=function(a){this.name_.setText(a)};wc.prototype.setImage=function(a){if(a)this.img_.getElement().src=a};wc.prototype.setDesc=function(a){this.desc_.setText(a)};Yc.prototype.doAction_=function(){this.deactivateRoadview();this.onAction.notify(this)};Yc.prototype.setName=function(a,b,c){b="";c=c||2147483647;this.name_.setTitle(a);if(a.length>c){--c;b=".."}this.name_.setText(a.substring(0,
c)+b)};Yc.prototype.deactivateRoadview=function(){Application.roadviewController.getActive()&&Application.roadviewController.close()};kd.air={cate1:{name:"\ud1b5\ud569\ub300\uae30\uc9c0\uc218",unit:"",list:["0~50","51~100","101~250","251~"]},cate2:{name:"\ubbf8\uc138\uba3c\uc9c0",unit:"\u338d/\u33a5",list:["0~30","31~80","81~150","151~"]},cate3:{name:"\ucd08\ubbf8\uc138\uba3c\uc9c0",unit:"\u338d/\u33a5",list:["0~15","16~35","36~75","76~"]},cate4:{name:"\ud669\uc0ac",unit:"\u338d/\u33a5",list:["0~199",
"200~399","400~799","800~"]},cate5:{name:"\uc624\uc874",unit:"ppm",list:["0~0.03","0.031~0.09","0.091~0.15","0.151~"]},cate6:{name:"\uc774\uc0b0\ud654\uc9c8\uc18c",unit:"ppm",list:["0~0.03","0.031~0.06","0.061~0.2","0.201~"]},cate7:{name:"\uc77c\uc0b0\ud654\ud0c4\uc18c",unit:"ppm",list:["0~2","2.01~9","9.01~15","15.01~"]},cate8:{name:"\uc544\ud669\uc0b0\uac00\uc2a4",unit:"ppm",list:["0~0.02","0.021~0.05","0.051~0.15","0.151~"]}};define("view/LayerLegendView",["map/Map","jquery"],H(kd));hc.DEFAULT_PROFILE_IMG=
"//t1.daumcdn.net/localimg/localimages/07/2018/pc/title/empty_edit.png";hc.REPORT_PROFILE_IMG="//t1.daumcdn.net/localimg/localimages/07/2018/pc/title/report_profile.png";define("view/LayerProfileEditView",["controller/ProfileController"],H(hc));se.prototype.updateCount=function(a){this.reviewCount.text(a)};define("view/LayerProfileView",["controller/ProfileController","controller/LayerProfileEditController"],H(se));Db.disposeAll=function(){jQuery("body").find(">.LoadingView").remove();Application.isLoadingViewShow=
false};za.DISTANCE=0;za.AREA=1;za.CLEAR=2;za.MAX_LEVEL=14;za.DEFAULT_TOP=3;za.RADIUS=4;za.NEWPLACE=5;za.NEWPLACE_INFO_CLOSE=6;define("view/MapControlView",["map/Map","jquery"],H(za));"use strict";define("view/MapShareToolBoxView",["dom/forefront","controller/RoughMapFrameController","controller/MapToolController","controller/ShareController"],H(function(a,b,c,d){function e(){g&&g.remove();g=null}function f(a){var c={urlX:a.x,urlY:a.y};a.confirmid?c.itemId=a.confirmid:c.q=a.name;location.href.replace(/[?#].*/,
"");jQuery.param(c);c=F("MapShareToolBox");c.$("copyUrl").click(function(){e();d.show({from:"tooltip"});p.click("sharetool","url")});c.$("roughMap").click(function(){e();b.open(a);p.click("sharetool","map")});return c}var g=null;this.open=function(b,c){e();g=f(c);a.create(g,{position:b});if(g&&Application){var d=jQuery(A).height(),h=g.offset().top+250;h>d&&Application.map.panBy(0,h-d)}}}));uc.createBus=function(){return(new uc("BUSNUMBER")).getPane()};uc.createBusName=function(){return(new uc("BUSSTOP")).getPane()};
Ba.CAR="CAR";Ba.TRANSIT="TRANSIT";Ba.TRANSIT_METHOD="TRANSIT_METHOD";Ba.WALK="WALK";Ba.BIKE="BIKE";Ba.createCar=function(a,b){var c=new Ba(Ba.CAR),d="\uae38\ucc3e\uae30 \uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc5b4\uc694.",e="";switch(a){case "SAME_POINT":d="\ucd9c\ubc1c\uc9c0\uc640 \ub3c4\ucc29\uc9c0\uac00 \uac19\uc544\uc694.";break;case "START_LINK_NOT_FOUND":e="\ucd9c\ubc1c\uc9c0 \uc8fc\ubcc0\uc5d0 \ub3c4\ub85c\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.<br/>\ub2e4\uc2dc \uc124\uc815\ud574\uc8fc\uc138\uc694.";
break;case "END_LINK_NOT_FOUND":e="\ub3c4\ucc29\uc9c0 \uc8fc\ubcc0\uc5d0 \ub3c4\ub85c\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.<br/>\ub2e4\uc2dc \uc124\uc815\ud574\uc8fc\uc138\uc694.";break;case "VIA_LINK_NOT_FOUND":e="\uacbd\uc720\uc9c0 \uc8fc\ubcc0\uc5d0 \ub3c4\ub85c\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.<br/>\ub2e4\uc2dc \uc124\uc815\ud574\uc8fc\uc138\uc694."}b.routeType="car";b.noResult=true;b.searchInfo={mode:"car",searchMode:b.method,option:b.option};b.noResultData={start:{name:b.origin.name,x:b.origin.coords.getX(),
y:b.origin.coords.getY()},end:{name:b.dest.name,x:b.dest.coords.getX(),y:b.dest.coords.getY()}};b.waypoints=Application.flagSearchController.getWaypoints();jQuery(b.waypoints).each(function(a,b){b.x=b.coords.getX();b.y=b.coords.getY()});c.setTitle(d);e&&c.setDesc(e);c.setFiyData({type:"route",rawInfo:b});return c};Ba.createTransit=function(a,b){var c=new Ba(Ba.TRANSIT),d="\uae38\ucc3e\uae30 \uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc5b4\uc694.",e="";switch(a){case "EQUAL_POINTS":d="\ucd9c\ubc1c\uc9c0\uc640 \ub3c4\ucc29\uc9c0\uac00 \uac19\uc544\uc694.";
break;case "STARTNODES_NULL":case "NODES_NULL":e="\ucd9c\ubc1c\uc9c0 \uc8fc\ubcc0\uc5d0 \uc774\uc6a9 \uac00\ub2a5\ud55c \uc218\ub2e8\uc774 \uc5c6\uc5b4\uc694.";break;case "ENDNODES_NULL":e="\ub3c4\ucc29\uc9c0 \uc8fc\ubcc0\uc5d0 \uc774\uc6a9 \uac00\ub2a5\ud55c \uc218\ub2e8\uc774 \uc5c6\uc5b4\uc694.";break;case "TOO_NEAR_POINTS":e="\ud574\ub2f9 \uad6c\uac04\uc740 \ub3c4\ubcf4\ub97c \uc774\uc6a9\ud558\ub294 \uac83\uc774 </br> \ub300\uc911\uad50\ud1b5\uc744 \uc774\uc6a9\ud558\ub294 \uac83 \ubcf4\ub2e4 \ube60\ub97c \uc218 \uc788\uc2b5\ub2c8\ub2e4."}var f=
{routeType:"public",noResult:true};f.noResultData={start:{name:b[0].name,x:b[0].coords.getX(),y:b[0].coords.getY()},end:{name:b[b.length-1].name,x:b[b.length-1].coords.getX(),y:b[b.length-1].coords.getY()}};f.waypoints=b;jQuery(f.waypoints).each(function(a,b){b.x=b.coords.getX();b.y=b.coords.getY()});c.setTitle(d);e&&c.setDesc(e);c.setFiyData({type:"route",rawInfo:f});return c};Ba.getTransitMethodTitle=function(a){return a+"\ub85c \uac00\ub294 \uacb0\uacfc\uac00 \uc5c6\uc5b4\uc694."};Ba.createTransitMethod=
function(a){var b=new Ba(Ba.TRANSIT_METHOD),a=Ba.getTransitMethodTitle(a);b.setTitle(a);return b};Ba.createWalk=function(){var a=new Ba(Ba.WALK);a.setTitle("\uae38\ucc3e\uae30 \uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc5b4\uc694.");return a};Ba.getNoWalkResultByType=function(a){var b={text:"\uae38\ucc3e\uae30 \uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc5b4\uc694.",desc:"",link:""};switch(a){case "SAME_POINT":b.text="\ucd9c\ubc1c\uc9c0\uc640 \ub3c4\ucc29\uc9c0\uac00 \uac19\uc544\uc694.";break;case "START_LINK_NOT_FOUND":case "END_LINK_NOT_FOUND":case "ROUTE_RESULT_NOT_FOUND":b.desc=
"\ub3c4\ubcf4 \uae38\ucc3e\uae30\uac00 \uc81c\uacf5\ub418\uc9c0 \uc54a\ub294 \uc9c0\uc5ed\uc774\uc5d0\uc694.";b.link={text:"\ub3c4\ubcf4 \uae38\ucc3e\uae30 \uc81c\uacf5\uc9c0\uc5ed \uc548\ub0b4",url:"http://kakaomap.tistory.com/210"};break;case "TOO_FAR_AWAY":b.desc="\uc9c1\uc120\uac70\ub9ac\uac00 30km \uc774\ub0b4\uc778 \uacbd\uc6b0\uc5d0 \ud55c\ud558\uc5ec<br/>\ub3c4\ubcf4\uae38\ucc3e\uae30 \uacb0\uacfc\ub97c \uc81c\uacf5\ud558\uace0 \uc788\uc5b4\uc694."}return b};Ba.createBike=function(){var a=
new Ba(Ba.BIKE);a.setTitle("\uae38\ucc3e\uae30 \uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc5b4\uc694.");return a};Ba.getNoBikeResultByType=function(a){var b={text:"\uae38\ucc3e\uae30 \uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc5b4\uc694.",desc:""};switch(a){case "SAME_POINT":b.text="\ucd9c\ubc1c\uc9c0\uc640 \ub3c4\ucc29\uc9c0\uac00 \uac19\uc544\uc694.";break;case "START_LINK_NOT_FOUND":case "END_LINK_NOT_FOUND":case "ROUTE_RESULT_NOT_FOUND":case "TOO_FAR_AWAY":b.desc="\uc790\uc804\uac70 \uae38\ucc3e\uae30\uac00 \uc81c\uacf5\ub418\uc9c0 \uc54a\ub294 \uc9c0\uc5ed\uc774\uc5d0\uc694."}return b};
Qa.prototype.base_=0;Qa.prototype.pages_=1;Qa.prototype.updateRange_=function(){var a=this.base_,b=this.pages_;this.prev_.setClass("disabled",a<=1);this.next_.setClass("disabled",a+5>=b);[this.btn1_,this.btn2_,this.btn3_,this.btn4_,this.btn5_].forEach(function(c,d){c.setVisible(a+d<b);var e=a+d+1;c.setText(e);e>99?c.addClass("WIDE"):c.removeClass("WIDE")})};Qa.prototype.updateButton_=function(a){[this.btn1_,this.btn2_,this.btn3_,this.btn4_,this.btn5_].forEach(function(b,c){var d=this.base_+c+1;if(a==
d&&b.hasClass("WIDE"))b.addClass("WIDE-ACTIVE");else{b.removeClass("WIDE-ACTIVE");b.setActive(a==d)}},this)};Qa.prototype.update_=function(a){this.updateButton_(a);this.onPage.notify(a)};Qa.prototype.setTotal=function(a){if(a>1){this.panel_.show();this.pages_=Math.max(1,Math.ceil(a));this.updateRange_()}else this.panel_.hide()};Qa.prototype.setPage=function(a){a=Math.max(1,Math.min(this.pages_,a));this.base_=((a-1)/5|0)*5;this.updateRange_();this.updateButton_(a)};Qa.prototype.showPrev5_=function(){if(!this.prev_.hasClass("disabled")){this.base_=
Math.max(0,this.base_-5);this.updateRange_();this.update_(this.base_+1)}};Qa.prototype.showNext5_=function(){if(!this.next_.hasClass("disabled")){this.base_=Math.min(((this.pages_-1)/5|0)*5,this.base_+5);this.updateRange_();this.update_(this.base_+1)}};Qa.prototype.showPage1_=function(){this.update_(this.base_+1)};Qa.prototype.showPage2_=function(){this.update_(this.base_+2)};Qa.prototype.showPage3_=function(){this.update_(this.base_+3)};Qa.prototype.showPage4_=function(){this.update_(this.base_+
4)};Qa.prototype.showPage5_=function(){this.update_(this.base_+5)};pa.prototype.clickHandler_=function(a){var b="";if(this.placeModel)b=this.placeModel.name;b={name:b,confirmid:this.confirmId_,cpg:this.dssPlaceObj.cpg+","+this.index_,tab:this.dssPlaceObj.tab,in_map:this.dssPlaceObj.in_map,sorttype:this.dssPlaceObj.sorttype,mkey:this.dssPlaceObj.mkey};b.analysis=this.dssPlaceObj.analysis;if(this.dssPlaceObj.srcid)b.srcid=this.dssPlaceObj.srcid;if(this.dssPlaceObj.cidx!=void 0)b.cidx=this.dssPlaceObj.cidx;
a?z.logPathSearchOutWithArgs(a,b):z.logPathSearchOutWithArgs("_",b);this.click_()};pa.prototype.sendDssLog=function(a){this.clickHandler_(a)};pa.prototype.setConfirmId=function(a){this.confirmId_=a};pa.prototype.setIndex=function(a){this.index_=a;this.seq_=String.fromCharCode(this.index_+64);this.markerIndex_.setText(this.seq_)};pa.prototype.setRoadview=function(a){if(a){this.roadviewData_=a;this.roadview_.show()}else this.roadview_.hide()};pa.prototype.setCategory=function(a){this.category_.setText(String.stripTags(a))};
pa.prototype.setPhone=function(a){if(a){this.phone_.show();this.dot_.show();this.phone_.setText(a)}else{this.phone_.hide();this.dot_.hide()}};pa.prototype.setAddress=function(a){this.address_.setText(a)};pa.prototype.setSubAddress=function(a){this.subAddress_.setText("(\uc9c0\ubc88) "+a)};pa.prototype.clickRoadview_=function(){Application.roadviewController.show(this.roadviewData_);p.click("roadview","by_start_end");try{var a=this.placeModel.coords.getX().toFixed(0),b=this.placeModel.coords.getY().toFixed(0),
c=Application.localInfoController.getHCodeForLog(),d="";if(this.placeModel)d=this.placeModel.name;z.logPathSearchOutWithArgs("_roadview",{name:d,confirmid:this.confirmId_,cpg:this.dssPlaceObj.cpg+","+this.index_,tab:this.dssPlaceObj.tab,cidx:this.dssPlaceObj.cidx,in_map:this.dssPlaceObj.in_map,sorttype:this.dssPlaceObj.sorttype,mkey:this.dssPlaceObj.mkey,region:c,panoid:this.roadviewData_.panoId,wx:a,wy:b})}catch(e){console.log(e)}};pa.prototype.panelEnter_=function(){this.panel_.addClass("PlaceFlagItem-HOVER");
this.hover_=true;this.onOver.notify();this.active_||this.flagInfoLayer_.setVisible(true)};pa.prototype.panelLeave_=function(){this.panel_.removeClass("PlaceFlagItem-HOVER");this.hover_=false;this.onOut.notify();this.active_||this.flagInfoLayer_.setVisible(false)};pa.prototype.setHover=function(a){a?this.panelEnter_():this.panelLeave_()};pa.prototype.applyHightlight_=function(){this.panel_.setClass("PlaceFlagItem-ACTIVE",this.active_);this.flagInfoLayer_.setVisible(false);this.dupItems&&this.dupItems.forEach(function(a){a.setActive(false)},
this)};pa.prototype.setActive=function(a){this.active_=!!a;this.applyHightlight_()};pa.prototype.setPointIcon=function(){};pa.prototype.setDupData=function(a){if(a){this.panel_.addClass("PlaceFlagItem-DUP");var b=F("DupListView"),c=b.$("duplist");c.mouseenter(this.panelLeave_.bind(this));c.mouseleave(this.panelEnter_.bind(this));b.show();b.$("dup_cnt").text(a.length);b.$("dupToggle").click(function(a){var e=jQuery(a.currentTarget),a=!e.hasClass("on");c.toggle(a);e.toggleClass("on",a);if(a)jQuery(document).one("mousedown touchstart",
function(a){if(!c.is(a.target)&&c.has(a.target).length===0&&b.$("dupToggle").get(0)!=a.target){c.hide();e.removeClass("on")}})});b.mouseenter(function(){this.flagInfoLayer_.setVisible(false)}.bind(this));b.mouseleave(function(){this.active_||this.flagInfoLayer_.setVisible(true)}.bind(this));activeDupItem=null;this.dupItems=a.map(function(a,e){var f=new qe(a,e%2==1);f.getPane().appendTo(c);f.setFlagInfoLayer(this.flagType_);f.onClick.add(function(a){this.onDupDataClick.notify(a);this.setActiveDupItem(e);
c.hide();b.$("dupToggle").removeClass("on")},this);return f},this);this.panel_.addChild(b)}};pa.prototype.setActiveDupItem=function(a){this.dupItems[a].setActive(true)};pa.prototype.setIntercity=function(){};pa.prototype.setDssPlaceObj=function(a){this.dssPlaceObj=a};define("view/RelatedAddressView",["jquery"],function(a){function b(b,d){var e=F("AddressItemViewSubList",d);this.onItemClick=new n;this.onFolderClick=new n;this.wrapSubList=b.$("subList");this.parentId=d.id;if(d.subList.length==1){e.$("moreIcon").hide();
e.$("btnFolder").on("click",this.onItemClick_.bind(this,d,0))}else e.$("btnFolder").on("click",this.onFolderClick_.bind(this));var f=e.find(".subList .txt"),f=a.makeArray(f);this.openClass="opened";f.forEach(function(b,c){a(b).on("click",this.onItemClick_.bind(this,d,c))},this);e.appendTo(this.wrapSubList.show())}b.prototype.onItemClick_=function(a,b){var e=a.subList[b];e.coords&&this.onItemClick.notify({address:a,index:b,coords:e.coords,model:e})};b.prototype.onFolderClick_=function(a){this.wrapSubList.scrollTop(0);
this.wrapSubList.toggleClass(this.openClass);this.onFolderClick.notify({view:this,event:a})};return b});define("view/ReviewListView",[],H(function(){function a(){u.empty().show();var a=jQuery('<span class="link_total">\uc804\uccb4 <em class="num"></em></span>');a.find(".num").text(B.filterData.count);a.click(function(){p.notify(1)});u.append(a);var b=[];Object.keys(B.filterData.sortNameList).forEach(function(a){b.push({name:B.filterData.sortNameList[a],type:a})});(new Ed(u,{selected:{name:B.filterData.sortNameList[B.filterData.selectedSortType]},
opts:b})).onClickOption.add(e)}function b(){var a=B.isOtherPage?F:D;a.setTotal(B.pages.total);a.setPage(B.pages.index);a.onPage.clear();a.onPage.add(function(a){p.notify(a)})}function c(a){if(a){var b=y?w:w.find(">ul"),a=new ff(b,a,y);a.onClick.add(f);a.onRemove.add(g);a.onLike.add(h);a.onReport.add(l)}}function d(){if(y){var a=jQuery(A).height();q.find(">div:not(.HIDDEN, [data-id=body])").each(function(b,c){var d=jQuery(c);a=a-d.outerHeight(true)});q.find("[data-id=body]").height(a)}else{var b=s.$("reviewHeader").outerHeight(true)+
jQuery("#info\\.my [data-id=tab]").outerHeight(true),c=jQuery("#my\\.review\\.page");c.hasClass("HIDDEN")||(b=b+c.outerHeight(true));w.height(jQuery("#info\\.body").height()-b)}}function e(a){k.notify(a)}function f(a){o.notify(a)}function g(a){m.notify(a)}function h(a){r.notify(a)}function l(a){t.notify(a)}var m=this.onRemoveItem=new n,k=this.onClickSort=new n,p=this.onClickPage=new n,o=this.onClickItem=new n,r=this.onLikeItem=new n,t=this.onReportItem=new n,q,s,u,w,z,y=false,B=null,D=new Qa("my.review.page"),
F=new Qa("other.review.page");jQuery(document).on("mousedown touchstart",function(a){a=jQuery(a.target);s&&(a&&a.closest("[data-id=setting]").length===0)&&s.find("[data-id=setting]").hide()});this.setList=function(e,f){B=f;y=!!B.isOtherPage;q=jQuery("#info\\.my");s=jQuery("#my\\.review");if(B&&y){q=jQuery("#info\\.other");s=jQuery("#other\\.review")}u=q.$("reviewFilters");w=s.$("reviewList");z=s.$("reviewEmptyPage");y&&q.find("[data-id=body]");y?w.empty():w.find(">ul").empty();if(e.length){a();b();
d();z.hide();w.show();e.map(c)}else{z.show();w.hide();u.hide()}}}));md.prototype.overValidArea=function(a){a.stopPropagation();this.onValidAreaOver.notify()};md.prototype.imageclick_=function(){};md.prototype.overRoadViewEmptyPanel=function(){this.onEmpty.notify("emptypanelAccess")};Ia.prototype.cctv=!1;Ia.prototype.accident=!1;Ia.prototype.gas=!1;Ia.prototype.service=!1;Ia.prototype.traffic=!1;Ia.prototype.getCctv=function(){return this.cctv};Ia.prototype.getAccident=function(){return this.accident};
Ia.prototype.getGas=function(){return this.gas};Ia.prototype.getService=function(){return this.service};Ia.prototype.getTraffic=function(){return this.traffic};Ia.prototype.setCctv=function(a){this.cctv=a;this.cctvContainer_.setClass("cctvon",a);this.onChange.notify()};Ia.prototype.setAccident=function(a){this.accident=a;this.accidentContainer_.setClass("accidenton",a);this.onChange.notify()};Ia.prototype.setGas=function(a){this.gas=a;this.gasContainer_.setClass("gason",a);this.onChange.notify()};
Ia.prototype.setService=function(a){this.service=a;this.serviceContainer_.setClass("serviceon",a);this.onChange.notify()};Ia.prototype.setTraffic=function(a){if(this.traffic!==a){this.traffic=a;this.trafficContainer_.setClass("trafficon",a);this.onChange.notify()}};Ia.prototype.clickCctv_=function(a){a.stopPropagation();this.setCctv(!this.cctv);p.click("route","go_car_CCTV")};Ia.prototype.clickAccident_=function(a){a.stopPropagation();this.setAccident(!this.accident);p.click("route","go_car_accident")};
Ia.prototype.clickGas_=function(a){a.stopPropagation();this.setGas(!this.gas);p.click("route","go_car_gas_station")};Ia.prototype.clickService_=function(a){a.stopPropagation();this.setService(!this.service);p.click("route","go_car_service_station")};Ia.prototype.clickTraffic_=function(a){a.stopPropagation();this.setTraffic(!this.traffic);p.click("route","go_car_realtraffic")};Ia.prototype.accidentClickable=function(a){this.accidentBtn_.onClick.remove(this.clickAccident_,this);if(a){this.accidentBtn_.onClick.add(this.clickAccident_,
this);this.accidentBtn_.element_.disabled=false}else this.accidentBtn_.element_.disabled=true};Ia.prototype.gasClickable=function(a){this.gasBtn_.onClick.remove(this.clickGas_,this);if(a){this.gasBtn_.onClick.add(this.clickGas_,this);this.gasBtn_.element_.disabled=false}else this.gasBtn_.element_.disabled=true};Ia.prototype.cctvClickable=function(a){this.cctvBtn_.onClick.remove(this.clickCctv_,this);if(a){this.cctvBtn_.onClick.add(this.clickCctv_,this);this.cctvBtn_.element_.disabled=false}else this.cctvBtn_.element_.disabled=
true};Ia.prototype.serviceClickable=function(a){this.serviceBtn_.onClick.remove(this.clickService_,this);if(a){this.serviceBtn_.onClick.add(this.clickService_,this);this.serviceBtn_.element_.disabled=false}else this.serviceBtn_.element_.disabled=true};Ia.prototype.trafficClickable=function(a){this.trafficBtn_.onClick.remove(this.clickTraffic_,this);if(a){this.trafficBtn_.onClick.add(this.clickTraffic_,this);this.trafficBtn_.element_.disabled=false}else this.trafficBtn_.element_.disabled=true};define("view/RoutePoiControlView",
[],H(Ia));nb.prototype.clear=function(){this.list_.empty();this.itemView_.length=0};nb.prototype.addItem=function(a){a=a||new this.factory_(this.buttonFactory_);a.onAction.add(this.doItem_,this);(a.getPanel?a.getPanel():a.getPane()).appendTo(this.list_);this.itemView_.push(a);return a};nb.prototype.setCount=function(a,b){var c=this.itemView_.length;if(c){this.panel_.show();b>c?this.more_.show():this.more_.hide()}else this.panel_.hide()};nb.prototype.clickMore_=function(){Application.roadviewController.close();
this.onMore.notify({})};nb.prototype.doItem_=function(a){a=this.itemView_.indexOf(a);console.assert(a>=0);this.onAction.notify(a)};nb.prototype.setIndex=function(a){a=this.itemView_[a];this.setInActive();a&&a.setActive(true)};nb.prototype.setInActive=function(){this.itemView_.forEach(function(a){a.setActive(false)},this)};nb.prototype.getItemViews=function(){return this.itemView_};nb.prototype.setVisible=function(a,b){this.panel_.toggle(a);this.more_.toggle(b)};Jc.prototype.setOptions=function(a){var b=
this.panel_;b.removeAllChildren();this.optionsObject=a;this.options_=a.map(function(a,d){var e=new h("li");d==0&&e.addClass("first");b.addChild(e);var f=jQuery('<a href="#none"></a>');f.addClass("label").toggleClass("ACTIVE",a.value==this.option_);f.text(a.name);e.addChild(f);if(a.list){e.addClass("FilterSelectBoxView");e.addChild((new h("strong","screen_out")).setText("\uc120\ud0dd\uc0c1\uc790")).addChild((new h("em","screen_out")).setText("\uc120\ud0dd\ub0b4\uc6a9 :")).addChild(f).addChild((new h("em",
"screen_out")).setText("\uc120\ud0dd\uc635\uc158"));var g=new h("ul","list_opt");g.hide();a.list.forEach(function(a){var b=new h("li"),c=new h("a");c.setText(a.name);c.onClick.add(function(){this.setOption(a.value);this.onOption.notify()},this);b.addChild(c);g.addChild(b)},this);f.on("click",function(){var a=!f.hasClass("expand");f.toggleClass("expand",a);g.setVisible(a);if(a)jQuery(document).one("mousedown touchstart",function(a){if(!this.panel_.contain(a.target)&&f[0]!=a.target){f.toggleClass("expand",
false);g.setVisible(false)}}.bind(this))}.bind(this));e.addChild(g)}else f.on("click",function(){this.setOption(a.value);this.onOption.notify()}.bind(this));return f},this)};Jc.prototype.option_=0;Jc.prototype.getOption=function(){return this.option_};Jc.prototype.setOption=function(a){var b=false;this.option_=a;this.optionsObject.forEach(function(c,d){var e=this.options_[d];if(a==c.value){e.addClass("ACTIVE");b=true}else if(c.list)if(c.list.some(function(b){if(a==b.value){e.text(b.name+" "+c.name);
return true}return false})){e.addClass("ACTIVE");b=true}else{e.text(c.name);e.removeClass("ACTIVE")}else e.removeClass("ACTIVE")},this);if(!b){this.options_[0].setActive(true);this.option_=this.optionsObject[0].value}};nd.prototype.clickCloser_=function(){this.onClose.notify()};nd.prototype.clickSwitch_=function(){this.onSwitch.notify()};nd.prototype.handleMapFrame=function(a){a=a.innerWidth==0&&a.innerHeight==0;if(a!=this.visible_){this.panel_.setVisible(a);this.visible_=a}};ue.prototype.setKeywords=
function(a){if(a&&a[0]){var b=this.list_;b.removeAllChildren();a.map(this.buildButton_,this).forEach(function(a,d){d>0&&b.addText(", ");b.addChild(a)});this.panel_.show()}else this.panel_.hide()};ue.prototype.buildButton_=function(a){var b=new h("a");b.setText(a);b.onClick.add(function(){this.onKeyword.notify(a)},this);return b};Ic.prototype.showCandidate=function(a){this.panel_.show();h.$(this.id_+".text").setText(a);this.text_=a};Ic.prototype.hide=function(){this.panel_.hide()};Ic.prototype.clickCandidate_=
function(){this.onClick.notify(this.text_)};define("view/StartEndPointItemView",[],function(){return function(a){var b=this.onClick=new n,c=this.onOut=new n,d=this.onRoadview=new n,e=Application.flagSearchController.getWaypoints(),f=true;if(a.confirmid)for(var g=0;g<e.length;g++){if(e[g].id===a.confirmid&&e[g].pointType!=="PLACE"&&e[g].pointType!=="SUBWAYSTATION"){f=false;break}}else f=false;var h=F("StartEndPointItemView",{actionName:a.action,name:a.name,isShowDetail:f,placeUrl:require("url").DAUM_PLACE+
a.confirmid,roadview:a.roadview?true:false}),e=h.$("roadview");h.$("name");f=h.$("icon");g=h.$("detail");f.addClass(a.type||a.seq);g.click(function(){p.click("route","go_"+p.ROUTE_METHOD+"_place")});a.action==="DEPARTURE"||a.seq==="goal"?f.text("\ub3c4\ucc29"):(a.action==="ARRIVAL"||a.seq==="start")&&f.text("\ucd9c\ubc1c");a.action&&h.addClass("StartEndPointItemView-"+a.action);h.click(function(){b.notify()});if(a.roadview){var l=new Rb(e);l.setThumnail(a.roadview.thumbnail);l.onClick.add(function(){d.notify(null)});
l.onOver.add(function(){roadviewActive_=true});l.onLeave.add(function(){l!=null&&(l=null);roadviewActive_=false;c.notify()})}this.setItemActive=function(){};this.getPane=function(){return h}}});Lc.prototype.updateFav=function(a){if(a)this.fav_=a;if(this.fav_){if(a=Application.favoriteController.findFavorite(this.fav_)){var b=a.count<10?a.count:"10";this.favorite_._pane.find(".num").attr("class","num num"+b).text(a.count)}this.favorite_.setClass("favorite-active",!!a)}};Lc.prototype.clickFavorite_=
function(){this.onClick.notify({id:"favorite",fav:this.fav_})};Lc.prototype.clickPrint_=function(){this.onClick.notify({id:"print"})};Lc.prototype.clickshowMap_=function(){this.onClick.notify({id:"showFiy"})};define("view/SubwayRouteResultView",[],H(function(){function a(a){g.forEach(function(b,c){b.setActive(a==c);a!=c&&b.setDetail(false)});b.notify(a)}var b=this.onSelected=new n,c=jQuery("#info\\.subwayInfo"),d=jQuery("#info\\.subway\\.searchBox\\.resultBox"),e=c.find(".firstTrainInfo");e.find(".infoClose").on("click",
function(){e.hide()});var f=c.find(".list"),g=[];this.setData=function(c){g.length=0;f.children().remove();f.removeClass("nonTimeBase");d.hide();if(c){c.firstTrain?e.show():e.hide();if(c&&c.routes&&c.routes.length){h.$("info.subwayInfo").show();c.params.routingType=="NonTimeBase"&&f.addClass("nonTimeBase");c.routes.forEach(function(b,c){var d=new gf(b);d.onSelected.add(function(){a(c)});f.append(d.getPanel());g.push(d)});if(g.length>0){g[0].setActive(true);b.notify(0);g.length==1&&g[0].setDetail(true)}d.find(".tit_result").text("\ucd1d "+
c.routes.length+"\uac74\uc758 \uac80\uc0c9\uacb0\uacfc");d.show()}}}}));Gd.prototype.showStationInfo_=function(){require("server").subwayStationInfo(this.item.id)};Gd.prototype.getPanel=function(){return this.panel_};Gd.prototype.getName=function(){return this.name_};define("view/ThemeMapItemView",["controller/ShareController"],function(a){return function(b,c){var d=this.onClick=new n,e=F("ThemeMapItemView"),f=e.$("img"),g=b.src,h="";b.cpName&&b.cpName!="DAUM"&&(h=h+("["+b.cpName+"] "));b.cpProgram&&
(h=h+(b.cpProgram+" - "));var l=h=jQuery("<pre>").html(h+b.title).remove().text();if(g)f.attr("src",g);else{e.$("imgWrap").hide();e.$("para").addClass("noImage")}e.$("name").text(l).attr("title",h);e.$("region").text(b.region);e.$("count").text(b.place_cnt);var f=e.$("urlShare"),m=b.themeId;f.on("click",function(){a.show()});e.$("like").text(b.good_cnt);(m==106||m=="106")&&e.$("infowrap").addClass("hideLike");e.hover(function(){e.addClass("ThemeMapItem-ACTIVE")},function(){e.removeClass("ThemeMapItem-ACTIVE")});
e.on("click",function(a){jQuery(a.target).hasClass("urlBtn")||d.notify(m)});c.append(e);this.show=function(){e.show()};this.hide=function(){e.hide()}}});define("view/ThemeMapPlaceItemView",[],function(){return function(a,b,c){function d(a){a?m.addClass("ThemeMapPlaceItem-HOVER"):m.removeClass("ThemeMapPlaceItem-HOVER")}function e(a){a?m.addClass("ThemeMapPlaceItem-ACTIVE"):m.removeClass("ThemeMapPlaceItem-ACTIVE")}var f=this.onOver=new n,g=this.onOut=new n,h=this.onClick=new n,l=this.onVote=new n,
m=F("ThemeMapPlaceItemView"),k=m.$("icon");a>99?k.addClass("font3"):a>9?k.addClass("font2"):k.addClass("font1");k.text(a);var p=false,k=m.$("imgWrap"),o=m.$("image"),r=jQuery("<pre>").html(b.name).remove().text(),t="";if(b.photoUrl){k.show();o.attr("src",b.photoUrl);t=String.cut(r,11)}else{k.hide();m.$("para").addClass("noImage");p=true;t=String.cut(r,18)}m.$("name").text(t).attr("title",r);var q=m.$("why"),s=b.why;q.html(String.cut(s,p?42:25));q.on("mousemove",function(a){jQuery("#titleSystemTooltip").html(s).css({top:a.pageY+
22,left:a.pageX}).show()});q.on("mouseout",function(){jQuery("#titleSystemTooltip").hide()});m.$("region").text(b.region);m.$("tip").text(b.tip_cnt);var u=m.$("good");u.text(String.formatNumber(b.good_cnt));m.$("like").on("click",function(a){a.stopPropagation();a.preventDefault();l.notify(b.placeId)});m.hover(function(){d(true);f.notify()},function(){d(false);g.notify()});m.on("click",function(){e(true);h.notify(a)});c.append(m);this.setActive=e;this.setHover=d;this.scroll=function(){jQuery("#info\\.body").scrollTop(m.position().top-
1)};this.setVote=function(a){u.text(String.formatNumber(a))};this.setHideLike=function(){m.addClass("hideLike");q.html(String.cut(s,p?52:35))}}});"use strict";define("view/ThemeMapPlaceView","map/Map view/ThemeMapPlaceItemView model/ThemeMapPlaceItem log/Tiara map/MapTileManager manager/AoiManager map/MiniTooltipManager".split(" "),H(function(a,b,c,d,e,f,g){function h(){A.css("background","none");D.children().remove();K.clear();H.length=0;L.length=0;M.length=0;t.clear();F.text("0");if(J){var d={id:J};
if(J==107||J=="107")d.sort="RECENT";require("server").thememapInfo(d,function(d){var e=d.object("info");if(e){(e=e.text("banner_pc"))&&A.css("background",'url("'+e.replace(/^http:/,"")+'")');if(d=d.array("placelist")){var f=new daum.maps.CoordsBounds;F.text(d.length);d.forEach(function(a,d){var e=new c(a),h=new b(d+1,e,D);(J==106||J=="106")&&h.setHideLike();var j=new ie(d+1,e.coords,J,1);if(e.linecourseYN==="Y"){e.id=e.placeId;t.enablePolylineEvent();t.registerSearchResult({model:e,index:d,marker:j});
t.find(e.placeId);t.callAfterLoad(function(){K.at(H.length-1-d).setPosition(H[d].getPosition())});t.setMapEvent()}h.onOver.add(function(){j.setHover(true);t.highlight(e.placeId)});h.onOut.add(function(){j.setHover(false);t.redrawLines()});j.onOver.add(function(){h.setHover(true);t.highlight(e.placeId);if(e.linecourseYN==="Y"){e.aoiCoords=t.getMarkerPosition(e.placeId)||e.coords;g.createAoi(e)}else J>=55&&J<=57?g.createTheme(e):g.createPlace(e);g.open()});j.onOut.add(function(){h.setHover(false);t.redrawLines();
g.close()});h.onClick.add(function(){Application&&Application.roadviewController&&Application.roadviewController.close();m(d)});h.onVote.add(function(a){e.placeId==a&&l(e.placeId,d)});j.onClick.add(function(){m(d);h.scroll()});H.push(j);L.push(e);M.push(h);f.extend(e.coords)});for(e=H.length-1;e>=0;e--)K.add(H[e]);if(d.length&&!P){Application&&Application.roadviewController&&Application.roadviewController.close();a.setBounds(f)}A.find("img").on("click",function(){Application.infoWindowManager.close();
K.setMarkerActive(-1);k();a.setBounds(f)});P=false;Q&&L.forEach(function(a,b){if(Q==a.placeId){m(b);M[b].scroll()}});Q=null}}})}}function l(a,b){require("server").thememapPlaceVote({themeid:J,confirmid:a},function(a){if(a.text("result")=="success"){a=a.object("vote");M[b].setVote(a.number("good_cnt"))}else if(a.text("result")=="fail")(a=a.object("reason"))&&a.text("code")=="FAIL_DUPLICATE"&&alert("\uc774\ubbf8 \ucd94\ucc9c\ud558\uc168\uc2b5\ub2c8\ub2e4.")})}function m(b){var c=L[b],d=M[b],e=H.length-
1-b;if(c){E!=c&&k();K.setMarkerActive(e);d.setActive(true);E=c;G=d;qa.findPlace(c.placeId,function(d){var f=K.at(e);if(d){if(d.pointExtension)if(t.getAoi(d.id)){var g=t.getCoordsBounds(d.id);g&&a.setBounds(g);t.clickListItem(d.id);t.setMarker(d.id)}else t.callAfterLoad(function(){var e=t.getCoordsBounds(d.id);e&&a.setBounds(e);f.setPosition(H[b].getPosition());Application.infoWindowManager.createPlace(d,f,+c.tip_cnt?"thememap":"");t.clickListItem.bind(t,d.id);t.setMarker(d.id)});else{a.setLevel(3);
a.setCenter(d.coords)}Application.infoWindowManager.createPlace(d,f,+c.tip_cnt?"thememap":"")}})}}function k(){G&&G.setActive(false);E=G=null}function p(){y.hide();e.set("themespring",false);e.set("themefall",false);q=0;K.hide();L.length>0&&t.clear();Application.infoWindowManager.close();jQuery("#titleSystemTooltip").hide()}function o(a){V=a;a.forEach(function(a,b){var c=jQuery('<li class="recomTheme"><div class="imgWrap"><span class="imgStroke"></span><img src="//t1.daumcdn.net/thumb/C75x75/?fname='+
a.thumbnail+'" width="131" height="118"/></div><a href="#" class="recomTitle">'+a.title+'</a><span class="recomCount">'+(a.region||"\uc804\uad6d")+" <strong>"+a.placeCount+"</strong>\uacf3</span></li>");U.append(c);c.on("click",function(){if(a.id){p();w.notify(a.id)}});b||c.hide()})}function r(a){if(V){var b=0;V.forEach(function(c,d){c.id==a&&(b=d)});U.find(".recomTheme").show();U.find(".recomTheme:eq("+b+")").hide()}}var t=f.getController(f.KEY.SEARCH);t.onAoiMousedown.add(function(a){m(a.index)},
t);var q=0,s=false;e.setId("themespring",daum.maps.MapTypeId.THEMESPRING);daum.maps.event.addListener(a,"zoom_changed",function(){if(q&&H.length)if(!s&&a.getLevel()>12){H.forEach(function(a){a.setClass("customsmall",true)});s=true}else if(s&&a.getLevel()<13){H.forEach(function(a){a.setClass("customsmall",false)});s=false}});e.setId("themefall",daum.maps.MapTypeId.THEMEFALL);var u=this.onThemeMore=new n,w=this.onThemeClick=new n,y=jQuery("#info\\.thememap\\.placeview"),A=y.find(".title");y.find(".share");
var B=y.find(".title span"),D=jQuery("#info\\.thememap\\.place\\.list"),F=jQuery("#info\\.thememap\\.place\\.cnt");y.find(".themeMore").on("click",function(){u.notify()});var G=null,E=null,K=new oa(a),H=[],L=[],M=[],J="",P=false,Q=null,U=jQuery("#info\\.thememap\\.recommend\\.list"),V=null;this.setThemeId=function(a){J=a;h();B.children().remove();J==106||J=="106"||B.append(jQuery('<iframe src="//www.facebook.com/plugins/like.php?href=http%3A%2F%2Fplace.map.kakao.com%2Ftheme%2Fmain%3Fid%3D'+J+'&amp;height=23&amp;colorscheme=light&amp;layout=button_count&amp;action=like&amp;show_faces=false&amp;send=false"  scrolling="no" frameborder="0" style="border:none; overflow:hidden; width: 120px; height:20px;" allowTransparency="true"></iframe>'));
r(J)};this.getThemeId=function(){return J};this.show=function(){y.show();if(J=="55"||J=="56"||J=="57"){q&&e.set("themespring",false);switch(J){case "57":q=1;break;case "56":q=2;break;case "55":q=3}e.set("themespring",true)}else e.set("themefall",J=="21");K.show();t.show();if(y.is(":visible")){d.logOnly("fake/theme/thememap_placelist_"+J);z.log("thememap_placelist_"+J)}};this.hide=function(){p()};this.setNoJump=function(){P=true};this.setSelectedId=function(a){Q=a};this.setThememapPlaces=function(a){o(a)}}));
"use strict";define("view/ThemeMapView",["map/Map","view/ThemeMapItemView","model/ThemeMapItem","log/Tiara"],H(function(a,b,c,d){function e(){t.length=0;q.length=0;k.children().remove();p.text("0");require("server").thememapList({sort:r,page:0},function(a){var d=a.array("themeList"),a=a.text("total_cnt");p.text(a);jQuery("#info\\.thememap\\.placetheme\\.cnt").text(a);d.forEach(function(a){var a=new c(a),d=new b(a,k);d.onClick.add(function(a){l.notify(a)});t.push(a);q.push(d);w.indexOf(a.themeId)>
-1&&d.hide()})})}function f(a){w.length=0;u=a;a.forEach(function(a,b){var c=jQuery('<li class="recomTheme"><div class="imgWrap"><span class="imgStroke"></span><img src="//t1.daumcdn.net/thumb/C75x75/?fname='+a.thumbnail+'" width="131" height="118"/></div><a href="#" class="recomTitle">'+a.title+'</a><span class="recomCount">'+(a.region||"\uc804\uad6d")+" <strong>"+a.placeCount+"</strong>\uacf3</span></li>");s.append(c);c.on("click",function(){a.id&&l.notify(a.id)});b?w.push(a.id):c.hide()})}function g(a){if(u){var b=
w.length=0;u.forEach(function(c,d){c.id==a?b=d:w.push(c.id)});w.length==3&&(w=w.slice(1,3));s.find(".recomTheme").show();s.find(".recomTheme:eq("+b+")").hide()}}function h(){t.forEach(function(a,b){var c=q[b];w.indexOf(a.themeId)>-1?c.hide():c.show()});var a=0;s.find(".recomTheme").height(function(b,c){a=a<c?c:a});a>180?s.removeClass("short"):s.addClass("short")}var l=this.onThemeClick=new n,m=jQuery("#info\\.thememap\\.theme"),k=jQuery("#info\\.thememap\\.theme\\.list"),p=jQuery("#info\\.thememap\\.theme\\.cnt"),
o=jQuery("#info\\.thememap\\.theme\\.sort"),r="RECENT";o.find(".recent").on("click",function(){if(!jQuery(this).hasClass("ACTIVE")){o.find("a").removeClass("ACTIVE INACTIVE");jQuery(this).addClass("ACTIVE");r="RECENT";e()}});o.find(".rank").on("click",function(){if(!jQuery(this).hasClass("ACTIVE")){o.find("a").removeClass("ACTIVE INACTIVE");jQuery(this).addClass("ACTIVE");r="RANK";e()}});var t=[],q=[],s=jQuery("#info\\.thememap\\.theme\\.recommend"),u=[],w=[];this.update=function(){e()};this.setThemeId=
function(a){g(a)};this.setThememapPlaces=function(a){f(a)};this.show=function(){m.show();if(m.is(":visible")){d.logOnly("fake/theme/thememap_list");z.log("thememap_list")}h()};this.hide=function(){m.hide()}}));"use strict";pb.THEME_SUB={"\uc74c\uc2dd\uc810":[{name:"\uc804\uccb4",id:"c9"},{name:"\uac04\uc2dd",id:"c46"},{name:"\ubd84\uc2dd",id:"c296"},{name:"\ubdd4\ud398",id:"c157"},{name:"\uc220\uc9d1",id:"c83"},{name:"\uc544\uc2dc\uc544\uc74c\uc2dd",id:"c18083"},{name:"\uc591\uc2dd",id:"c26"},{name:"\uc77c\uc2dd",
id:"c84"},{name:"\uc911\uc2dd",id:"c2810"},{name:"\ud328\uc2a4\ud2b8\ud478\ub4dc",id:"c41"},{name:"\ud328\ubc00\ub9ac\ub808\uc2a4\ud1a0\ub791",id:"c123"},{name:"\ud53c\uc790",id:"c60"},{name:"\uce58\ud0a8",id:"c158"},{name:"\ud55c\uc2dd",id:"c124"}],"\uc219\ubc15":[{name:"\uc804\uccb4",id:"c122"},{name:"\ud2b9\uae09\ud638\ud154",id:"c826"},{name:"\ub9ac\uc870\ud2b8",id:"c468"},{name:"\uc77c\ubc18\ud638\ud154",id:"c513"},{name:"\ubaa8\ud154",id:"c930"},{name:"\ud39c\uc158",id:"c1005"},{name:"\uac8c\uc2a4\ud2b8\ud558\uc6b0\uc2a4",
id:"c1006"},{name:"\ucea0\ud551\uc57c\uc601",id:"c664"},{name:"\uae30\ud0c0\uc219\ubc15",id:"accommodation_etc"}],"\uc740\ud589":[{name:"\uc804\uccb4",id:"theme_bankall"},{name:"ATM",id:"c17214"},{name:"BNK\ubd80\uc0b0\uc740\ud589",id:"c1741"},{name:"IBK\uae30\uc5c5\uc740\ud589",id:"c1404"},{name:"KB\uad6d\ubbfc\uc740\ud589",id:"c1402"},{name:"KDB\uc0b0\uc5c5\uc740\ud589",id:"c1746"},{name:"KEB\ud558\ub098\uc740\ud589",id:"c1618"},{name:"NH\ub18d\ud611\uc740\ud589",id:"c18034"},{name:"SC\uc740\ud589",
id:"c1405"},{name:"\uacbd\ub0a8\uc740\ud589",id:"c1403"},{name:"\uad11\uc8fc\uc740\ud589",id:"c1511"},{name:"\ub18d\ud611",id:"c1516"},{name:"\ub300\uad6c\uc740\ud589",id:"c1616"},{name:"\uc0c8\ub9c8\uc744\uae08\uace0",id:"c1119"},{name:"\uc218\ud611",id:"c1103"},{name:"\uc218\ud611\uc740\ud589",id:"c18038"},{name:"\uc2e0\ud55c\uc740\ud589",id:"c1743"},{name:"\uc2e0\ud611",id:"c1414"},{name:"\uc6b0\ub9ac\uc740\ud589",id:"c1744"},{name:"\uc800\ucd95\uc740\ud589",id:"c1742"},{name:"\uc804\ubd81\uc740\ud589",
id:"c1617"},{name:"\uc81c\uc8fc\uc740\ud589",id:"c1745"},{name:"\ucd95\ud611",id:"c1415"},{name:"\ud55c\uad6d\uc528\ud2f0\uc740\ud589",id:"c1620"},{name:"\uae30\ud0c0\uc740\ud589",id:"theme_banketc"}],"\ubcd1\uc6d0\uc57d\uad6d":[{name:"\uc804\uccb4",id:"theme_hospitalall"},{name:"\uc57d\uad6d",id:"theme_pharmacy"},{name:"\ud55c\uc758\uc6d0",id:"c991"},{name:"\uc885\ud569\ubcd1\uc6d0",id:"theme_hospital"},{name:"\ubcf4\uac74\uc18c",id:"c1032"},{name:"\uc815\ud615\uc678\uacfc",id:"c1139"},{name:"\ud53c\ubd80\uacfc",
id:"c1140"},{name:"\uc548\uacfc",id:"c1228"},{name:"\uc774\ube44\uc778\ud6c4\uacfc",id:"c1229"},{name:"\uc0b0\ubd80\uc778\uacfc",id:"c1524"},{name:"\uc131\ud615\uc678\uacfc",id:"c1644"},{name:"\uc18c\uc544\uacfc",id:"c1645"},{name:"\uce58\uacfc",id:"c1646"},{name:"\ub0b4\uacfc",id:"c1312"},{name:"\uc678\uacfc",id:"c1313"},{name:"\ub3d9\ubb3c\ubcd1\uc6d0",id:"c776"},{name:"\uae30\ud0c0\ubcd1\uc6d0",id:"theme_hospitaletc"}],"\uc8fc\uc720\uc815\ubcf4":[{name:"\uc804\uccb4\t",id:"c1013"},{name:"\uc8fc\uc720\uc18c \uc804\uccb4",
id:"c2529"},{name:"LPG \ucda9\uc804\uc18c \uc804\uccb4",id:"c2909"},{name:"EX oil\uc8fc\uc720\uc18c",id:"c22421"},{name:"GS\uce7c\ud14d\uc2a4\uc8fc\uc720\uc18c",id:"c1348"},{name:"NC\uc624\uc77c \uc8fc\uc720\uc18c",id:"c2913"},{name:"S-oil\uc8fc\uc720\uc18c",id:"c1350"},{name:"SK\uc8fc\uc720\uc18c",id:"c1349"},{name:"\ub18d\ud611\uc8fc\uc720\uc18c",id:"c2915"},{name:"\uc54c\ub730\uc8fc\uc720\uc18c",id:"c17262"},{name:"\uc624\uc77c\ubc45\ud06c\uc8fc\uc720\uc18c",id:"c1173"},{name:"E1 LPG\ucda9\uc804\uc18c",
id:"c2912"},{name:"GS\uce7c\ud14d\uc2a4 LPG\ucda9\uc804\uc18c",id:"c2930"},{name:"S-oil LPG\ucda9\uc804\uc18c",id:"c2928"},{name:"SK LPG\ucda9\uc804\uc18c",id:"c2910"},{name:"\uc624\uc77c\ubc45\ud06c LPG\ucda9\uc804\uc18c",id:"c2929"},{name:"\uc804\uae30\ucc28 \ucda9\uc804\uc18c",id:"c18428"}],"\ubb38\ud654\uc2dc\uc124":[{name:"\uc804\uccb4",id:"theme_culture"},{name:"\uc601\ud654\uad00",id:"c589"},{name:"\ubbf8\uc220\uad00",id:"c842"},{name:"\ubc15\ubb3c\uad00",id:"c312"},{name:"\uacf5\uc5f0\uc7a5",
id:"c195"}],"\ud14c\ub9c8":[{name:"TV\ubc29\uc601\ub9db\uc9d1",id:"theme_tvfood"},{name:"100\ub300 \ucea0\ud551\uc7a5",id:"campsite_100"},{name:"100\ub300 \uacc4\uace1",id:"valley_100"},{name:"100\ub300 \ud734\uc591\ub9bc",id:"forest_100"},{name:"100\ub300 \uc12c",id:"island_100"},{name:"100\ub300 \uba85\uc0b0",id:"mountain_100"},{name:"100\ub300 \ud574\uc218\uc695\uc7a5",id:"beach_100"},{name:"\uc5ec\uac1d\uc608\ub9e4\uac00\ub2a5\uc12c",id:"reserve_island"}]};pb.THEME_POIS=[{name:"\ubc84\uc2a4",
id:"busStop",type:"bus",dimg:"nb"},{name:"\uc9c0\ud558\ucca0",id:"theme_subway",type:"sub",dimg:"nb"},{name:"\uc74c\uc2dd\uc810",id:"",type:"food",dimg:"nr"},{name:"\uc219\ubc15",id:"",type:"hotel",dimg:"nr"},{name:"\uce74\ud398",id:"c86",type:"cafe",dimg:"nr"},{name:"\uc740\ud589",id:"",type:"bank",dimg:"nr"},{name:"\ud3b8\uc758\uc810",id:"c604",type:"cvs",dimg:"nr"},{name:"\ub300\ud615\ub9c8\ud2b8",id:"theme_bigmart",type:"mart",dimg:"nr"},{name:"\ubcd1\uc6d0\uc57d\uad6d",id:"",type:"hospital",
dimg:"nr"},{name:"\ubbf8\uc6a9\uc2e4",id:"c1604",type:"hair",dimg:"nr"},{name:"\uc8fc\uc720\uc815\ubcf4",id:"",type:"oil",dimg:"nb"},{name:"\uc8fc\ucc28\uc7a5",id:"c573",type:"park",dimg:"nb"},{name:"\ubb38\ud654\uc2dc\uc124",id:"",type:"culture",dimg:"nr"},{name:"\uc2a4\ud1a0\uc5b4\ubdf0",id:"stheme_01",type:"storeview",dimg:"nb"}];pb.HOME_THEME_POIS=[{name:"\uc74c\uc2dd\uc810",id:"",type:"food",dimg:"nr"},{name:"\uce74\ud398",id:"",type:"cafe",dimg:"nr"},{name:"\ubc84\uc2a4",id:"",type:"bus",dimg:"nb"},
{name:"\uc9c0\ud558\ucca0",id:"",type:"sub",dimg:"nb"},{name:"\uc219\ubc15",id:"",type:"hotel",dimg:"nr"},{name:"\uc740\ud589",id:"",type:"bank",dimg:"nr"},{name:"\ud3b8\uc758\uc810",id:"",type:"cvs",dimg:"nr"}];define("view/ThemePoiControlView",["view/RoutePoiControlView","view/ThemePoiSubListView","controller/RoadviewController","log/Tiara"],H(pb));"use strict";define("view/ThemePoiSubListView",[],H(function(){var a=jQuery("<div>").addClass("ThemePoiSubListView"),b=this.onClick=new n,c=this.onClear=
new n,d=null,e=null,f=true;this.setData=function(d,f){a.empty();g();e=d;var h=jQuery("<ul>");a.append('<strong class="screen_out">\uc138\ubd80 \uce74\ud14c\uace0\ub9ac</strong>');d.forEach(function(a,d){var e=jQuery("<li>").addClass("subPoi").appendTo(h);jQuery('<button type="button" class="btn_subPoi">').text(a.name).appendTo(e);e.click(function(g){g.stopPropagation();e.toggleClass("subPoi_active").hasClass("subPoi_active")?b.notify({id:a.id,index:d,dimg:f}):c.notify()});e.hover(function(){jQuery(this).addClass("subPoi_hover")},
function(){jQuery(this).removeClass("subPoi_hover")})});a.append(h)};this.setPosition=function(b){a.css({top:b.top,left:b.left+38})};this.setActive=function(b){a.scrollTop(0);e&&e.map(function(c,e){if(c.id==b){d=a.find(".subPoi:eq("+e+")").addClass("subPoi_active");d.position()&&a.scrollTop(d.position().top-30);return true}})};var g=this.show=function(){a.show();f=true};this.hide=function(){a.scrollTop(0);a.hide();f=false};this.getVisible=function(){return f};this.getElement=function(){return a}}));
Zc.prototype.updateFav=function(a){if(a)this.fav_=a;if(this.fav_){if(a=Application.favoriteController.findFavorite(this.fav_)){var b=a.count<10?a.count:"10";this.favorite_._pane.find(".num").attr("class","num num"+b).text(a.count)}this.favorite_.setClass("favorite-active",!!a)}};Zc.prototype.clickFavorite_=function(){this.onClick.notify({id:"favorite",fav:this.fav_})};Zc.prototype.clickPrint_=function(){this.onClick.notify({id:"print"})};Zc.prototype.clickAlook_=function(){this.onClick.notify({id:"alook"});
p.click("route","go_public_once_view")};yb.prototype.setItems=function(){if(this.pointItemViews_.length==0){for(var a=[],b=[],c=this.route_.points.length,d=0;d<c;d++)if(d===0)a.push(this.route_.points[d]);else{if(!(b.length===0||b[0].routeType===this.route_.points[d].routeType)){b.length===1?a.push(b[0]):a.push(b);b=[]}b.push(this.route_.points[d])}b.length===1?a.push(b[0]):a.push(b);for(d=this.itemIndexCount=b=0;d<a.length;d++){c=null;c=this.createPointItem_(a[d],b);this.transitlist_.addChild(c.getPane());
d==a.length-2&&c.setLast();this.pointItemViews_.push(c);a[d].length?b=b+a[d].length:b++}}};yb.prototype.detail_=!1;yb.prototype.setTransitWalkItemView=function(a,b){this.pointItemViews_[a].isGroupPoints()||this.pointItemViews_[a].setItem(b)};yb.prototype.setActiveItemView=function(){this.pointItemViews_.length==0&&this.setItems()};yb.prototype.setHighlightItemView=function(a,b){if(a.index!==void 0){this.pointItemViews_.length==0&&this.setItems();var c=null,c=typeof a.index=="object"?this.pointItemViews_[a.index.index]:
this.pointItemViews_[a.index];c instanceof Fc?c.setHighlight(a.sub,b):c.setItemHighlight&&c.setItemHighlight(b)}};yb.prototype.setDeActiveViews=function(){this.pointItemViews_.forEach(function(a,b){var c=this.pointItemViews_[b];if(c instanceof Fc){c.deactivateAll();c.setDetailActive(false)}else{c.setItemActive&&c.setItemActive(false);c.deActiveDetailRoute&&c.deActiveDetailRoute()}},this)};yb.prototype.clickSelf_=function(a){if(this.hasClass("TransitRouteItem-DETAIL")){if(jQuery(a.target).hasClass("clickArea")){this.setDetail(false);
p.click("route","go_public_innerdetail_close")}}else{this.setDetail(true);p.click("route","go_public_innerdetail")}a.stopPropagation()};yb.prototype.clickDetail_=function(a){if(this.getActive()){a.preventDefault();a.stopPropagation();this.setDetail(!this.detail_);this.detail_?p.click("route","go_public_innerdetail"):p.click("route","go_public_innerdetail_close")}};yb.prototype.createPointItem_=function(a,b){var c=null;if(a.action==D.DEPARTURE||a.action==D.ARRIVAL){c=new (require("view/StartEndPointItemView"))(a);
c.onClick.add(function(){this.onPointClick.notify({index:b,sub:null})},this)}else{c=new jf(a);console.log(c.pointItemViews_);c.onClick.add(function(a){a=a||{};this.onPointClick.notify({index:b+(a.interCitySubIdx?a.interCitySubIdx:0),sub:a.sub||null})},this);c.pointItemViews_.length==0?function(){var a=this.itemIndexCount+1;c.onOver.add(function(){this.onOver.notify({index:{interRealIdx:a,index:b},sub:null})},this);this.itemIndexCount++;c.onOut.add(function(){this.onOut.notify({index:{interRealIdx:a,
index:b},sub:null})},this)}.call(this):c.pointItemViews_.forEach(function(a){var c=a.onOut||a.onMouseout,f=this.itemIndexCount+1;(a.onOver||a.onMouseover).add(function(){this.onOver.notify({index:{interRealIdx:f,index:b},sub:null})},this);c.add(function(){this.onOut.notify({index:{interRealIdx:f,index:b},sub:null})},this);this.itemIndexCount++},this);c.onChildPointClick.add(function(a){typeof a==="object"?this.onChildPointClick.notify({index:b,childIdx:a.idx,isLast:a.isLast}):this.onChildPointClick.notify({index:b,
childIdx:a})},this);c.onDetailBtnForLog.add(function(){this.onDetailBtnForLog.notify()},this)}return c};yb.prototype.setDetail=function(a){this.detail_=!!a;this.setClass("TransitRouteItem-DETAIL",this.detail_);this.removeClass("TransitRouteItem-OVER");this.detail_&&this.onDetail.notify()};yb.prototype.setActive=function(a){a=h.prototype.setActive.call(this,a);this.getActive()||this.setDetail(false);return a};bb.prototype.setItems=function(){if(this.pointItemViews_.length==0){var a=Application.flagSearchController.getWaypoints();
this.route_.points[0].confirmid=a[0].id;this.route_.points[this.route_.points.length-1].confirmid=a[a.length-1].id;this.route_.points.forEach(function(a,c){var d=null;if(a.walk&&a.type!=Q.OTHER){d=new Fc(a.walkGroup);d.onDetail.add(function(a){this.onWalkDetail.notify({index:c,sub:null,isDetail:a});Application.windowController.onHeightChange.notify()},this);d.onClick.add(function(a){this.onPointClick.notify({index:c,sub:a})},this);d.onRoadview.add(function(c){Application.roadviewController.show(c);
p.click("route","go_public_roadview");var d=Application.transitRouteSearchController.panel_.dssObject_;d&&z.log("path_transit_click_roadview",d.q,{tab:d.tab,mkey:d.mkey,cpg:d.cpg,qidx:d.qidx,panoid:c.panoId,wx:a.coords.getX().toFixed(0),wy:a.coords.getY().toFixed(0),region:Application.localInfoController.getHCodeForLog()})},this);d.onMouseover.add(function(a){this.onOver.notify({index:c,sub:a})},this);d.onMouseout.add(function(a){this.onOut.notify({index:c,sub:a})},this)}else d=this.createPointItem_(a,
c);this.transitlist_.addChild(d.getPane());c==this.route_.points.length-2&&d.setLast();this.pointItemViews_.push(d)},this)}};bb.prototype.detail_=!1;bb.prototype.setTransitWalkItemView=function(a,b){this.pointItemViews_[a].isGroupPoints()||this.pointItemViews_[a].setItem(b)};bb.prototype.setActiveItemView=function(a,b){this.pointItemViews_.length==0&&this.setItems();var c=this.pointItemViews_[a.index];c.setItemActive?c.setItemActive(b):c.setActive&&c.setActive(a,b)};bb.prototype.setHighlightItemView=
function(a,b){this.pointItemViews_.length==0&&this.setItems();var c=this.pointItemViews_[a.index];c instanceof Fc?c.setHighlight(a.sub,b):c.setItemHighlight(b)};bb.prototype.setDeActiveViews=function(){this.pointItemViews_.forEach(function(a,b){var c=this.pointItemViews_[b];if(c instanceof Fc){c.deactivateAll();c.setDetailActive(false)}else{c.setItemActive&&c.setItemActive(false);c.deActiveDetailRoute&&c.deActiveDetailRoute()}},this)};bb.prototype.clickSelf_=function(a){if(this.hasClass("TransitRouteItem-DETAIL")){if(jQuery(a.target).hasClass("clickArea")){this.setDetail(false);
p.click("route","go_public_innerdetail_close")}}else{this.setDetail(true);p.click("route","go_public_innerdetail")}a.stopPropagation()};bb.prototype.clickDetail_=function(a){if(this.getActive()){a.preventDefault();a.stopPropagation();this.setDetail(!this.detail_);this.detail_?p.click("route","go_public_innerdetail"):p.click("route","go_public_innerdetail_close")}};bb.prototype.createPointItem_=function(a,b){var c=null;if(a.action==Q.DEPARTURE||a.action==Q.ARRIVAL){c=new (require("view/StartEndPointItemView"))(a);
c.onClick.add(function(){this.onPointClick.notify({index:b,sub:null})},this);c.onRoadview.add(function(){var b=a.roadview;Application.roadviewController.show(b);p.click("route","go_public_roadview");var c=Application.transitRouteSearchController.panel_.dssObject_;c&&z.log("path_transit_click_roadview",c.q,{tab:c.tab,mkey:c.mkey,cpg:c.cpg,qidx:c.qidx,panoid:b.panoId,wx:a.coords.getX().toFixed(0),wy:a.coords.getY().toFixed(0),region:Application.localInfoController.getHCodeForLog()})},this)}else{c=new we(a);
c.onClick.add(function(){this.onPointClick.notify({index:b,sub:null})},this);c.onRoadview.add(function(){var b=a.roadview;Application.roadviewController.show(b);p.click("route","go_public_roadview");var c=Application.transitRouteSearchController.panel_.dssObject_;c&&z.log("path_transit_click_roadview",c.q,{tab:c.tab,mkey:c.mkey,cpg:c.cpg,qidx:c.qidx,panoid:b.panoId,wx:a.coords.getX().toFixed(0),wy:a.coords.getY().toFixed(0),region:Application.localInfoController.getHCodeForLog()})},this);c.onOver.add(function(){this.onOver.notify({index:b,
sub:null})},this);c.onOut.add(function(){this.onOut.notify({index:b,sub:null})},this)}return c};bb.prototype.animationScroll=function(){var a=jQuery("#info\\.body").scrollTop(),b=a+(this.getPosition().y-98),a=Math.abs(b-a)*0.5;jQuery("#info\\.body").animate({scrollTop:b},a,function(){})};bb.prototype.setDetail=function(a){this.detail_=!!a;this.setClass("TransitRouteItem-DETAIL",this.detail_);this.removeClass("TransitRouteItem-OVER");this.detail_&&this.onDetail.notify();Application.windowController.onHeightChange.notify()};
bb.prototype.setActive=function(a){a=h.prototype.setActive.call(this,a);this.getActive()||this.setDetail(false);return a};ra.NO_WAY_TRANSIT_METHOD_NAME=["\ubc84\uc2a4","\uc9c0\ud558\ucca0"," \ubc84\uc2a4 + \uc9c0\ud558\ucca0","\uc804\uccb4"];ra.NO_WAY_INTER_TRANSIT_METHOD_NAME=["\uace0\uc18d.\uc2dc\uc678","\uae30\ucc28"," \ud56d\uacf5\uc73c","\uc5ec\uac1d\uc120\uc73c","\ucd94\ucc9c"];ra.prototype.setData=function(a,b){this.removeAllChildren();this.getCounts_(a,b);this.setTransitCountView_();this.setTransitRouteItem_(a,
b)};ra.prototype.setItems=function(){this.views_.forEach(function(a){a.setItems()})};ra.prototype.getCounts_=function(a,b){var c={subway:0,bus:0,busandsubway:0,total:0},d={interbus:0,train:0,airplane:0,ferry:0,recommend:0,total:0};a.forEach(function(a){a.transType=="SUBWAY"?c.subway++:a.transType=="BUS"?c.bus++:c.busandsubway++;c.total++});b.forEach(function(a){var b=false;a.type.split(",").forEach(function(a){if(a=="EXPRESS_BUS"||a=="INTERCITY_BUS"){if(!b){d.interbus++;b=true}}else a=="TRAIN"?d.train++:
a=="AIRPLANE"?d.airplane++:a=="FERRY"&&d.ferry++});a.recommend&&d.recommend++;d.total++});return this.counts_={inner:c,outer:d,innerArr:[c.bus,c.subway,c.busandsubway,c.total],outerArr:[d.interbus,d.train,d.airplane,d.ferry,d.recommend,d.total]}};ra.prototype.setTransitCountView_=function(){var a=this.counts_;this.removeClass("inoutroute");this.addChild(new h("h3","screen_out","\ub300\uc911\uad50\ud1b5 \uacbd\ub85c"));var b=new h("div","TransitRouteTab");this.addChild(b);var c=[],c=[new h("li","list",
[new h("a","","\uc2dc\ub0b4")]),new h("li","list",[new h("a","","\uc2dc\uc678")])];c[0].addClass("inboundtab");c[1].addClass("outboundtab");this.boundtablist_=new h("div","boundtabs");this.selectedBound_=new h("a","link_checked","\uc2dc\ub0b4");this.boundListPopup_=new ca("ul","list_bound",c);this.boundListPopup_.hide();this.boundtablist_.addChild(this.selectedBound_);this.boundtablist_.addChild(this.boundListPopup_);b.addChild(this.boundtablist_);this.boundListPopup_.onHide.add(function(){this.selectedBound_.removeClass("link_checked-ACTIVE")},
this);this.boundListPopup_.noCloseUIPanel(this.selectedBound_);this.selectedBound_.onClick.add(function(){this.boundListPopup_.hasClass("HIDDEN")?this.boundListPopup_.show():this.boundListPopup_.hide()},this);var d=[],d=[new h("li","list",[new h("a","",["\ubc84\uc2a4 ",new h("em","cnt",""+a.inner.bus)])]),new h("li","list",[new h("a","",["\uc9c0\ud558\ucca0 ",new h("em","cnt",""+a.inner.subway)])]),new h("li","list",[new h("a","",["\ubc84\uc2a4+\uc9c0\ud558\ucca0 ",new h("em","cnt",""+a.inner.busandsubway)])]),
new h("li","list",[new h("a","",["\uc804\uccb4 ",new h("em","cnt",""+a.inner.total)])])];d[0].addClass("bustab");d[1].addClass("subwaytab");d[2].addClass("hybridtab");d[3].addClass("recommandtab");this.transitnumberlist_=new h("ul","transitnumberlist",[d[3],d[0],d[1],d[2]]);b.addChild(this.transitnumberlist_);var e=[],e=[new h("li","list",[new h("a","",["\uace0\uc18d.\uc2dc\uc678 ",new h("em","cnt",""+a.outer.interbus)])]),new h("li","list",[new h("a","",["\uae30\ucc28 ",new h("em","cnt",""+a.outer.train)])]),
new h("li","list",[new h("a","",["\ud56d\uacf5 ",new h("em","cnt",""+a.outer.airplane)])]),new h("li","list",[new h("a","",["\uc5ec\uac1d\uc120 ",new h("em","cnt",""+a.outer.ferry)])]),new h("li","list",[new h("a","",["\ucd94\ucc9c ",new h("em","cnt",""+a.outer.recommend)])])];e[0].addClass("interbustab");e[1].addClass("traintab");e[2].addClass("airplanetab");e[3].addClass("ferrytab");e[4].addClass("recommendtab");this.intertransitnumberlist_=new h("ul","intertransitnumberlist",[e[4],e[0],e[1],e[2],
e[3]]);b.addChild(this.intertransitnumberlist_);var f=new Fb;f.onChange.add(this.boundHandleMode_,this);c.forEach(function(a){f.add(a)});this.boundtabs_=f;var g=new Fb;g.onChange.add(this.handleMode_,this);d.forEach(function(a){g.add(a)});this.tabs_=g;var j=new Fb;j.onChange.add(this.interHandleMode_,this);e.forEach(function(a){j.add(a)});this.intertabs_=j;if(a.inner.total>0&&a.outer.total>0){this.addClass("inoutroute");if(this.currentBoundTab_==0){this.transitnumberlist_.show();this.intertransitnumberlist_.hide();
this.selectedBound_.setText("\uc2dc\ub0b4")}else{this.transitnumberlist_.hide();this.intertransitnumberlist_.show();this.selectedBound_.setText("\uc2dc\uc678")}this.intertransitnumberlist_.addClass("withTabs");d[this.currentTab_].setActive(true);e[this.currentInterTab_].setActive(true)}else if(a.inner.total>0){this.currentBoundTab_=0;this.boundtablist_.hide();this.intertransitnumberlist_.hide();d[this.currentTab_].setActive(true);this.selectedBound_.setText("\uc2dc\ub0b4")}else if(a.outer.total>0){this.currentBoundTab_=
1;this.boundtablist_.hide();this.transitnumberlist_.hide();e[this.currentInterTab_].setActive(true);this.selectedBound_.setText("\uc2dc\uc678")}a=new h("a","tranitViaInfoCloser",["\ub2eb\uae30"]);a.onClick.add(function(){this.transitViaInfo_.hide()},this);this.transitViaInfo_=new h("div","transitInfo",[new h("p","",["\ub300\uc911\uad50\ud1b5 \uae38\ucc3e\uae30\uc5d0\uc11c\ub294 \uacbd\uc720\uc9c0\uac00 \ud3ec\ud568\ub418\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."]),a]);this.addChild(this.transitViaInfo_)};
ra.prototype.setViaInfoVisible=function(a){this.transitViaInfo_.setVisible(a)};ra.prototype.setItemActive=function(a){this.routeItemListView_.forEach(function(a){a.setActive(false)});if(this.currentBoundTab_==0){this.routeItemListView_[this.defaultTabIndex_[a]].setActive(true);this.counts_.innerArr[a]==1&&this.routeItemListView_[this.defaultTabIndex_[a]].setDetail(true)}else{this.routeItemListView_[this.defaultInterTabIndex_[a]].setActive(true);this.counts_.outerArr[a]==1&&this.routeItemListView_[this.defaultInterTabIndex_[a]].setDetail(true)}};
ra.prototype.boundHandleMode_=function(a,b){this.boundtablist_.setClass("inbound",a==0);this.boundtablist_.setClass("outbound",a==1);this.currentBoundTab_=a;if(a==0){this.notitime.hide();this.transitnumberlist_.show();this.intertransitnumberlist_.hide();this.handleMode_(this.currentTab_,true);this.tabs_.setActive(this.currentTab_);this.selectedBound_.setText("\uc2dc\ub0b4")}else{this.notitime.show();this.transitnumberlist_.hide();this.intertransitnumberlist_.show();this.interHandleMode_(this.currentInterTab_,
true);this.intertabs_.setActive(this.currentInterTab_);this.selectedBound_.setText("\uc2dc\uc678")}if(!b){var c="";switch(a){case 0:p.click("route","go_public_innercity");c="path_transit_tab_inlocal";this.dssObject_.tab=this.dssObject_.innerTab;break;case 1:p.click("route","go_public_intercity");c="path_transit_tab_interlocal";this.dssObject_.tab=this.dssObject_.outerTab}z.log(c,this.dssObject_.q,{tab:this.dssObject_.tab,mkey:this.dssObject_.mkey,qidx:this.dssObject_.qidx})}this.boundListPopup_.hide();
Application.windowController.onHeightChange.notify()};ra.prototype.markLastItem=function(){var a=jQuery(this.transitTotalPanel_.element_);a.children("li.lst").removeClass("lst");a.children("li:visible:last").addClass("lst")};ra.prototype.handleMode_=function(a,b){Application.infoWindowManager.close();this.transitnumberlist_.setClass("recommand",a==3);this.transitnumberlist_.setClass("bus",a==0);this.transitnumberlist_.setClass("subway",a==1);this.transitnumberlist_.setClass("both",a==2);this.transitTotalPanel_.setClass("recommand",
a==3);this.transitTotalPanel_.setClass("bus",a==0);this.transitTotalPanel_.setClass("subway",a==1);this.transitTotalPanel_.setClass("both",a==2);this.transitTotalPanel_.setClass("interRecommend",false);this.transitTotalPanel_.setClass("interBus",false);this.transitTotalPanel_.setClass("interTrain",false);this.transitTotalPanel_.setClass("interAirplane",false);this.transitTotalPanel_.setClass("interFerry",false);setTimeout(this.markLastItem.bind(this),0);if(!b){switch(a){case 3:p.click("route","go_public_recommend");
this.dssObject_.innerTab="all";break;case 0:p.click("route","go_public_bus");this.dssObject_.innerTab="bus";break;case 1:p.click("route","go_public_subway");this.dssObject_.innerTab="subway";break;case 2:p.click("route","go_public_bus_subway");this.dssObject_.innerTab="bs"}this.dssObject_.tab=this.dssObject_.innerTab;z.log("path_transit_tab",this.dssObject_.q,{tab:this.dssObject_.tab,mkey:this.dssObject_.mkey,qidx:this.dssObject_.qidx})}this.currentTab_=a;var c=this.defaultTabIndex_[a];if(c>=0){this.setItemActive(a);
this.activeRouteItemIndex_=c}this.setFirstVisible_();this.onItem.notify(c);Application.windowController.onHeightChange.notify()};ra.prototype.interHandleMode_=function(a,b){Application.infoWindowManager.close();this.intertransitnumberlist_.setClass("recommend",a==4);this.intertransitnumberlist_.setClass("interbus",a==0);this.intertransitnumberlist_.setClass("train",a==1);this.intertransitnumberlist_.setClass("airplane",a==2);this.intertransitnumberlist_.setClass("ferry",a==3);this.transitTotalPanel_.setClass("recommand",
false);this.transitTotalPanel_.setClass("bus",false);this.transitTotalPanel_.setClass("subway",false);this.transitTotalPanel_.setClass("both",false);this.transitTotalPanel_.setClass("interRecommend",a==4);this.transitTotalPanel_.setClass("interBus",a==0);this.transitTotalPanel_.setClass("interTrain",a==1);this.transitTotalPanel_.setClass("interAirplane",a==2);this.transitTotalPanel_.setClass("interFerry",a==3);setTimeout(this.markLastItem.bind(this),0);if(!b){switch(a){case 0:p.click("route","go_public_expressbus");
this.dssObject_.outerTab="express";break;case 1:p.click("route","go_public_train");this.dssObject_.outerTab="train";break;case 2:p.click("route","go_public_flight");this.dssObject_.outerTab="air";break;case 3:p.click("route","go_public_ship");this.dssObject_.outerTab="ship";break;case 4:p.click("route","go_public_recommend_inter");this.dssObject_.outerTab="recomm"}this.dssObject_.tab=this.dssObject_.outerTab;z.log("path_transit_tab",this.dssObject_.q,{tab:this.dssObject_.tab,mkey:this.dssObject_.mkey,
qidx:this.dssObject_.qidx})}this.currentInterTab_=a;var c=this.defaultInterTabIndex_[a];c>=0&&this.setItemActive(a);this.activeRouteItemIndex_=c;this.notitime&&(this.counts_.outerArr[a]==0?this.notitime.hide():this.notitime.show());this.setInterFirstVisible_();this.onItem.notify(c);Application.windowController.onHeightChange.notify()};ra.prototype.hideFooterBtns=function(){this.goToTopBtn&&this.goToTopBtn.hide();this.fixRoutePanel&&this.fixRoutePanel.hide()};ra.prototype.showFooterBtns=function(){this.goToTopBtn&&
this.goToTopBtn.show();this.fixRoutePanel&&this.fixRoutePanel.show()};ra.prototype.setFirstVisible_=function(){var a=["busOnly","subwayOnly","both","recommand"][this.currentTab_],b=this.transitTotalPanel_.toPane();b.find(".TransitRouteItem").removeClass("firstVisible");var c=null,c=this.currentTab_==3?b.find(".TransitRouteItem:eq(0)").addClass("firstVisible"):b.find("."+a+":eq(0)").addClass("firstVisible");c[0]?this.transitTotalPanel_.show():this.transitTotalPanel_.hide()};ra.prototype.setInterFirstVisible_=
function(){var a=["hasInterBus","hasTrain","hasAirplane","hasFerry","isRecommend"][this.currentInterTab_],b=this.transitTotalPanel_.toPane();b.find(".TransitRouteItem").removeClass("firstVisible");var c=null,c=b.find("."+a+":eq(0)").addClass("firstVisible");c[0]?this.transitTotalPanel_.show():this.transitTotalPanel_.hide()};ra.prototype.setTransitRouteItem_=function(a,b){var c=this.transitTotalPanel_=new h("ul","TransitTotalPanel");this.defaultTabIndex_=[-1,-1,-1,0];this.defaultInterTabIndex_=[-1,
-1,-1,-1,-1];var d=new Fb,e=a.map(this.createItemView_,this),f=e.length;this.views_=e=e.concat(b.map(function(a,b){return this.createInterItemView_(a,b+f)},this));var g=Application.flagSearchController.getWaypoints();e.forEach(function(a){d.add(a);c.addChild(a)});this.routeItemListView_=e;e="all";if(this.counts_.inner.total>0&&!this.currentBoundTab_)this.handleMode_(this.currentTab_,true);else if(this.counts_.outer.total>0&&this.currentBoundTab_){this.interHandleMode_(this.currentInterTab_,true);
e="recomm"}this.addChild(c);this.notitime=new h("div","notitime");this.notitime.setText("\uac01 \uc218\ub2e8\uc758 \uc6b4\ud589\uacbd\ub85c\uc640 \uc18c\uc694\uc2dc\uac04\uc740 \uc2e4\uc81c \uad50\ud1b5\uc0c1\ud669\uc5d0 \ub530\ub77c");this.notitime.addChild(new h("br"));this.notitime.addText("\ucc28\uc774\uac00 \ub0a0 \uc218 \uc788\uc73c\ub2c8 \ucc38\uace0\uc6a9\uc73c\ub85c\ub9cc \uc0ac\uc6a9\ud574\uc8fc\uc2dc\uae30 \ubc14\ub78d\ub2c8\ub2e4.");this.addChild(this.notitime);this.currentBoundTab_!=
1&&this.notitime.hide();var j=new h("div","info_top"),l=this.goToTopBtn=new h("a","link_top","\uc704\ub85c \uac00\uae30");l.hide();j.addChild(l);this.addChild(j);this.goToTopBtn.onClick.add(function(){h.$("info.body").scrollTo(0)},this);j=this.fixRoutePanel=new h("div","info_fixroute");this.addChild(j);var l=new h("a","link_fixroute"),m=new h("span");m.setHTML("\uae38\ucc3e\uae30 \uc815\ubcf4\uac00 \uc798\ubabb\ub418\uc5c8\ub098\uc694?<br/>\uc798\ubabb\ub41c \uc815\ubcf4 \uc81c\ubcf4\ub294 \uc9c0\ub3c4 \ud488\uc9c8 \ud5a5\uc0c1\uc5d0 \ud070 \ub3c4\uc6c0\uc774 \ub429\ub2c8\ub2e4.");
j.addChild(m);j.addChild(l);l.onClick.add(function(){var a=this.activeRouteItemIndex_==-1,b=this.routeItemListView_[a?0:this.activeRouteItemIndex_].route_.raw_.obj_,c=this.currentBoundTab_==0?"public":"intercity";b.routeType=c;a&&(b={noResult:true,noResultData:{end:b.end,start:b.start,routeType:b.routeType},routeType:c,waypoint:g});Application.fiyFrameController.open({type:"route",rawInfo:b});p.click("route","go_public_fiy")},this);j=this.counts_.inner.total+","+this.counts_.inner.bus+","+this.counts_.inner.subway+
","+this.counts_.inner.busandsubway+","+this.counts_.outer.recommend+","+this.counts_.outer.interbus+","+this.counts_.outer.train+","+this.counts_.outer.airplane+","+this.counts_.outer.ferry;this.dssObject_={q:g.map(function(a){return a.name+"_"+Math.floor(a.coords.getX())+","+Math.floor(a.coords.getY())+"_"+(a.pointType=="PLACE"?a.id:"")}),cnt:j,innerTab:"all",outerTab:"recomm",mkey:this.mkey_,qidx:++this.dssQIndex_};this.dssObject_.tab=e;this.below_?z.log("search_path_transit",this.dssObject_.q,
{cnt:this.dssObject_.cnt,tab:this.dssObject_.tab,mkey:this.dssObject_.mkey,qidx:this.dssObject_.qidx,btnid:this.below_}):z.log("search_path_transit",this.dssObject_.q,{cnt:this.dssObject_.cnt,tab:this.dssObject_.tab,mkey:this.dssObject_.mkey,qidx:this.dssObject_.qidx});this.below_=""};ra.prototype.setWalkItem=function(a,b){this.routeItemListView_[this.activeRouteItemIndex_].setTransitWalkItemView(a,b)};ra.prototype.setActiveRouteItemView=function(a,b){this.routeItemListView_[this.activeRouteItemIndex_].setActiveItemView(a,
b)};ra.prototype.setHighlightRouteItemView=function(a,b){this.routeItemListView_[this.activeRouteItemIndex_].setHighlightItemView(a,b)};ra.prototype.setRouteDeActive=function(){this.activeRouteItemIndex_>-1&&this.routeItemListView_[this.activeRouteItemIndex_].setDeActiveViews()};ra.prototype.toggleNoMethodRoute=function(a){if(a){a="";a=this.currentBoundTab_===0?ra.NO_WAY_TRANSIT_METHOD_NAME[this.currentTab_]:ra.NO_WAY_INTER_TRANSIT_METHOD_NAME[this.currentInterTab_];if(this.noMethodResultPanel_)this.noMethodResultPanel_.setTitle(Ba.getTransitMethodTitle(a));
else{var b=Application.flagSearchController.getWaypoints();this.noMethodResultPanel_=Ba.createTransitMethod(a,b);jQuery("#info\\.flagsearch").append(this.noMethodResultPanel_.getElement())}}else if(this.noMethodResultPanel_){jQuery(this.noMethodResultPanel_.getElement()).remove();this.noMethodResultPanel_=null}};ra.prototype.getModeIndex=function(){return this.currentTab_};ra.prototype.getInterModeIndex=function(){return this.currentInterTab_};ra.prototype.getBoundModeIndex=function(){return this.currentBoundTab_};
ra.prototype.setModeIndex=function(a){this.currentTab_=a==null?3:a};ra.prototype.setInterModeIndex=function(a){this.currentInterTab_=a==null?4:a};ra.prototype.setBoundModeIndex=function(a){this.currentBoundTab_=a==null?0:a};ra.prototype.setActiveRouteItem=function(){this.routeItemListView_[this.activeRouteItemIndex_].setDetail(true)};ra.prototype.createItemView_=function(a,b){var c=new bb(a);c.onWrapOver.add(function(){this.onWrapOver.notify({index:b,type:"inner"})},this);c.onWrapOut.add(function(){this.onWrapOut.notify(b)},
this);c.onOver.add(function(a){this.onOver.notify(a)},this);c.onOut.add(function(a){this.onOut.notify(a)},this);c.onDestination.add(function(a){this.onDestination.notify(a)},this);c.onClick.add(function(){if(this.activeRouteItemIndex_!=b){this.onItem.notify(b);this.activeRouteItemIndex_=b}},this);c.onWalkDetail.add(function(a){this.onWalkDetail.notify(a)},this);c.onPointClick.add(function(a){this.onPointClick.notify(a);if(this.dssObject_){a=this.views_.filter(function(a){return a.getVisible()});this.dssObject_.cpg=
"1,"+a.length+","+(a.indexOf(c)+1)+","+(b+1);z.log("path_transit_click_node",this.dssObject_.q,{tab:this.dssObject_.tab,mkey:this.dssObject_.mkey,cpg:this.dssObject_.cpg,qidx:this.dssObject_.qidx})}},this);c.onDetail.add(function(){this.onItemDetail.notify();this.views_[b].setItems();if(this.dssObject_){var a=this.views_.filter(function(a){return a.getVisible()});this.dssObject_.cpg="1,"+a.length+","+(a.indexOf(c)+1)+","+(b+1);z.log("path_transit_click",this.dssObject_.q,{tab:this.dssObject_.tab,
mkey:this.dssObject_.mkey,cpg:this.dssObject_.cpg,qidx:this.dssObject_.qidx})}},this);var d="both",e=2;if(a.transType=="SUBWAY"){d="subwayOnly";e=1}else if(a.transType=="BUS"){d="busOnly";e=0}c.addClass(d);this.defaultTabIndex_[e]<0&&(this.defaultTabIndex_[e]=b);return c};ra.prototype.createInterItemView_=function(a,b){var c=new yb(a);c.onWrapOver.add(function(){this.onWrapOver.notify({index:b,type:"outer"})},this);c.onWrapOut.add(function(){this.onWrapOut.notify(b)},this);c.onOver.add(function(a){this.onOver.notify(a)},
this);c.onOut.add(function(a){this.onOut.notify(a)},this);c.onDestination.add(function(a){this.onDestination.notify(a)},this);c.onClick.add(function(){if(this.activeRouteItemIndex_!=b){this.onItem.notify(b);this.activeRouteItemIndex_=b}},this);c.onWalkDetail.add(function(a){this.onWalkDetail.notify(a)},this);c.onPointClick.add(function(a){this.onPointClick.notify(a);if(this.dssObject_){a=this.views_.filter(function(a){return a.getVisible()});this.dssObject_.cpg="1,"+a.length+","+(a.indexOf(c)+1)+
","+(b+1-this.counts_.inner.total);z.log("path_transit_click_node",this.dssObject_.q,{tab:this.dssObject_.tab,mkey:this.dssObject_.mkey,cpg:this.dssObject_.cpg,qidx:this.dssObject_.qidx})}},this);c.onDetail.add(function(){this.onItemDetail.notify();this.views_[b].setItems();if(this.dssObject_){var a=this.views_.filter(function(a){return a.getVisible()});this.dssObject_.cpg="1,"+a.length+","+(a.indexOf(c)+1)+","+(b+1-this.counts_.inner.total);z.log("path_transit_click",this.dssObject_.q,{tab:this.dssObject_.tab,
mkey:this.dssObject_.mkey,cpg:this.dssObject_.cpg,qidx:this.dssObject_.qidx})}},this);c.onDetailBtnForLog.add(function(){if(this.dssObject_){var a=this.views_.filter(function(a){return a.getVisible()});this.dssObject_.cpg="1,"+a.length+","+(a.indexOf(c)+1)+","+(b+1-this.counts_.inner.total);z.log("path_transit_click_node",this.dssObject_.q,{tab:this.dssObject_.tab,mkey:this.dssObject_.mkey,cpg:this.dssObject_.cpg,qidx:this.dssObject_.qidx})}},this);c.onChildPointClick.add(function(a){this.onChildPointClick.notify(a);
if(this.dssObject_){a=this.views_.filter(function(a){return a.getVisible()});this.dssObject_.cpg="1,"+a.length+","+(a.indexOf(c)+1)+","+(b+1-this.counts_.inner.total);z.log("path_transit_click_node_node",this.dssObject_.q,{tab:this.dssObject_.tab,mkey:this.dssObject_.mkey,cpg:this.dssObject_.cpg,qidx:this.dssObject_.qidx})}},this);a.type.split(",").forEach(function(a){var e="hasInterBus",f=0;if(a=="TRAIN"){e="hasTrain";f=1}else if(a=="AIRPLANE"){e="hasAirplane";f=2}else if(a=="FERRY"){e="hasFerry";
f=3}c.addClass(e);this.defaultInterTabIndex_[f]<0&&(this.defaultInterTabIndex_[f]=b)},this);if(a.recommend){c.addClass("isRecommend");this.defaultInterTabIndex_[4]<0&&(this.defaultInterTabIndex_[4]=b)}return c};ra.prototype.setMkey=function(a){this.mkey_=a};define("view/TransitRouteResultView",[],H(ra));Xb.prototype.getPanel=function(){console.assert(this.panel_.getElement);return this.panel_};define("view/WalkthroughView",["options"],H(function(a){var b=F("WalkthroughView",{signInUrl:require("url").SIGNIN,
signInUrl:require("url").SIGNUP}),c=jQuery("#dimmedLayer"),d=b.$("list_slide"),e=b.$("paging"),f=b.$("prevButton"),g=b.$("nextButton"),h=b.$("closeButton"),l=b.$("startButton"),m=b.$("signInButton"),k=b.$("signUpButton"),p=this.onClose=new n,o=-1,r=function(a){a&&a.preventDefault();this.hide()}.bind(this),t=function(){jQuery(e.getElement()).on("click","a",function(a){a.preventDefault();this.setPage(jQuery(a.currentTarget).index())}.bind(this));h.on("click",r);f.on("click",this.prev.bind(this));g.on("click",
this.next.bind(this));jQuery(b.getElement()).on("click",".btn_go, .btn_pass",function(a){a.preventDefault();this.next()}.bind(this));l.on("click",r);k.on("click",function(){A.location.href=require("url").SIGNUP});m.on("click",function(){A.location.href=a.loginUrl+require("url").MAP_DAUM_NET})};this.next=function(){this.setPage(Math.min(o+1,4))};this.prev=function(){this.setPage(Math.max(o-1,0))};this.show=function(a,e){var f=(a?1:0)+(e?1:0);t.call(this);for(var g=jQuery(d.getElement()).find("li"),
h=4;h<7;h++)h!==4+f?jQuery(g[h]).addClass("HIDDEN"):jQuery(g[h]).removeClass("HIDDEN");this.setPage(0);c.removeClass("HIDDEN");c.after(b.getElement());c.on("click",r);jQuery.cookie("walkthrough",true,{expires:3650})};this.hide=function(){jQuery(b.getElement()).remove();c.addClass("HIDDEN");c.off("click",r);p.notify()};this.setPage=function(a){a=Math.max(Math.min(a,4),0);if(a!==o){var b=e.children();o>-1&&jQuery(b[o]).replaceWith('<a href="#" class="img_slide link_paging">'+o+"</a>");o=a;jQuery(b[o]).replaceWith('<span class="img_slide link_paging">'+
o+"</span>");d.css("left",-(562*o)+"px");if(o===0){f.hide();g.show()}else if(o===4){f.show();g.hide()}else{f.show();g.show()}}};this.getCurrentPage=function(){return o}}));define("view/WaypointBoxView",["view/WaypointInputView"],function(a){function b(b,d){fa(this,h,"div","WaypointBoxView");this.setValue=function(a){this.valueBox_.setValue(a)};this.setSuggest=function(){this.inputView_&&this.inputView_.setSuggest()};this.idx_=b;this.onEnter.add(this.onEnter_,this);this.onLeave.add(this.onLeave_,this);
var e=new h("div","dragArea"),f=this.title_=new h("span","title");e.addChild(f);this.addChild(e);e=this.waypointWindow_=new h("div","waypointWindow");f=this.valueBox_=new h("input","valueBox");f.setReadonly(true);f.onClick.add(this.clickBox_,this);e.addChild(f);this.inputView_=a.create(b,e);this.inputView_.addFocus(function(){this.addClass("WaypointBoxView-ACTIVE")},this);this.inputView_.addBlur(function(){this.removeClass("WaypointBoxView-ACTIVE")},this);this.addChild(e);this.addBtn_=this.removeBtn_=
null;if(b===0){this.addClass("origin");this.title_.addClass("origin");this.valueBox_.setPlaceholder("\ucd9c\ubc1c\uc9c0\ub97c \uc785\ub825\ud558\uc138\uc694")}else if(d){this.addClass("dest");this.title_.addClass("dest");this.valueBox_.setPlaceholder("\ub3c4\ucc29\uc9c0\ub97c \uc785\ub825\ud558\uc138\uc694")}else{this.addClass("via");this.title_.addClass("via");f=this.removeBtn_=new h("button","btn_roadsearch remove","\uacbd\uc720\uc9c0 \uc0ad\uc81c");f.addClass("IR");e.addChild(f);f.onClick.add(function(){if(!Application.isLoadingViewShow){p.click("route",
"route_via_delete");this.onRemove.notify(this)}},this);this.valueBox_.setPlaceholder("\uacbd\uc720\uc9c0\ub97c \uc785\ub825\ud558\uc138\uc694")}this.onSearch=new n;this.onRemove=new n}b.prototype.onEnter_=function(){this.addClass("WaypointBoxView-HOVER")};b.prototype.onLeave_=function(){this.removeClass("WaypointBoxView-HOVER")};b.prototype.setDisabled=function(a){this.removeBtn_.getElement().disabled=a;this.valueBox_.getElement().disabled=a};b.prototype.setPlaceholderBox=function(a){this.valueBox_.setPlaceholder(a)};
b.prototype.focusInput=function(){this.getVisible()&&this.clickBox_()};b.prototype.clickBox_=function(){this.inputView_.activate(this.idx_,this.valueBox_.getValue(),this.waypointWindow_,function(a,b){if(a&&b=="submit"){this.onSearch.notify({view:this,keyword:a});this.valueBox_.setValue(a)}}.bind(this))};return b});define("view/WaypointInputView",["jquery","url","manager/MapSuggest","controller/HistoryController","controller/FavoriteController"],function(a,b,c,d,e){function f(f,h){function l(a){if(!t.is(a.target)&&
!t.has(a.target).length){o.blur();t.hide().parent().css("position","relative");u(o.val())}}function m(){focus();t.hide().parent().css("position","relative");a("body").off("mousedown",l)}function k(){m();u&&u(o.val(),"submit")}var t=a('<form class="WaypointInput HIDDEN"><input id="info.route.waypointSuggest.input'+f+'" title="\uac80\uc0c9\uc5b4 \uc785\ub825" class="input" type="text" autocomplete="off"/><input class="submit" type="submit" value=""><blockquote id="info.route.waypointSuggest.input'+
f+'Suggest" class="inputSuggest"></blockquote></form>').appendTo(h),o=t.find("input.input"),r=new n,x=new n,q=null,s=null;o.on("focus",function(){r.notify()});o.on("blur",function(){x.notify();s.hide()});o.on("mousedown",function(a){(q.getView().is(":visible")||o.val()!=="")&&a.stopPropagation()});o.on("mouseup",function(a){a.stopPropagation()});t.submit(function(a){a.preventDefault();k()});var u=null;this.activate=function(b,c,d,e){waypointIdx=b;u=e;t.appendTo(d).show().parent().css("position","relative");
o.val(c).focus().select();a("body").mousedown(l)};this.addFocus=function(a,b){r.add(a,b||this)};this.addBlur=function(a,b){x.add(a,b||this)};this.hide=function(){m()};this.setSuggest=function(){s=new c({type:"waypoint",id:"info.route.waypointSuggest.input"+f,url:b.SUGGEST_ROUTE+(/\?/.test(b.SUGGEST_ROUTE)?"&":"?")+"cate=all&appkey="+b.API_KEY,onSubmit:k,onSubmitHistory:function(a){a.trigger("click")},itemParser:function(a){var b=a[0];if(a[a.length-1]=="busstop"){b=a[0]+"("+a[a.length-2]+")";html=
String.format('%s <span style="color:#ddd">|</span> <span style="color:#aaa">%s</span>',b,a[1])}else html=String.format("%h",b);return[html,b]},logCallback:function(a){var b=jQuery(".WaypointBoxView").length;(b=waypointIdx==0?"routesuggest_start":waypointIdx==b-1?"routesuggest_end":null)&&p.click("suggest",b,{param1:a.join("|")})}});var a=function(a){var b=jQuery(".WaypointBoxView").length-1,c=new daum.maps.Coords(a.x,a.y),d=a.type?a.type.toUpperCase():"",e=a.itemid||a.key;waypointIdx==0?Application.flagSearchController.setOrigin(c,
a.name,e,d):waypointIdx==b?Application.flagSearchController.setDestination(c,a.name,e,d):Application.flagSearchController.setVia(c,a.name,e,waypointIdx,d)};q=new vc(d,d.POI_TYPE,s);q.onItemClick.add(a);(new ef(e,s.getFavoriteTarget())).onItemClick.add(a)}}return{create:function(a,b){return new f(a,b)}}});return main}(this);